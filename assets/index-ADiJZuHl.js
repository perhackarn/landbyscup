var Rx=Object.defineProperty;var Dx=(t,e,n)=>e in t?Rx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sn=(t,e,n)=>Dx(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ox(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ab={exports:{}},Vp={},lb={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),Fx=Symbol.for("react.portal"),Mx=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),Bx=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Hx=Symbol.for("react.memo"),Wx=Symbol.for("react.lazy"),fy=Symbol.iterator;function $x(t){return t===null||typeof t!="object"?null:(t=fy&&t[fy]||t["@@iterator"],typeof t=="function"?t:null)}var ub={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cb=Object.assign,hb={};function sc(t,e,n){this.props=t,this.context=e,this.refs=hb,this.updater=n||ub}sc.prototype.isReactComponent={};sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fb(){}fb.prototype=sc.prototype;function C1(t,e,n){this.props=t,this.context=e,this.refs=hb,this.updater=n||ub}var L1=C1.prototype=new fb;L1.constructor=C1;cb(L1,sc.prototype);L1.isPureReactComponent=!0;var dy=Array.isArray,db=Object.prototype.hasOwnProperty,R1={current:null},pb={key:!0,ref:!0,__self:!0,__source:!0};function mb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)db.call(e,r)&&!pb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zh,type:t,key:s,ref:o,props:i,_owner:R1.current}}function Gx(t,e){return{$$typeof:Zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function D1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zh}function Kx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var py=/\/+/g;function zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kx(""+t.key):e.toString(36)}function vd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zh:case Fx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zm(o,0):r,dy(i)?(n="",t!=null&&(n=t.replace(py,"$&/")+"/"),vd(i,e,n,"",function(u){return u})):i!=null&&(D1(i)&&(i=Gx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(py,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zm(s,a);o+=vd(s,e,n,l,i)}else if(l=$x(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zm(s,a++),o+=vd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jf(t,e,n){if(t==null)return t;var r=[],i=0;return vd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Qx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var si={current:null},yd={transition:null},Yx={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:yd,ReactCurrentOwner:R1};function gb(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:jf,forEach:function(t,e,n){jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jf(t,function(){e++}),e},toArray:function(t){return jf(t,function(e){return e})||[]},only:function(t){if(!D1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=sc;Dt.Fragment=Mx;Dt.Profiler=Vx;Dt.PureComponent=C1;Dt.StrictMode=jx;Dt.Suspense=qx;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;Dt.act=gb;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=R1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)db.call(e,l)&&!pb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zh,type:t.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:Bx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ux,_context:t},t.Consumer=t};Dt.createElement=mb;Dt.createFactory=function(t){var e=mb.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:zx,render:t}};Dt.isValidElement=D1;Dt.lazy=function(t){return{$$typeof:Wx,_payload:{_status:-1,_result:t},_init:Qx}};Dt.memo=function(t,e){return{$$typeof:Hx,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=yd.transition;yd.transition={};try{t()}finally{yd.transition=e}};Dt.unstable_act=gb;Dt.useCallback=function(t,e){return si.current.useCallback(t,e)};Dt.useContext=function(t){return si.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return si.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return si.current.useEffect(t,e)};Dt.useId=function(){return si.current.useId()};Dt.useImperativeHandle=function(t,e,n){return si.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return si.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return si.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return si.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return si.current.useReducer(t,e,n)};Dt.useRef=function(t){return si.current.useRef(t)};Dt.useState=function(t){return si.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return si.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return si.current.useTransition()};Dt.version="18.3.1";lb.exports=Dt;var ht=lb.exports;const Xx=Ox(ht);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=ht,Zx=Symbol.for("react.element"),eI=Symbol.for("react.fragment"),tI=Object.prototype.hasOwnProperty,nI=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rI={key:!0,ref:!0,__self:!0,__source:!0};function vb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tI.call(e,r)&&!rI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zx,type:t,key:s,ref:o,props:i,_owner:nI.current}}Vp.Fragment=eI;Vp.jsx=vb;Vp.jsxs=vb;ab.exports=Vp;var H=ab.exports,Zg={},yb={exports:{}},zi={},_b={exports:{}},wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,le){var be=Z.length;Z.push(le);e:for(;0<be;){var we=be-1>>>1,M=Z[we];if(0<i(M,le))Z[we]=le,Z[be]=M,be=we;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],be=Z.pop();if(be!==le){Z[0]=be;e:for(var we=0,M=Z.length,W=M>>>1;we<W;){var X=2*(we+1)-1,ne=Z[X],se=X+1,ce=Z[se];if(0>i(ne,be))se<M&&0>i(ce,ne)?(Z[we]=ce,Z[se]=be,we=se):(Z[we]=ne,Z[X]=be,we=X);else if(se<M&&0>i(ce,be))Z[we]=ce,Z[se]=be,we=se;else break e}}return le}function i(Z,le){var be=Z.sortIndex-le.sortIndex;return be!==0?be:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,m=null,v=3,p=!1,A=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Z){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=Z)r(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(u)}}function F(Z){if(I=!1,P(Z),!A)if(n(l)!==null)A=!0,ye(Y);else{var le=n(u);le!==null&&ge(F,le.startTime-Z)}}function Y(Z,le){A=!1,I&&(I=!1,b(E),E=-1),p=!0;var be=v;try{for(P(le),m=n(l);m!==null&&(!(m.expirationTime>le)||Z&&!w());){var we=m.callback;if(typeof we=="function"){m.callback=null,v=m.priorityLevel;var M=we(m.expirationTime<=le);le=t.unstable_now(),typeof M=="function"?m.callback=M:m===n(l)&&r(l),P(le)}else r(l);m=n(l)}if(m!==null)var W=!0;else{var X=n(u);X!==null&&ge(F,X.startTime-le),W=!1}return W}finally{m=null,v=be,p=!1}}var te=!1,V=null,E=-1,x=5,L=-1;function w(){return!(t.unstable_now()-L<x)}function k(){if(V!==null){var Z=t.unstable_now();L=Z;var le=!0;try{le=V(!0,Z)}finally{le?C():(te=!1,V=null)}}else te=!1}var C;if(typeof N=="function")C=function(){N(k)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,pe=J.port2;J.port1.onmessage=k,C=function(){pe.postMessage(null)}}else C=function(){R(k,0)};function ye(Z){V=Z,te||(te=!0,C())}function ge(Z,le){E=R(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){A||p||(A=!0,ye(Y))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var be=v;v=le;try{return Z()}finally{v=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var be=v;v=Z;try{return le()}finally{v=be}},t.unstable_scheduleCallback=function(Z,le,be){var we=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?we+be:we):be=we,Z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=be+M,Z={id:f++,callback:le,priorityLevel:Z,startTime:be,expirationTime:M,sortIndex:-1},be>we?(Z.sortIndex=be,e(u,Z),n(l)===null&&Z===n(u)&&(I?(b(E),E=-1):I=!0,ge(F,be-we))):(Z.sortIndex=M,e(l,Z),A||p||(A=!0,ye(Y))),Z},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(Z){var le=v;return function(){var be=v;v=le;try{return Z.apply(this,arguments)}finally{v=be}}}})(wb);_b.exports=wb;var iI=_b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI=ht,Bi=iI;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bb=new Set,Eh={};function $l(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(Eh[t]=e,t=0;t<e.length;t++)bb.add(e[t])}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e0=Object.prototype.hasOwnProperty,oI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,my={},gy={};function aI(t){return e0.call(gy,t)?!0:e0.call(my,t)?!1:oI.test(t)?gy[t]=!0:(my[t]=!0,!1)}function lI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uI(t,e,n,r){if(e===null||typeof e>"u"||lI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var O1=/[\-:]([a-z])/g;function F1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O1,F1);Pr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O1,F1);Pr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O1,F1);Pr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function M1(t,e,n,r){var i=Pr.hasOwnProperty(e)?Pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uI(e,n,i,r)&&(n=null),r||i===null?aI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bo=sI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),pu=Symbol.for("react.portal"),mu=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),Sb=Symbol.for("react.provider"),Ab=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),U1=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),Eb=Symbol.for("react.offscreen"),vy=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=vy&&t[vy]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,qm;function Yc(t){if(qm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qm=e&&e[1]||""}return`
`+qm+t}var Hm=!1;function Wm(t,e){if(!t||Hm)return"";Hm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yc(t):""}function cI(t){switch(t.tag){case 5:return Yc(t.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return t=Wm(t.type,!1),t;case 11:return t=Wm(t.type.render,!1),t;case 1:return t=Wm(t.type,!0),t;default:return""}}function i0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mu:return"Fragment";case pu:return"Portal";case t0:return"Profiler";case j1:return"StrictMode";case n0:return"Suspense";case r0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ab:return(t.displayName||"Context")+".Consumer";case Sb:return(t._context.displayName||"Context")+".Provider";case V1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U1:return e=t.displayName||null,e!==null?e:i0(t.type)||"Memo";case ga:e=t._payload,t=t._init;try{return i0(t(e))}catch{}}return null}function hI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i0(e);case 8:return e===j1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function za(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fI(t){var e=xb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uf(t){t._valueTracker||(t._valueTracker=fI(t))}function Ib(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s0(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=za(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tb(t,e){e=e.checked,e!=null&&M1(t,"checked",e,!1)}function o0(t,e){Tb(t,e);var n=za(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?a0(t,e.type,n):e.hasOwnProperty("defaultValue")&&a0(t,e.type,za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _y(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function a0(t,e,n){(e!=="number"||Hd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xc=Array.isArray;function ku(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+za(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function l0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(Xc(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:za(n)}}function Nb(t,e){var n=za(e.value),r=za(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function by(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bf,Pb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bf=Bf||document.createElement("div"),Bf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dI=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){dI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function Cb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function Lb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pI=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c0(t,e){if(e){if(pI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function h0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=null;function B1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var d0=null,Pu=null,Cu=null;function Sy(t){if(t=nf(t)){if(typeof d0!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Hp(e),d0(t.stateNode,t.type,e))}}function Rb(t){Pu?Cu?Cu.push(t):Cu=[t]:Pu=t}function Db(){if(Pu){var t=Pu,e=Cu;if(Cu=Pu=null,Sy(t),e)for(t=0;t<e.length;t++)Sy(e[t])}}function Ob(t,e){return t(e)}function Fb(){}var $m=!1;function Mb(t,e,n){if($m)return t(e,n);$m=!0;try{return Ob(t,e,n)}finally{$m=!1,(Pu!==null||Cu!==null)&&(Fb(),Db())}}function Ih(t,e){var n=t.stateNode;if(n===null)return null;var r=Hp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var p0=!1;if(Lo)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){p0=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{p0=!1}function mI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var oh=!1,Wd=null,$d=!1,m0=null,gI={onError:function(t){oh=!0,Wd=t}};function vI(t,e,n,r,i,s,o,a,l){oh=!1,Wd=null,mI.apply(gI,arguments)}function yI(t,e,n,r,i,s,o,a,l){if(vI.apply(this,arguments),oh){if(oh){var u=Wd;oh=!1,Wd=null}else throw Error(De(198));$d||($d=!0,m0=u)}}function Gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ay(t){if(Gl(t)!==t)throw Error(De(188))}function _I(t){var e=t.alternate;if(!e){if(e=Gl(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ay(i),t;if(s===r)return Ay(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function Vb(t){return t=_I(t),t!==null?Ub(t):null}function Ub(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ub(t);if(e!==null)return e;t=t.sibling}return null}var Bb=Bi.unstable_scheduleCallback,Ey=Bi.unstable_cancelCallback,wI=Bi.unstable_shouldYield,bI=Bi.unstable_requestPaint,Qn=Bi.unstable_now,SI=Bi.unstable_getCurrentPriorityLevel,z1=Bi.unstable_ImmediatePriority,zb=Bi.unstable_UserBlockingPriority,Gd=Bi.unstable_NormalPriority,AI=Bi.unstable_LowPriority,qb=Bi.unstable_IdlePriority,Up=null,Ys=null;function EI(t){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(Up,t,void 0,(t.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:TI,xI=Math.log,II=Math.LN2;function TI(t){return t>>>=0,t===0?32:31-(xI(t)/II|0)|0}var zf=64,qf=4194304;function Jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jc(a):(s&=o,s!==0&&(r=Jc(s)))}else o=n&~i,o!==0?r=Jc(o):s!==0&&(r=Jc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_s(e),i=1<<n,r|=t[n],e&=~i;return r}function NI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_s(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=NI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function g0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hb(){var t=zf;return zf<<=1,!(zf&4194240)&&(zf=64),t}function Gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ef(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_s(e),t[e]=n}function PI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_s(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function q1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_s(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var an=0;function Wb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $b,H1,Gb,Kb,Qb,v0=!1,Hf=[],ka=null,Pa=null,Ca=null,Th=new Map,Nh=new Map,ya=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xy(t,e){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Th.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(e.pointerId)}}function Vc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nf(e),e!==null&&H1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LI(t,e,n,r,i){switch(e){case"focusin":return ka=Vc(ka,t,e,n,r,i),!0;case"dragenter":return Pa=Vc(Pa,t,e,n,r,i),!0;case"mouseover":return Ca=Vc(Ca,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Th.set(s,Vc(Th.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nh.set(s,Vc(Nh.get(s)||null,t,e,n,r,i)),!0}return!1}function Yb(t){var e=El(t.target);if(e!==null){var n=Gl(e);if(n!==null){if(e=n.tag,e===13){if(e=jb(n),e!==null){t.blockedOn=e,Qb(t.priority,function(){Gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=y0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);f0=r,n.target.dispatchEvent(r),f0=null}else return e=nf(n),e!==null&&H1(e),t.blockedOn=n,!1;e.shift()}return!0}function Iy(t,e,n){_d(t)&&n.delete(e)}function RI(){v0=!1,ka!==null&&_d(ka)&&(ka=null),Pa!==null&&_d(Pa)&&(Pa=null),Ca!==null&&_d(Ca)&&(Ca=null),Th.forEach(Iy),Nh.forEach(Iy)}function Uc(t,e){t.blockedOn===e&&(t.blockedOn=null,v0||(v0=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,RI)))}function kh(t){function e(i){return Uc(i,t)}if(0<Hf.length){Uc(Hf[0],t);for(var n=1;n<Hf.length;n++){var r=Hf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ka!==null&&Uc(ka,t),Pa!==null&&Uc(Pa,t),Ca!==null&&Uc(Ca,t),Th.forEach(e),Nh.forEach(e),n=0;n<ya.length;n++)r=ya[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ya.length&&(n=ya[0],n.blockedOn===null);)Yb(n),n.blockedOn===null&&ya.shift()}var Lu=Bo.ReactCurrentBatchConfig,Qd=!0;function DI(t,e,n,r){var i=an,s=Lu.transition;Lu.transition=null;try{an=1,W1(t,e,n,r)}finally{an=i,Lu.transition=s}}function OI(t,e,n,r){var i=an,s=Lu.transition;Lu.transition=null;try{an=4,W1(t,e,n,r)}finally{an=i,Lu.transition=s}}function W1(t,e,n,r){if(Qd){var i=y0(t,e,n,r);if(i===null)rg(t,e,r,Yd,n),xy(t,r);else if(LI(i,t,e,n,r))r.stopPropagation();else if(xy(t,r),e&4&&-1<CI.indexOf(t)){for(;i!==null;){var s=nf(i);if(s!==null&&$b(s),s=y0(t,e,n,r),s===null&&rg(t,e,r,Yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rg(t,e,r,null,n)}}var Yd=null;function y0(t,e,n,r){if(Yd=null,t=B1(r),t=El(t),t!==null)if(e=Gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function Xb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SI()){case z1:return 1;case zb:return 4;case Gd:case AI:return 16;case qb:return 536870912;default:return 16}default:return 16}}var Ea=null,$1=null,wd=null;function Jb(){if(wd)return wd;var t,e=$1,n=e.length,r,i="value"in Ea?Ea.value:Ea.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wd=i.slice(t,1<r?1-r:void 0)}function bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function Ty(){return!1}function qi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wf:Ty,this.isPropagationStopped=Ty,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G1=qi(oc),tf=Dn({},oc,{view:0,detail:0}),FI=qi(tf),Km,Qm,Bc,Bp=Dn({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bc&&(Bc&&t.type==="mousemove"?(Km=t.screenX-Bc.screenX,Qm=t.screenY-Bc.screenY):Qm=Km=0,Bc=t),Km)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),Ny=qi(Bp),MI=Dn({},Bp,{dataTransfer:0}),jI=qi(MI),VI=Dn({},tf,{relatedTarget:0}),Ym=qi(VI),UI=Dn({},oc,{animationName:0,elapsedTime:0,pseudoElement:0}),BI=qi(UI),zI=Dn({},oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qI=qi(zI),HI=Dn({},oc,{data:0}),ky=qi(HI),WI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GI[t])?!!e[t]:!1}function K1(){return KI}var QI=Dn({},tf,{key:function(t){if(t.key){var e=WI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K1,charCode:function(t){return t.type==="keypress"?bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YI=qi(QI),XI=Dn({},Bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Py=qi(XI),JI=Dn({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K1}),ZI=qi(JI),eT=Dn({},oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),tT=qi(eT),nT=Dn({},Bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rT=qi(nT),iT=[9,13,27,32],Q1=Lo&&"CompositionEvent"in window,ah=null;Lo&&"documentMode"in document&&(ah=document.documentMode);var sT=Lo&&"TextEvent"in window&&!ah,Zb=Lo&&(!Q1||ah&&8<ah&&11>=ah),Cy=" ",Ly=!1;function e4(t,e){switch(t){case"keyup":return iT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gu=!1;function oT(t,e){switch(t){case"compositionend":return t4(e);case"keypress":return e.which!==32?null:(Ly=!0,Cy);case"textInput":return t=e.data,t===Cy&&Ly?null:t;default:return null}}function aT(t,e){if(gu)return t==="compositionend"||!Q1&&e4(t,e)?(t=Jb(),wd=$1=Ea=null,gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zb&&e.locale!=="ko"?null:e.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lT[t.type]:e==="textarea"}function n4(t,e,n,r){Rb(r),e=Xd(e,"onChange"),0<e.length&&(n=new G1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,Ph=null;function uT(t){d4(t,0)}function zp(t){var e=_u(t);if(Ib(e))return t}function cT(t,e){if(t==="change")return e}var r4=!1;if(Lo){var Xm;if(Lo){var Jm="oninput"in document;if(!Jm){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),Jm=typeof Dy.oninput=="function"}Xm=Jm}else Xm=!1;r4=Xm&&(!document.documentMode||9<document.documentMode)}function Oy(){lh&&(lh.detachEvent("onpropertychange",i4),Ph=lh=null)}function i4(t){if(t.propertyName==="value"&&zp(Ph)){var e=[];n4(e,Ph,t,B1(t)),Mb(uT,e)}}function hT(t,e,n){t==="focusin"?(Oy(),lh=e,Ph=n,lh.attachEvent("onpropertychange",i4)):t==="focusout"&&Oy()}function fT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zp(Ph)}function dT(t,e){if(t==="click")return zp(e)}function pT(t,e){if(t==="input"||t==="change")return zp(e)}function mT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ss=typeof Object.is=="function"?Object.is:mT;function Ch(t,e){if(Ss(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!e0.call(e,i)||!Ss(t[i],e[i]))return!1}return!0}function Fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function My(t,e){var n=Fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function s4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o4(){for(var t=window,e=Hd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hd(t.document)}return e}function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gT(t){var e=o4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s4(n.ownerDocument.documentElement,n)){if(r!==null&&Y1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=My(n,s);var o=My(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vT=Lo&&"documentMode"in document&&11>=document.documentMode,vu=null,_0=null,uh=null,w0=!1;function jy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;w0||vu==null||vu!==Hd(r)||(r=vu,"selectionStart"in r&&Y1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&Ch(uh,r)||(uh=r,r=Xd(_0,"onSelect"),0<r.length&&(e=new G1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vu)))}function $f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yu={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},Zm={},a4={};Lo&&(a4=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function qp(t){if(Zm[t])return Zm[t];if(!yu[t])return t;var e=yu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a4)return Zm[t]=e[n];return t}var l4=qp("animationend"),u4=qp("animationiteration"),c4=qp("animationstart"),h4=qp("transitionend"),f4=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qa(t,e){f4.set(t,e),$l(e,[t])}for(var eg=0;eg<Vy.length;eg++){var tg=Vy[eg],yT=tg.toLowerCase(),_T=tg[0].toUpperCase()+tg.slice(1);Qa(yT,"on"+_T)}Qa(l4,"onAnimationEnd");Qa(u4,"onAnimationIteration");Qa(c4,"onAnimationStart");Qa("dblclick","onDoubleClick");Qa("focusin","onFocus");Qa("focusout","onBlur");Qa(h4,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function Uy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yI(r,e,void 0,t),t.currentTarget=null}function d4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Uy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Uy(i,a,u),s=l}}}if($d)throw t=m0,$d=!1,m0=null,t}function wn(t,e){var n=e[x0];n===void 0&&(n=e[x0]=new Set);var r=t+"__bubble";n.has(r)||(p4(e,t,2,!1),n.add(r))}function ng(t,e,n){var r=0;e&&(r|=4),p4(n,t,r,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[Gf]){t[Gf]=!0,bb.forEach(function(n){n!=="selectionchange"&&(wT.has(n)||ng(n,!1,t),ng(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,ng("selectionchange",!1,e))}}function p4(t,e,n,r){switch(Xb(e)){case 1:var i=DI;break;case 4:i=OI;break;default:i=W1}n=i.bind(null,e,n,t),i=void 0,!p0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=El(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Mb(function(){var u=s,f=B1(n),m=[];e:{var v=f4.get(t);if(v!==void 0){var p=G1,A=t;switch(t){case"keypress":if(bd(n)===0)break e;case"keydown":case"keyup":p=YI;break;case"focusin":A="focus",p=Ym;break;case"focusout":A="blur",p=Ym;break;case"beforeblur":case"afterblur":p=Ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZI;break;case l4:case u4:case c4:p=BI;break;case h4:p=tT;break;case"scroll":p=FI;break;case"wheel":p=rT;break;case"copy":case"cut":case"paste":p=qI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Py}var I=(e&4)!==0,R=!I&&t==="scroll",b=I?v!==null?v+"Capture":null:v;I=[];for(var N=u,P;N!==null;){P=N;var F=P.stateNode;if(P.tag===5&&F!==null&&(P=F,b!==null&&(F=Ih(N,b),F!=null&&I.push(Rh(N,F,P)))),R)break;N=N.return}0<I.length&&(v=new p(v,A,null,n,f),m.push({event:v,listeners:I}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&n!==f0&&(A=n.relatedTarget||n.fromElement)&&(El(A)||A[Ro]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(A=n.relatedTarget||n.toElement,p=u,A=A?El(A):null,A!==null&&(R=Gl(A),A!==R||A.tag!==5&&A.tag!==6)&&(A=null)):(p=null,A=u),p!==A)){if(I=Ny,F="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(I=Py,F="onPointerLeave",b="onPointerEnter",N="pointer"),R=p==null?v:_u(p),P=A==null?v:_u(A),v=new I(F,N+"leave",p,n,f),v.target=R,v.relatedTarget=P,F=null,El(f)===u&&(I=new I(b,N+"enter",A,n,f),I.target=P,I.relatedTarget=R,F=I),R=F,p&&A)t:{for(I=p,b=A,N=0,P=I;P;P=su(P))N++;for(P=0,F=b;F;F=su(F))P++;for(;0<N-P;)I=su(I),N--;for(;0<P-N;)b=su(b),P--;for(;N--;){if(I===b||b!==null&&I===b.alternate)break t;I=su(I),b=su(b)}I=null}else I=null;p!==null&&By(m,v,p,I,!1),A!==null&&R!==null&&By(m,R,A,I,!0)}}e:{if(v=u?_u(u):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var Y=cT;else if(Ry(v))if(r4)Y=pT;else{Y=fT;var te=hT}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Y=dT);if(Y&&(Y=Y(t,u))){n4(m,Y,n,f);break e}te&&te(t,v,u),t==="focusout"&&(te=v._wrapperState)&&te.controlled&&v.type==="number"&&a0(v,"number",v.value)}switch(te=u?_u(u):window,t){case"focusin":(Ry(te)||te.contentEditable==="true")&&(vu=te,_0=u,uh=null);break;case"focusout":uh=_0=vu=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,jy(m,n,f);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":jy(m,n,f)}var V;if(Q1)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else gu?e4(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Zb&&n.locale!=="ko"&&(gu||E!=="onCompositionStart"?E==="onCompositionEnd"&&gu&&(V=Jb()):(Ea=f,$1="value"in Ea?Ea.value:Ea.textContent,gu=!0)),te=Xd(u,E),0<te.length&&(E=new ky(E,t,null,n,f),m.push({event:E,listeners:te}),V?E.data=V:(V=t4(n),V!==null&&(E.data=V)))),(V=sT?oT(t,n):aT(t,n))&&(u=Xd(u,"onBeforeInput"),0<u.length&&(f=new ky("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=V))}d4(m,e)})}function Rh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ih(t,n),s!=null&&r.unshift(Rh(t,s,i)),s=Ih(t,e),s!=null&&r.push(Rh(t,s,i))),t=t.return}return r}function su(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function By(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ih(n,s),l!=null&&o.unshift(Rh(n,l,a))):i||(l=Ih(n,s),l!=null&&o.push(Rh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(ST,"")}function Kf(t,e,n){if(e=zy(e),zy(t)!==e&&n)throw Error(De(425))}function Jd(){}var b0=null,S0=null;function A0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E0=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(t){return qy.resolve(null).then(t).catch(xT)}:E0;function xT(t){setTimeout(function(){throw t})}function ig(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kh(e)}function La(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ac=Math.random().toString(36).slice(2),Ks="__reactFiber$"+ac,Dh="__reactProps$"+ac,Ro="__reactContainer$"+ac,x0="__reactEvents$"+ac,IT="__reactListeners$"+ac,TT="__reactHandles$"+ac;function El(t){var e=t[Ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ro]||n[Ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hy(t);t!==null;){if(n=t[Ks])return n;t=Hy(t)}return e}t=n,n=t.parentNode}return null}function nf(t){return t=t[Ks]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _u(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Hp(t){return t[Dh]||null}var I0=[],wu=-1;function Ya(t){return{current:t}}function Sn(t){0>wu||(t.current=I0[wu],I0[wu]=null,wu--)}function gn(t,e){wu++,I0[wu]=t.current,t.current=e}var qa={},Gr=Ya(qa),gi=Ya(!1),Ll=qa;function Wu(t,e){var n=t.type.contextTypes;if(!n)return qa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Zd(){Sn(gi),Sn(Gr)}function Wy(t,e,n){if(Gr.current!==qa)throw Error(De(168));gn(Gr,e),gn(gi,n)}function m4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,hI(t)||"Unknown",i));return Dn({},n,r)}function ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qa,Ll=Gr.current,gn(Gr,t),gn(gi,gi.current),!0}function $y(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=m4(t,e,Ll),r.__reactInternalMemoizedMergedChildContext=t,Sn(gi),Sn(Gr),gn(Gr,t)):Sn(gi),gn(gi,n)}var bo=null,Wp=!1,sg=!1;function g4(t){bo===null?bo=[t]:bo.push(t)}function NT(t){Wp=!0,g4(t)}function Xa(){if(!sg&&bo!==null){sg=!0;var t=0,e=an;try{var n=bo;for(an=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bo=null,Wp=!1}catch(i){throw bo!==null&&(bo=bo.slice(t+1)),Bb(z1,Xa),i}finally{an=e,sg=!1}}return null}var bu=[],Su=0,tp=null,np=0,Ji=[],Zi=0,Rl=null,Ao=1,Eo="";function _l(t,e){bu[Su++]=np,bu[Su++]=tp,tp=t,np=e}function v4(t,e,n){Ji[Zi++]=Ao,Ji[Zi++]=Eo,Ji[Zi++]=Rl,Rl=t;var r=Ao;t=Eo;var i=32-_s(r)-1;r&=~(1<<i),n+=1;var s=32-_s(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ao=1<<32-_s(e)+i|n<<i|r,Eo=s+t}else Ao=1<<s|n<<i|r,Eo=t}function X1(t){t.return!==null&&(_l(t,1),v4(t,1,0))}function J1(t){for(;t===tp;)tp=bu[--Su],bu[Su]=null,np=bu[--Su],bu[Su]=null;for(;t===Rl;)Rl=Ji[--Zi],Ji[Zi]=null,Eo=Ji[--Zi],Ji[Zi]=null,Ao=Ji[--Zi],Ji[Zi]=null}var Vi=null,Fi=null,Tn=!1,ys=null;function y4(t,e){var n=es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vi=t,Fi=La(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vi=t,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rl!==null?{id:Ao,overflow:Eo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vi=t,Fi=null,!0):!1;default:return!1}}function T0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function N0(t){if(Tn){var e=Fi;if(e){var n=e;if(!Gy(t,e)){if(T0(t))throw Error(De(418));e=La(n.nextSibling);var r=Vi;e&&Gy(t,e)?y4(r,n):(t.flags=t.flags&-4097|2,Tn=!1,Vi=t)}}else{if(T0(t))throw Error(De(418));t.flags=t.flags&-4097|2,Tn=!1,Vi=t}}}function Ky(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vi=t}function Qf(t){if(t!==Vi)return!1;if(!Tn)return Ky(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A0(t.type,t.memoizedProps)),e&&(e=Fi)){if(T0(t))throw _4(),Error(De(418));for(;e;)y4(t,e),e=La(e.nextSibling)}if(Ky(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fi=La(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fi=null}}else Fi=Vi?La(t.stateNode.nextSibling):null;return!0}function _4(){for(var t=Fi;t;)t=La(t.nextSibling)}function $u(){Fi=Vi=null,Tn=!1}function Z1(t){ys===null?ys=[t]:ys.push(t)}var kT=Bo.ReactCurrentBatchConfig;function zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qy(t){var e=t._init;return e(t._payload)}function w4(t){function e(b,N){if(t){var P=b.deletions;P===null?(b.deletions=[N],b.flags|=16):P.push(N)}}function n(b,N){if(!t)return null;for(;N!==null;)e(b,N),N=N.sibling;return null}function r(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function i(b,N){return b=Fa(b,N),b.index=0,b.sibling=null,b}function s(b,N,P){return b.index=P,t?(P=b.alternate,P!==null?(P=P.index,P<N?(b.flags|=2,N):P):(b.flags|=2,N)):(b.flags|=1048576,N)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,N,P,F){return N===null||N.tag!==6?(N=fg(P,b.mode,F),N.return=b,N):(N=i(N,P),N.return=b,N)}function l(b,N,P,F){var Y=P.type;return Y===mu?f(b,N,P.props.children,F,P.key):N!==null&&(N.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ga&&Qy(Y)===N.type)?(F=i(N,P.props),F.ref=zc(b,N,P),F.return=b,F):(F=Nd(P.type,P.key,P.props,null,b.mode,F),F.ref=zc(b,N,P),F.return=b,F)}function u(b,N,P,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=dg(P,b.mode,F),N.return=b,N):(N=i(N,P.children||[]),N.return=b,N)}function f(b,N,P,F,Y){return N===null||N.tag!==7?(N=kl(P,b.mode,F,Y),N.return=b,N):(N=i(N,P),N.return=b,N)}function m(b,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return N=fg(""+N,b.mode,P),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vf:return P=Nd(N.type,N.key,N.props,null,b.mode,P),P.ref=zc(b,null,N),P.return=b,P;case pu:return N=dg(N,b.mode,P),N.return=b,N;case ga:var F=N._init;return m(b,F(N._payload),P)}if(Xc(N)||Mc(N))return N=kl(N,b.mode,P,null),N.return=b,N;Yf(b,N)}return null}function v(b,N,P,F){var Y=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Y!==null?null:a(b,N,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Vf:return P.key===Y?l(b,N,P,F):null;case pu:return P.key===Y?u(b,N,P,F):null;case ga:return Y=P._init,v(b,N,Y(P._payload),F)}if(Xc(P)||Mc(P))return Y!==null?null:f(b,N,P,F,null);Yf(b,P)}return null}function p(b,N,P,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number")return b=b.get(P)||null,a(N,b,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Vf:return b=b.get(F.key===null?P:F.key)||null,l(N,b,F,Y);case pu:return b=b.get(F.key===null?P:F.key)||null,u(N,b,F,Y);case ga:var te=F._init;return p(b,N,P,te(F._payload),Y)}if(Xc(F)||Mc(F))return b=b.get(P)||null,f(N,b,F,Y,null);Yf(N,F)}return null}function A(b,N,P,F){for(var Y=null,te=null,V=N,E=N=0,x=null;V!==null&&E<P.length;E++){V.index>E?(x=V,V=null):x=V.sibling;var L=v(b,V,P[E],F);if(L===null){V===null&&(V=x);break}t&&V&&L.alternate===null&&e(b,V),N=s(L,N,E),te===null?Y=L:te.sibling=L,te=L,V=x}if(E===P.length)return n(b,V),Tn&&_l(b,E),Y;if(V===null){for(;E<P.length;E++)V=m(b,P[E],F),V!==null&&(N=s(V,N,E),te===null?Y=V:te.sibling=V,te=V);return Tn&&_l(b,E),Y}for(V=r(b,V);E<P.length;E++)x=p(V,b,E,P[E],F),x!==null&&(t&&x.alternate!==null&&V.delete(x.key===null?E:x.key),N=s(x,N,E),te===null?Y=x:te.sibling=x,te=x);return t&&V.forEach(function(w){return e(b,w)}),Tn&&_l(b,E),Y}function I(b,N,P,F){var Y=Mc(P);if(typeof Y!="function")throw Error(De(150));if(P=Y.call(P),P==null)throw Error(De(151));for(var te=Y=null,V=N,E=N=0,x=null,L=P.next();V!==null&&!L.done;E++,L=P.next()){V.index>E?(x=V,V=null):x=V.sibling;var w=v(b,V,L.value,F);if(w===null){V===null&&(V=x);break}t&&V&&w.alternate===null&&e(b,V),N=s(w,N,E),te===null?Y=w:te.sibling=w,te=w,V=x}if(L.done)return n(b,V),Tn&&_l(b,E),Y;if(V===null){for(;!L.done;E++,L=P.next())L=m(b,L.value,F),L!==null&&(N=s(L,N,E),te===null?Y=L:te.sibling=L,te=L);return Tn&&_l(b,E),Y}for(V=r(b,V);!L.done;E++,L=P.next())L=p(V,b,E,L.value,F),L!==null&&(t&&L.alternate!==null&&V.delete(L.key===null?E:L.key),N=s(L,N,E),te===null?Y=L:te.sibling=L,te=L);return t&&V.forEach(function(k){return e(b,k)}),Tn&&_l(b,E),Y}function R(b,N,P,F){if(typeof P=="object"&&P!==null&&P.type===mu&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Vf:e:{for(var Y=P.key,te=N;te!==null;){if(te.key===Y){if(Y=P.type,Y===mu){if(te.tag===7){n(b,te.sibling),N=i(te,P.props.children),N.return=b,b=N;break e}}else if(te.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ga&&Qy(Y)===te.type){n(b,te.sibling),N=i(te,P.props),N.ref=zc(b,te,P),N.return=b,b=N;break e}n(b,te);break}else e(b,te);te=te.sibling}P.type===mu?(N=kl(P.props.children,b.mode,F,P.key),N.return=b,b=N):(F=Nd(P.type,P.key,P.props,null,b.mode,F),F.ref=zc(b,N,P),F.return=b,b=F)}return o(b);case pu:e:{for(te=P.key;N!==null;){if(N.key===te)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){n(b,N.sibling),N=i(N,P.children||[]),N.return=b,b=N;break e}else{n(b,N);break}else e(b,N);N=N.sibling}N=dg(P,b.mode,F),N.return=b,b=N}return o(b);case ga:return te=P._init,R(b,N,te(P._payload),F)}if(Xc(P))return A(b,N,P,F);if(Mc(P))return I(b,N,P,F);Yf(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,N!==null&&N.tag===6?(n(b,N.sibling),N=i(N,P),N.return=b,b=N):(n(b,N),N=fg(P,b.mode,F),N.return=b,b=N),o(b)):n(b,N)}return R}var Gu=w4(!0),b4=w4(!1),rp=Ya(null),ip=null,Au=null,e2=null;function t2(){e2=Au=ip=null}function n2(t){var e=rp.current;Sn(rp),t._currentValue=e}function k0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ru(t,e){ip=t,e2=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mi=!0),t.firstContext=null)}function ns(t){var e=t._currentValue;if(e2!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(ip===null)throw Error(De(308));Au=t,ip.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var xl=null;function r2(t){xl===null?xl=[t]:xl.push(t)}function S4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,r2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Do(t,r)}function Do(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var va=!1;function i2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Do(t,n)}return i=r.interleaved,i===null?(e.next=e,r2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Do(t,n)}function Sd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,q1(t,n)}}function Yy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sp(t,e,n,r){var i=t.updateQueue;va=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,f=u=l=null,a=s;do{var v=a.lane,p=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,I=a;switch(v=e,p=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){m=A.call(p,m,v);break e}m=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,v=typeof A=="function"?A.call(p,m,v):A,v==null)break e;m=Dn({},m,v);break e;case 2:va=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=m):f=f.next=p,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ol|=o,t.lanes=o,t.memoizedState=m}}function Xy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var rf={},Xs=Ya(rf),Oh=Ya(rf),Fh=Ya(rf);function Il(t){if(t===rf)throw Error(De(174));return t}function s2(t,e){switch(gn(Fh,e),gn(Oh,t),gn(Xs,rf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:u0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=u0(e,t)}Sn(Xs),gn(Xs,e)}function Ku(){Sn(Xs),Sn(Oh),Sn(Fh)}function E4(t){Il(Fh.current);var e=Il(Xs.current),n=u0(e,t.type);e!==n&&(gn(Oh,t),gn(Xs,n))}function o2(t){Oh.current===t&&(Sn(Xs),Sn(Oh))}var Ln=Ya(0);function op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var og=[];function a2(){for(var t=0;t<og.length;t++)og[t]._workInProgressVersionPrimary=null;og.length=0}var Ad=Bo.ReactCurrentDispatcher,ag=Bo.ReactCurrentBatchConfig,Dl=0,Rn=null,lr=null,gr=null,ap=!1,ch=!1,Mh=0,PT=0;function Mr(){throw Error(De(321))}function l2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ss(t[n],e[n]))return!1;return!0}function u2(t,e,n,r,i,s){if(Dl=s,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ad.current=t===null||t.memoizedState===null?DT:OT,t=n(r,i),ch){s=0;do{if(ch=!1,Mh=0,25<=s)throw Error(De(301));s+=1,gr=lr=null,e.updateQueue=null,Ad.current=FT,t=n(r,i)}while(ch)}if(Ad.current=lp,e=lr!==null&&lr.next!==null,Dl=0,gr=lr=Rn=null,ap=!1,e)throw Error(De(300));return t}function c2(){var t=Mh!==0;return Mh=0,t}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Rn.memoizedState=gr=t:gr=gr.next=t,gr}function rs(){if(lr===null){var t=Rn.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=gr===null?Rn.memoizedState:gr.next;if(e!==null)gr=e,lr=t;else{if(t===null)throw Error(De(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},gr===null?Rn.memoizedState=gr=t:gr=gr.next=t}return gr}function jh(t,e){return typeof e=="function"?e(t):e}function lg(t){var e=rs(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=lr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Dl&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,Rn.lanes|=f,Ol|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ss(r,e.memoizedState)||(mi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rn.lanes|=s,Ol|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ug(t){var e=rs(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ss(s,e.memoizedState)||(mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function x4(){}function I4(t,e){var n=Rn,r=rs(),i=e(),s=!Ss(r.memoizedState,i);if(s&&(r.memoizedState=i,mi=!0),r=r.queue,h2(k4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,Vh(9,N4.bind(null,n,r,i,e),void 0,null),_r===null)throw Error(De(349));Dl&30||T4(n,e,i)}return i}function T4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function N4(t,e,n,r){e.value=n,e.getSnapshot=r,P4(e)&&C4(t)}function k4(t,e,n){return n(function(){P4(e)&&C4(t)})}function P4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ss(t,n)}catch{return!0}}function C4(t){var e=Do(t,1);e!==null&&ws(e,t,1,-1)}function Jy(t){var e=Gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:t},e.queue=t,t=t.dispatch=RT.bind(null,Rn,t),[e.memoizedState,t]}function Vh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function L4(){return rs().memoizedState}function Ed(t,e,n,r){var i=Gs();Rn.flags|=t,i.memoizedState=Vh(1|e,n,void 0,r===void 0?null:r)}function $p(t,e,n,r){var i=rs();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&l2(r,o.deps)){i.memoizedState=Vh(e,n,s,r);return}}Rn.flags|=t,i.memoizedState=Vh(1|e,n,s,r)}function Zy(t,e){return Ed(8390656,8,t,e)}function h2(t,e){return $p(2048,8,t,e)}function R4(t,e){return $p(4,2,t,e)}function D4(t,e){return $p(4,4,t,e)}function O4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function F4(t,e,n){return n=n!=null?n.concat([t]):null,$p(4,4,O4.bind(null,e,t),n)}function f2(){}function M4(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function j4(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function V4(t,e,n){return Dl&21?(Ss(n,e)||(n=Hb(),Rn.lanes|=n,Ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mi=!0),t.memoizedState=n)}function CT(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var r=ag.transition;ag.transition={};try{t(!1),e()}finally{an=n,ag.transition=r}}function U4(){return rs().memoizedState}function LT(t,e,n){var r=Oa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},B4(t))z4(e,n);else if(n=S4(t,e,n,r),n!==null){var i=ri();ws(n,t,r,i),q4(n,e,r)}}function RT(t,e,n){var r=Oa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(B4(t))z4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ss(a,o)){var l=e.interleaved;l===null?(i.next=i,r2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=S4(t,e,i,r),n!==null&&(i=ri(),ws(n,t,r,i),q4(n,e,r))}}function B4(t){var e=t.alternate;return t===Rn||e!==null&&e===Rn}function z4(t,e){ch=ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,q1(t,n)}}var lp={readContext:ns,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},DT={readContext:ns,useCallback:function(t,e){return Gs().memoizedState=[t,e===void 0?null:e],t},useContext:ns,useEffect:Zy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4194308,4,O4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ed(4,2,t,e)},useMemo:function(t,e){var n=Gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LT.bind(null,Rn,t),[r.memoizedState,t]},useRef:function(t){var e=Gs();return t={current:t},e.memoizedState=t},useState:Jy,useDebugValue:f2,useDeferredValue:function(t){return Gs().memoizedState=t},useTransition:function(){var t=Jy(!1),e=t[0];return t=CT.bind(null,t[1]),Gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rn,i=Gs();if(Tn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),_r===null)throw Error(De(349));Dl&30||T4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Zy(k4.bind(null,r,s,t),[t]),r.flags|=2048,Vh(9,N4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gs(),e=_r.identifierPrefix;if(Tn){var n=Eo,r=Ao;n=(r&~(1<<32-_s(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OT={readContext:ns,useCallback:M4,useContext:ns,useEffect:h2,useImperativeHandle:F4,useInsertionEffect:R4,useLayoutEffect:D4,useMemo:j4,useReducer:lg,useRef:L4,useState:function(){return lg(jh)},useDebugValue:f2,useDeferredValue:function(t){var e=rs();return V4(e,lr.memoizedState,t)},useTransition:function(){var t=lg(jh)[0],e=rs().memoizedState;return[t,e]},useMutableSource:x4,useSyncExternalStore:I4,useId:U4,unstable_isNewReconciler:!1},FT={readContext:ns,useCallback:M4,useContext:ns,useEffect:h2,useImperativeHandle:F4,useInsertionEffect:R4,useLayoutEffect:D4,useMemo:j4,useReducer:ug,useRef:L4,useState:function(){return ug(jh)},useDebugValue:f2,useDeferredValue:function(t){var e=rs();return lr===null?e.memoizedState=t:V4(e,lr.memoizedState,t)},useTransition:function(){var t=ug(jh)[0],e=rs().memoizedState;return[t,e]},useMutableSource:x4,useSyncExternalStore:I4,useId:U4,unstable_isNewReconciler:!1};function gs(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function P0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gp={isMounted:function(t){return(t=t._reactInternals)?Gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Oa(t),s=Po(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ra(t,s,i),e!==null&&(ws(e,t,i,r),Sd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Oa(t),s=Po(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ra(t,s,i),e!==null&&(ws(e,t,i,r),Sd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ri(),r=Oa(t),i=Po(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ra(t,i,r),e!==null&&(ws(e,t,r,n),Sd(e,t,r))}};function e5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ch(n,r)||!Ch(i,s):!0}function H4(t,e,n){var r=!1,i=qa,s=e.contextType;return typeof s=="object"&&s!==null?s=ns(s):(i=vi(e)?Ll:Gr.current,r=e.contextTypes,s=(r=r!=null)?Wu(t,i):qa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function t5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function C0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},i2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ns(s):(s=vi(e)?Ll:Gr.current,i.context=Wu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(P0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gp.enqueueReplaceState(i,i.state,null),sp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qu(t,e){try{var n="",r=e;do n+=cI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function L0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MT=typeof WeakMap=="function"?WeakMap:Map;function W4(t,e,n){n=Po(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cp||(cp=!0,z0=r),L0(t,e)},n}function $4(t,e,n){n=Po(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){L0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){L0(t,e),typeof r!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function n5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XT.bind(null,t,e,n),e.then(t,t))}function r5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function i5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Po(-1,1),e.tag=2,Ra(n,e,1))),n.lanes|=1),t)}var jT=Bo.ReactCurrentOwner,mi=!1;function ti(t,e,n,r){e.child=t===null?b4(e,null,n,r):Gu(e,t.child,n,r)}function s5(t,e,n,r,i){n=n.render;var s=e.ref;return Ru(e,i),r=u2(t,e,n,r,s,i),n=c2(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oo(t,e,i)):(Tn&&n&&X1(e),e.flags|=1,ti(t,e,r,i),e.child)}function o5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!w2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,G4(t,e,s,r,i)):(t=Nd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ch,n(o,r)&&t.ref===e.ref)return Oo(t,e,i)}return e.flags|=1,t=Fa(s,r),t.ref=e.ref,t.return=e,e.child=t}function G4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ch(s,r)&&t.ref===e.ref)if(mi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mi=!0);else return e.lanes=t.lanes,Oo(t,e,i)}return R0(t,e,n,r,i)}function K4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(xu,Oi),Oi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gn(xu,Oi),Oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gn(xu,Oi),Oi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gn(xu,Oi),Oi|=r;return ti(t,e,i,n),e.child}function Q4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function R0(t,e,n,r,i){var s=vi(n)?Ll:Gr.current;return s=Wu(e,s),Ru(e,i),n=u2(t,e,n,r,s,i),r=c2(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oo(t,e,i)):(Tn&&r&&X1(e),e.flags|=1,ti(t,e,n,i),e.child)}function a5(t,e,n,r,i){if(vi(n)){var s=!0;ep(e)}else s=!1;if(Ru(e,i),e.stateNode===null)xd(t,e),H4(e,n,r),C0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=vi(n)?Ll:Gr.current,u=Wu(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&t5(e,o,r,u),va=!1;var v=e.memoizedState;o.state=v,sp(e,r,o,i),l=e.memoizedState,a!==r||v!==l||gi.current||va?(typeof f=="function"&&(P0(e,n,f,r),l=e.memoizedState),(a=va||e5(e,n,a,r,v,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,A4(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gs(e.type,a),o.props=u,m=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=vi(n)?Ll:Gr.current,l=Wu(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||v!==l)&&t5(e,o,r,l),va=!1,v=e.memoizedState,o.state=v,sp(e,r,o,i);var A=e.memoizedState;a!==m||v!==A||gi.current||va?(typeof p=="function"&&(P0(e,n,p,r),A=e.memoizedState),(u=va||e5(e,n,u,r,v,A,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return D0(t,e,n,r,s,i)}function D0(t,e,n,r,i,s){Q4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$y(e,n,!1),Oo(t,e,s);r=e.stateNode,jT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gu(e,t.child,null,s),e.child=Gu(e,null,a,s)):ti(t,e,a,s),e.memoizedState=r.state,i&&$y(e,n,!0),e.child}function Y4(t){var e=t.stateNode;e.pendingContext?Wy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wy(t,e.context,!1),s2(t,e.containerInfo)}function l5(t,e,n,r,i){return $u(),Z1(i),e.flags|=256,ti(t,e,n,r),e.child}var O0={dehydrated:null,treeContext:null,retryLane:0};function F0(t){return{baseLanes:t,cachePool:null,transitions:null}}function X4(t,e,n){var r=e.pendingProps,i=Ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gn(Ln,i&1),t===null)return N0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yp(o,r,0,null),t=kl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=F0(n),e.memoizedState=O0,t):d2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fa(a,s):(s=kl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?F0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=O0,r}return s=t.child,t=s.sibling,r=Fa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function d2(t,e){return e=Yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xf(t,e,n,r){return r!==null&&Z1(r),Gu(e,t.child,null,n),t=d2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cg(Error(De(422))),Xf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yp({mode:"visible",children:r.children},i,0,null),s=kl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gu(e,t.child,null,o),e.child.memoizedState=F0(o),e.memoizedState=O0,s);if(!(e.mode&1))return Xf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(De(419)),r=cg(s,r,void 0),Xf(t,e,o,r)}if(a=(o&t.childLanes)!==0,mi||a){if(r=_r,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Do(t,i),ws(r,t,i,-1))}return _2(),r=cg(Error(De(421))),Xf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fi=La(i.nextSibling),Vi=e,Tn=!0,ys=null,t!==null&&(Ji[Zi++]=Ao,Ji[Zi++]=Eo,Ji[Zi++]=Rl,Ao=t.id,Eo=t.overflow,Rl=e),e=d2(e,r.children),e.flags|=4096,e)}function u5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),k0(t.return,e,n)}function hg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function J4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ti(t,e,r.children,n),r=Ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u5(t,n,e);else if(t.tag===19)u5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gn(Ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&op(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&op(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hg(e,!0,n,null,s);break;case"together":hg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Fa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UT(t,e,n){switch(e.tag){case 3:Y4(e),$u();break;case 5:E4(e);break;case 1:vi(e.type)&&ep(e);break;case 4:s2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gn(rp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Ln,Ln.current&1),e.flags|=128,null):n&e.child.childLanes?X4(t,e,n):(gn(Ln,Ln.current&1),t=Oo(t,e,n),t!==null?t.sibling:null);gn(Ln,Ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return J4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Ln,Ln.current),r)break;return null;case 22:case 23:return e.lanes=0,K4(t,e,n)}return Oo(t,e,n)}var Z4,M0,e3,t3;Z4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M0=function(){};e3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Il(Xs.current);var s=null;switch(n){case"input":i=s0(t,i),r=s0(t,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=l0(t,i),r=l0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jd)}c0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&wn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};t3=function(t,e,n,r){n!==r&&(e.flags|=4)};function qc(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BT(t,e,n){var r=e.pendingProps;switch(J1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(e),null;case 1:return vi(e.type)&&Zd(),jr(e),null;case 3:return r=e.stateNode,Ku(),Sn(gi),Sn(Gr),a2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ys!==null&&(W0(ys),ys=null))),M0(t,e),jr(e),null;case 5:o2(e);var i=Il(Fh.current);if(n=e.type,t!==null&&e.stateNode!=null)e3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return jr(e),null}if(t=Il(Xs.current),Qf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ks]=e,r[Dh]=s,t=(e.mode&1)!==0,n){case"dialog":wn("cancel",r),wn("close",r);break;case"iframe":case"object":case"embed":wn("load",r);break;case"video":case"audio":for(i=0;i<Zc.length;i++)wn(Zc[i],r);break;case"source":wn("error",r);break;case"img":case"image":case"link":wn("error",r),wn("load",r);break;case"details":wn("toggle",r);break;case"input":yy(r,s),wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wn("invalid",r);break;case"textarea":wy(r,s),wn("invalid",r)}c0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wn("scroll",r)}switch(n){case"input":Uf(r),_y(r,s,!0);break;case"textarea":Uf(r),by(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ks]=e,t[Dh]=r,Z4(t,e,!1,!1),e.stateNode=t;e:{switch(o=h0(n,r),n){case"dialog":wn("cancel",t),wn("close",t),i=r;break;case"iframe":case"object":case"embed":wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zc.length;i++)wn(Zc[i],t);i=r;break;case"source":wn("error",t),i=r;break;case"img":case"image":case"link":wn("error",t),wn("load",t),i=r;break;case"details":wn("toggle",t),i=r;break;case"input":yy(t,r),i=s0(t,r),wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),wn("invalid",t);break;case"textarea":wy(t,r),i=l0(t,r),wn("invalid",t);break;default:i=r}c0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xh(t,l):typeof l=="number"&&xh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wn("scroll",t):l!=null&&M1(t,s,l,o))}switch(n){case"input":Uf(t),_y(t,r,!1);break;case"textarea":Uf(t),by(t);break;case"option":r.value!=null&&t.setAttribute("value",""+za(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ku(t,!!r.multiple,s,!1):r.defaultValue!=null&&ku(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jr(e),null;case 6:if(t&&e.stateNode!=null)t3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=Il(Fh.current),Il(Xs.current),Qf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ks]=e,(s=r.nodeValue!==n)&&(t=Vi,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ks]=e,e.stateNode=r}return jr(e),null;case 13:if(Sn(Ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&Fi!==null&&e.mode&1&&!(e.flags&128))_4(),$u(),e.flags|=98560,s=!1;else if(s=Qf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Ks]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jr(e),s=!1}else ys!==null&&(W0(ys),ys=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ln.current&1?ur===0&&(ur=3):_2())),e.updateQueue!==null&&(e.flags|=4),jr(e),null);case 4:return Ku(),M0(t,e),t===null&&Lh(e.stateNode.containerInfo),jr(e),null;case 10:return n2(e.type._context),jr(e),null;case 17:return vi(e.type)&&Zd(),jr(e),null;case 19:if(Sn(Ln),s=e.memoizedState,s===null)return jr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qc(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=op(t),o!==null){for(e.flags|=128,qc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gn(Ln,Ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qn()>Yu&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304)}else{if(!r)if(t=op(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return jr(e),null}else 2*Qn()-s.renderingStartTime>Yu&&n!==1073741824&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qn(),e.sibling=null,n=Ln.current,gn(Ln,r?n&1|2:n&1),e):(jr(e),null);case 22:case 23:return y2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oi&1073741824&&(jr(e),e.subtreeFlags&6&&(e.flags|=8192)):jr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function zT(t,e){switch(J1(e),e.tag){case 1:return vi(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ku(),Sn(gi),Sn(Gr),a2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return o2(e),null;case 13:if(Sn(Ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));$u()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Ln),null;case 4:return Ku(),null;case 10:return n2(e.type._context),null;case 22:case 23:return y2(),null;case 24:return null;default:return null}}var Jf=!1,Wr=!1,qT=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bn(t,e,r)}else n.current=null}function j0(t,e,n){try{n()}catch(r){Bn(t,e,r)}}var c5=!1;function HT(t,e){if(b0=Qd,t=o4(),Y1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,m=t,v=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)v=m,m=p;for(;;){if(m===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++f===r&&(l=o),(p=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(S0={focusedElem:t,selectionRange:n},Qd=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,R=A.memoizedState,b=e.stateNode,N=b.getSnapshotBeforeUpdate(e.elementType===e.type?I:gs(e.type,I),R);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(F){Bn(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return A=c5,c5=!1,A}function hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&j0(e,n,s)}i=i.next}while(i!==r)}}function Kp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function V0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function n3(t){var e=t.alternate;e!==null&&(t.alternate=null,n3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ks],delete e[Dh],delete e[x0],delete e[IT],delete e[TT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r3(t){return t.tag===5||t.tag===3||t.tag===4}function h5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function U0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jd));else if(r!==4&&(t=t.child,t!==null))for(U0(t,e,n),t=t.sibling;t!==null;)U0(t,e,n),t=t.sibling}function B0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(B0(t,e,n),t=t.sibling;t!==null;)B0(t,e,n),t=t.sibling}var xr=null,vs=!1;function fa(t,e,n){for(n=n.child;n!==null;)i3(t,e,n),n=n.sibling}function i3(t,e,n){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(Up,n)}catch{}switch(n.tag){case 5:Wr||Eu(n,e);case 6:var r=xr,i=vs;xr=null,fa(t,e,n),xr=r,vs=i,xr!==null&&(vs?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(vs?(t=xr,n=n.stateNode,t.nodeType===8?ig(t.parentNode,n):t.nodeType===1&&ig(t,n),kh(t)):ig(xr,n.stateNode));break;case 4:r=xr,i=vs,xr=n.stateNode.containerInfo,vs=!0,fa(t,e,n),xr=r,vs=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&j0(n,e,o),i=i.next}while(i!==r)}fa(t,e,n);break;case 1:if(!Wr&&(Eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Bn(n,e,a)}fa(t,e,n);break;case 21:fa(t,e,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,fa(t,e,n),Wr=r):fa(t,e,n);break;default:fa(t,e,n)}}function f5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qT),e.forEach(function(r){var i=ZT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xr=a.stateNode,vs=!1;break e;case 3:xr=a.stateNode.containerInfo,vs=!0;break e;case 4:xr=a.stateNode.containerInfo,vs=!0;break e}a=a.return}if(xr===null)throw Error(De(160));i3(s,o,i),xr=null,vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Bn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s3(e,t),e=e.sibling}function s3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ps(e,t),Hs(t),r&4){try{hh(3,t,t.return),Kp(3,t)}catch(I){Bn(t,t.return,I)}try{hh(5,t,t.return)}catch(I){Bn(t,t.return,I)}}break;case 1:ps(e,t),Hs(t),r&512&&n!==null&&Eu(n,n.return);break;case 5:if(ps(e,t),Hs(t),r&512&&n!==null&&Eu(n,n.return),t.flags&32){var i=t.stateNode;try{xh(i,"")}catch(I){Bn(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Tb(i,s),h0(a,o);var u=h0(a,s);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?Lb(i,m):f==="dangerouslySetInnerHTML"?Pb(i,m):f==="children"?xh(i,m):M1(i,f,m,u)}switch(a){case"input":o0(i,s);break;case"textarea":Nb(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ku(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?ku(i,!!s.multiple,s.defaultValue,!0):ku(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dh]=s}catch(I){Bn(t,t.return,I)}}break;case 6:if(ps(e,t),Hs(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Bn(t,t.return,I)}}break;case 3:if(ps(e,t),Hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kh(e.containerInfo)}catch(I){Bn(t,t.return,I)}break;case 4:ps(e,t),Hs(t);break;case 13:ps(e,t),Hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(g2=Qn())),r&4&&f5(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wr=(u=Wr)||f,ps(e,t),Wr=u):ps(e,t),Hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ze=t,f=t.child;f!==null;){for(m=ze=f;ze!==null;){switch(v=ze,p=v.child,v.tag){case 0:case 11:case 14:case 15:hh(4,v,v.return);break;case 1:Eu(v,v.return);var A=v.stateNode;if(typeof A.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(I){Bn(r,n,I)}}break;case 5:Eu(v,v.return);break;case 22:if(v.memoizedState!==null){p5(m);continue}}p!==null?(p.return=v,ze=p):p5(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cb("display",o))}catch(I){Bn(t,t.return,I)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(I){Bn(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ps(e,t),Hs(t),r&4&&f5(t);break;case 21:break;default:ps(e,t),Hs(t)}}function Hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r3(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xh(i,""),r.flags&=-33);var s=h5(t);B0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h5(t);U0(t,a,o);break;default:throw Error(De(161))}}catch(l){Bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WT(t,e,n){ze=t,o3(t)}function o3(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=Jf;var u=Wr;if(Jf=o,(Wr=l)&&!u)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?m5(i):l!==null?(l.return=o,ze=l):m5(i);for(;s!==null;)ze=s,o3(s),s=s.sibling;ze=i,Jf=a,Wr=u}d5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):d5(t)}}function d5(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||Kp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&kh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Wr||e.flags&512&&V0(e)}catch(v){Bn(e,e.return,v)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function p5(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function m5(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kp(4,e)}catch(l){Bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Bn(e,i,l)}}var s=e.return;try{V0(e)}catch(l){Bn(e,s,l)}break;case 5:var o=e.return;try{V0(e)}catch(l){Bn(e,o,l)}}}catch(l){Bn(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var $T=Math.ceil,up=Bo.ReactCurrentDispatcher,p2=Bo.ReactCurrentOwner,ts=Bo.ReactCurrentBatchConfig,$t=0,_r=null,nr=null,Nr=0,Oi=0,xu=Ya(0),ur=0,Uh=null,Ol=0,Qp=0,m2=0,fh=null,di=null,g2=0,Yu=1/0,wo=null,cp=!1,z0=null,Da=null,Zf=!1,xa=null,hp=0,dh=0,q0=null,Id=-1,Td=0;function ri(){return $t&6?Qn():Id!==-1?Id:Id=Qn()}function Oa(t){return t.mode&1?$t&2&&Nr!==0?Nr&-Nr:kT.transition!==null?(Td===0&&(Td=Hb()),Td):(t=an,t!==0||(t=window.event,t=t===void 0?16:Xb(t.type)),t):1}function ws(t,e,n,r){if(50<dh)throw dh=0,q0=null,Error(De(185));ef(t,n,r),(!($t&2)||t!==_r)&&(t===_r&&(!($t&2)&&(Qp|=n),ur===4&&_a(t,Nr)),yi(t,r),n===1&&$t===0&&!(e.mode&1)&&(Yu=Qn()+500,Wp&&Xa()))}function yi(t,e){var n=t.callbackNode;kI(t,e);var r=Kd(t,t===_r?Nr:0);if(r===0)n!==null&&Ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ey(n),e===1)t.tag===0?NT(g5.bind(null,t)):g4(g5.bind(null,t)),ET(function(){!($t&6)&&Xa()}),n=null;else{switch(Wb(r)){case 1:n=z1;break;case 4:n=zb;break;case 16:n=Gd;break;case 536870912:n=qb;break;default:n=Gd}n=p3(n,a3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function a3(t,e){if(Id=-1,Td=0,$t&6)throw Error(De(327));var n=t.callbackNode;if(Du()&&t.callbackNode!==n)return null;var r=Kd(t,t===_r?Nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fp(t,r);else{e=r;var i=$t;$t|=2;var s=u3();(_r!==t||Nr!==e)&&(wo=null,Yu=Qn()+500,Nl(t,e));do try{QT();break}catch(a){l3(t,a)}while(!0);t2(),up.current=s,$t=i,nr!==null?e=0:(_r=null,Nr=0,e=ur)}if(e!==0){if(e===2&&(i=g0(t),i!==0&&(r=i,e=H0(t,i))),e===1)throw n=Uh,Nl(t,0),_a(t,r),yi(t,Qn()),n;if(e===6)_a(t,r);else{if(i=t.current.alternate,!(r&30)&&!GT(i)&&(e=fp(t,r),e===2&&(s=g0(t),s!==0&&(r=s,e=H0(t,s))),e===1))throw n=Uh,Nl(t,0),_a(t,r),yi(t,Qn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:wl(t,di,wo);break;case 3:if(_a(t,r),(r&130023424)===r&&(e=g2+500-Qn(),10<e)){if(Kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ri(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E0(wl.bind(null,t,di,wo),e);break}wl(t,di,wo);break;case 4:if(_a(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_s(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$T(r/1960))-r,10<r){t.timeoutHandle=E0(wl.bind(null,t,di,wo),r);break}wl(t,di,wo);break;case 5:wl(t,di,wo);break;default:throw Error(De(329))}}}return yi(t,Qn()),t.callbackNode===n?a3.bind(null,t):null}function H0(t,e){var n=fh;return t.current.memoizedState.isDehydrated&&(Nl(t,e).flags|=256),t=fp(t,e),t!==2&&(e=di,di=n,e!==null&&W0(e)),t}function W0(t){di===null?di=t:di.push.apply(di,t)}function GT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ss(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e){for(e&=~m2,e&=~Qp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_s(e),r=1<<n;t[n]=-1,e&=~r}}function g5(t){if($t&6)throw Error(De(327));Du();var e=Kd(t,0);if(!(e&1))return yi(t,Qn()),null;var n=fp(t,e);if(t.tag!==0&&n===2){var r=g0(t);r!==0&&(e=r,n=H0(t,r))}if(n===1)throw n=Uh,Nl(t,0),_a(t,e),yi(t,Qn()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wl(t,di,wo),yi(t,Qn()),null}function v2(t,e){var n=$t;$t|=1;try{return t(e)}finally{$t=n,$t===0&&(Yu=Qn()+500,Wp&&Xa())}}function Fl(t){xa!==null&&xa.tag===0&&!($t&6)&&Du();var e=$t;$t|=1;var n=ts.transition,r=an;try{if(ts.transition=null,an=1,t)return t()}finally{an=r,ts.transition=n,$t=e,!($t&6)&&Xa()}}function y2(){Oi=xu.current,Sn(xu)}function Nl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AT(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(J1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:Ku(),Sn(gi),Sn(Gr),a2();break;case 5:o2(r);break;case 4:Ku();break;case 13:Sn(Ln);break;case 19:Sn(Ln);break;case 10:n2(r.type._context);break;case 22:case 23:y2()}n=n.return}if(_r=t,nr=t=Fa(t.current,null),Nr=Oi=e,ur=0,Uh=null,m2=Qp=Ol=0,di=fh=null,xl!==null){for(e=0;e<xl.length;e++)if(n=xl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xl=null}return t}function l3(t,e){do{var n=nr;try{if(t2(),Ad.current=lp,ap){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ap=!1}if(Dl=0,gr=lr=Rn=null,ch=!1,Mh=0,p2.current=null,n===null||n.return===null){ur=1,Uh=e,nr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=r5(o);if(p!==null){p.flags&=-257,i5(p,o,a,s,e),p.mode&1&&n5(s,u,e),e=p,l=u;var A=e.updateQueue;if(A===null){var I=new Set;I.add(l),e.updateQueue=I}else A.add(l);break e}else{if(!(e&1)){n5(s,u,e),_2();break e}l=Error(De(426))}}else if(Tn&&a.mode&1){var R=r5(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),i5(R,o,a,s,e),Z1(Qu(l,a));break e}}s=l=Qu(l,a),ur!==4&&(ur=2),fh===null?fh=[s]:fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=W4(s,l,e);Yy(s,b);break e;case 1:a=l;var N=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof N.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Da===null||!Da.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=$4(s,a,e);Yy(s,F);break e}}s=s.return}while(s!==null)}h3(n)}catch(Y){e=Y,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function u3(){var t=up.current;return up.current=lp,t===null?lp:t}function _2(){(ur===0||ur===3||ur===2)&&(ur=4),_r===null||!(Ol&268435455)&&!(Qp&268435455)||_a(_r,Nr)}function fp(t,e){var n=$t;$t|=2;var r=u3();(_r!==t||Nr!==e)&&(wo=null,Nl(t,e));do try{KT();break}catch(i){l3(t,i)}while(!0);if(t2(),$t=n,up.current=r,nr!==null)throw Error(De(261));return _r=null,Nr=0,ur}function KT(){for(;nr!==null;)c3(nr)}function QT(){for(;nr!==null&&!wI();)c3(nr)}function c3(t){var e=d3(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,e===null?h3(t):nr=e,p2.current=null}function h3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zT(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,nr=null;return}}else if(n=BT(n,e,Oi),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);ur===0&&(ur=5)}function wl(t,e,n){var r=an,i=ts.transition;try{ts.transition=null,an=1,YT(t,e,n,r)}finally{ts.transition=i,an=r}return null}function YT(t,e,n,r){do Du();while(xa!==null);if($t&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PI(t,s),t===_r&&(nr=_r=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zf||(Zf=!0,p3(Gd,function(){return Du(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ts.transition,ts.transition=null;var o=an;an=1;var a=$t;$t|=4,p2.current=null,HT(t,n),s3(n,t),gT(S0),Qd=!!b0,S0=b0=null,t.current=n,WT(n),bI(),$t=a,an=o,ts.transition=s}else t.current=n;if(Zf&&(Zf=!1,xa=t,hp=i),s=t.pendingLanes,s===0&&(Da=null),EI(n.stateNode),yi(t,Qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cp)throw cp=!1,t=z0,z0=null,t;return hp&1&&t.tag!==0&&Du(),s=t.pendingLanes,s&1?t===q0?dh++:(dh=0,q0=t):dh=0,Xa(),null}function Du(){if(xa!==null){var t=Wb(hp),e=ts.transition,n=an;try{if(ts.transition=null,an=16>t?16:t,xa===null)var r=!1;else{if(t=xa,xa=null,hp=0,$t&6)throw Error(De(331));var i=$t;for($t|=4,ze=t.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var f=ze;switch(f.tag){case 0:case 11:case 15:hh(8,f,s)}var m=f.child;if(m!==null)m.return=f,ze=m;else for(;ze!==null;){f=ze;var v=f.sibling,p=f.return;if(n3(f),f===u){ze=null;break}if(v!==null){v.return=p,ze=v;break}ze=p}}}var A=s.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ze=b;break e}ze=s.return}}var N=t.current;for(ze=N;ze!==null;){o=ze;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,ze=P;else e:for(o=N;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kp(9,a)}}catch(Y){Bn(a,a.return,Y)}if(a===o){ze=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,ze=F;break e}ze=a.return}}if($t=i,Xa(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(Up,t)}catch{}r=!0}return r}finally{an=n,ts.transition=e}}return!1}function v5(t,e,n){e=Qu(n,e),e=W4(t,e,1),t=Ra(t,e,1),e=ri(),t!==null&&(ef(t,1,e),yi(t,e))}function Bn(t,e,n){if(t.tag===3)v5(t,t,n);else for(;e!==null;){if(e.tag===3){v5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Da===null||!Da.has(r))){t=Qu(n,t),t=$4(e,t,1),e=Ra(e,t,1),t=ri(),e!==null&&(ef(e,1,t),yi(e,t));break}}e=e.return}}function XT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ri(),t.pingedLanes|=t.suspendedLanes&n,_r===t&&(Nr&n)===n&&(ur===4||ur===3&&(Nr&130023424)===Nr&&500>Qn()-g2?Nl(t,0):m2|=n),yi(t,e)}function f3(t,e){e===0&&(t.mode&1?(e=qf,qf<<=1,!(qf&130023424)&&(qf=4194304)):e=1);var n=ri();t=Do(t,e),t!==null&&(ef(t,e,n),yi(t,n))}function JT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),f3(t,n)}function ZT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),f3(t,n)}var d3;d3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)mi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mi=!1,UT(t,e,n);mi=!!(t.flags&131072)}else mi=!1,Tn&&e.flags&1048576&&v4(e,np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xd(t,e),t=e.pendingProps;var i=Wu(e,Gr.current);Ru(e,n),i=u2(null,e,r,t,i,n);var s=c2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(s=!0,ep(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i2(e),i.updater=Gp,e.stateNode=i,i._reactInternals=e,C0(e,r,t,n),e=D0(null,e,r,!0,s,n)):(e.tag=0,Tn&&s&&X1(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=t6(r),t=gs(r,t),i){case 0:e=R0(null,e,r,t,n);break e;case 1:e=a5(null,e,r,t,n);break e;case 11:e=s5(null,e,r,t,n);break e;case 14:e=o5(null,e,r,gs(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),R0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),a5(t,e,r,i,n);case 3:e:{if(Y4(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,A4(t,e),sp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qu(Error(De(423)),e),e=l5(t,e,r,n,i);break e}else if(r!==i){i=Qu(Error(De(424)),e),e=l5(t,e,r,n,i);break e}else for(Fi=La(e.stateNode.containerInfo.firstChild),Vi=e,Tn=!0,ys=null,n=b4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($u(),r===i){e=Oo(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return E4(e),t===null&&N0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,A0(r,i)?o=null:s!==null&&A0(r,s)&&(e.flags|=32),Q4(t,e),ti(t,e,o,n),e.child;case 6:return t===null&&N0(e),null;case 13:return X4(t,e,n);case 4:return s2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gu(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),s5(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gn(rp,r._currentValue),r._currentValue=o,s!==null)if(Ss(s.value,o)){if(s.children===i.children&&!gi.current){e=Oo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Po(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),k0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),k0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ru(e,n),i=ns(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=gs(r,e.pendingProps),i=gs(r.type,i),o5(t,e,r,i,n);case 15:return G4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),xd(t,e),e.tag=1,vi(r)?(t=!0,ep(e)):t=!1,Ru(e,n),H4(e,r,i),C0(e,r,i,n),D0(null,e,r,!0,t,n);case 19:return J4(t,e,n);case 22:return K4(t,e,n)}throw Error(De(156,e.tag))};function p3(t,e){return Bb(t,e)}function e6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(t,e,n,r){return new e6(t,e,n,r)}function w2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t6(t){if(typeof t=="function")return w2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===V1)return 11;if(t===U1)return 14}return 2}function Fa(t,e){var n=t.alternate;return n===null?(n=es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")w2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mu:return kl(n.children,i,s,e);case j1:o=8,i|=8;break;case t0:return t=es(12,n,e,i|2),t.elementType=t0,t.lanes=s,t;case n0:return t=es(13,n,e,i),t.elementType=n0,t.lanes=s,t;case r0:return t=es(19,n,e,i),t.elementType=r0,t.lanes=s,t;case Eb:return Yp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sb:o=10;break e;case Ab:o=9;break e;case V1:o=11;break e;case U1:o=14;break e;case ga:o=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=es(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function kl(t,e,n,r){return t=es(7,t,r,e),t.lanes=n,t}function Yp(t,e,n,r){return t=es(22,t,r,e),t.elementType=Eb,t.lanes=n,t.stateNode={isHidden:!1},t}function fg(t,e,n){return t=es(6,t,null,e),t.lanes=n,t}function dg(t,e,n){return e=es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b2(t,e,n,r,i,s,o,a,l){return t=new n6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=es(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i2(s),t}function r6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function m3(t){if(!t)return qa;t=t._reactInternals;e:{if(Gl(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(vi(n))return m4(t,n,e)}return e}function g3(t,e,n,r,i,s,o,a,l){return t=b2(n,r,!0,t,i,s,o,a,l),t.context=m3(null),n=t.current,r=ri(),i=Oa(n),s=Po(r,i),s.callback=e??null,Ra(n,s,i),t.current.lanes=i,ef(t,i,r),yi(t,r),t}function Xp(t,e,n,r){var i=e.current,s=ri(),o=Oa(i);return n=m3(n),e.context===null?e.context=n:e.pendingContext=n,e=Po(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ra(i,e,o),t!==null&&(ws(t,i,o,s),Sd(t,i,o)),o}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function y5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S2(t,e){y5(t,e),(t=t.alternate)&&y5(t,e)}function i6(){return null}var v3=typeof reportError=="function"?reportError:function(t){console.error(t)};function A2(t){this._internalRoot=t}Jp.prototype.render=A2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));Xp(t,e,null,null)};Jp.prototype.unmount=A2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fl(function(){Xp(null,t,null,null)}),e[Ro]=null}};function Jp(t){this._internalRoot=t}Jp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ya.length&&e!==0&&e<ya[n].priority;n++);ya.splice(n,0,t),n===0&&Yb(t)}};function E2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _5(){}function s6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=dp(o);s.call(u)}}var o=g3(e,r,t,0,null,!1,!1,"",_5);return t._reactRootContainer=o,t[Ro]=o.current,Lh(t.nodeType===8?t.parentNode:t),Fl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=dp(l);a.call(u)}}var l=b2(t,0,!1,null,null,!1,!1,"",_5);return t._reactRootContainer=l,t[Ro]=l.current,Lh(t.nodeType===8?t.parentNode:t),Fl(function(){Xp(e,l,n,r)}),l}function em(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=dp(o);a.call(l)}}Xp(e,o,t,i)}else o=s6(n,e,t,i,r);return dp(o)}$b=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jc(e.pendingLanes);n!==0&&(q1(e,n|1),yi(e,Qn()),!($t&6)&&(Yu=Qn()+500,Xa()))}break;case 13:Fl(function(){var r=Do(t,1);if(r!==null){var i=ri();ws(r,t,1,i)}}),S2(t,1)}};H1=function(t){if(t.tag===13){var e=Do(t,134217728);if(e!==null){var n=ri();ws(e,t,134217728,n)}S2(t,134217728)}};Gb=function(t){if(t.tag===13){var e=Oa(t),n=Do(t,e);if(n!==null){var r=ri();ws(n,t,e,r)}S2(t,e)}};Kb=function(){return an};Qb=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};d0=function(t,e,n){switch(e){case"input":if(o0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hp(r);if(!i)throw Error(De(90));Ib(r),o0(r,i)}}}break;case"textarea":Nb(t,n);break;case"select":e=n.value,e!=null&&ku(t,!!n.multiple,e,!1)}};Ob=v2;Fb=Fl;var o6={usingClientEntryPoint:!1,Events:[nf,_u,Hp,Rb,Db,v2]},Hc={findFiberByHostInstance:El,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a6={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vb(t),t===null?null:t.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||i6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{Up=ed.inject(a6),Ys=ed}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o6;zi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E2(e))throw Error(De(200));return r6(t,e,null,n)};zi.createRoot=function(t,e){if(!E2(t))throw Error(De(299));var n=!1,r="",i=v3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=b2(t,1,!1,null,null,n,!1,r,i),t[Ro]=e.current,Lh(t.nodeType===8?t.parentNode:t),new A2(e)};zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=Vb(e),t=t===null?null:t.stateNode,t};zi.flushSync=function(t){return Fl(t)};zi.hydrate=function(t,e,n){if(!Zp(e))throw Error(De(200));return em(null,t,e,!0,n)};zi.hydrateRoot=function(t,e,n){if(!E2(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=v3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=g3(e,null,t,1,n??null,i,!1,s,o),t[Ro]=e.current,Lh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jp(e)};zi.render=function(t,e,n){if(!Zp(e))throw Error(De(200));return em(null,t,e,!1,n)};zi.unmountComponentAtNode=function(t){if(!Zp(t))throw Error(De(40));return t._reactRootContainer?(Fl(function(){em(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};zi.unstable_batchedUpdates=v2;zi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zp(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return em(t,e,n,!1,r)};zi.version="18.3.1-next-f1338f8080-20240426";function y3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y3)}catch(t){console.error(t)}}y3(),yb.exports=zi;var l6=yb.exports,w5=l6;Zg.createRoot=w5.createRoot,Zg.hydrateRoot=w5.hydrateRoot;var b5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},w3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(v=64)),r.push(n[f],n[m],n[v],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new c6;const v=s<<2|a>>4;if(r.push(v),u!==64){const p=a<<4&240|u>>2;if(r.push(p),m!==64){const A=u<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h6=function(t){const e=_3(t);return w3.encodeByteArray(e,!0)},pp=function(t){return h6(t).replace(/\./g,"")},b3=function(t){try{return w3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=()=>f6().__FIREBASE_DEFAULTS__,p6=()=>{if(typeof process>"u"||typeof b5>"u")return;const t=b5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b3(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return d6()||p6()||m6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S3=t=>{var e,n;return(n=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g6=t=>{const e=S3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},A3=()=>{var t;return(t=tm())===null||t===void 0?void 0:t.config},E3=t=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pp(JSON.stringify(n)),pp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function w6(){var t;const e=(t=tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E6(){const t=Kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x6(){return!w6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I6(){try{return typeof indexedDB=="object"}catch{return!1}}function T6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="FirebaseError";class zo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N6,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?k6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zo(i,a,r)}}function k6(t,e){return t.replace(P6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P6=/\{\$([^}]+)}/g;function C6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(S5(s)&&S5(o)){if(!mp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function L6(t,e){const n=new R6(t,e);return n.subscribe.bind(n)}class R6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pg),i.error===void 0&&(i.error=pg),i.complete===void 0&&(i.complete=pg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){return t&&t._delegate?t._delegate:t}class Ml{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M6(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F6(t){return t===bl?void 0:t}function M6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const V6={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},U6=Ut.INFO,B6={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},z6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=B6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x2{constructor(e){this.name=e,this._logLevel=U6,this._logHandler=z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const q6=(t,e)=>e.some(n=>t instanceof n);let A5,E5;function H6(){return A5||(A5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W6(){return E5||(E5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x3=new WeakMap,$0=new WeakMap,I3=new WeakMap,mg=new WeakMap,I2=new WeakMap;function $6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ma(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x3.set(n,t)}).catch(()=>{}),I2.set(e,t),e}function G6(t){if($0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$0.set(t,e)}let G0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||I3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K6(t){G0=t(G0)}function Q6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gg(this),e,...n);return I3.set(r,e.sort?e.sort():[e]),Ma(r)}:W6().includes(t)?function(...e){return t.apply(gg(this),e),Ma(x3.get(this))}:function(...e){return Ma(t.apply(gg(this),e))}}function Y6(t){return typeof t=="function"?Q6(t):(t instanceof IDBTransaction&&G6(t),q6(t,H6())?new Proxy(t,G0):t)}function Ma(t){if(t instanceof IDBRequest)return $6(t);if(mg.has(t))return mg.get(t);const e=Y6(t);return e!==t&&(mg.set(t,e),I2.set(e,t)),e}const gg=t=>I2.get(t);function X6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ma(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ma(o.result),l.oldVersion,l.newVersion,Ma(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const J6=["get","getKey","getAll","getAllKeys","count"],Z6=["put","add","delete","clear"],vg=new Map;function x5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vg.set(e,s),s}K6(t=>({...t,get:(e,n,r)=>x5(e,n)||t.get(e,n,r),has:(e,n)=>!!x5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K0="@firebase/app",I5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new x2("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",iN="@firebase/analytics",sN="@firebase/app-check-compat",oN="@firebase/app-check",aN="@firebase/auth",lN="@firebase/auth-compat",uN="@firebase/database",cN="@firebase/data-connect",hN="@firebase/database-compat",fN="@firebase/functions",dN="@firebase/functions-compat",pN="@firebase/installations",mN="@firebase/installations-compat",gN="@firebase/messaging",vN="@firebase/messaging-compat",yN="@firebase/performance",_N="@firebase/performance-compat",wN="@firebase/remote-config",bN="@firebase/remote-config-compat",SN="@firebase/storage",AN="@firebase/storage-compat",EN="@firebase/firestore",xN="@firebase/vertexai-preview",IN="@firebase/firestore-compat",TN="firebase",NN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="[DEFAULT]",kN={[K0]:"fire-core",[nN]:"fire-core-compat",[iN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[sN]:"fire-app-check-compat",[aN]:"fire-auth",[lN]:"fire-auth-compat",[uN]:"fire-rtdb",[cN]:"fire-data-connect",[hN]:"fire-rtdb-compat",[fN]:"fire-fn",[dN]:"fire-fn-compat",[pN]:"fire-iid",[mN]:"fire-iid-compat",[gN]:"fire-fcm",[vN]:"fire-fcm-compat",[yN]:"fire-perf",[_N]:"fire-perf-compat",[wN]:"fire-rc",[bN]:"fire-rc-compat",[SN]:"fire-gcs",[AN]:"fire-gcs-compat",[EN]:"fire-fst",[IN]:"fire-fst-compat",[xN]:"fire-vertex","fire-js":"fire-js",[TN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Map,PN=new Map,Y0=new Map;function T5(t,e){try{t.container.addComponent(e)}catch(n){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(Y0.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;Y0.set(e,t);for(const n of gp.values())T5(n,t);for(const n of PN.values())T5(n,t);return!0}function T2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new sf("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=NN;function T3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Q0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ja.create("bad-app-name",{appName:String(i)});if(n||(n=A3()),!n)throw ja.create("no-options");const s=gp.get(i);if(s){if(mp(n,s.options)&&mp(r,s.config))return s;throw ja.create("duplicate-app",{appName:i})}const o=new j6(i);for(const l of Y0.values())o.addComponent(l);const a=new LN(n,r,o);return gp.set(i,a),a}function N3(t=Q0){const e=gp.get(t);if(!e&&t===Q0&&A3())return T3();if(!e)throw ja.create("no-app",{appName:t});return e}function Va(t,e,n){var r;let i=(r=kN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fo.warn(a.join(" "));return}Xu(new Ml(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firebase-heartbeat-database",DN=1,Bh="firebase-heartbeat-store";let yg=null;function k3(){return yg||(yg=X6(RN,DN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ja.create("idb-open",{originalErrorMessage:t.message})})),yg}async function ON(t){try{const n=(await k3()).transaction(Bh),r=await n.objectStore(Bh).get(P3(t));return await n.done,r}catch(e){if(e instanceof zo)Fo.warn(e.message);else{const n=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fo.warn(n.message)}}}async function N5(t,e){try{const r=(await k3()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,P3(t)),await r.done}catch(n){if(n instanceof zo)Fo.warn(n.message);else{const r=ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fo.warn(r.message)}}}function P3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=1024,MN=30*24*60*60*1e3;class jN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=MN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k5(),{heartbeatsToSend:r,unsentEntries:i}=VN(this._heartbeatsCache.heartbeats),s=pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fo.warn(n),""}}}function k5(){return new Date().toISOString().substring(0,10)}function VN(t,e=FN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I6()?T6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ON(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P5(t){return pp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){Xu(new Ml("platform-logger",e=>new eN(e),"PRIVATE")),Xu(new Ml("heartbeat",e=>new jN(e),"PRIVATE")),Va(K0,I5,t),Va(K0,I5,"esm2017"),Va("fire-js","")}BN("");var C5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pl,C3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,E){function x(){}x.prototype=E.prototype,V.D=E.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(L,w,k){for(var C=Array(arguments.length-2),J=2;J<arguments.length;J++)C[J-2]=arguments[J];return E.prototype[w].apply(L,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,E,x){x||(x=0);var L=Array(16);if(typeof E=="string")for(var w=0;16>w;++w)L[w]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(w=0;16>w;++w)L[w]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=V.g[0],x=V.g[1],w=V.g[2];var k=V.g[3],C=E+(k^x&(w^k))+L[0]+3614090360&4294967295;E=x+(C<<7&4294967295|C>>>25),C=k+(w^E&(x^w))+L[1]+3905402710&4294967295,k=E+(C<<12&4294967295|C>>>20),C=w+(x^k&(E^x))+L[2]+606105819&4294967295,w=k+(C<<17&4294967295|C>>>15),C=x+(E^w&(k^E))+L[3]+3250441966&4294967295,x=w+(C<<22&4294967295|C>>>10),C=E+(k^x&(w^k))+L[4]+4118548399&4294967295,E=x+(C<<7&4294967295|C>>>25),C=k+(w^E&(x^w))+L[5]+1200080426&4294967295,k=E+(C<<12&4294967295|C>>>20),C=w+(x^k&(E^x))+L[6]+2821735955&4294967295,w=k+(C<<17&4294967295|C>>>15),C=x+(E^w&(k^E))+L[7]+4249261313&4294967295,x=w+(C<<22&4294967295|C>>>10),C=E+(k^x&(w^k))+L[8]+1770035416&4294967295,E=x+(C<<7&4294967295|C>>>25),C=k+(w^E&(x^w))+L[9]+2336552879&4294967295,k=E+(C<<12&4294967295|C>>>20),C=w+(x^k&(E^x))+L[10]+4294925233&4294967295,w=k+(C<<17&4294967295|C>>>15),C=x+(E^w&(k^E))+L[11]+2304563134&4294967295,x=w+(C<<22&4294967295|C>>>10),C=E+(k^x&(w^k))+L[12]+1804603682&4294967295,E=x+(C<<7&4294967295|C>>>25),C=k+(w^E&(x^w))+L[13]+4254626195&4294967295,k=E+(C<<12&4294967295|C>>>20),C=w+(x^k&(E^x))+L[14]+2792965006&4294967295,w=k+(C<<17&4294967295|C>>>15),C=x+(E^w&(k^E))+L[15]+1236535329&4294967295,x=w+(C<<22&4294967295|C>>>10),C=E+(w^k&(x^w))+L[1]+4129170786&4294967295,E=x+(C<<5&4294967295|C>>>27),C=k+(x^w&(E^x))+L[6]+3225465664&4294967295,k=E+(C<<9&4294967295|C>>>23),C=w+(E^x&(k^E))+L[11]+643717713&4294967295,w=k+(C<<14&4294967295|C>>>18),C=x+(k^E&(w^k))+L[0]+3921069994&4294967295,x=w+(C<<20&4294967295|C>>>12),C=E+(w^k&(x^w))+L[5]+3593408605&4294967295,E=x+(C<<5&4294967295|C>>>27),C=k+(x^w&(E^x))+L[10]+38016083&4294967295,k=E+(C<<9&4294967295|C>>>23),C=w+(E^x&(k^E))+L[15]+3634488961&4294967295,w=k+(C<<14&4294967295|C>>>18),C=x+(k^E&(w^k))+L[4]+3889429448&4294967295,x=w+(C<<20&4294967295|C>>>12),C=E+(w^k&(x^w))+L[9]+568446438&4294967295,E=x+(C<<5&4294967295|C>>>27),C=k+(x^w&(E^x))+L[14]+3275163606&4294967295,k=E+(C<<9&4294967295|C>>>23),C=w+(E^x&(k^E))+L[3]+4107603335&4294967295,w=k+(C<<14&4294967295|C>>>18),C=x+(k^E&(w^k))+L[8]+1163531501&4294967295,x=w+(C<<20&4294967295|C>>>12),C=E+(w^k&(x^w))+L[13]+2850285829&4294967295,E=x+(C<<5&4294967295|C>>>27),C=k+(x^w&(E^x))+L[2]+4243563512&4294967295,k=E+(C<<9&4294967295|C>>>23),C=w+(E^x&(k^E))+L[7]+1735328473&4294967295,w=k+(C<<14&4294967295|C>>>18),C=x+(k^E&(w^k))+L[12]+2368359562&4294967295,x=w+(C<<20&4294967295|C>>>12),C=E+(x^w^k)+L[5]+4294588738&4294967295,E=x+(C<<4&4294967295|C>>>28),C=k+(E^x^w)+L[8]+2272392833&4294967295,k=E+(C<<11&4294967295|C>>>21),C=w+(k^E^x)+L[11]+1839030562&4294967295,w=k+(C<<16&4294967295|C>>>16),C=x+(w^k^E)+L[14]+4259657740&4294967295,x=w+(C<<23&4294967295|C>>>9),C=E+(x^w^k)+L[1]+2763975236&4294967295,E=x+(C<<4&4294967295|C>>>28),C=k+(E^x^w)+L[4]+1272893353&4294967295,k=E+(C<<11&4294967295|C>>>21),C=w+(k^E^x)+L[7]+4139469664&4294967295,w=k+(C<<16&4294967295|C>>>16),C=x+(w^k^E)+L[10]+3200236656&4294967295,x=w+(C<<23&4294967295|C>>>9),C=E+(x^w^k)+L[13]+681279174&4294967295,E=x+(C<<4&4294967295|C>>>28),C=k+(E^x^w)+L[0]+3936430074&4294967295,k=E+(C<<11&4294967295|C>>>21),C=w+(k^E^x)+L[3]+3572445317&4294967295,w=k+(C<<16&4294967295|C>>>16),C=x+(w^k^E)+L[6]+76029189&4294967295,x=w+(C<<23&4294967295|C>>>9),C=E+(x^w^k)+L[9]+3654602809&4294967295,E=x+(C<<4&4294967295|C>>>28),C=k+(E^x^w)+L[12]+3873151461&4294967295,k=E+(C<<11&4294967295|C>>>21),C=w+(k^E^x)+L[15]+530742520&4294967295,w=k+(C<<16&4294967295|C>>>16),C=x+(w^k^E)+L[2]+3299628645&4294967295,x=w+(C<<23&4294967295|C>>>9),C=E+(w^(x|~k))+L[0]+4096336452&4294967295,E=x+(C<<6&4294967295|C>>>26),C=k+(x^(E|~w))+L[7]+1126891415&4294967295,k=E+(C<<10&4294967295|C>>>22),C=w+(E^(k|~x))+L[14]+2878612391&4294967295,w=k+(C<<15&4294967295|C>>>17),C=x+(k^(w|~E))+L[5]+4237533241&4294967295,x=w+(C<<21&4294967295|C>>>11),C=E+(w^(x|~k))+L[12]+1700485571&4294967295,E=x+(C<<6&4294967295|C>>>26),C=k+(x^(E|~w))+L[3]+2399980690&4294967295,k=E+(C<<10&4294967295|C>>>22),C=w+(E^(k|~x))+L[10]+4293915773&4294967295,w=k+(C<<15&4294967295|C>>>17),C=x+(k^(w|~E))+L[1]+2240044497&4294967295,x=w+(C<<21&4294967295|C>>>11),C=E+(w^(x|~k))+L[8]+1873313359&4294967295,E=x+(C<<6&4294967295|C>>>26),C=k+(x^(E|~w))+L[15]+4264355552&4294967295,k=E+(C<<10&4294967295|C>>>22),C=w+(E^(k|~x))+L[6]+2734768916&4294967295,w=k+(C<<15&4294967295|C>>>17),C=x+(k^(w|~E))+L[13]+1309151649&4294967295,x=w+(C<<21&4294967295|C>>>11),C=E+(w^(x|~k))+L[4]+4149444226&4294967295,E=x+(C<<6&4294967295|C>>>26),C=k+(x^(E|~w))+L[11]+3174756917&4294967295,k=E+(C<<10&4294967295|C>>>22),C=w+(E^(k|~x))+L[2]+718787259&4294967295,w=k+(C<<15&4294967295|C>>>17),C=x+(k^(w|~E))+L[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(w+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+w&4294967295,V.g[3]=V.g[3]+k&4294967295}r.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var x=E-this.blockSize,L=this.B,w=this.h,k=0;k<E;){if(w==0)for(;k<=x;)i(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<E;)if(L[w++]=V.charCodeAt(k++),w==this.blockSize){i(this,L),w=0;break}}else for(;k<E;)if(L[w++]=V[k++],w==this.blockSize){i(this,L),w=0;break}}this.h=w,this.o+=E},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var x=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=x&255,x/=256;for(this.u(V),V=Array(16),E=x=0;4>E;++E)for(var L=0;32>L;L+=8)V[x++]=this.g[E]>>>L&255;return V};function s(V,E){var x=a;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=E(V)}function o(V,E){this.h=E;for(var x=[],L=!0,w=V.length-1;0<=w;w--){var k=V[w]|0;L&&k==E||(x[w]=k,L=!1)}this.g=x}var a={};function l(V){return-128<=V&&128>V?s(V,function(E){return new o([E|0],0>E?-1:0)}):new o([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return R(u(-V));for(var E=[],x=1,L=0;V>=x;L++)E[L]=V/x|0,x*=4294967296;return new o(E,0)}function f(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return R(f(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(E,8)),L=m,w=0;w<V.length;w+=8){var k=Math.min(8,V.length-w),C=parseInt(V.substring(w,w+k),E);8>k?(k=u(Math.pow(E,k)),L=L.j(k).add(u(C))):(L=L.j(x),L=L.add(u(C)))}return L}var m=l(0),v=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-R(this).m();for(var V=0,E=1,x=0;x<this.g.length;x++){var L=this.i(x);V+=(0<=L?L:4294967296+L)*E,E*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(A(this))return"0";if(I(this))return"-"+R(this).toString(V);for(var E=u(Math.pow(V,6)),x=this,L="";;){var w=F(x,E).g;x=b(x,w.j(E));var k=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=w,A(x))return k+L;for(;6>k.length;)k="0"+k;L=k+L}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function A(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function I(V){return V.h==-1}t.l=function(V){return V=b(this,V),I(V)?-1:A(V)?0:1};function R(V){for(var E=V.g.length,x=[],L=0;L<E;L++)x[L]=~V.g[L];return new o(x,~V.h).add(v)}t.abs=function(){return I(this)?R(this):this},t.add=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],L=0,w=0;w<=E;w++){var k=L+(this.i(w)&65535)+(V.i(w)&65535),C=(k>>>16)+(this.i(w)>>>16)+(V.i(w)>>>16);L=C>>>16,k&=65535,C&=65535,x[w]=C<<16|k}return new o(x,x[x.length-1]&-2147483648?-1:0)};function b(V,E){return V.add(R(E))}t.j=function(V){if(A(this)||A(V))return m;if(I(this))return I(V)?R(this).j(R(V)):R(R(this).j(V));if(I(V))return R(this.j(R(V)));if(0>this.l(p)&&0>V.l(p))return u(this.m()*V.m());for(var E=this.g.length+V.g.length,x=[],L=0;L<2*E;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(var w=0;w<V.g.length;w++){var k=this.i(L)>>>16,C=this.i(L)&65535,J=V.i(w)>>>16,pe=V.i(w)&65535;x[2*L+2*w]+=C*pe,N(x,2*L+2*w),x[2*L+2*w+1]+=k*pe,N(x,2*L+2*w+1),x[2*L+2*w+1]+=C*J,N(x,2*L+2*w+1),x[2*L+2*w+2]+=k*J,N(x,2*L+2*w+2)}for(L=0;L<E;L++)x[L]=x[2*L+1]<<16|x[2*L];for(L=E;L<2*E;L++)x[L]=0;return new o(x,0)};function N(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function P(V,E){this.g=V,this.h=E}function F(V,E){if(A(E))throw Error("division by zero");if(A(V))return new P(m,m);if(I(V))return E=F(R(V),E),new P(R(E.g),R(E.h));if(I(E))return E=F(V,R(E)),new P(R(E.g),E.h);if(30<V.g.length){if(I(V)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var x=v,L=E;0>=L.l(V);)x=Y(x),L=Y(L);var w=te(x,1),k=te(L,1);for(L=te(L,2),x=te(x,2);!A(L);){var C=k.add(L);0>=C.l(V)&&(w=w.add(x),k=C),L=te(L,1),x=te(x,1)}return E=b(V,w.j(E)),new P(w,E)}for(w=m;0<=V.l(E);){for(x=Math.max(1,Math.floor(V.m()/E.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),k=u(x),C=k.j(E);I(C)||0<C.l(V);)x-=L,k=u(x),C=k.j(E);A(k)&&(k=v),w=w.add(k),V=b(V,C)}return new P(w,V)}t.A=function(V){return F(this,V).h},t.and=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],L=0;L<E;L++)x[L]=this.i(L)&V.i(L);return new o(x,this.h&V.h)},t.or=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],L=0;L<E;L++)x[L]=this.i(L)|V.i(L);return new o(x,this.h|V.h)},t.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),x=[],L=0;L<E;L++)x[L]=this.i(L)^V.i(L);return new o(x,this.h^V.h)};function Y(V){for(var E=V.g.length+1,x=[],L=0;L<E;L++)x[L]=V.i(L)<<1|V.i(L-1)>>>31;return new o(x,V.h)}function te(V,E){var x=E>>5;E%=32;for(var L=V.g.length-x,w=[],k=0;k<L;k++)w[k]=0<E?V.i(k+x)>>>E|V.i(k+x+1)<<32-E:V.i(k+x);return new o(w,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Pl=o}).apply(typeof C5<"u"?C5:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L3,nh,R3,kd,X0,D3,O3,F3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,T){return h==Array.prototype||h==Object.prototype||(h[_]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var T=r;h=h.split(".");for(var z=0;z<h.length-1;z++){var ae=h[z];if(!(ae in T))break e;T=T[ae]}h=h[h.length-1],z=T[h],_=_(z),_!=z&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}function s(h,_){h instanceof String&&(h+="");var T=0,z=!1,ae={next:function(){if(!z&&T<h.length){var de=T++;return{value:_(de,h[de]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(h){return h||function(){return s(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function u(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function f(h,_,T){return h.call.apply(h.bind,arguments)}function m(h,_,T){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),h.apply(_,ae)}}return function(){return h.apply(_,arguments)}}function v(h,_,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,v.apply(null,arguments)}function p(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var z=T.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function A(h,_){function T(){}T.prototype=_.prototype,h.aa=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(z,ae,de){for(var Oe=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)Oe[jt-2]=arguments[jt];return _.prototype[ae].apply(z,Oe)}}function I(h){const _=h.length;if(0<_){const T=Array(_);for(let z=0;z<_;z++)T[z]=h[z];return T}return[]}function R(h,_){for(let T=1;T<arguments.length;T++){const z=arguments[T];if(l(z)){const ae=h.length||0,de=z.length||0;h.length=ae+de;for(let Oe=0;Oe<de;Oe++)h[ae+Oe]=z[Oe]}else h.push(z)}}class b{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var Y=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function te(h,_,T){for(const z in h)_.call(T,h[z],z,h)}function V(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function E(h){const _={};for(const T in h)_[T]=h[T];return _}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let T,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(T in z)h[T]=z[T];for(let de=0;de<x.length;de++)T=x[de],Object.prototype.hasOwnProperty.call(z,T)&&(h[T]=z[T])}}function w(h){var _=1;h=h.split(":");const T=[];for(;0<_&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function k(h){a.setTimeout(()=>{throw h},0)}function C(){var h=le;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,T){const z=pe.get();z.set(_,T),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new b(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Z=!1,le=new J,be=()=>{const h=a.Promise.resolve(void 0);ge=()=>{h.then(we)}};var we=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(T){k(T)}var _=pe;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Z=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return h}();function ne(h,_){if(W.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(Y){e:{try{F(_.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(_=null)}}else T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement);this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ne.aa.h.call(this)}}A(ne,W);var se={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),ve=0;function me(h,_,T,z,ae){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!z,this.ha=ae,this.key=++ve,this.da=this.fa=!1}function xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,_,T,z,ae){var de=h.toString();h=this.g[de],h||(h=this.g[de]=[],this.h++);var Oe=Ve(h,_,z,ae);return-1<Oe?(_=h[Oe],T||(_.fa=!1)):(_=new me(_,this.src,de,!!z,ae),_.fa=T,h.push(_)),_};function Me(h,_){var T=_.type;if(T in h.g){var z=h.g[T],ae=Array.prototype.indexOf.call(z,_,void 0),de;(de=0<=ae)&&Array.prototype.splice.call(z,ae,1),de&&(xe(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ve(h,_,T,z){for(var ae=0;ae<h.length;++ae){var de=h[ae];if(!de.da&&de.listener==_&&de.capture==!!T&&de.ha==z)return ae}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Q={};function kt(h,_,T,z,ae){if(Array.isArray(_)){for(var de=0;de<_.length;de++)kt(h,_[de],T,z,ae);return null}return T=_t(T),h&&h[ce]?h.K(_,T,u(z)?!!z.capture:!1,ae):St(h,_,T,!1,z,ae)}function St(h,_,T,z,ae,de){if(!_)throw Error("Invalid event type");var Oe=u(ae)?!!ae.capture:!!ae,jt=Ze(h);if(jt||(h[_e]=jt=new Pe(h)),T=jt.add(_,T,z,Oe,de),T.proxy)return T;if(z=it(),T.proxy=z,z.src=h,z.listener=T,h.addEventListener)X||(ae=Oe),ae===void 0&&(ae=!1),h.addEventListener(_.toString(),z,ae);else if(h.attachEvent)h.attachEvent(je(_.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return T}function it(){function h(T){return _.call(h.src,h.listener,T)}const _=At;return h}function Re(h,_,T,z,ae){if(Array.isArray(_))for(var de=0;de<_.length;de++)Re(h,_[de],T,z,ae);else z=u(z)?!!z.capture:!!z,T=_t(T),h&&h[ce]?(h=h.i,_=String(_).toString(),_ in h.g&&(de=h.g[_],T=Ve(de,T,z,ae),-1<T&&(xe(de[T]),Array.prototype.splice.call(de,T,1),de.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ze(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ve(_,T,z,ae)),(T=-1<h?_[h]:null)&&Ye(T))}function Ye(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ce])Me(_.i,h);else{var T=h.type,z=h.proxy;_.removeEventListener?_.removeEventListener(T,z,h.capture):_.detachEvent?_.detachEvent(je(T),z):_.addListener&&_.removeListener&&_.removeListener(z),(T=Ze(_))?(Me(T,h),T.h==0&&(T.src=null,_[_e]=null)):xe(h)}}}function je(h){return h in Q?Q[h]:Q[h]="on"+h}function At(h,_){if(h.da)h=!0;else{_=new ne(_,this);var T=h.listener,z=h.ha||h.src;h.fa&&Ye(h),h=T.call(z,_)}return h}function Ze(h){return h=h[_e],h instanceof Pe?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(_){return h.handleEvent(_)}),h[Mt])}function Xe(){M.call(this),this.i=new Pe(this),this.M=this,this.F=null}A(Xe,M),Xe.prototype[ce]=!0,Xe.prototype.removeEventListener=function(h,_,T,z){Re(this,h,_,T,z)};function Et(h,_){var T,z=h.F;if(z)for(T=[];z;z=z.F)T.push(z);if(h=h.M,z=_.type||_,typeof _=="string")_=new W(_,h);else if(_ instanceof W)_.target=_.target||h;else{var ae=_;_=new W(z,h),L(_,ae)}if(ae=!0,T)for(var de=T.length-1;0<=de;de--){var Oe=_.g=T[de];ae=mt(Oe,z,!0,_)&&ae}if(Oe=_.g=h,ae=mt(Oe,z,!0,_)&&ae,ae=mt(Oe,z,!1,_)&&ae,T)for(de=0;de<T.length;de++)Oe=_.g=T[de],ae=mt(Oe,z,!1,_)&&ae}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var T=h.g[_],z=0;z<T.length;z++)xe(T[z]);delete h.g[_],h.h--}}this.F=null},Xe.prototype.K=function(h,_,T,z){return this.i.add(String(h),_,!1,T,z)},Xe.prototype.L=function(h,_,T,z){return this.i.add(String(h),_,!0,T,z)};function mt(h,_,T,z){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var ae=!0,de=0;de<_.length;++de){var Oe=_[de];if(Oe&&!Oe.da&&Oe.capture==T){var jt=Oe.listener,Cn=Oe.ha||Oe.src;Oe.fa&&Me(h.i,Oe),ae=jt.call(Cn,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function et(h,_,T){if(typeof h=="function")T&&(h=v(h,T));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function lt(h){h.g=et(()=>{h.g=null,h.i&&(h.i=!1,lt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class nt extends M{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(h){M.call(this),this.h=h,this.g={}}A(Kt,M);var Bt=[];function Ge(h){te(h.g,function(_,T){this.g.hasOwnProperty(T)&&Ye(_)},h),h.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Ge(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gt=a.JSON.stringify,Zt=a.JSON.parse,ot=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Pt(){}Pt.prototype.h=null;function wt(h){return h.h||(h.h=h.i())}function An(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){W.call(this,"d")}A(Yt,W);function ct(){W.call(this,"c")}A(ct,W);var Lt={},Ns=null;function zn(){return Ns=Ns||new Xe}Lt.La="serverreachability";function Hi(h){W.call(this,Lt.La,h)}A(Hi,W);function Lr(h){const _=zn();Et(_,new Hi(_))}Lt.STAT_EVENT="statevent";function st(h,_){W.call(this,Lt.STAT_EVENT,h),this.stat=_}A(st,W);function yn(h){const _=zn();Et(_,new st(_,h))}Lt.Ma="timingevent";function Wi(h,_){W.call(this,Lt.Ma,h),this.size=_}A(Wi,W);function hr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function En(h,_,T,z,ae,de){h.info(function(){if(h.g)if(de)for(var Oe="",jt=de.split("&"),Cn=0;Cn<jt.length;Cn++){var Rt=jt[Cn].split("=");if(1<Rt.length){var Ct=Rt[0];Rt=Rt[1];var pn=Ct.split("_");Oe=2<=pn.length&&pn[1]=="type"?Oe+(Ct+"="+Rt+"&"):Oe+(Ct+"=redacted&")}}else Oe=null;else Oe=de;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+_+`
`+T+`
`+Oe})}function er(h,_,T,z,ae,de,Oe){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+_+`
`+T+`
`+de+" "+Oe})}function xn(h,_,T,z){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+ks(h,T)+(z?" "+z:"")})}function ro(h,_){h.info(function(){return"TIMEOUT: "+_})}fr.prototype.info=function(){};function ks(h,_){if(!h.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var z=T[h];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var de=ae[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Oe=1;Oe<ae.length;Oe++)ae[Oe]=""}}}}return gt(T)}catch{return _}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Dr(){}A(Dr,Pt),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Qr=new Dr;function qn(h,_,T,z){this.j=h,this.i=_,this.l=T,this.R=z||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var bi={},ss={};function Cs(h,_,T){h.L=1,h.v=ao(Yr(_)),h.m=T,h.P=!0,io(h,null)}function io(h,_){h.F=Date.now(),Ls(h),h.A=Yr(h.v);var T=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),ft(T.i,"t",z),h.C=0,T=h.j.J,h.h=new Ps,h.g=Fn(h.j,T?_:null,!h.m),0<h.O&&(h.M=new nt(v(h.Y,h,h.g),h.O)),_=h.U,T=h.g,z=h.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Bt[0]=ae.toString()),ae=Bt);for(var de=0;de<ae.length;de++){var Oe=kt(T,ae[de],z||_.handleEvent,!1,_.h||_);if(!Oe)break;_.g[Oe.key]=Oe}_=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Lr(),En(h.i,h.u,h.A,h.l,h.R,h.m)}qn.prototype.ca=function(h){h=h.target;const _=this.M;_&&ci(h)==3?_.j():this.Y(h)},qn.prototype.Y=function(h){try{if(h==this.g)e:{const pn=ci(this.g);var _=this.g.Ba();const xi=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||hl(this.g)))){this.J||pn!=4||_==7||(_==8||0>=xi?Lr(3):Lr(2)),Ho(this);var T=this.g.Z();this.X=T;t:if(so(this)){var z=hl(this.g);h="";var ae=z.length,de=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),dr(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(_=0;_<ae;_++)this.h.h=!0,h+=this.h.i.decode(z[_],{stream:!(de&&_==ae-1)});z.length=0,this.h.g+=h,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=T==200,er(this.i,this.u,this.A,this.l,this.R,pn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Cn=this.g;if((jt=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(jt)){var Rt=jt;break t}}Rt=null}if(T=Rt)xn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wo(this,T);else{this.o=!1,this.s=3,yn(12),Si(this),dr(this);break e}}if(this.P){T=!0;let Or;for(;!this.J&&this.C<Oe.length;)if(Or=gc(this,Oe),Or==ss){pn==4&&(this.s=4,yn(14),T=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==bi){this.s=4,yn(15),xn(this.i,this.l,Oe,"[Invalid Chunk]"),T=!1;break}else xn(this.i,this.l,Or,null),Wo(this,Or);if(so(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Oe.length!=0||this.h.h||(this.s=1,yn(16),T=!1),this.o=this.o&&T,!T)xn(this.i,this.l,Oe,"[Invalid Chunked Response]"),Si(this),dr(this);else if(0<Oe.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Be(Ct),Ct.M=!0,yn(11))}}else xn(this.i,this.l,Oe,null),Wo(this,Oe);pn==4&&Si(this),this.o&&!this.J&&(pn==4?vt(this.j,this):(this.o=!1,Ls(this)))}else us(this.g),T==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),Si(this),dr(this)}}}catch{}finally{}};function so(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gc(h,_){var T=h.C,z=_.indexOf(`
`,T);return z==-1?ss:(T=Number(_.substring(T,z)),isNaN(T)?bi:(z+=1,z+T>_.length?ss:(_=_.slice(z,z+T),h.C=z+T,_)))}qn.prototype.cancel=function(){this.J=!0,Si(this)};function Ls(h){h.S=Date.now()+h.I,el(h,h.I)}function el(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=hr(v(h.ba,h),_)}function Ho(h){h.B&&(a.clearTimeout(h.B),h.B=null)}qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ro(this.i,this.A),this.L!=2&&(Lr(),yn(17)),Si(this),this.s=2,dr(this)):el(this,this.S-h)};function dr(h){h.j.G==0||h.J||vt(h.j,h)}function Si(h){Ho(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Ge(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Wo(h,_){try{var T=h.j;if(T.G!=0&&(T.g==h||Rs(T.h,h))){if(!h.K&&Rs(T.h,h)&&T.G==3){try{var z=T.Da.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)at(T),Ki(T);else break e;Ne(T),yn(18)}}else T.za=ae[1],0<T.za-T.T&&37500>ae[2]&&T.F&&T.v==0&&!T.C&&(T.C=hr(v(T.Za,T),6e3));if(1>=il(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Xt(T,11)}else if((h.K||T.g==h)&&at(T),!N(_))for(ae=T.Da.g.parse(_),_=0;_<ae.length;_++){let Rt=ae[_];if(T.T=Rt[0],Rt=Rt[1],T.G==2)if(Rt[0]=="c"){T.K=Rt[1],T.ia=Rt[2];const Ct=Rt[3];Ct!=null&&(T.la=Ct,T.j.info("VER="+T.la));const pn=Rt[4];pn!=null&&(T.Aa=pn,T.j.info("SVER="+T.Aa));const xi=Rt[5];xi!=null&&typeof xi=="number"&&0<xi&&(z=1.5*xi,T.L=z,T.j.info("backChannelRequestTimeoutMs_="+z)),z=T;const Or=h.g;if(Or){const br=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var de=z.h;de.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(sl(de,de.h),de.h=null))}if(z.D){const cs=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(z.ya=cs,Ot(z.I,z.D,cs))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),z=T;var Oe=h;if(z.qa=tn(z,z.J?z.ia:null,z.W),Oe.K){Nn(z.h,Oe);var jt=Oe,Cn=z.L;Cn&&(jt.I=Cn),jt.B&&(Ho(jt),Ls(jt)),z.g=Oe}else Ae(z);0<T.i.length&&g(T)}else Rt[0]!="stop"&&Rt[0]!="close"||Xt(T,7);else T.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Xt(T,7):Jo(T):Rt[0]!="noop"&&T.l&&T.l.ta(Rt),T.v=0)}}Lr(4)}catch{}}var tl=class{constructor(h,_){this.g=h,this.map=_}};function nl(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function il(h){return h.h?1:h.g?h.g.size:0}function Rs(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function sl(h,_){h.g?h.g.add(_):h.h=_}function Nn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}nl.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.D);return _}return I(h.i)}function Zl(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var _=[],T=h.length,z=0;z<T;z++)_.push(h[z]);return _}_=[],T=0;for(z in h)_[T++]=h[z];return _}function os(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var _=[];h=h.length;for(var T=0;T<h;T++)_.push(T);return _}_=[],T=0;for(const z in h)_[T++]=z;return _}}}function Ds(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var T=os(h),z=Zl(h),ae=z.length,de=0;de<ae;de++)_.call(void 0,z[de],T&&T[de],h)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(h,_){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var z=h[T].indexOf("="),ae=null;if(0<=z){var de=h[T].substring(0,z);ae=h[T].substring(z+1)}else de=h[T];_(de,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function en(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof en){this.h=h.h,$o(this,h.j),this.o=h.o,this.g=h.g,Go(this,h.s),this.l=h.l;var _=h.i,T=new ui;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),eu(this,T),this.m=h.m}else h&&(_=String(h).match(ai))?(this.h=!1,$o(this,_[1]||"",!0),this.o=Os(_[2]||""),this.g=Os(_[3]||"",!0),Go(this,_[4]),this.l=Os(_[5]||"",!0),eu(this,_[6]||"",!0),this.m=Os(_[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}en.prototype.toString=function(){var h=[],_=this.j;_&&h.push(li(_,tu,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(li(_,tu,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(li(T,T.charAt(0)=="/"?yc:vc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",li(T,lo)),h.join("")};function Yr(h){return new en(h)}function $o(h,_,T){h.j=T?Os(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Go(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function eu(h,_,T){_ instanceof ui?(h.i=_,_c(h.i,h.h)):(T||(_=li(_,ll)),h.i=new ui(_,h.h))}function Ot(h,_,T){h.i.set(_,T)}function ao(h){return Ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Os(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function li(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,al),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function al(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var tu=/[#\/\?@]/g,vc=/[#\?:]/g,yc=/[#\?]/g,ll=/[#\?@]/g,lo=/#/g;function ui(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function $i(h){h.g||(h.g=new Map,h.h=0,h.i&&oo(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=ui.prototype,t.add=function(h,_){$i(this),this.i=null,h=Ms(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Fs(h,_){$i(h),_=Ms(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ko(h,_){return $i(h),_=Ms(h,_),h.g.has(_)}t.forEach=function(h,_){$i(this),this.g.forEach(function(T,z){T.forEach(function(ae){h.call(_,ae,z,this)},this)},this)},t.na=function(){$i(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let z=0;z<_.length;z++){const ae=h[z];for(let de=0;de<ae.length;de++)T.push(_[z])}return T},t.V=function(h){$i(this);let _=[];if(typeof h=="string")Ko(this,h)&&(_=_.concat(this.g.get(Ms(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)_=_.concat(h[T])}return _},t.set=function(h,_){return $i(this),this.i=null,h=Ms(this,h),Ko(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function ft(h,_,T){Fs(h,_),0<T.length&&(h.i=null,h.g.set(Ms(h,_),I(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var z=_[T];const de=encodeURIComponent(String(z)),Oe=this.V(z);for(z=0;z<Oe.length;z++){var ae=de;Oe[z]!==""&&(ae+="="+encodeURIComponent(String(Oe[z]))),h.push(ae)}}return this.i=h.join("&")};function Ms(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function _c(h,_){_&&!h.j&&($i(h),h.i=null,h.g.forEach(function(T,z){var ae=z.toLowerCase();z!=ae&&(Fs(this,z),ft(this,ae,T))},h)),h.j=_}function wc(h,_){const T=new fr;if(a.Image){const z=new Image;z.onload=p(pr,T,"TestLoadImage: loaded",!0,_,z),z.onerror=p(pr,T,"TestLoadImage: error",!1,_,z),z.onabort=p(pr,T,"TestLoadImage: abort",!1,_,z),z.ontimeout=p(pr,T,"TestLoadImage: timeout",!1,_,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else _(!1)}function bc(h,_){const T=new fr,z=new AbortController,ae=setTimeout(()=>{z.abort(),pr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:z.signal}).then(de=>{clearTimeout(ae),de.ok?pr(T,"TestPingServer: ok",!0,_):pr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ae),pr(T,"TestPingServer: error",!1,_)})}function pr(h,_,T,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(T)}catch{}}function as(){this.g=new ot}function Sc(h,_,T){const z=T||"";try{Ds(h,function(ae,de){let Oe=ae;u(ae)&&(Oe=gt(ae)),_.push(z+de+"="+encodeURIComponent(Oe))})}catch(ae){throw _.push(z+"type="+encodeURIComponent("_badmap")),ae}}function Qo(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Qo,Pt),Qo.prototype.g=function(){return new ls(this.l,this.j)},Qo.prototype.i=function(h){return function(){return h}}({});function ls(h,_){Xe.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ls,Xe),t=ls.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Gi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ai(this):Gi(this),this.readyState==3&&Yo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ai(this))},t.Qa=function(h){this.g&&(this.response=h,Ai(this))},t.ga=function(){this.g&&Ai(this)};function Ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Gi(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function uo(h){let _="";return te(h,function(T,z){_+=z,_+=":",_+=T,_+=`\r
`}),_}function ul(h,_,T){e:{for(z in T){var z=!1;break e}z=!0}z||(T=uo(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ot(h,_,T))}function ln(h){Xe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ln,Xe);var cl=/^https?$/i,co=["POST","PUT"];t=ln.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,T,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?wt(this.o):wt(Qr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(de){js(this,de);return}if(h=T||"",T=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)T.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const de of z.keys())T.set(de,z.get(de));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(T.keys()).find(de=>de.toLowerCase()=="content-type"),ae=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(co,_,void 0))||z||ae||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Oe]of T)this.g.setRequestHeader(de,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(h),this.u=!1}catch(de){js(this,de)}};function js(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Xo(h),Vs(h)}function Xo(h){h.A||(h.A=!0,Et(h,"complete"),Et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Et(this,"complete"),Et(this,"abort"),Vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},t.bb=function(){ho(this)};function ho(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ci(h)!=4||h.Z()!=2)){if(h.u&&ci(h)==4)et(h.Ea,0,h);else if(Et(h,"readystatechange"),ci(h)==4){h.h=!1;try{const Oe=h.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var z;if(z=Oe===0){var ae=String(h.D).match(ai)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),z=!cl.test(ae?ae.toLowerCase():"")}T=z}if(T)Et(h,"complete"),Et(h,"success");else{h.m=6;try{var de=2<ci(h)?h.g.statusText:""}catch{de=""}h.l=de+" ["+h.Z()+"]",Xo(h)}}finally{Vs(h)}}}}function Vs(h,_){if(h.g){Us(h);const T=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Et(h,"ready");try{T.onreadystatechange=z}catch{}}}function Us(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Zt(_)}};function hl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function us(h){const _={};h=(h.g&&2<=ci(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(N(h[z]))continue;var T=w(h[z]);const ae=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const de=_[ae]||[];_[ae]=de,de.push(T)}V(_,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function fl(h){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,h),this.cb=Xr("retryDelaySeedMs",1e4,h),this.Wa=Xr("forwardChannelMaxRetries",2,h),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new nl(h&&h.concurrentRequestLimit),this.Da=new as,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fl.prototype,t.la=8,t.G=1,t.connect=function(h,_,T,z){yn(0),this.W=h,this.H=_||{},T&&z!==void 0&&(this.H.OSID=T,this.H.OAID=z),this.F=this.X,this.I=tn(this,null,this.W),g(this)};function Jo(h){if(dl(h),h.G==3){var _=h.U++,T=Yr(h.I);if(Ot(T,"SID",h.K),Ot(T,"RID",_),Ot(T,"TYPE","terminate"),ee(h,T),_=new qn(h,h.j,_),_.L=2,_.v=ao(Yr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=Fn(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ls(_)}kn(h)}function Ki(h){h.g&&(Be(h),h.g.cancel(),h.g=null)}function dl(h){Ki(h),h.u&&(a.clearTimeout(h.u),h.u=null),at(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function g(h){if(!rl(h.h)&&!h.s){h.s=!0;var _=h.Ga;ge||be(),Z||(ge(),Z=!0),le.add(_,h),h.B=0}}function D(h,_){return il(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=hr(v(h.Ga,h,_),zt(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ae=new qn(this,this.j,h);let de=this.o;if(this.S&&(de?(de=E(de),L(de,this.S)):de=this.S),this.m!==null||this.O||(ae.H=de,de=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var z=this.i[T];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=oe(this,ae,_),T=Yr(this.I),Ot(T,"RID",h),Ot(T,"CVER",22),this.D&&Ot(T,"X-HTTP-Session-Id",this.D),ee(this,T),de&&(this.O?_="headers="+encodeURIComponent(String(uo(de)))+"&"+_:this.m&&ul(T,this.m,de)),sl(this.h,ae),this.Ua&&Ot(T,"TYPE","init"),this.P?(Ot(T,"$req",_),Ot(T,"SID","null"),ae.T=!0,Cs(ae,T,null)):Cs(ae,T,_),this.G=2}}else this.G==3&&(h?$(this,h):this.i.length==0||rl(this.h)||$(this))};function $(h,_){var T;_?T=_.l:T=h.U++;const z=Yr(h.I);Ot(z,"SID",h.K),Ot(z,"RID",T),Ot(z,"AID",h.T),ee(h,z),h.m&&h.o&&ul(z,h.m,h.o),T=new qn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),_&&(h.i=_.D.concat(h.i)),_=oe(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),sl(h.h,T),Cs(T,z,_)}function ee(h,_){h.H&&te(h.H,function(T,z){Ot(_,z,T)}),h.l&&Ds({},function(T,z){Ot(_,z,T)})}function oe(h,_,T){T=Math.min(h.i.length,T);var z=h.l?v(h.l.Na,h.l,h):null;e:{var ae=h.i;let de=-1;for(;;){const Oe=["count="+T];de==-1?0<T?(de=ae[0].g,Oe.push("ofs="+de)):de=0:Oe.push("ofs="+de);let jt=!0;for(let Cn=0;Cn<T;Cn++){let Rt=ae[Cn].g;const Ct=ae[Cn].map;if(Rt-=de,0>Rt)de=Math.max(0,ae[Cn].g-100),jt=!1;else try{Sc(Ct,Oe,"req"+Rt+"_")}catch{z&&z(Ct)}}if(jt){z=Oe.join("&");break e}}}return h=h.i.splice(0,T),_.D=h,z}function Ae(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ge||be(),Z||(ge(),Z=!0),le.add(_,h),h.v=0}}function Ne(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=hr(v(h.Fa,h),zt(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,We(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=hr(v(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Ki(this),We(this))};function Be(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function We(h){h.g=new qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Yr(h.qa);Ot(_,"RID","rpc"),Ot(_,"SID",h.K),Ot(_,"AID",h.T),Ot(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ot(_,"TO",h.ja),Ot(_,"TYPE","xmlhttp"),ee(h,_),h.m&&h.o&&ul(_,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=ao(Yr(_)),T.m=null,T.P=!0,io(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Ki(this),Ne(this),yn(19))};function at(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function vt(h,_){var T=null;if(h.g==_){at(h),Be(h),h.g=null;var z=2}else if(Rs(h.h,_))T=_.D,Nn(h.h,_),z=1;else return;if(h.G!=0){if(_.o)if(z==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var ae=h.B;z=zn(),Et(z,new Wi(z,T)),g(h)}else Ae(h);else if(ae=_.s,ae==3||ae==0&&0<_.X||!(z==1&&D(h,_)||z==2&&Ne(h)))switch(T&&0<T.length&&(_=h.h,_.i=_.i.concat(T)),ae){case 1:Xt(h,5);break;case 4:Xt(h,10);break;case 3:Xt(h,6);break;default:Xt(h,2)}}}function zt(h,_){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*_}function Xt(h,_){if(h.j.info("Error code "+_),_==2){var T=v(h.fb,h),z=h.Xa;const ae=!z;z=new en(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$o(z,"https"),ao(z),ae?wc(z.toString(),T):bc(z.toString(),T)}else yn(2);h.G=0,h.l&&h.l.sa(_),kn(h),dl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function kn(h){if(h.G=0,h.ka=[],h.l){const _=ol(h.h);(_.length!=0||h.i.length!=0)&&(R(h.ka,_),R(h.ka,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.ra()}}function tn(h,_,T){var z=T instanceof en?Yr(T):new en(T);if(z.g!="")_&&(z.g=_+"."+z.g),Go(z,z.s);else{var ae=a.location;z=ae.protocol,_=_?_+"."+ae.hostname:ae.hostname,ae=+ae.port;var de=new en(null);z&&$o(de,z),_&&(de.g=_),ae&&Go(de,ae),T&&(de.l=T),z=de}return T=h.D,_=h.ya,T&&_&&Ot(z,T,_),Ot(z,"VER",h.la),ee(h,z),z}function Fn(h,_,T){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ln(new Qo({eb:T})):new ln(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pn(){}t=Pn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mn(){}Mn.prototype.g=function(h,_){return new dn(h,_)};function dn(h,_){Xe.call(this),this.g=new fl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!N(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ei(this)}A(dn,Xe),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Jo(this.g)},dn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=gt(h),h=T);_.i.push(new tl(_.Ya++,h)),_.G==3&&g(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,dn.aa.N.call(this)};function wr(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}A(wr,Yt);function pl(){ct.call(this),this.status=1}A(pl,ct);function Ei(h){this.g=h}A(Ei,Pn),Ei.prototype.ua=function(){Et(this.g,"a")},Ei.prototype.ta=function(h){Et(this.g,new wr(h))},Ei.prototype.sa=function(h){Et(this.g,new pl)},Ei.prototype.ra=function(){Et(this.g,"b")},Mn.prototype.createWebChannel=Mn.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,F3=function(){return new Mn},O3=function(){return zn()},D3=Lt,X0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,kd=Rr,wi.COMPLETE="complete",R3=wi,An.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,nh=An,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,L3=ln}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const L5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new x2("@firebase/firestore");function Wc(){return jl.logLevel}function $e(t,...e){if(jl.logLevel<=Ut.DEBUG){const n=e.map(N2);jl.debug(`Firestore (${uc}): ${t}`,...n)}}function Mo(t,...e){if(jl.logLevel<=Ut.ERROR){const n=e.map(N2);jl.error(`Firestore (${uc}): ${t}`,...n)}}function Ju(t,...e){if(jl.logLevel<=Ut.WARN){const n=e.map(N2);jl.warn(`Firestore (${uc}): ${t}`,...n)}}function N2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t="Unexpected state"){const e=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: `+t;throw Mo(e),new Error(e)}function Gt(t,e){t||ut()}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends zo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hr.UNAUTHENTICATED))}shutdown(){}}class qN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HN{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Gt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Co,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Co)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string"),new M3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Hr(e)}}class WN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $N{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Gt(this.o===void 0);const r=s=>{s.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new GN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new cr(0,0))}static max(){return new dt(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fn extends zh{construct(e,n,r){return new fn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const YN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends zh{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return YN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ue(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ue(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(fn.fromString(e))}static fromName(e){return new rt(fn.fromString(e).popFirst(5))}static empty(){return new rt(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new fn(e.slice()))}}function XN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(r===1e9?new cr(n+1,0):new cr(n,r));return new Ha(i,rt.empty(),e)}function JN(t){return new Ha(t.readTime,t.key,-1)}class Ha{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ha(dt.min(),rt.empty(),-1)}static max(){return new Ha(dt.max(),rt.empty(),-1)}}function ZN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==ek)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function nk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}k2.oe=-1;function uf(t){return t==null}function vp(t){return t===0&&1/t==-1/0}function rk(t){return typeof t=="number"&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new On(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ir.RED,this.left=i??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D5(this.data.getIterator())}getIteratorFrom(e){return new D5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class D5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Mi([])}unionWith(e){let n=new kr(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new U3("Invalid base64 string: "+s):s}}(e);return new Cr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(t){if(Gt(!!t),typeof t=="string"){let e=0;const n=ik.exec(t);if(Gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(t.seconds),nanos:Kn(t.nanos)}}function Kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vl(t){return typeof t=="string"?Cr.fromBase64String(t):Cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function C2(t){const e=t.mapValue.fields.__previous_value__;return P2(e)?C2(e):e}function qh(t){const e=Wa(t.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={mapValue:{}};function Ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P2(t)?4:ak(t)?9007199254740991:ok(t)?10:11:ut()}function to(t,e){if(t===e)return!0;const n=Ul(t);if(n!==Ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wa(i.timestampValue),a=Wa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vl(i.bytesValue).isEqual(Vl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kn(i.geoPointValue.latitude)===Kn(s.geoPointValue.latitude)&&Kn(i.geoPointValue.longitude)===Kn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kn(i.integerValue)===Kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Kn(i.doubleValue),a=Kn(s.doubleValue);return o===a?vp(o)===vp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(R5(o)!==R5(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!to(o[l],a[l])))return!1;return!0}(t,e);default:return ut()}}function Wh(t,e){return(t.values||[]).find(n=>to(n,e))!==void 0}function ec(t,e){if(t===e)return 0;const n=Ul(t),r=Ul(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Kn(s.integerValue||s.doubleValue),l=Kn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return O5(t.timestampValue,e.timestampValue);case 4:return O5(qh(t),qh(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vl(s),l=Vl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Qt(a[u],l[u]);if(f!==0)return f}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qt(Kn(s.latitude),Kn(o.latitude));return a!==0?a:Qt(Kn(s.longitude),Kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F5(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const m=s.fields||{},v=o.fields||{},p=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=(l=v.value)===null||l===void 0?void 0:l.arrayValue,I=Qt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);return I!==0?I:F5(p,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rd.mapValue&&o===rd.mapValue)return 0;if(s===rd.mapValue)return 1;if(o===rd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const v=Qt(l[m],f[m]);if(v!==0)return v;const p=ec(a[l[m]],u[f[m]]);if(p!==0)return p}return Qt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ut()}}function O5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=Wa(t),r=Wa(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function F5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ec(n[i],r[i]);if(s)return s}return Qt(n.length,r.length)}function tc(t){return J0(t)}function J0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=J0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${J0(n.fields[o])}`;return i+"}"}(t.mapValue):ut()}function M5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z0(t){return!!t&&"integerValue"in t}function L2(t){return!!t&&"arrayValue"in t}function j5(t){return!!t&&"nullValue"in t}function V5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function ok(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ph(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ph(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ph(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ak(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ph(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ni(ph(this.value))}}function B3(t){const e=[];return Kl(t.fields,(n,r)=>{const i=new Tr([n]);if(Pd(r)){const s=B3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,dt.min(),dt.min(),dt.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,dt.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,dt.min(),dt.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,dt.min(),dt.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.position=e,this.inclusive=n}}function U5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=ec(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function B5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!to(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n="asc"){this.field=e,this.dir=n}}function lk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class rr extends z3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ck(e,n,r):n==="array-contains"?new dk(e,r):n==="in"?new pk(e,r):n==="not-in"?new mk(e,r):n==="array-contains-any"?new gk(e,r):new rr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hk(e,r):new fk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ec(n,this.value)):n!==null&&Ul(this.value)===Ul(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends z3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new As(e,n)}matches(e){return q3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function q3(t){return t.op==="and"}function H3(t){return uk(t)&&q3(t)}function uk(t){for(const e of t.filters)if(e instanceof As)return!1;return!0}function e1(t){if(t instanceof rr)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(H3(t))return t.filters.map(e=>e1(e)).join(",");{const e=t.filters.map(n=>e1(n)).join(",");return`${t.op}(${e})`}}function W3(t,e){return t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.field.isEqual(i.field)&&to(r.value,i.value)}(t,e):t instanceof As?function(r,i){return i instanceof As&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&W3(o,i.filters[a]),!0):!1}(t,e):void ut()}function $3(t){return t instanceof rr?function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`}(t):t instanceof As?function(n){return n.op.toString()+" {"+n.getFilters().map($3).join(" ,")+"}"}(t):"Filter"}class ck extends rr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class hk extends rr{constructor(e,n){super(e,"in",n),this.keys=G3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fk extends rr{constructor(e,n){super(e,"not-in",n),this.keys=G3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class dk extends rr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return L2(n)&&Wh(n.arrayValue,this.value)}}class pk extends rr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class mk extends rr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wh(this.value.arrayValue,n)}}class gk extends rr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!L2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function z5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vk(t,e,n,r,i,s,o)}function R2(t){const e=bt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>e1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),e.ue=n}return e.ue}function D2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B5(t.startAt,e.startAt)&&B5(t.endAt,e.endAt)}function t1(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yk(t,e,n,r,i,s,o,a){return new cc(t,e,n,r,i,s,o,a)}function O2(t){return new cc(t)}function q5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K3(t){return t.collectionGroup!==null}function mh(t){const e=bt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kr(Tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $h(s,r))}),n.has(Tr.keyField().canonicalString())||e.ce.push(new $h(Tr.keyField(),r))}return e.ce}function Js(t){const e=bt(t);return e.le||(e.le=_k(e,mh(t))),e.le}function _k(t,e){if(t.limitType==="F")return z5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $h(i.field,s)});const n=t.endAt?new yp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yp(t.startAt.position,t.startAt.inclusive):null;return z5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function n1(t,e){const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return D2(Js(t),Js(e))&&t.limitType===e.limitType}function Q3(t){return`${R2(Js(t))}|lt:${t.limitType}`}function uu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$3(i)).join(", ")}]`),uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tc(i)).join(",")),`Target(${r})`}(Js(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=U5(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,mh(r),i)||r.endAt&&!function(o,a,l){const u=U5(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,mh(r),i))}(t,e)}function wk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y3(t){return(e,n)=>{let r=!1;for(const i of mh(t)){const s=bk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bk(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ec(l,u):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return V3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new On(rt.comparator);function jo(){return Sk}const X3=new On(rt.comparator);function rh(...t){let e=X3;for(const n of t)e=e.insert(n.key,n);return e}function J3(t){let e=X3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Tl(){return gh()}function Z3(){return gh()}function gh(){return new hc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ak=new On(rt.comparator),Ek=new kr(rt.comparator);function Ft(...t){let e=Ek;for(const n of t)e=e.add(n);return e}const xk=new kr(Qt);function Ik(){return xk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function eS(t){return{integerValue:""+t}}function Tk(t,e){return rk(e)?eS(e):F2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function Nk(t,e,n){return t instanceof wp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&P2(s)&&(s=C2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gh?nS(t,e):t instanceof Kh?rS(t,e):function(i,s){const o=tS(i,s),a=H5(o)+H5(i.Pe);return Z0(o)&&Z0(i.Pe)?eS(a):F2(i.serializer,a)}(t,e)}function kk(t,e,n){return t instanceof Gh?nS(t,e):t instanceof Kh?rS(t,e):n}function tS(t,e){return t instanceof bp?function(r){return Z0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class wp extends im{}class Gh extends im{constructor(e){super(),this.elements=e}}function nS(t,e){const n=iS(e);for(const r of t.elements)n.some(i=>to(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kh extends im{constructor(e){super(),this.elements=e}}function rS(t,e){let n=iS(e);for(const r of t.elements)n=n.filter(i=>!to(i,r));return{arrayValue:{values:n}}}class bp extends im{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function H5(t){return Kn(t.integerValue||t.doubleValue)}function iS(t){return L2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Kh&&i instanceof Kh?Zu(r.elements,i.elements,to):r instanceof bp&&i instanceof bp?to(r.Pe,i.Pe):r instanceof wp&&i instanceof wp}(t.transform,e.transform)}class Ck{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function sS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new om(t.key,$r.none()):new cf(t.key,t.data,$r.none());{const n=t.data,r=ni.empty();let i=new kr(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ja(t.key,r,new Mi(i.toArray()),$r.none())}}function Lk(t,e,n){t instanceof cf?function(i,s,o){const a=i.value.clone(),l=$5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ja?function(i,s,o){if(!Cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=$5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vh(t,e,n,r){return t instanceof cf?function(s,o,a,l){if(!Cd(s.precondition,o))return a;const u=s.value.clone(),f=G5(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ja?function(s,o,a,l){if(!Cd(s.precondition,o))return a;const u=G5(s.fieldTransforms,l,o),f=o.data;return f.setAll(oS(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Rk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tS(r.transform,i||null);s!=null&&(n===null&&(n=ni.empty()),n.set(r.field,s))}return n||null}function W5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,(s,o)=>Pk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends sm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $5(t,e,n){const r=new Map;Gt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kk(o,a,n[i]))}return r}function G5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Nk(s,o,e))}return r}class om extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aS extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Lk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>W5(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>W5(n,r))}}class M2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Gt(e.mutations.length===r.length);let i=function(){return Ak}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new M2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Ht;function lS(t){switch(t){default:return ut();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function uS(t){if(t===void 0)return Mo("GRPC error has no .code"),Te.UNKNOWN;switch(t){case tr.OK:return Te.OK;case tr.CANCELLED:return Te.CANCELLED;case tr.UNKNOWN:return Te.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Te.INTERNAL;case tr.UNAVAILABLE:return Te.UNAVAILABLE;case tr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case tr.NOT_FOUND:return Te.NOT_FOUND;case tr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case tr.ABORTED:return Te.ABORTED;case tr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case tr.DATA_LOSS:return Te.DATA_LOSS;default:return ut()}}(Ht=tr||(tr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Pl([4294967295,4294967295],0);function K5(t){const e=Mk().encode(t),n=new C3;return n.update(e),new Uint8Array(n.digest())}function Q5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pl([n,r],0),new Pl([i,s],0)]}class j2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ih(`Invalid padding: ${n}`);if(r<0)throw new ih(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ih(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pl.fromNumber(r)));return i.compare(jk)===1&&(i=new Pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K5(e),[r,i]=Q5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new j2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=K5(e),[r,i]=Q5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new am(dt.min(),i,new On(Qt),jo(),Ft())}}class hf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cS{constructor(e,n){this.targetId=e,this.me=n}}class hS{constructor(e,n,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y5{constructor(){this.fe=0,this.ge=J5(),this.pe=Cr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),n=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new hf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=J5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Vk{constructor(e){this.Le=e,this.Be=new Map,this.ke=jo(),this.qe=X5(),this.Qe=new On(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ut()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(t1(s))if(r===0){const o=new rt(s.path);this.Ue(n,o,yr.newNoDocument(o,dt.min()))}else Gt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vl(r).toUint8Array()}catch(l){if(l instanceof U3)return Ju("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new j2(o,i,s)}catch(l){return Ju(l instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&t1(a.target)){const l=new rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new am(e,n,this.Qe,this.ke,r);return this.ke=jo(),this.qe=X5(),this.Qe=new On(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Y5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kr(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Y5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X5(){return new On(rt.comparator)}function J5(){return new On(rt.comparator)}const Uk={asc:"ASCENDING",desc:"DESCENDING"},Bk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class qk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r1(t,e){return t.useProto3Json||uf(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hk(t,e){return Sp(t,e.toTimestamp())}function Ui(t){return Gt(!!t),dt.fromTimestamp(function(n){const r=Wa(n);return new cr(r.seconds,r.nanos)}(t))}function V2(t,e){return i1(t,e).canonicalString()}function i1(t,e){const n=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dS(t){const e=fn.fromString(t);return Gt(_S(e)),e}function Ap(t,e){return V2(t.databaseId,e.path)}function yh(t,e){const n=dS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(mS(n))}function pS(t,e){return V2(t.databaseId,e)}function Wk(t){const e=dS(t);return e.length===4?fn.emptyPath():mS(e)}function s1(t){return new fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mS(t){return Gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z5(t,e,n){return{name:Ap(t,e),fields:n.value.mapValue.fields}}function $k(t,e){return"found"in e?function(r,i){Gt(!!i.found),i.found.name,i.found.updateTime;const s=yh(r,i.found.name),o=Ui(i.found.updateTime),a=i.found.createTime?Ui(i.found.createTime):dt.min(),l=new ni({mapValue:{fields:i.found.fields}});return yr.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Gt(!!i.missing),Gt(!!i.readTime);const s=yh(r,i.missing),o=Ui(i.readTime);return yr.newNoDocument(s,o)}(t,e):ut()}function Gk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Gt(f===void 0||typeof f=="string"),Cr.fromBase64String(f||"")):(Gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Cr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?Te.UNKNOWN:uS(u.code);return new Ue(f,u.message||"")}(o);n=new hS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yh(t,r.document.name),s=Ui(r.document.updateTime),o=r.document.createTime?Ui(r.document.createTime):dt.min(),a=new ni({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Ld(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yh(t,r.document),s=r.readTime?Ui(r.readTime):dt.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yh(t,r.document),s=r.removedTargetIds||[];n=new Ld([],s,i,null)}else{if(!("filter"in e))return ut();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Fk(i,s),a=r.targetId;n=new cS(a,o)}}return n}function gS(t,e){let n;if(e instanceof cf)n={update:Z5(t,e.key,e.value)};else if(e instanceof om)n={delete:Ap(t,e.key)};else if(e instanceof Ja)n={update:Z5(t,e.key,e.data),updateMask:nP(e.fieldMask)};else{if(!(e instanceof aS))return ut();n={verify:Ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof wp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ut()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Hk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ut()}(t,e.precondition)),n}function Kk(t,e){return t&&t.length>0?(Gt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ui(i.updateTime):Ui(s);return o.isEqual(dt.min())&&(o=Ui(s)),new Ck(o,i.transformResults||[])}(n,e))):[]}function Qk(t,e){return{documents:[pS(t,e.path)]}}function Yk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pS(t,i);const s=function(u){if(u.length!==0)return yS(As.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(v){return{field:cu(v.field),direction:Zk(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=r1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Xk(t){let e=Wk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const v=vS(m);return v instanceof As&&H3(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(v=>function(A){return new $h(hu(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(m){let v;return v=typeof m=="object"?m.value:m,uf(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(m){const v=!!m.before,p=m.values||[];return new yp(p,v)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const v=!m.before,p=m.values||[];return new yp(p,v)}(n.endAt)),yk(e,i,o,s,a,"F",l,u)}function Jk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hu(n.unaryFilter.field);return rr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hu(n.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(t):t.fieldFilter!==void 0?function(n){return rr.create(hu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return As.create(n.compositeFilter.filters.map(r=>vS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ut()}}(n.compositeFilter.op))}(t):ut()}function Zk(t){return Uk[t]}function eP(t){return Bk[t]}function tP(t){return zk[t]}function cu(t){return{fieldPath:t.canonicalString()}}function hu(t){return Tr.fromServerFormat(t.fieldPath)}function yS(t){return t instanceof rr?function(n){if(n.op==="=="){if(V5(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NAN"}};if(j5(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V5(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NAN"}};if(j5(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(n.field),op:eP(n.op),value:n.value}}}(t):t instanceof As?function(n){const r=n.getFilters().map(i=>yS(i));return r.length===1?r[0]:{compositeFilter:{op:tP(n.op),filters:r}}}(t):ut()}function nP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _S(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,i,s=dt.min(),o=dt.min(),a=Cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.ct=e}}function iP(t){const e=Xk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.un=new oP}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(Ha.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class oP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new nc(0)}static kn(){return new nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.changes=new hc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vh(r.mutation,i,Mi.empty(),cr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=Tl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Tl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jo();const o=gh(),a=function(){return gh()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ja)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),vh(f.mutation,u,f.mutation.getFieldMask(),cr.now())):o.set(u.key,Mi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return a.set(u,new lP(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gh();let i=new On((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Mi.empty();f=a.applyToLocalView(u,f),r.set(l,f);const m=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,m=Z3();f.forEach(v=>{if(!s.has(v)){const p=sS(n.get(v),r.get(v));p!==null&&m.set(v,p),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(Tl());let a=-1,l=s;return o.next(u=>Ce.forEach(u,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?Ce.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ft())).next(f=>({batchId:a,changes:J3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=rh();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const u=function(m,v){return new cc(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,v)=>{o=o.insert(m,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,yr.newInvalidDocument(f)))});let a=rh();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&vh(f.mutation,u,Mi.empty(),cr.now()),rm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:iP(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.overlays=new On(rt.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Tl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=Tl(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Tl(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=Tl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ok(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.sessionToken=Cr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Tr=new kr(mr.Er),this.dr=new kr(mr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new rt(new fn([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new rt(new fn([])),r=new mr(n,e),i=new mr(n,e+1);let s=Ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return rt.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kr(mr.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Dk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(Qt);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new mr(new rt(s),0);let a=new kr(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mr(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.Mr=e,this.docs=function(){return new On(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=jo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ZN(JN(f),r)<=0||(i.has(f.key)||rm(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ut()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mP(this)}getSize(e){return Ce.resolve(this.size)}}class mP extends aP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.persistence=e,this.Nr=new hc(n=>R2(n),D2),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new U2,this.targetCount=0,this.kr=nc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new k2(0),this.Kr=!1,this.Kr=!0,this.$r=new fP,this.referenceDelegate=e(this),this.Ur=new gP(this),this.indexManager=new sP,this.remoteDocumentCache=function(i){return new pP(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new rP(n),this.Gr=new cP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dP(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new yP(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class yP extends tk{constructor(e){super(),this.currentSequenceNumber=e}}class B2{constructor(e){this.persistence=e,this.Jr=new U2,this.Yr=null}static Zr(e){return new B2(e)}get Xr(){if(this.Yr)return this.Yr;throw ut()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,dt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new z2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return x6()?8:nk(Kr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _P;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=Ut.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(Wc()<=Ut.DEBUG&&$e("QueryEngine","Query:",uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=Ut.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):Ce.resolve())}Yi(e,n){if(q5(n))return Ce.resolve(null);let r=Js(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_p(n,null,"F"),r=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,_p(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return q5(n)||i.isEqual(dt.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(Wc()<=Ut.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uu(n)),this.rs(e,o,n,XN(i,-1)).next(a=>a))})}ts(e,n){let r=new kr(Y3(e));return n.forEach((i,s)=>{rm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=Ut.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",uu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ha.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Qt),this._s=new hc(s=>R2(s),D2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function SP(t,e,n,r){return new bP(t,e,n,r)}async function wS(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function AP(t,e){const n=bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const m=u.batch,v=m.keys();let p=Ce.resolve();return v.forEach(A=>{p=p.next(()=>f.getEntry(l,A)).next(I=>{const R=u.docVersions.get(A);Gt(R!==null),I.version.compareTo(R)<0&&(m.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),f.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bS(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function EP(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,m)=>{const v=i.get(m);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let p=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(Cr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(m,p),function(I,R,b){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,p,f)&&a.push(n.Ur.updateTargetData(s,p))});let l=jo(),u=Ft();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(xP(s,o,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(dt.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function xP(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(dt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function IP(t,e){const n=bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TP(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ia(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function o1(t,e,n){const r=bt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lf(o))throw o;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function e_(t,e,n){const r=bt(t);let i=dt.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const m=bt(l),v=m._s.get(f);return v!==void 0?Ce.resolve(m.os.get(v)):m.Ur.getTargetData(u,f)}(r,o,Js(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:dt.min(),n?s:Ft())).next(a=>(NP(r,wk(e),a),{documents:a,Ts:s})))}function NP(t,e,n){let r=t.us.get(e)||dt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class t_{constructor(){this.activeTargetIds=Ik()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kP{constructor(){this.so=new t_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new t_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function _g(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="WebChannelConnection";class RP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=_g(),l=this.xo(n,r.toUriEncodedString());$e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(f=>($e("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ju("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=CP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=_g();return new Promise((o,a)=>{const l=new L3;l.setWithCredentials(!0),l.listenOnce(R3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kd.NO_ERROR:const f=l.getResponseJson();$e(Vr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case kd.TIMEOUT:$e(Vr,`RPC '${e}' ${s} timed out`),a(new Ue(Te.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const m=l.getStatus();if($e(Vr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const p=v==null?void 0:v.error;if(p&&p.status&&p.message){const A=function(R){const b=R.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(b)>=0?b:Te.UNKNOWN}(p.status);a(new Ue(A,p.message))}else a(new Ue(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(Te.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e(Vr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);$e(Vr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=_g(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=F3(),a=O3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");$e(Vr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=o.createWebChannel(f,l);let v=!1,p=!1;const A=new LP({Io:R=>{p?$e(Vr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||($e(Vr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),$e(Vr,`RPC '${e}' stream ${i} sending:`,R),m.send(R))},To:()=>m.close()}),I=(R,b,N)=>{R.listen(b,P=>{try{N(P)}catch(F){setTimeout(()=>{throw F},0)}})};return I(m,nh.EventType.OPEN,()=>{p||($e(Vr,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),I(m,nh.EventType.CLOSE,()=>{p||(p=!0,$e(Vr,`RPC '${e}' stream ${i} transport closed`),A.So())}),I(m,nh.EventType.ERROR,R=>{p||(p=!0,Ju(Vr,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new Ue(Te.UNAVAILABLE,"The operation could not be completed")))}),I(m,nh.EventType.MESSAGE,R=>{var b;if(!p){const N=R.data[0];Gt(!!N);const P=N,F=P.error||((b=P[0])===null||b===void 0?void 0:b.error);if(F){$e(Vr,`RPC '${e}' stream ${i} received error:`,F);const Y=F.status;let te=function(x){const L=tr[x];if(L!==void 0)return uS(L)}(Y),V=F.message;te===void 0&&(te=Te.INTERNAL,V="Unknown error status: "+Y+" with message "+F.message),p=!0,A.So(new Ue(te,V)),m.close()}else $e(Vr,`RPC '${e}' stream ${i} received:`,N),A.bo(N)}}),I(a,D3.STAT_EVENT,R=>{R.stat===X0.PROXY?$e(Vr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===X0.NOPROXY&&$e(Vr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return new qk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(Mo(n.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ue(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DP extends SS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Gk(this.serializer,e),r=function(s){if(!("targetChange"in s))return dt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?dt.min():o.readTime?Ui(o.readTime):dt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=s1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=t1(l)?{documents:Qk(s,l)}:{query:Yk(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fS(s,o.resumeToken);const u=r1(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(dt.min())>0){a.readTime=Sp(s,o.snapshotVersion.toTimestamp());const u=r1(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Jk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=s1(this.serializer),n.removeTarget=e,this.a_(n)}}class OP extends SS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Kk(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=s1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ue(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,i1(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(Te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,i1(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(Te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class MP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mo(n),this.D_=!1):$e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ql(this)&&($e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=bt(l);u.L_.add(4),await ff(u),u.q_.set("Unknown"),u.L_.delete(4),await um(u)}(this))})}),this.q_=new MP(r,i)}}async function um(t){if(Ql(t))for(const e of t.B_)await e(!0)}async function ff(t){for(const e of t.B_)await e(!1)}function AS(t,e){const n=bt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),G2(n)?$2(n):fc(n).r_()&&W2(n,e))}function H2(t,e){const n=bt(t),r=fc(n);n.N_.delete(e),r.r_()&&ES(n,e),n.N_.size===0&&(r.r_()?r.o_():Ql(n)&&n.q_.set("Unknown"))}function W2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).A_(e)}function ES(t,e){t.Q_.xe(e),fc(t).R_(e)}function $2(t){t.Q_=new Vk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.q_.v_()}function G2(t){return Ql(t)&&!fc(t).n_()&&t.N_.size>0}function Ql(t){return bt(t).L_.size===0}function xS(t){t.Q_=void 0}async function VP(t){t.q_.set("Online")}async function UP(t){t.N_.forEach((e,n)=>{W2(t,e)})}async function BP(t,e){xS(t),G2(t)?(t.q_.M_(e),$2(t)):t.q_.set("Unknown")}async function zP(t,e,n){if(t.q_.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ep(t,r)}else if(e instanceof Ld?t.Q_.Ke(e):e instanceof cS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(dt.min()))try{const r=await bS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Cr.EMPTY_BYTE_STRING,f.snapshotVersion)),ES(s,l);const m=new Ia(f.target,l,u,f.sequenceNumber);W2(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),await Ep(t,r)}}async function Ep(t,e,n){if(!lf(e))throw e;t.L_.add(1),await ff(t),t.q_.set("Offline"),n||(n=()=>bS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await um(t)})}function IS(t,e){return e().catch(n=>Ep(t,n,e))}async function cm(t){const e=bt(t),n=$a(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qP(e);)try{const i=await IP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,HP(e,i)}catch(i){await Ep(e,i)}TS(e)&&NS(e)}function qP(t){return Ql(t)&&t.O_.length<10}function HP(t,e){t.O_.push(e);const n=$a(t);n.r_()&&n.V_&&n.m_(e.mutations)}function TS(t){return Ql(t)&&!$a(t).n_()&&t.O_.length>0}function NS(t){$a(t).start()}async function WP(t){$a(t).p_()}async function $P(t){const e=$a(t);for(const n of t.O_)e.m_(n.mutations)}async function GP(t,e,n){const r=t.O_.shift(),i=M2.from(r,e,n);await IS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cm(t)}async function KP(t,e){e&&$a(t).V_&&await async function(r,i){if(function(o){return lS(o)&&o!==Te.ABORTED}(i.code)){const s=r.O_.shift();$a(r).s_(),await IS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cm(r)}}(t,e),TS(t)&&NS(t)}async function r_(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Ql(n);n.L_.add(3),await ff(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await um(n)}async function QP(t,e){const n=bt(t);e?(n.L_.delete(2),await um(n)):e||(n.L_.add(2),await ff(n),n.q_.set("Unknown"))}function fc(t){return t.K_||(t.K_=function(n,r,i){const s=bt(n);return s.w_(),new DP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:VP.bind(null,t),Ro:UP.bind(null,t),mo:BP.bind(null,t),d_:zP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),G2(t)?$2(t):t.q_.set("Unknown")):(await t.K_.stop(),xS(t))})),t.K_}function $a(t){return t.U_||(t.U_=function(n,r,i){const s=bt(n);return s.w_(),new OP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WP.bind(null,t),mo:KP.bind(null,t),f_:$P.bind(null,t),g_:GP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cm(t)):(await t.U_.stop(),t.O_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new K2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q2(t,e){if(Mo("AsyncQueue",`${e}: ${t}`),lf(t))return new Ue(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=rh(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Ou(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.W_=new On(rt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ut():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class rc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new rc(e,n,Ou.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class XP{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=bt(n),s=i.queries;i.queries=s_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ue(Te.ABORTED,"Firestore shutting down"))}}function s_(){return new hc(t=>Q3(t),nm)}async function kS(t,e){const n=bt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new YP,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Q2(o,`Initialization of query '${uu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Y2(n)}async function PS(t,e){const n=bt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JP(t,e){const n=bt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Y2(n)}function ZP(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Y2(t){t.Y_.forEach(e=>{e.next()})}var a1,o_;(o_=a1||(a1={})).ea="default",o_.Cache="cache";class CS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==a1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class RS{constructor(e){this.key=e}}class eC{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=Y3(e),this.Ra=new Ou(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new i_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const v=i.get(f),p=rm(this.query,m)?m:null,A=!!v&&this.mutatedKeys.has(v.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;v&&p?v.data.isEqual(p.data)?A!==I&&(r.track({type:3,doc:p}),R=!0):this.ga(v,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),R=!0):v&&!p&&(r.track({type:1,doc:v}),R=!0,(l||u)&&(a=!0)),R&&(p?(o=o.add(p),s=I?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(p,A){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return I(p)-I(A)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new rc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new i_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new RS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new LS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class tC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nC{constructor(e){this.key=e,this.va=!1}}class rC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hc(a=>Q3(a),nm),this.Ma=new Map,this.xa=new Set,this.Oa=new On(rt.comparator),this.Na=new Map,this.La=new U2,this.Ba={},this.ka=new Map,this.qa=nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function iC(t,e,n=!0){const r=VS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await DS(r,e,n,!0),i}async function sC(t,e){const n=VS(t);await DS(n,e,!0,!1)}async function DS(t,e,n,r){const i=await TP(t.localStore,Js(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await oC(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AS(t.remoteStore,i),a}async function oC(t,e,n,r,i){t.Ka=(m,v,p)=>async function(I,R,b,N){let P=R.view.ma(b);P.ns&&(P=await e_(I.localStore,R.query,!1).then(({documents:V})=>R.view.ma(V,P)));const F=N&&N.targetChanges.get(R.targetId),Y=N&&N.targetMismatches.get(R.targetId)!=null,te=R.view.applyChanges(P,I.isPrimaryClient,F,Y);return l_(I,R.targetId,te.wa),te.snapshot}(t,m,v,p);const s=await e_(t.localStore,e,!0),o=new eC(e,s.Ts),a=o.ma(s.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);l_(t,n,u.wa);const f=new tC(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function aC(t,e,n){const r=bt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!nm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await o1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&H2(r.remoteStore,i.targetId),l1(r,i.targetId)}).catch(af)):(l1(r,i.targetId),await o1(r.localStore,i.targetId,!0))}async function lC(t,e){const n=bt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),H2(n.remoteStore,r.targetId))}async function uC(t,e,n){const r=gC(t);try{const i=await function(o,a){const l=bt(o),u=cr.now(),f=a.reduce((p,A)=>p.add(A.key),Ft());let m,v;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let A=jo(),I=Ft();return l.cs.getEntries(p,f).next(R=>{A=R,A.forEach((b,N)=>{N.isValidDocument()||(I=I.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,A)).next(R=>{m=R;const b=[];for(const N of a){const P=Rk(N,m.get(N.key).overlayedDocument);P!=null&&b.push(new Ja(N.key,P,B3(P.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,a)}).next(R=>{v=R;const b=R.applyToLocalDocumentSet(m,I);return l.documentOverlayCache.saveOverlays(p,R.batchId,b)})}).then(()=>({batchId:v.batchId,changes:J3(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Qt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await df(r,i.changes),await cm(r.remoteStore)}catch(i){const s=Q2(i,"Failed to persist write");n.reject(s)}}async function OS(t,e){const n=bt(t);try{const r=await EP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Gt(o.va):i.removedDocuments.size>0&&(Gt(o.va),o.va=!1))}),await df(n,r,e)}catch(r){await af(r)}}function a_(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=bt(o);l.onlineState=a;let u=!1;l.queries.forEach((f,m)=>{for(const v of m.j_)v.Z_(a)&&(u=!0)}),u&&Y2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cC(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(rt.comparator);o=o.insert(s,yr.newNoDocument(s,dt.min()));const a=Ft().add(s),l=new am(dt.min(),new Map,new On(Qt),o,a);await OS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),X2(r)}else await o1(r.localStore,e,!1).then(()=>l1(r,e,n)).catch(af)}async function hC(t,e){const n=bt(t),r=e.batch.batchId;try{const i=await AP(n.localStore,e);MS(n,r,null),FS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await df(n,i)}catch(i){await af(i)}}async function fC(t,e,n){const r=bt(t);try{const i=await function(o,a){const l=bt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(m=>(Gt(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);MS(r,e,n),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await df(r,i)}catch(i){await af(i)}}function FS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function MS(t,e,n){const r=bt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function l1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jS(t,r)})}function jS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(H2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),X2(t))}function l_(t,e,n){for(const r of n)r instanceof LS?(t.La.addReference(r.key,e),dC(t,r)):r instanceof RS?($e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jS(t,r.key)):ut()}function dC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($e("SyncEngine","New document in limbo: "+n),t.xa.add(r),X2(t))}function X2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new rt(fn.fromString(e)),r=t.qa.next();t.Na.set(r,new nC(n)),t.Oa=t.Oa.insert(n,r),AS(t.remoteStore,new Ia(Js(O2(n.path)),r,"TargetPurposeLimboResolution",k2.oe))}}async function df(t,e,n){const r=bt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=z2.Wi(l.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const f=bt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ce.forEach(u,v=>Ce.forEach(v.$i,p=>f.persistence.referenceDelegate.addReference(m,v.targetId,p)).next(()=>Ce.forEach(v.Ui,p=>f.persistence.referenceDelegate.removeReference(m,v.targetId,p)))))}catch(m){if(!lf(m))throw m;$e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const v=m.targetId;if(!m.fromCache){const p=f.os.get(v),A=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(v,I)}}}(r.localStore,s))}async function pC(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=await wS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ue(Te.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await df(n,r.hs)}}function mC(t,e){const n=bt(t),r=n.Na.get(e);if(r&&r.va)return Ft().add(r.key);{let i=Ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function VS(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cC.bind(null,e),e.Ca.d_=JP.bind(null,e.eventManager),e.Ca.$a=ZP.bind(null,e.eventManager),e}function gC(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,e),e}class xp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return SP(this.persistence,new wP,e.initialUser,this.serializer)}Ga(e){return new vP(B2.Zr,this.serializer)}Wa(e){return new kP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xp.provider={build:()=>new xp};class u1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XP}()}createDatastore(e){const n=lm(e.databaseInfo.databaseId),r=function(s){return new RP(s)}(e.databaseInfo);return function(s,o,a,l){return new FP(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new jP(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return n_.D()?new n_:new PP}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const m=new rC(i,s,o,a,l,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=bt(i);$e("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ff(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}u1.provider={build:()=>new u1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ue(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=bt(i),a={documents:s.map(m=>Ap(o.serializer,m))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,fn.emptyPath(),a,s.length),u=new Map;l.forEach(m=>{const v=$k(o.serializer,m);u.set(v.key.toString(),v)});const f=[];return s.forEach(m=>{const v=u.get(m.toString());Gt(!!v),f.push(v)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new om(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=rt.fromPath(r);this.mutations.push(new aS(i,this.precondition(i)))}),await async function(r,i){const s=bt(r),o={writes:i.map(a=>gS(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,fn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ut();n=dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ue(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(dt.min())?$r.exists(!1):$r.updateTime(n):$r.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(dt.min()))throw new Ue(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(n)}return $r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new q2(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new vC(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!uf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=j3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Q2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bg(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wC(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>r_(e.remoteStore,i)),t._onlineComponents=e}async function wC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{await bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await bg(t,new xp)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),await bg(t,new xp);return t._offlineComponents}async function J2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),await u_(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),await u_(t,new u1))),t._onlineComponents}function bC(t){return J2(t).then(e=>e.syncEngine)}function SC(t){return J2(t).then(e=>e.datastore)}async function c1(t){const e=await J2(t),n=e.eventManager;return n.onListen=iC.bind(null,e.syncEngine),n.onUnlisten=aC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lC.bind(null,e.syncEngine),n}function AC(t,e,n={}){const r=new Co;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new US({next:v=>{f.Za(),o.enqueueAndForget(()=>PS(s,m)),v.fromCache&&l.source==="server"?u.reject(new Ue(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),m=new CS(a,f,{includeMetadataChanges:!0,_a:!0});return kS(s,m)}(await c1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){if(!n)throw new Ue(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EC(t,e,n,r){if(e===!0&&r===!0)throw new Ue(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!rt.isDocumentKey(t))throw new Ue(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(rt.isDocumentKey(t))throw new Ue(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut()}function bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(t);throw new Ue(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function xC(t,e){if(e<=0)throw new Ue(Te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ue(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zN;switch(r.type){case"firstParty":return new $N(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c_.get(n);r&&($e("ComponentProvider","Removing Datastore"),c_.delete(n),r.terminate())}(this),Promise.resolve()}}function IC(t,e,n,r={}){var i;const s=(t=bs(t,fm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Hr.MOCK_USER;else{a=y6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ue(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Hr(u)}t._authCredentials=new qN(new M3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class ii{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Ua extends qo{constructor(e,n,r){super(e,n,O2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new rt(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function Bl(t,e,...n){if(t=Zn(t),zS("collection","path",e),t instanceof fm){const r=fn.fromString(e,...n);return f_(r),new Ua(t,null,r)}{if(!(t instanceof ii||t instanceof Ua))throw new Ue(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return f_(r),new Ua(t.firestore,null,r)}}function Ta(t,e,...n){if(t=Zn(t),arguments.length===1&&(e=j3.newId()),zS("doc","path",e),t instanceof fm){const r=fn.fromString(e,...n);return h_(r),new ii(t,null,new rt(r))}{if(!(t instanceof ii||t instanceof Ua))throw new Ue(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return h_(r),new ii(t.firestore,t instanceof Ua?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new q2(this,"async_queue_retry"),this.Vu=()=>{const r=wg();r&&$e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Co;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lf(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=K2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ut()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function m_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ga extends fm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new p_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function TC(t,e){const n=typeof t=="object"?t:N3(),r=typeof t=="string"?t:"(default)",i=T2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=g6("firestore");s&&IC(i,...s)}return i}function dm(t){if(t._terminated)throw new Ue(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NC(t),t._firestoreClient}function NC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new sk(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,BS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _C(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(Cr.fromBase64String(e))}catch(n){throw new Ue(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^__.*__$/;class PC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new cf(e,this.data,n,this.fieldTransforms)}}class qS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class nv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ip(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HS(this.Cu)&&kC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class CC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lm(e)}Qu(e,n,r,i=!1){return new nv({Cu:e,methodName:n,qu:r,path:Tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=lm(t._databaseId);return new CC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WS(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);rv("Data must be an object, but it was:",o,r);const a=KS(r,o);let l,u;if(s.merge)l=new Mi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const v=h1(e,m,n);if(!o.contains(v))throw new Ue(Te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);YS(f,v)||f.push(v)}l=new Mi(f),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new PC(new ni(a),l,u)}class mm extends Z2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}function $S(t,e,n,r){const i=t.Qu(1,e,n);rv("Data must be an object, but it was:",i,r);const s=[],o=ni.empty();Kl(r,(l,u)=>{const f=iv(e,l,n);u=Zn(u);const m=i.Nu(f);if(u instanceof mm)s.push(f);else{const v=mf(u,m);v!=null&&(s.push(f),o.set(f,v))}});const a=new Mi(s);return new qS(o,a,i.fieldTransforms)}function GS(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[h1(e,r,n)],l=[i];if(s.length%2!=0)throw new Ue(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(h1(e,s[v])),l.push(s[v+1]);const u=[],f=ni.empty();for(let v=a.length-1;v>=0;--v)if(!YS(u,a[v])){const p=a[v];let A=l[v];A=Zn(A);const I=o.Nu(p);if(A instanceof mm)u.push(p);else{const R=mf(A,I);R!=null&&(u.push(p),f.set(p,R))}}const m=new Mi(u);return new qS(f,m,o.fieldTransforms)}function LC(t,e,n,r=!1){return mf(n,t.Qu(r?4:3,e))}function mf(t,e){if(QS(t=Zn(t)))return rv("Unsupported field value:",e,t),KS(t,e);if(t instanceof Z2)return function(r,i){if(!HS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mf(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cr.fromDate(r);return{timestampValue:Sp(i.serializer,s)}}if(r instanceof cr){const s=new cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(i.serializer,s)}}if(r instanceof ev)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:fS(i.serializer,r._byteString)};if(r instanceof ii){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:V2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return F2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hm(r)}`)}(t,e)}function KS(t,e){const n={};return V3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(t,(r,i)=>{const s=mf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof ev||t instanceof zl||t instanceof ii||t instanceof Z2||t instanceof tv)}function rv(t,e,n){if(!QS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function h1(t,e,n){if((e=Zn(e))instanceof pf)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const RC=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(RC)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ue(Te.INVALID_ARGUMENT,a+t+l)}function YS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DC extends Tp{data(){return super.data()}}function gm(t,e){return typeof e=="string"?iv(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}class ov extends sv{}function f1(t,e,...n){let r=[];e instanceof sv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof av).length,a=s.filter(l=>l instanceof vm).length;if(o>1||o>0&&a>0)throw new Ue(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vm extends ov{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vm(e,n,r)}_apply(e){const n=this._parse(e);return JS(e._query,n),new qo(e.firestore,e.converter,n1(e._query,n))}_parse(e){const n=pm(e.firestore);return function(s,o,a,l,u,f,m){let v;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ue(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){v_(m,f);const p=[];for(const A of m)p.push(g_(l,s,A));v={arrayValue:{values:p}}}else v=g_(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||v_(m,f),v=LC(a,o,m,f==="in"||f==="not-in");return rr.create(u,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sg(t,e,n){const r=e,i=gm("where",t);return vm._create(i,r,n)}class av extends sv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new av(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:As.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)JS(o,l),o=n1(o,l)}(e._query,n),new qo(e.firestore,e.converter,n1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lv extends ov{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ue(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ue(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $h(s,o)}(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function d1(t,e="asc"){const n=e,r=gm("orderBy",t);return lv._create(r,n)}class uv extends ov{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new uv(e,n,r)}_apply(e){return new qo(e.firestore,e.converter,_p(e._query,this._limit,this._limitType))}}function OC(t){return xC("limit",t),uv._create("limit",t,"F")}function g_(t,e,n){if(typeof(n=Zn(n))=="string"){if(n==="")throw new Ue(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K3(e)&&n.indexOf("/")!==-1)throw new Ue(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fn.fromString(n));if(!rt.isDocumentKey(r))throw new Ue(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M5(t,new rt(r))}if(n instanceof ii)return M5(t,n._key);throw new Ue(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(n)}.`)}function v_(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ue(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZS{convertValue(e,n="none"){switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ut()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Kl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Kn(o.doubleValue));return new tv(s)}convertGeoPoint(e){return new ev(Kn(e.latitude),Kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=C2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new cr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fn.fromString(e);Gt(_S(r));const i=new Hh(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||Mo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class FC extends ZS{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cv extends Tp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rd extends cv{data(e={}){return super.data(e)}}class tA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rd(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Rd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Rd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:MC(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}class ym extends ZS{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}function jC(t){t=bs(t,qo);const e=bs(t.firestore,Ga),n=dm(e),r=new ym(e);return XS(t._query),AC(n,t._query).then(i=>new tA(e,r,t,i))}function hv(t,e,n,...r){t=bs(t,ii);const i=bs(t.firestore,Ga),s=pm(i);let o;return o=typeof(e=Zn(e))=="string"||e instanceof pf?GS(s,"updateDoc",t._key,e,n,r):$S(s,"updateDoc",t._key,e),fv(i,[o.toMutation(t._key,$r.exists(!0))])}function nA(t){return fv(bs(t.firestore,Ga),[new om(t._key,$r.none())])}function rA(t,e){const n=bs(t.firestore,Ga),r=Ta(t),i=eA(t.converter,e);return fv(n,[WS(pm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function iA(t,...e){var n,r,i;t=Zn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||m_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(m_(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,u,f;if(t instanceof ii)u=bs(t.firestore,Ga),f=O2(t._key.path),l={next:m=>{e[o]&&e[o](VC(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=bs(t,qo);u=bs(m.firestore,Ga),f=m._query;const v=new ym(u);l={next:p=>{e[o]&&e[o](new tA(u,v,m,p))},error:e[o+1],complete:e[o+2]},XS(t._query)}return function(v,p,A,I){const R=new US(I),b=new CS(p,R,A);return v.asyncQueue.enqueueAndForget(async()=>kS(await c1(v),b)),()=>{R.Za(),v.asyncQueue.enqueueAndForget(async()=>PS(await c1(v),b))}}(dm(u),f,a,l)}function fv(t,e){return function(r,i){const s=new Co;return r.asyncQueue.enqueueAndForget(async()=>uC(await bC(r),i,s)),s.promise}(dm(t),e)}function VC(t,e,n){const r=n.docs.get(e._key),i=new ym(t);return new cv(t,i,e._key,r,new Iu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={maxAttempts:5};function $c(t,e){if((t=Zn(t)).firestore!==e)throw new Ue(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=pm(n)}get(n){const r=$c(n,this._firestore),i=new FC(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ut();const o=s[0];if(o.isFoundDocument())return new Tp(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Tp(this._firestore,i,r._key,null,r.converter);throw ut()})}set(n,r,i){const s=$c(n,this._firestore),o=eA(s.converter,r,i),a=WS(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=$c(n,this._firestore);let a;return a=typeof(r=Zn(r))=="string"||r instanceof pf?GS(this._dataReader,"Transaction.update",o._key,r,i,s):$S(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=$c(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$c(e,this._firestore),r=new ym(this._firestore);return super.get(e).then(i=>new cv(this._firestore,r,n._key,i._document,new Iu(!1,!1),n.converter))}}function zC(t,e,n){t=bs(t,Ga);const r=Object.assign(Object.assign({},UC),n);return function(s){if(s.maxAttempts<1)throw new Ue(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Co;return s.asyncQueue.enqueueAndForget(async()=>{const u=await SC(s);new yC(s.asyncQueue,u,a,o,l).au()}),l.promise}(dm(t),i=>e(new BC(t,i)),r)}(function(e,n=!0){(function(i){uc=i})(lc),Xu(new Ml("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ga(new HN(r.getProvider("auth-internal")),new KN(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ue(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Va(L5,"4.7.3",e),Va(L5,"4.7.3","esm2017")})();function dv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qC=sA,oA=new sf("auth","Firebase",sA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new x2("@firebase/auth");function HC(t,...e){Np.logLevel<=Ut.WARN&&Np.warn(`Auth (${lc}): ${t}`,...e)}function Dd(t,...e){Np.logLevel<=Ut.ERROR&&Np.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw pv(t,...e)}function Zs(t,...e){return pv(t,...e)}function aA(t,e,n){const r=Object.assign(Object.assign({},qC()),{[e]:n});return new sf("auth","Firebase",r).create(e,{appName:t.name})}function Ba(t){return aA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oA.create(t,...e)}function pt(t,e,...n){if(!t)throw pv(e,...n)}function Io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function Vo(t,e){t||Io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WC(){return y_()==="http:"||y_()==="https:"}function y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WC()||S6()||"connection"in navigator)?navigator.onLine:!0}function GC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vo(n>e,"Short delay should be less than long delay!"),this.isMobile=_6()||A6()}get(){return $C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e){Vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new gf(3e4,6e4);function Yl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Za(t,e,n,r,i={}){return uA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=of(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return b6()||(u.referrerPolicy="no-referrer"),lA.fetch()(cA(t,t.config.apiHost,n,a),u)})}async function uA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KC),e);try{const i=new XC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aA(t,f,u);Es(t,f)}}catch(i){if(i instanceof zo)throw i;Es(t,"network-request-failed",{message:String(i)})}}async function _m(t,e,n,r,i={}){const s=await Za(t,e,n,r,i);return"mfaPendingCredential"in s&&Es(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?mv(t.config,i):`${t.config.apiScheme}://${i}`}function YC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),QC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zs(t,e,r);return i.customData._tokenResponse=n,i}function __(t){return t!==void 0&&t.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZC(t,e){return Za(t,"GET","/v2/recaptchaConfig",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function hA(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tL(t,e=!1){const n=Zn(t),r=await n.getIdToken(e),i=gv(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(Ag(i.auth_time)),issuedAtTime:_h(Ag(i.iat)),expirationTime:_h(Ag(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ag(t){return Number(t)*1e3}function gv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=b3(n);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function w_(t){const e=gv(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zo&&nL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qh(t,hA(n,{idToken:r}));pt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fA(s.providerUserInfo):[],a=sL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new m1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function iL(t){const e=Zn(t);await kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fA(t){return t.map(e=>{var{providerId:n}=e,r=dv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){const n=await uA(t,{},async()=>{const r=of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aL(t,e){return Za(t,"POST","/v2/accounts:revokeToken",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fu;return r&&(pt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new m1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qh(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tL(this,e)}reload(){return iL(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xo(this.auth.app))return Promise.reject(Ba(this.auth));const e=await this.getIdToken();return await Qh(this,eL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,N=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:P,emailVerified:F,isAnonymous:Y,providerData:te,stsTokenManager:V}=n;pt(P&&V,e,"internal-error");const E=Fu.fromJSON(this.name,V);pt(typeof P=="string",e,"internal-error"),da(m,e.name),da(v,e.name),pt(typeof F=="boolean",e,"internal-error"),pt(typeof Y=="boolean",e,"internal-error"),da(p,e.name),da(A,e.name),da(I,e.name),da(R,e.name),da(b,e.name),da(N,e.name);const x=new To({uid:P,auth:e,email:v,emailVerified:F,displayName:m,isAnonymous:Y,photoURL:A,phoneNumber:p,tenantId:I,stsTokenManager:E,createdAt:b,lastLoginAt:N});return te&&Array.isArray(te)&&(x.providerData=te.map(L=>Object.assign({},L))),R&&(x._redirectEventId=R),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fu;i.updateFromServerResponse(n);const s=new To({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fu;a.updateFromIdToken(r);const l=new To({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new m1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function No(t){Vo(t instanceof Function,"Expected a class definition");let e=b_.get(t);return e?(Vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dA.type="NONE";const S_=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class Mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,s),this.fullPersistenceKey=Od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?To._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mu(No(S_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||No(S_);const o=Od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const m=To._fromJSON(e,f);u!==s&&(a=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Mu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_A(e))return"Blackberry";if(wA(e))return"Webos";if(mA(e))return"Safari";if((e.includes("chrome/")||gA(e))&&!e.includes("edge/"))return"Chrome";if(yA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pA(t=Kr()){return/firefox\//i.test(t)}function mA(t=Kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gA(t=Kr()){return/crios\//i.test(t)}function vA(t=Kr()){return/iemobile/i.test(t)}function yA(t=Kr()){return/android/i.test(t)}function _A(t=Kr()){return/blackberry/i.test(t)}function wA(t=Kr()){return/webos/i.test(t)}function vv(t=Kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lL(t=Kr()){var e;return vv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uL(){return E6()&&document.documentMode===10}function bA(t=Kr()){return vv(t)||yA(t)||wA(t)||_A(t)||/windows phone/i.test(t)||vA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e=[]){let n;switch(t){case"Browser":n=A_(Kr());break;case"Worker":n=`${A_(Kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return Za(t,"GET","/v2/passwordPolicy",Yl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=6;class dL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new cL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Mu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hA(this,{idToken:e}),r=await To._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xo(this.app))return Promise.reject(Ba(this));const n=e?Zn(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xo(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xo(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(No(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),n=new dL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&No(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Mu.create(this,[No(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dc(t){return Zn(t)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=L6(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mL(t){wm=t}function AA(t){return wm.loadJS(t)}function gL(){return wm.recaptchaEnterpriseScript}function vL(){return wm.gapiScript}function yL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _L="recaptcha-enterprise",wL="NO_RECAPTCHA";class bL{constructor(e){this.type=_L,this.auth=dc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new JC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;__(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(wL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&__(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gL();l.length!==0&&(l+=a),AA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function x_(t,e,n,r=!1){const i=new bL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function I_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await x_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await x_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t,e){const n=T2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mp(s,e??{}))return i;Es(i,"already-initialized")}return n.initialize({options:e})}function AL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EL(t,e,n){const r=dc(t);pt(r._canInitEmulator,r,"emulator-config-failed"),pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=EA(e),{host:o,port:a}=xL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),IL()}function EA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xL(t){const e=EA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T_(o)}}}function T_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,n){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}async function TL(t,e){return Za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return _m(t,"POST","/v1/accounts:signInWithPassword",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return _m(t,"POST","/v1/accounts:signInWithEmailLink",Yl(t,e))}async function PL(t,e){return _m(t,"POST","/v1/accounts:signInWithEmailLink",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends yv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,n,"signInWithPassword",NL);case"emailLink":return kL(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,r,"signUpPassword",TL);case"emailLink":return PL(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e){return _m(t,"POST","/v1/accounts:signInWithIdp",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="http://localhost";class ql extends yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ql(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ju(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ju(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ju(e,n)}buildRequest(){const e={requestUri:CL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=of(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RL(t){const e=eh(th(t)).link,n=e?eh(th(e)).deep_link_id:null,r=eh(th(t)).deep_link_id;return(r?eh(th(r)).link:null)||r||n||e||t}class _v{constructor(e){var n,r,i,s,o,a;const l=eh(th(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,m=LL((i=l.mode)!==null&&i!==void 0?i:null);pt(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=RL(e);try{return new _v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,n){return Yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_v.parseLink(n);return pt(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends xA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends vf{constructor(){super("facebook.com")}static credential(e){return ql._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ql._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ba.credential(n,r)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends vf{constructor(){super("github.com")}static credential(e){return ql._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.GITHUB_SIGN_IN_METHOD="github.com";Sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends vf{constructor(){super("twitter.com")}static credential(e,n){return ql._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Aa.credential(n,r)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await To._fromIdTokenResponse(e,r,i),o=N_(r);return new ic({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=N_(r);return new ic({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function N_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends zo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pp(e,n,r,i)}}function IA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pp._fromErrorAndOperation(t,s,e,r):s})}async function DL(t,e,n=!1){const r=await Qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e,n=!1){const{auth:r}=t;if(xo(r.app))return Promise.reject(Ba(r));const i="reauthenticate";try{const s=await Qh(t,IA(r,i,e,t),n);pt(s.idToken,r,"internal-error");const o=gv(s.idToken);pt(o,r,"internal-error");const{sub:a}=o;return pt(t.uid===a,r,"user-mismatch"),ic._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e,n=!1){if(xo(t.app))return Promise.reject(Ba(t));const r="signIn",i=await IA(t,r,e),s=await ic._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FL(t,e){return TA(dc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t){const e=dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jL(t,e,n){return xo(t.app)?Promise.reject(Ba(t)):FL(Zn(t),pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ML(t),r})}function VL(t,e,n,r){return Zn(t).onIdTokenChanged(e,n,r)}function UL(t,e,n){return Zn(t).beforeAuthStateChanged(e,n)}function BL(t,e,n,r){return Zn(t).onAuthStateChanged(e,n,r)}function zL(t){return Zn(t).signOut()}const Cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1e3,HL=10;class kA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const WL=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PA.type="SESSION";const CA=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await $L(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=wv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return window}function KL(t){eo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof eo().WorkerGlobalScope<"u"&&typeof eo().importScripts=="function"}async function QL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XL(){return LA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebaseLocalStorageDb",JL=1,Lp="firebaseLocalStorage",DA="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sm(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function ZL(){const t=indexedDB.deleteDatabase(RA);return new yf(t).toPromise()}function g1(){const t=indexedDB.open(RA,JL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lp,{keyPath:DA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),await ZL(),e(await g1()))})})}async function k_(t,e,n){const r=Sm(t,!0).put({[DA]:e,value:n});return new yf(r).toPromise()}async function eR(t,e){const n=Sm(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function P_(t,e){const n=Sm(t,!0).delete(e);return new yf(n).toPromise()}const tR=800,nR=3;class OA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(XL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QL(),!this.activeServiceWorker)return;this.sender=new GL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g1();return await k_(e,Cp,"1"),await P_(e,Cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sm(i,!1).getAll();return new yf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OA.type="LOCAL";const rR=OA;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e){return e?No(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ju(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ju(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ju(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sR(t){return TA(t.auth,new bv(t),t.bypassAuthState)}function oR(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),OL(n,new bv(t),t.bypassAuthState)}async function aR(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),DL(n,new bv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:Es(this.auth,"internal-error")}}resolve(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new gf(2e3,1e4);class Tu extends FA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Vo(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lR.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="pendingRedirect",Fd=new Map;class cR extends FA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const r=await hR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hR(t,e){const n=pR(e),r=dR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fR(t,e){Fd.set(t._key(),e)}function dR(t){return No(t._redirectPersistence)}function pR(t){return Od(uR,t.config.apiKey,t.name)}async function mR(t,e,n=!1){if(xo(t.app))return Promise.reject(Ba(t));const r=dc(t),i=iR(r,e),o=await new cR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=10*60*1e3;class vR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gR&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function SR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _R(t);for(const n of e)try{if(AR(n))return}catch{}Es(t,"unauthorized-domain")}function AR(t){const e=p1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bR.test(n))return!1;if(wR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new gf(3e4,6e4);function L_(){const t=eo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xR(t){return new Promise((e,n)=>{var r,i,s;function o(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(Zs(t,"network-request-failed"))},timeout:ER.get()})}if(!((i=(r=eo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=eo().gapi)===null||s===void 0)&&s.load)o();else{const a=yL("iframefcb");return eo()[a]=()=>{gapi.load?o():n(Zs(t,"network-request-failed"))},AA(`${vL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Md=null,e})}let Md=null;function IR(t){return Md=Md||xR(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new gf(5e3,15e3),NR="__/auth/iframe",kR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LR(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mv(e,kR):`https://${t.config.authDomain}/${NR}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=CR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${of(r).slice(1)}`}async function RR(t){const e=await IR(t),n=eo().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:LR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zs(t,"network-request-failed"),a=eo().setTimeout(()=>{s(o)},TR.get());function l(){eo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OR=500,FR=600,MR="_blank",jR="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VR(t,e,n,r=OR,i=FR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DR),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kr().toLowerCase();n&&(a=gA(u)?MR:n),pA(u)&&(e=e||jR,l.scrollbars="yes");const f=Object.entries(l).reduce((v,[p,A])=>`${v}${p}=${A},`,"");if(lL(u)&&a!=="_self")return UR(e||"",a),new R_(null);const m=window.open(e||"",a,f);pt(m,t,"popup-blocked");try{m.focus()}catch{}return new R_(m)}function UR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="__/auth/handler",zR="emulator/auth/handler",qR=encodeURIComponent("fac");async function D_(t,e,n,r,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof xA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof vf){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${qR}=${encodeURIComponent(l)}`:"";return`${HR(t)}?${of(a).slice(1)}${u}`}function HR({config:t}){return t.emulator?mv(t,zR):`https://${t.authDomain}/${BR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CA,this._completeRedirectFn=mR,this._overrideRedirectResult=fR}async _openPopup(e,n,r,i){var s;Vo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await D_(e,n,r,p1(),i);return VR(e,o,wv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await D_(e,n,r,p1(),i);return KL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RR(e),r=new vR(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eg,{type:Eg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Eg];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||mA()||vv()}}const $R=WR;var O_="@firebase/auth",F_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(t){Xu(new Ml("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(t)},u=new pL(r,i,s,l);return AL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new Ml("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new GR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Va(O_,F_,KR(t)),Va(O_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=5*60,XR=E3("authIdTokenMaxAge")||YR;let M_=null;const JR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XR)return;const i=n==null?void 0:n.token;M_!==i&&(M_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZR(t=N3()){const e=T2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SL(t,{popupRedirectResolver:$R,persistence:[rR,WL,CA]}),r=E3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JR(s.toString());UL(n,o,()=>o(n.currentUser)),VL(n,a=>o(a))}}const i=S3("auth");return i&&EL(n,`http://${i}`),n}function e8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var t8="firebase",n8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va(t8,n8,"app");const r8={apiKey:"AIzaSyB0C2ecPKLnbIMzWuj9LHcZa_fa9c47GzM",authDomain:"landbys-cup-2288f.firebaseapp.com",projectId:"landbys-cup-2288f",storageBucket:"landbys-cup-2288f.appspot.com",messagingSenderId:"your_sender_id",appId:"your_app_id"},jA=T3(r8),pi=TC(jA),Sv=ZR(jA);function Av(){const[t,e]=ht.useState(null);return ht.useEffect(()=>{const n=BL(Sv,r=>{e(r)});return()=>n()},[]),t}const j_=new Map,od=new Map;function xg(t,e=[],n=!0,r=null,i=5*60*1e3){const[s,o]=ht.useState([]),[a,l]=ht.useState(!0),[u,f]=ht.useState(null),m=ht.useRef(),v=r||`${t}_${JSON.stringify(e)}`,p=ht.useMemo(()=>e,[e.length,e.map(A=>A.toString()).join(",")]);return ht.useEffect(()=>{if(!n){o([]),l(!1),f(null);return}const A=j_.get(v);if(A&&Date.now()-A.timestamp<i){o(A.data),l(!1),f(null);return}const I=od.get(v);if(I)return I.subscribers.add(o),o(I.currentData),l(!1),()=>{I.subscribers.delete(o),I.subscribers.size===0&&(I.unsubscribe(),od.delete(v))};l(!0),f(null);let R;p.length>0?R=f1(Bl(pi,t),...p):R=Bl(pi,t);const b=new Set([o]);let N=[];const P=iA(R,F=>{const Y=F.docs.map(te=>({id:te.id,...te.data()}));N=Y,j_.set(v,{data:Y,timestamp:Date.now()}),b.forEach(te=>{te(Y)}),l(!1),f(null)},F=>{console.error(`Error loading ${t}:`,F),f(F),l(!1),b.forEach(Y=>{})});return od.set(v,{unsubscribe:P,subscribers:b,currentData:N}),m.current=()=>{b.delete(o),b.size===0&&(P(),od.delete(v))},m.current},[t,p,n,v,i]),{data:s,loading:a,error:u}}const VA=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),H.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),H.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),H.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),i8=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("circle",{cx:"12",cy:"12",r:"10"}),H.jsx("circle",{cx:"12",cy:"12",r:"6"}),H.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),UA=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),BA=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),H.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),H.jsx("path",{d:"M4 22h16"}),H.jsx("path",{d:"M10 14.66V17c0 .55.47.98.97 1.21C12.04 18.75 14 20 16 20s4-1.25 5.03-1.79c.5-.23.97-.66.97-1.21v-2.34"}),H.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),wh=({className:t="w-5 h-5"})=>H.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),zA=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),H.jsx("circle",{cx:"9",cy:"7",r:"4"}),H.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),H.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});function s8({onLoginClick:t}){const e=Av(),n=async()=>{try{await zL(Sv)}catch(r){alert(r.message)}};return H.jsx("header",{className:"w-full py-4 bg-primary-800 shadow-sm sticky top-0 z-10 border-b border-primary-700",children:H.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[H.jsxs("h1",{className:"text-lg md:text-2xl font-semibold text-white tracking-tight flex items-center gap-2 md:gap-3",children:[H.jsx(i8,{className:"w-7 h-7 md:w-8 md:h-8 text-amber-400"}),"Landbys Cup"]}),H.jsx("div",{className:"text-primary-200 text-sm",children:e?H.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[H.jsx("span",{className:"text-primary-200 text-xs sm:text-sm truncate",children:e.email||e.displayName}),H.jsx("button",{onClick:n,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md font-medium text-sm transition-colors flex-shrink-0",children:"Logga ut"})]}):H.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[H.jsx("span",{className:"text-primary-300 text-xs sm:text-sm",children:"Ej inloggad"}),H.jsx("button",{onClick:t,className:"bg-primary-600 hover:bg-primary-700 text-white px-3 py-1 rounded-md font-medium text-sm transition-colors flex-shrink-0",children:"Logga in"})]})})]})})}function o8({onLoginSuccess:t,onClose:e}){const[n,r]=ht.useState(""),[i,s]=ht.useState(""),o=Av(),a=async()=>{try{await jL(Sv,n,i),t&&t()}catch(l){alert(l.message)}};return o?null:H.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm max-w-md mx-auto mt-8 border border-primary-200 relative",children:[e&&H.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-xl font-bold",children:""}),H.jsx("h2",{className:"text-lg font-semibold mb-4 text-center text-primary-800",children:"Logga in"}),H.jsx("input",{type:"email",value:n,onChange:l=>r(l.target.value),placeholder:"E-post",className:"border border-primary-300 p-3 w-full mb-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("input",{type:"password",value:i,onChange:l=>s(l.target.value),placeholder:"Lsenord",className:"border border-primary-300 p-3 w-full mb-4 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("button",{onClick:a,className:"w-full bg-primary-700 hover:bg-primary-800 text-white px-4 py-3 rounded-lg font-medium transition-colors",children:"Logga in"})]})}function Gc({active:t,onClick:e,icon:n,children:r}){return H.jsxs("button",{className:`flex-1 min-w-[140px] px-4 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all duration-200 border ${t?"bg-primary-700 text-white border-primary-700 shadow-sm":"bg-primary-50 text-primary-700 border-primary-200 hover:bg-primary-100 hover:border-primary-300"}`,onClick:e,children:[H.jsx("span",{className:"flex-shrink-0",children:n}),H.jsx("span",{children:r})]})}function a8({competitions:t,user:e}){const[n,r]=ht.useState(""),[i,s]=ht.useState(""),[o,a]=ht.useState([]),[l,u]=ht.useState(null),[f,m]=ht.useState(""),[v,p]=ht.useState(""),[A,I]=ht.useState([]),R=[1,2,3,4,5,6,7];function b(E){a(x=>x.includes(E)?x.filter(L=>L!==E):x.length<3?[...x,E]:x)}function N(E){I(x=>x.includes(E)?x.filter(L=>L!==E):x.length<3?[...x,E]:x)}const P=async()=>{if(!e)return alert("Du mste vara inloggad!");if(!n||!i||o.length===0)return alert("Fyll i namn, datum och minst 1 skiljemlsstation!");await rA(Bl(pi,"competitions"),{name:n,date:i,skiljemal:o}),r(""),s(""),a([])},F=E=>{u(E.id),m(E.name),p(E.date),I(E.skiljemal||[])},Y=async()=>{if(!e)return alert("Du mste vara inloggad!");if(!f||!v||A.length===0)return alert("Fyll i namn, datum och minst 1 skiljemlsstation!");await hv(Ta(pi,"competitions",l),{name:f,date:v,skiljemal:A}),u(null),m(""),p(""),I([])},te=()=>{u(null),m(""),p(""),I([])},V=async E=>{if(!e)return alert("Du mste vara inloggad!");window.confirm("Ta bort deltvlingen?")&&await nA(Ta(pi,"competitions",E))};return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(VA,{className:"w-6 h-6"}),"Deltvlingar"]}),H.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[H.jsx("input",{value:n,onChange:E=>r(E.target.value),placeholder:"Namn",className:"border border-primary-300 p-3 rounded-lg flex-1 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("input",{type:"date",value:i,onChange:E=>s(E.target.value),className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsxs("div",{className:"flex gap-3 items-center mb-2",children:[H.jsx("span",{className:"font-medium text-primary-700",children:"Skiljeml:"}),R.map(E=>H.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[H.jsx("input",{type:"checkbox",checked:o.includes(E),onChange:()=>b(E),disabled:!o.includes(E)&&o.length>=3,className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"}),H.jsxs("span",{className:"text-primary-700",children:["St ",E]})]},E)),H.jsx("span",{className:"text-xs text-primary-500 ml-2",children:"(max 3 st)"})]}),H.jsx("button",{onClick:P,className:`bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors shadow-sm ${e?"":"opacity-50 cursor-not-allowed"}`,disabled:!e,children:"Lgg till"})]}),!e&&H.jsx("p",{className:"text-red-600 text-sm mb-4 bg-red-50 p-3 rounded-lg border border-red-200",children:"Logga in fr att lgga till/ndra/tar bort deltvlingar."}),H.jsx("div",{className:"space-y-1",children:t.map(E=>H.jsx("div",{className:"py-4 px-4 bg-primary-50 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center justify-between gap-3",children:l===E.id?H.jsxs(H.Fragment,{children:[H.jsx("input",{value:f,onChange:x=>m(x.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsx("input",{type:"date",value:v,onChange:x=>p(x.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[H.jsx("span",{className:"font-medium text-primary-700",children:"Skiljeml:"}),R.map(x=>H.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[H.jsx("input",{type:"checkbox",checked:A.includes(x),onChange:()=>N(x),disabled:!A.includes(x)&&A.length>=3,className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"}),H.jsxs("span",{className:"text-primary-700",children:["St ",x]})]},x)),H.jsx("span",{className:"text-xs text-primary-500 ml-2",children:"(max 3 st)"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:Y,disabled:!e,className:`bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Spara"}),H.jsx("button",{onClick:te,className:"bg-primary-200 hover:bg-primary-300 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}):H.jsxs(H.Fragment,{children:[H.jsx("span",{className:"font-medium flex-1 text-primary-800",children:E.name}),H.jsx("span",{className:"text-primary-600 flex-1",children:E.date}),H.jsxs("span",{className:"flex-1 text-primary-700 text-sm",children:["Skiljeml: ",E.skiljemal?E.skiljemal.map(x=>`St ${x}`).join(", "):""]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:()=>F(E),disabled:!e,className:`bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"ndra"}),H.jsx("button",{onClick:()=>V(E.id),disabled:!e,className:`bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Ta bort"})]})]})},E.id))})]})}function l8({shooters:t,user:e}){const[n,r]=ht.useState(""),i=t.filter(L=>L.name.toLowerCase().includes(n.toLowerCase())||L.club.toLowerCase().includes(n.toLowerCase())||String(L.startNumber).includes(n)),[s,o]=ht.useState(""),[a,l]=ht.useState(""),[u,f]=ht.useState("ppen"),[m,v]=ht.useState(null),[p,A]=ht.useState(null),[I,R]=ht.useState(""),[b,N]=ht.useState(""),[P,F]=ht.useState("ppen"),Y=async()=>{if(!(!s||!a))try{let L;const w=s;await zC(pi,async k=>{const C=Ta(pi,"counters","shooter"),J=await k.get(C);if(!J.exists())throw new Error("Shooter counter document does not exist!");L=J.data().currentNumber+1;const pe=Ta(Bl(pi,"shooters"));k.set(pe,{name:w,club:a,klass:u,startNumber:L}),k.update(C,{currentNumber:L})}),v({name:w,startNumber:L}),setTimeout(()=>v(null),5e3),o(""),l("")}catch(L){console.error("Transaction failed: ",L),alert("Kunde inte lgga till skytt, frsk igen.")}},te=L=>{A(L.id),R(L.name),N(L.club),F(L.klass)},V=async()=>{if(!e)return alert("Du mste vara inloggad!");!I||!b||(await hv(Ta(pi,"shooters",p),{name:I,club:b,klass:P}),A(null),R(""),N(""),F("ppen"))},E=()=>{A(null),R(""),N(""),F("ppen")},x=async L=>{if(!e)return alert("Du mste vara inloggad!");window.confirm("Ta bort skytten?")&&await nA(Ta(pi,"shooters",L))};return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(zA,{className:"w-6 h-6"}),"Registrera ny skytt"]}),m&&H.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded-lg relative mb-4 shadow-sm",role:"alert",children:[H.jsx("strong",{className:"font-semibold",children:"Ny skytt registrerad:"}),H.jsxs("span",{className:"block sm:inline ml-2",children:["Namn: ",m.name,", Startnummer: ",m.startNumber]}),H.jsx("button",{onClick:()=>v(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:H.jsxs("svg",{className:"fill-current h-6 w-6 text-green-600",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[H.jsx("title",{children:"Close"}),H.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[H.jsx("input",{value:s,onChange:L=>o(L.target.value),placeholder:"Namn",className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("input",{value:a,onChange:L=>l(L.target.value),placeholder:"Ort",className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsxs("select",{value:u,onChange:L=>f(L.target.value),className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[H.jsx("option",{children:"ppen"}),H.jsx("option",{children:"dam"}),H.jsx("option",{children:"veteran"}),H.jsx("option",{children:"ungdom"}),H.jsx("option",{children:"junior med std"})]}),H.jsx("button",{onClick:Y,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors shadow-sm",children:"Lgg till"})]}),!e&&H.jsx("p",{className:"text-yellow-600 text-sm mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:"Logga in fr att kunna ndra eller ta bort skyttar."}),H.jsx("input",{value:n,onChange:L=>r(L.target.value),placeholder:"Sk skytt, ort eller startnummer...",className:"border border-primary-300 p-3 rounded-lg w-full mb-6 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("div",{className:"space-y-1",children:i.map(L=>H.jsx("div",{className:"py-4 px-4 bg-primary-50 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center justify-between gap-3",children:p===L.id?H.jsxs(H.Fragment,{children:[H.jsx("input",{value:I,onChange:w=>R(w.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsx("input",{value:b,onChange:w=>N(w.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsxs("select",{value:P,onChange:w=>F(w.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0",children:[H.jsx("option",{children:"ppen"}),H.jsx("option",{children:"dam"}),H.jsx("option",{children:"veteran"}),H.jsx("option",{children:"ungdom"}),H.jsx("option",{children:"junior med std"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:V,disabled:!e,className:`bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Spara"}),H.jsx("button",{onClick:E,className:"bg-primary-200 hover:bg-primary-300 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}):H.jsxs(H.Fragment,{children:[H.jsxs("span",{className:"font-semibold text-primary-700 bg-primary-100 px-3 py-1 rounded-full text-sm",children:["#",L.startNumber]}),H.jsxs("span",{className:"flex-1 font-medium text-primary-800",children:[L.name," ",H.jsxs("span",{className:"text-primary-600 font-normal",children:["(",L.club,")"]})]}),H.jsx("span",{className:"bg-primary-200 text-primary-800 px-3 py-1 rounded-full text-sm font-medium",children:L.klass}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:()=>te(L),disabled:!e,className:`bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"ndra"}),H.jsx("button",{onClick:()=>x(L.id),disabled:!e,className:`bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Ta bort"})]})]})},L.id))})]})}const Ig=new Map,ad=new Map;function u8(t,e=[],n=!0,r=null,i=5*60*1e3,s={}){const[o,a]=ht.useState([]),[l,u]=ht.useState(!0),[f,m]=ht.useState(null);ht.useRef();const{useRealtime:v=!0,pageSize:p=null,mergeWithCache:A=!1}=s,I=r||`${t}_${JSON.stringify(e)}_${JSON.stringify(s)}`,R=ht.useMemo(()=>e,[e.length,e.map(P=>P.toString()).join(",")]);ht.useEffect(()=>{if(!n){a([]),u(!1),m(null);return}const P=Ig.get(I);if(P&&Date.now()-P.timestamp<i){a(P.data),u(!1),m(null);return}if(p&&!v){b();return}N()},[t,R,n,I,i]);const b=async()=>{u(!0);try{let P=Bl(pi,t);R.length>0&&(P=f1(P,...R,OC(p)));const Y=(await jC(P)).docs.map(te=>({id:te.id,...te.data()}));Ig.set(I,{data:Y,timestamp:Date.now()}),a(Y),u(!1)}catch(P){m(P),u(!1)}},N=()=>{const P=ad.get(I);if(P)return P.subscribers.add(a),a(P.currentData),u(!1),()=>{P.subscribers.delete(a),P.subscribers.size===0&&(P.unsubscribe(),ad.delete(I))};u(!0);let F=Bl(pi,t);R.length>0&&(F=f1(F,...R));const Y=new Set([a]);let te=[];const V=iA(F,E=>{const x=E.docs.map(L=>({id:L.id,...L.data()}));te=x,Ig.set(I,{data:x,timestamp:Date.now()}),Y.forEach(L=>L(x)),u(!1)},E=>{m(E),u(!1)});return ad.set(I,{unsubscribe:V,subscribers:Y,currentData:te}),()=>{Y.delete(a),Y.size===0&&(V(),ad.delete(I))}};return{data:o,loading:l,error:f}}function c8({shooters:t,competitions:e,user:n}){const[r,i]=ht.useState(""),[s,o]=ht.useState(1),[a,l]=ht.useState(""),[u,f]=ht.useState([]),[m,v]=ht.useState(""),[p,A]=ht.useState([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}]),[I,R]=ht.useState(null),b=r&&m,{data:N,loading:P}=u8("scores",b?[Sg("competitionId","==",r),Sg("shooterId","==",m),Sg("station","==",Number(s)),d1("__name__")]:[],b,`scores_${r}_${m}_${s}`,1*60*1e3,{useRealtime:!0}),F=ht.useMemo(()=>{if(!a.trim())return[];const w=a.toLowerCase();return t.filter(k=>k.name.toLowerCase().includes(w)||String(k.startNumber).includes(w)||k.club.toLowerCase().includes(w)).slice(0,10)},[a,t]);ht.useEffect(()=>{f(F)},[F]);const Y=w=>{v(w.id),l(`#${w.startNumber} ${w.name}`),f([])},te=w=>{R(w.id);const k=w.shots&&w.shots.length===5?w.shots.map(J=>({value:J.value||0,femetta:!!J.femetta})):[{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}];A(k),i(w.competitionId),o(w.station),v(w.shooterId);const C=t.find(J=>J.id===w.shooterId);C&&l(`#${C.startNumber} ${C.name}`)},V=()=>{R(null),A([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}])},E=async()=>{if(!n)return alert("Du mste vara inloggad!");if(!r||!m)return alert("Vlj tvling och skytt frst.");const w=p.reduce((C,J)=>C+(Number(J.value)||0),0),k=p.filter(C=>C.femetta&&(C.value===5||C.value===10)).length;try{I?(await hv(Ta(pi,"scores",I),{competitionId:r,shooterId:m,station:s,shots:p,total:w,femettor:k,updatedAt:new Date().toISOString()}),R(null)):await rA(Bl(pi,"scores"),{competitionId:r,shooterId:m,station:s,shots:p,total:w,femettor:k,createdAt:new Date().toISOString(),createdBy:n.uid}),A([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}]),v(""),l(""),f([])}catch(C){console.error("Error saving score:",C),alert("Kunde inte spara pong, frsk igen.")}},x=ht.useMemo(()=>N.reduce((w,k)=>w+(k.total||0),0),[N]),L=Array.from({length:7},(w,k)=>k+1);return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(UA,{className:"w-6 h-6"}),"Registrera pong"]}),H.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Tvling:"}),H.jsxs("select",{value:r,onChange:w=>{i(w.target.value),v(""),l("")},className:"border border-primary-300 p-3 rounded-lg w-full focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[H.jsx("option",{value:"",children:"Vlj tvling"}),e.map(w=>H.jsx("option",{value:w.id,children:w.name},w.id))]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Station:"}),H.jsx("select",{value:s,onChange:w=>o(Number(w.target.value)),className:"border border-primary-300 p-3 rounded-lg w-40 min-w-[120px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:L.map(w=>H.jsxs("option",{value:w,children:["Station ",w]},w))})]}),H.jsxs("div",{className:"flex flex-col flex-1 relative",children:[H.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Sk skytt:"}),H.jsx("input",{type:"text",value:a,onChange:w=>{l(w.target.value),v("")},placeholder:"Namn, startnummer eller klubb",className:"border border-primary-300 p-3 rounded-lg mb-1 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",autoComplete:"off"}),u.length>0&&H.jsx("ul",{className:"absolute z-10 bg-white border border-primary-200 rounded-lg shadow-lg max-h-40 overflow-auto w-full top-full mt-1",children:u.map(w=>H.jsxs("li",{className:"px-4 py-3 hover:bg-primary-50 cursor-pointer border-b border-primary-100 last:border-b-0",onClick:()=>Y(w),children:[H.jsxs("span",{className:"font-medium text-primary-800",children:["#",w.startNumber," ",w.name]}),H.jsxs("span",{className:"text-primary-600 ml-2",children:["(",w.club,")"]}),H.jsx("span",{className:"text-xs text-primary-500 ml-2",children:w.klass})]},w.id))})]})]}),b&&N.length>0&&H.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:H.jsxs("div",{className:"text-sm text-blue-700",children:[H.jsx("strong",{children:"Nuvarande total fr denna station:"})," ",x," pong (",N.length," registreringar)"]})}),H.jsx("div",{className:"flex gap-3 mb-6 justify-center bg-primary-50 p-6 rounded-lg border border-primary-200",children:p.map((w,k)=>H.jsxs("div",{className:"flex flex-col items-center",children:[H.jsx("input",{type:"number",min:"0",max:"10",value:w.value===0?"":w.value,onChange:C=>{const J=[...p];J[k].value=C.target.value===""?0:Number(C.target.value),A(J)},placeholder:"0",className:"border border-primary-300 p-3 rounded-lg w-16 text-center font-semibold text-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsxs("label",{className:"text-sm mt-2 text-primary-700 flex items-center gap-1",children:[H.jsx("input",{type:"checkbox",checked:w.femetta||!1,onChange:C=>{const J=[...p];J[k].femetta=C.target.checked,A(J)},className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"})," 5/10"]})]},k))}),H.jsxs("div",{className:"text-lg font-semibold text-primary-800 mb-6 text-center bg-white p-4 rounded-lg border border-primary-200",children:["Summa: ",H.jsxs("span",{className:"text-primary-700",children:[p.reduce((w,k)=>w+(Number(k.value)||0),0)," pong"]}),", 5/10or: ",H.jsx("span",{className:"text-primary-700",children:p.filter(w=>w.femetta&&(w.value===5||w.value===10)).length})]}),H.jsxs("div",{className:"text-center mb-4",children:[H.jsx("button",{onClick:E,className:`bg-primary-700 hover:bg-primary-800 text-white px-8 py-3 rounded-lg font-medium shadow-sm transition-colors ${!n||!m?"opacity-50 cursor-not-allowed":""}`,disabled:!n||!m,children:I?"Uppdatera pong":"Spara pong"}),I&&H.jsx("button",{onClick:V,className:"ml-4 bg-primary-200 hover:bg-primary-300 text-primary-700 px-4 py-3 rounded-lg font-medium transition-colors",children:"Avbryt"})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("h3",{className:"text-md font-semibold mb-2",children:"Registrerade skott"}),P?H.jsxs("div",{className:"flex items-center justify-center py-4",children:[H.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-700"}),H.jsx("span",{className:"ml-2 text-primary-700",children:"Laddar..."})]}):b?N.length===0?H.jsx("p",{className:"text-sm text-primary-600",children:"Inga registreringar hittades fr denna kombination."}):H.jsx("div",{className:"space-y-2",children:N.map((w,k)=>H.jsxs("div",{className:"bg-primary-50 p-3 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[H.jsxs("div",{children:[H.jsxs("div",{className:"text-sm text-primary-700 font-medium mb-1",children:["Skott #",k+1,":"]}),H.jsxs("div",{className:"flex gap-3 items-center",children:[(w.shots||[]).map((C,J)=>H.jsxs("div",{className:"text-sm font-mono px-2 py-1 bg-white border border-primary-200 rounded",children:[String(C.value||0),C.femetta?"":""]},J)),H.jsxs("div",{className:"text-sm text-primary-700 ml-3",children:["Summa: ",H.jsx("span",{className:"font-semibold",children:w.total||0})]}),H.jsxs("div",{className:"text-sm text-primary-700 ml-3",children:["5/10or: ",H.jsx("span",{className:"font-semibold",children:w.femettor||0})]}),w.createdAt&&H.jsx("div",{className:"text-xs text-primary-500 ml-3",children:new Date(w.createdAt).toLocaleString("sv-SE")})]})]}),H.jsx("div",{className:"flex gap-2",children:H.jsx("button",{onClick:()=>te(w),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg font-medium transition-colors",children:"ndra"})})]},w.id))}):H.jsx("p",{className:"text-sm text-primary-600",children:"Vlj tvling och skytt fr att se tidigare registreringar."})]}),!n&&H.jsx("p",{className:"text-red-600 text-sm mt-4 bg-red-50 p-3 rounded-lg border border-red-200 text-center",children:"Logga in fr att registrera pong."})]})}const h8="modulepreload",f8=function(t){return"/landbyscup/"+t},V_={},Tg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=f8(l),l in V_)return;V_[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":h8,u||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}var xs=Uint8Array,ji=Uint16Array,Ev=Int32Array,xv=new xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Iv=new xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U_=new xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qA=function(t,e){for(var n=new ji(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Ev(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},HA=qA(xv,2),d8=HA.b,v1=HA.r;d8[28]=258,v1[258]=28;var p8=qA(Iv,0),B_=p8.r,y1=new ji(32768);for(var bn=0;bn<32768;++bn){var pa=(bn&43690)>>1|(bn&21845)<<1;pa=(pa&52428)>>2|(pa&13107)<<2,pa=(pa&61680)>>4|(pa&3855)<<4,y1[bn]=((pa&65280)>>8|(pa&255)<<8)>>1}var bh=function(t,e,n){for(var r=t.length,i=0,s=new ji(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ji(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ji(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],m=o[t[i]-1]++<<f,v=m|(1<<f)-1;m<=v;++m)a[y1[m]>>l]=u}else for(a=new ji(r),i=0;i<r;++i)t[i]&&(a[i]=y1[o[t[i]-1]++]>>15-t[i]);return a},Hl=new xs(288);for(var bn=0;bn<144;++bn)Hl[bn]=8;for(var bn=144;bn<256;++bn)Hl[bn]=9;for(var bn=256;bn<280;++bn)Hl[bn]=7;for(var bn=280;bn<288;++bn)Hl[bn]=8;var Rp=new xs(32);for(var bn=0;bn<32;++bn)Rp[bn]=5;var m8=bh(Hl,9,0),g8=bh(Rp,5,0),WA=function(t){return(t+7)/8|0},v8=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new xs(t.subarray(e,n))},yo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Kc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Ng=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:GA,l:0};if(i==1){var o=new xs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Y,te){return Y.f-te.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,f=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[u].f<n[m].f?u++:m++],l=n[u!=f&&n[u].f<n[m].f?u++:m++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new ji(v+1),A=_1(n[f-1],p,0);if(A>e){var r=0,I=0,R=A-e,b=1<<R;for(s.sort(function(te,V){return p[V.s]-p[te.s]||te.f-V.f});r<i;++r){var N=s[r].s;if(p[N]>e)I+=b-(1<<A-p[N]),p[N]=e;else break}for(I>>=R;I>0;){var P=s[r].s;p[P]<e?I-=1<<e-p[P]++-1:++r}for(;r>=0&&I;--r){var F=s[r].s;p[F]==e&&(--p[F],++I)}A=e}return{t:new xs(p),l:A}},_1=function(t,e,n){return t.s==-1?Math.max(_1(t.l,e,n+1),_1(t.r,e,n+1)):e[t.s]=n},z_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ji(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Qc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},$A=function(t,e,n){var r=n.length,i=WA(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},q_=function(t,e,n,r,i,s,o,a,l,u,f){yo(e,f++,n),++i[256];for(var m=Ng(i,15),v=m.t,p=m.l,A=Ng(s,15),I=A.t,R=A.l,b=z_(v),N=b.c,P=b.n,F=z_(I),Y=F.c,te=F.n,V=new ji(19),E=0;E<N.length;++E)++V[N[E]&31];for(var E=0;E<Y.length;++E)++V[Y[E]&31];for(var x=Ng(V,7),L=x.t,w=x.l,k=19;k>4&&!L[U_[k-1]];--k);var C=u+5<<3,J=Qc(i,Hl)+Qc(s,Rp)+o,pe=Qc(i,v)+Qc(s,I)+o+14+3*k+Qc(V,L)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&C<=J&&C<=pe)return $A(e,f,t.subarray(l,l+u));var ye,ge,Z,le;if(yo(e,f,1+(pe<J)),f+=2,pe<J){ye=bh(v,p,0),ge=v,Z=bh(I,R,0),le=I;var be=bh(L,w,0);yo(e,f,P-257),yo(e,f+5,te-1),yo(e,f+10,k-4),f+=14;for(var E=0;E<k;++E)yo(e,f+3*E,L[U_[E]]);f+=3*k;for(var we=[N,Y],M=0;M<2;++M)for(var W=we[M],E=0;E<W.length;++E){var X=W[E]&31;yo(e,f,be[X]),f+=L[X],X>15&&(yo(e,f,W[E]>>5&127),f+=W[E]>>12)}}else ye=m8,ge=Hl,Z=g8,le=Rp;for(var E=0;E<a;++E){var ne=r[E];if(ne>255){var X=ne>>18&31;Kc(e,f,ye[X+257]),f+=ge[X+257],X>7&&(yo(e,f,ne>>23&31),f+=xv[X]);var se=ne&31;Kc(e,f,Z[se]),f+=le[se],se>3&&(Kc(e,f,ne>>5&8191),f+=Iv[se])}else Kc(e,f,ye[ne]),f+=ge[ne]}return Kc(e,f,ye[256]),f+ge[256]},y8=new Ev([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GA=new xs(0),_8=function(t,e,n,r,i,s){var o=s.z||t.length,a=new xs(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var m=y8[e-1],v=m>>13,p=m&8191,A=(1<<n)-1,I=s.p||new ji(32768),R=s.h||new ji(A+1),b=Math.ceil(n/3),N=2*b,P=function(_e){return(t[_e]^t[_e+1]<<b^t[_e+2]<<N)&A},F=new Ev(25e3),Y=new ji(288),te=new ji(32),V=0,E=0,x=s.i||0,L=0,w=s.w||0,k=0;x+2<o;++x){var C=P(x),J=x&32767,pe=R[C];if(I[J]=pe,R[C]=J,w<=x){var ye=o-x;if((V>7e3||L>24576)&&(ye>423||!u)){f=q_(t,l,0,F,Y,te,E,L,k,x-k,f),L=V=E=0,k=x;for(var ge=0;ge<286;++ge)Y[ge]=0;for(var ge=0;ge<30;++ge)te[ge]=0}var Z=2,le=0,be=p,we=J-pe&32767;if(ye>2&&C==P(x-we))for(var M=Math.min(v,ye)-1,W=Math.min(32767,x),X=Math.min(258,ye);we<=W&&--be&&J!=pe;){if(t[x+Z]==t[x+Z-we]){for(var ne=0;ne<X&&t[x+ne]==t[x+ne-we];++ne);if(ne>Z){if(Z=ne,le=we,ne>M)break;for(var se=Math.min(we,ne-2),ce=0,ge=0;ge<se;++ge){var ve=x-we+ge&32767,me=I[ve],xe=ve-me&32767;xe>ce&&(ce=xe,pe=ve)}}}J=pe,pe=I[J],we+=J-pe&32767}if(le){F[L++]=268435456|v1[Z]<<18|B_[le];var Pe=v1[Z]&31,Me=B_[le]&31;E+=xv[Pe]+Iv[Me],++Y[257+Pe],++te[Me],w=x+Z,++V}else F[L++]=t[x],++Y[t[x]]}}for(x=Math.max(x,w);x<o;++x)F[L++]=t[x],++Y[t[x]];f=q_(t,l,u,F,Y,te,E,L,k,x-k,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=R,s.p=I,s.i=x,s.w=w)}else{for(var x=s.w||0;x<o+u;x+=65535){var Ve=x+65535;Ve>=o&&(l[f/8|0]=u,Ve=o),f=$A(l,f+1,t.subarray(x,Ve))}s.i=o}return v8(a,0,r+WA(f)+i)},KA=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},w8=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new xs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return _8(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},QA=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},b8=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=KA();i.p(e.dictionary),QA(t,2,i.d())}};function w1(t,e){e||(e={});var n=KA();n.p(t);var r=w8(t,e,e.dictionary?6:2,4);return b8(r,e),QA(r,r.length-4,n.d()),r}var S8=typeof TextDecoder<"u"&&new TextDecoder,A8=0;try{S8.decode(GA,{stream:!0}),A8=1}catch{}function E8(t){if(Array.isArray(t))return t}function x8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I8(t,e){if(t){if(typeof t=="string")return H_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H_(t,e):void 0}}function T8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W_(t,e){return E8(t)||x8(t,e)||I8(t,e)||T8()}function $_(t,e="utf8"){return new TextDecoder(e).decode(t)}const N8=new TextEncoder;function k8(t){return N8.encode(t)}const P8=1024*8,C8=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),kg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Tv{constructor(e=P8,n={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Tv)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=kg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===C8&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new kg[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new kg[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return $_(this.readBytes(e))}decodeText(e=1,n="utf8"){return $_(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(k8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mc(t){let e=t.length;for(;--e>=0;)t[e]=0}const L8=3,R8=258,YA=29,D8=256,O8=D8+1+YA,XA=30,F8=512,M8=new Array((O8+2)*2);mc(M8);const j8=new Array(XA*2);mc(j8);const V8=new Array(F8);mc(V8);const U8=new Array(R8-L8+1);mc(U8);const B8=new Array(YA);mc(B8);const z8=new Array(XA);mc(z8);const q8=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var b1=q8;const H8=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},W8=new Uint32Array(H8()),$8=(t,e,n,r)=>{const i=W8,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Ws=$8,S1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const G8=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var K8=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)G8(n,r)&&(t[r]=n[r])}}return t},Q8=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},ZA={assign:K8,flattenChunks:Q8};let eE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eE=!1}const Xh=new Uint8Array(256);for(let t=0;t<256;t++)Xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xh[254]=Xh[254]=1;var Y8=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const X8=(t,e)=>{if(e<65534&&t.subarray&&eE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var J8=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Xh[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return X8(s,i)},Z8=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Xh[t[n]]>e?n:e},A1={string2buf:Y8,buf2string:J8,utf8border:Z8};function e7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var t7=e7;const ld=16209,n7=16191;var r7=function(e,n){let r,i,s,o,a,l,u,f,m,v,p,A,I,R,b,N,P,F,Y,te,V,E,x,L;const w=e.state;r=e.next_in,x=e.input,i=r+(e.avail_in-5),s=e.next_out,L=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=w.dmax,u=w.wsize,f=w.whave,m=w.wnext,v=w.window,p=w.hold,A=w.bits,I=w.lencode,R=w.distcode,b=(1<<w.lenbits)-1,N=(1<<w.distbits)-1;e:do{A<15&&(p+=x[r++]<<A,A+=8,p+=x[r++]<<A,A+=8),P=I[p&b];t:for(;;){if(F=P>>>24,p>>>=F,A-=F,F=P>>>16&255,F===0)L[s++]=P&65535;else if(F&16){Y=P&65535,F&=15,F&&(A<F&&(p+=x[r++]<<A,A+=8),Y+=p&(1<<F)-1,p>>>=F,A-=F),A<15&&(p+=x[r++]<<A,A+=8,p+=x[r++]<<A,A+=8),P=R[p&N];n:for(;;){if(F=P>>>24,p>>>=F,A-=F,F=P>>>16&255,F&16){if(te=P&65535,F&=15,A<F&&(p+=x[r++]<<A,A+=8,A<F&&(p+=x[r++]<<A,A+=8)),te+=p&(1<<F)-1,te>l){e.msg="invalid distance too far back",w.mode=ld;break e}if(p>>>=F,A-=F,F=s-o,te>F){if(F=te-F,F>f&&w.sane){e.msg="invalid distance too far back",w.mode=ld;break e}if(V=0,E=v,m===0){if(V+=u-F,F<Y){Y-=F;do L[s++]=v[V++];while(--F);V=s-te,E=L}}else if(m<F){if(V+=u+m-F,F-=m,F<Y){Y-=F;do L[s++]=v[V++];while(--F);if(V=0,m<Y){F=m,Y-=F;do L[s++]=v[V++];while(--F);V=s-te,E=L}}}else if(V+=m-F,F<Y){Y-=F;do L[s++]=v[V++];while(--F);V=s-te,E=L}for(;Y>2;)L[s++]=E[V++],L[s++]=E[V++],L[s++]=E[V++],Y-=3;Y&&(L[s++]=E[V++],Y>1&&(L[s++]=E[V++]))}else{V=s-te;do L[s++]=L[V++],L[s++]=L[V++],L[s++]=L[V++],Y-=3;while(Y>2);Y&&(L[s++]=L[V++],Y>1&&(L[s++]=L[V++]))}}else if(F&64){e.msg="invalid distance code",w.mode=ld;break e}else{P=R[(P&65535)+(p&(1<<F)-1)];continue n}break}}else if(F&64)if(F&32){w.mode=n7;break e}else{e.msg="invalid literal/length code",w.mode=ld;break e}else{P=I[(P&65535)+(p&(1<<F)-1)];continue t}break}}while(r<i&&s<a);Y=A>>3,r-=Y,A-=Y<<3,p&=(1<<A)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),w.hold=p,w.bits=A};const ou=15,G_=852,K_=592,Q_=0,Pg=1,Y_=2,i7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),l7=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,f=0,m=0,v=0,p=0,A=0,I=0,R=0,b=0,N=0,P,F,Y,te,V,E=null,x;const L=new Uint16Array(ou+1),w=new Uint16Array(ou+1);let k=null,C,J,pe;for(u=0;u<=ou;u++)L[u]=0;for(f=0;f<r;f++)L[e[n+f]]++;for(p=l,v=ou;v>=1&&L[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<v&&L[m]===0;m++);for(p<m&&(p=m),R=1,u=1;u<=ou;u++)if(R<<=1,R-=L[u],R<0)return-1;if(R>0&&(t===Q_||v!==1))return-1;for(w[1]=0,u=1;u<ou;u++)w[u+1]=w[u]+L[u];for(f=0;f<r;f++)e[n+f]!==0&&(o[w[e[n+f]]++]=f);if(t===Q_?(E=k=o,x=20):t===Pg?(E=i7,k=s7,x=257):(E=o7,k=a7,x=0),N=0,f=0,u=m,V=s,A=p,I=0,Y=-1,b=1<<p,te=b-1,t===Pg&&b>G_||t===Y_&&b>K_)return 1;for(;;){C=u-I,o[f]+1<x?(J=0,pe=o[f]):o[f]>=x?(J=k[o[f]-x],pe=E[o[f]-x]):(J=96,pe=0),P=1<<u-I,F=1<<A,m=F;do F-=P,i[V+(N>>I)+F]=C<<24|J<<16|pe|0;while(F!==0);for(P=1<<u-1;N&P;)P>>=1;if(P!==0?(N&=P-1,N+=P):N=0,f++,--L[u]===0){if(u===v)break;u=e[n+o[f]]}if(u>p&&(N&te)!==Y){for(I===0&&(I=p),V+=m,A=u-I,R=1<<A;A+I<v&&(R-=L[A+I],!(R<=0));)A++,R<<=1;if(b+=1<<A,t===Pg&&b>G_||t===Y_&&b>K_)return 1;Y=N&te,i[Y]=p<<24|A<<16|V-s|0}}return N!==0&&(i[V+N]=u-I<<24|64<<16|0),a.bits=p,0};var Sh=l7;const u7=0,tE=1,nE=2,{Z_FINISH:X_,Z_BLOCK:c7,Z_TREES:ud,Z_OK:Wl,Z_STREAM_END:h7,Z_NEED_DICT:f7,Z_STREAM_ERROR:is,Z_DATA_ERROR:rE,Z_MEM_ERROR:iE,Z_BUF_ERROR:d7,Z_DEFLATED:J_}=JA,Am=16180,Z_=16181,ew=16182,tw=16183,nw=16184,rw=16185,iw=16186,sw=16187,ow=16188,aw=16189,Dp=16190,_o=16191,Cg=16192,lw=16193,Lg=16194,uw=16195,cw=16196,hw=16197,fw=16198,cd=16199,hd=16200,dw=16201,pw=16202,mw=16203,gw=16204,vw=16205,Rg=16206,yw=16207,_w=16208,In=16209,sE=16210,oE=16211,p7=852,m7=592,g7=15,v7=g7,ww=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function y7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Am||e.mode>oE?1:0},aE=t=>{if(Xl(t))return is;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Am,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(p7),e.distcode=e.distdyn=new Int32Array(m7),e.sane=1,e.back=-1,Wl},lE=t=>{if(Xl(t))return is;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,aE(t)},uE=(t,e)=>{let n;if(Xl(t))return is;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?is:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,lE(t))},cE=(t,e)=>{if(!t)return is;const n=new y7;t.state=n,n.strm=t,n.window=null,n.mode=Am;const r=uE(t,e);return r!==Wl&&(t.state=null),r},_7=t=>cE(t,v7);let bw=!0,Dg,Og;const w7=t=>{if(bw){Dg=new Int32Array(512),Og=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Sh(tE,t.lens,0,288,Dg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Sh(nE,t.lens,0,32,Og,0,t.work,{bits:5}),bw=!1}t.lencode=Dg,t.lenbits=9,t.distcode=Og,t.distbits=5},hE=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},b7=(t,e)=>{let n,r,i,s,o,a,l,u,f,m,v,p,A,I,R=0,b,N,P,F,Y,te,V,E;const x=new Uint8Array(4);let L,w;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xl(t)||!t.output||!t.input&&t.avail_in!==0)return is;n=t.state,n.mode===_o&&(n.mode=Cg),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,m=a,v=l,E=Wl;e:for(;;)switch(n.mode){case Am:if(n.wrap===0){n.mode=Cg;break}for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,x[0]=u&255,x[1]=u>>>8&255,n.check=Ws(n.check,x,2,0),u=0,f=0,n.mode=Z_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=In;break}if((u&15)!==J_){t.msg="unknown compression method",n.mode=In;break}if(u>>>=4,f-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=In;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?aw:_o,u=0,f=0;break;case Z_:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==J_){t.msg="unknown compression method",n.mode=In;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=In;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Ws(n.check,x,2,0)),u=0,f=0,n.mode=ew;case ew:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=Ws(n.check,x,4,0)),u=0,f=0,n.mode=tw;case tw:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Ws(n.check,x,2,0)),u=0,f=0,n.mode=nw;case nw:if(n.flags&1024){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Ws(n.check,x,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=rw;case rw:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),V)),n.flags&512&&n.wrap&4&&(n.check=Ws(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=iw;case iw:if(n.flags&2048){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Ws(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=sw;case sw:if(n.flags&4096){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Ws(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=ow;case ow:if(n.flags&512){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=In;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=_o;break;case aw:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}t.adler=n.check=ww(u),u=0,f=0,n.mode=Dp;case Dp:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,f7;t.adler=n.check=1,n.mode=_o;case _o:if(e===c7||e===ud)break e;case Cg:if(n.last){u>>>=f&7,f-=f&7,n.mode=Rg;break}for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=lw;break;case 1:if(w7(n),n.mode=cd,e===ud){u>>>=2,f-=2;break e}break;case 2:n.mode=cw;break;case 3:t.msg="invalid block type",n.mode=In}u>>>=2,f-=2;break;case lw:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=In;break}if(n.length=u&65535,u=0,f=0,n.mode=Lg,e===ud)break e;case Lg:n.mode=uw;case uw:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=_o;break;case cw:for(;f<14;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=In;break}n.have=0,n.mode=hw;case hw:for(;n.have<n.ncode;){for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.lens[k[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},E=Sh(u7,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,E){t.msg="invalid code lengths set",n.mode=In;break}n.have=0,n.mode=fw;case fw:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[u&(1<<n.lenbits)-1],b=R>>>24,N=R>>>16&255,P=R&65535,!(b<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(P<16)u>>>=b,f-=b,n.lens[n.have++]=P;else{if(P===16){for(w=b+2;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(u>>>=b,f-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=In;break}V=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(P===17){for(w=b+3;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=b,f-=b,V=0,p=3+(u&7),u>>>=3,f-=3}else{for(w=b+7;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=b,f-=b,V=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=In;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===In)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=In;break}if(n.lenbits=9,L={bits:n.lenbits},E=Sh(tE,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,E){t.msg="invalid literal/lengths set",n.mode=In;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},E=Sh(nE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,E){t.msg="invalid distances set",n.mode=In;break}if(n.mode=cd,e===ud)break e;case cd:n.mode=hd;case hd:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,r7(t,v),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,n.mode===_o&&(n.back=-1);break}for(n.back=0;R=n.lencode[u&(1<<n.lenbits)-1],b=R>>>24,N=R>>>16&255,P=R&65535,!(b<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(N&&!(N&240)){for(F=b,Y=N,te=P;R=n.lencode[te+((u&(1<<F+Y)-1)>>F)],b=R>>>24,N=R>>>16&255,P=R&65535,!(F+b<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=F,f-=F,n.back+=F}if(u>>>=b,f-=b,n.back+=b,n.length=P,N===0){n.mode=vw;break}if(N&32){n.back=-1,n.mode=_o;break}if(N&64){t.msg="invalid literal/length code",n.mode=In;break}n.extra=N&15,n.mode=dw;case dw:if(n.extra){for(w=n.extra;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=pw;case pw:for(;R=n.distcode[u&(1<<n.distbits)-1],b=R>>>24,N=R>>>16&255,P=R&65535,!(b<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(!(N&240)){for(F=b,Y=N,te=P;R=n.distcode[te+((u&(1<<F+Y)-1)>>F)],b=R>>>24,N=R>>>16&255,P=R&65535,!(F+b<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=F,f-=F,n.back+=F}if(u>>>=b,f-=b,n.back+=b,N&64){t.msg="invalid distance code",n.mode=In;break}n.offset=P,n.extra=N&15,n.mode=mw;case mw:if(n.extra){for(w=n.extra;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=In;break}n.mode=gw;case gw:if(l===0)break e;if(p=v-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=In;break}p>n.wnext?(p-=n.wnext,A=n.wsize-p):A=n.wnext-p,p>n.length&&(p=n.length),I=n.window}else I=i,A=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=I[A++];while(--p);n.length===0&&(n.mode=hd);break;case vw:if(l===0)break e;i[o++]=n.length,l--,n.mode=hd;break;case Rg:if(n.wrap){for(;f<32;){if(a===0)break e;a--,u|=r[s++]<<f,f+=8}if(v-=l,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Ws(n.check,i,v,o-v):b1(n.check,i,v,o-v)),v=l,n.wrap&4&&(n.flags?u:ww(u))!==n.check){t.msg="incorrect data check",n.mode=In;break}u=0,f=0}n.mode=yw;case yw:if(n.wrap&&n.flags){for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=In;break}u=0,f=0}n.mode=_w;case _w:E=h7;break e;case In:E=rE;break e;case sE:return iE;case oE:default:return is}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,(n.wsize||v!==t.avail_out&&n.mode<In&&(n.mode<Rg||e!==X_))&&hE(t,t.output,t.next_out,v-t.avail_out),m-=t.avail_in,v-=t.avail_out,t.total_in+=m,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Ws(n.check,i,v,t.next_out-v):b1(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===_o?128:0)+(n.mode===cd||n.mode===Lg?256:0),(m===0&&v===0||e===X_)&&E===Wl&&(E=d7),E},S7=t=>{if(Xl(t))return is;let e=t.state;return e.window&&(e.window=null),t.state=null,Wl},A7=(t,e)=>{if(Xl(t))return is;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Wl):is},E7=(t,e)=>{const n=e.length;let r,i,s;return Xl(t)||(r=t.state,r.wrap!==0&&r.mode!==Dp)?is:r.mode===Dp&&(i=1,i=b1(i,e,n,0),i!==r.check)?rE:(s=hE(t,e,n,n),s?(r.mode=sE,iE):(r.havedict=1,Wl))};var x7=lE,I7=uE,T7=aE,N7=_7,k7=cE,P7=b7,C7=S7,L7=A7,R7=E7,D7="pako inflate (from Nodeca project)",So={inflateReset:x7,inflateReset2:I7,inflateResetKeep:T7,inflateInit:N7,inflateInit2:k7,inflate:P7,inflateEnd:C7,inflateGetHeader:L7,inflateSetDictionary:R7,inflateInfo:D7};function O7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var F7=O7;const fE=Object.prototype.toString,{Z_NO_FLUSH:M7,Z_FINISH:j7,Z_OK:Jh,Z_STREAM_END:Fg,Z_NEED_DICT:Mg,Z_STREAM_ERROR:V7,Z_DATA_ERROR:Sw,Z_MEM_ERROR:U7}=JA;function _f(t){this.options=ZA.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t7,this.strm.avail_out=0;let n=So.inflateInit2(this.strm,e.windowBits);if(n!==Jh)throw new Error(S1[n]);if(this.header=new F7,So.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=A1.string2buf(e.dictionary):fE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=So.inflateSetDictionary(this.strm,e.dictionary),n!==Jh)))throw new Error(S1[n])}_f.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?j7:M7,fE.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=So.inflate(n,o),s===Mg&&i&&(s=So.inflateSetDictionary(n,i),s===Jh?s=So.inflate(n,o):s===Sw&&(s=Mg));n.avail_in>0&&s===Fg&&n.state.wrap>0&&t[n.next_in]!==0;)So.inflateReset(n),s=So.inflate(n,o);switch(s){case V7:case Sw:case Mg:case U7:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Fg))if(this.options.to==="string"){let l=A1.utf8border(n.output,n.next_out),u=n.next_out-l,f=A1.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Jh&&a===0)){if(s===Fg)return s=So.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_f.prototype.onData=function(t){this.chunks.push(t)};_f.prototype.onEnd=function(t){t===Jh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ZA.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function B7(t,e){const n=new _f(e);if(n.push(t),n.err)throw n.msg||S1[n.err];return n.result}var z7=_f,q7=B7,H7={Inflate:z7,inflate:q7};const{Inflate:W7,inflate:$7}=H7;var Aw=W7,G7=$7;const dE=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;dE[t]=e}const Ew=4294967295;function K7(t,e,n){let r=t;for(let i=0;i<n;i++)r=dE[(r^e[i])&255]^r>>>8;return r}function Q7(t,e){return(K7(Ew,t,e)^Ew)>>>0}function xw(t,e,n){const r=t.readUint32(),i=Q7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function pE(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function mE(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function gE(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function vE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function yE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+Y7(e[s-i],n[s],n[s-i])&255}}function Y7(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function X7(t,e,n,r,i,s){switch(t){case 0:pE(e,n,i);break;case 1:mE(e,n,i,s);break;case 2:gE(e,n,r,i);break;case 3:vE(e,n,r,i,s);break;case 4:yE(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const J7=new Uint16Array([255]),Z7=new Uint8Array(J7.buffer),eD=Z7[0]===255;function tD(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let f=0;f<7;f++){const m=o[f],v=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(v<=0||p<=0)continue;const A=v*a,I=new Uint8Array(A);for(let R=0;R<p;R++){const b=e[u++],N=e.subarray(u,u+A);u+=A;const P=new Uint8Array(A);X7(b,N,P,I,A,a),I.set(P);for(let F=0;F<v;F++){const Y=m.x+F*m.xStep,te=m.y+R*m.yStep;if(!(Y>=n||te>=r))for(let V=0;V<a;V++)l[(te*n+Y)*a+V]=P[F*a+V]}}}if(s===16){const f=new Uint16Array(l.buffer);if(eD)for(let m=0;m<f.length;m++)f[m]=nD(f[m]);return f}else return l}function nD(t){return(t&255)<<8|t>>8&255}const rD=new Uint16Array([255]),iD=new Uint8Array(rD.buffer),sD=iD[0]===255,oD=new Uint8Array(0);function Iw(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=oD,f=0,m,v;for(let p=0;p<r;p++){switch(m=e.subarray(f+1,f+1+a),v=l.subarray(p*a,(p+1)*a),e[f]){case 0:pE(m,v,a);break;case 1:mE(m,v,a,o);break;case 2:gE(m,v,u,a);break;case 3:vE(m,v,u,a,o);break;case 4:yE(m,v,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=v,f+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(sD)for(let A=0;A<p.length;A++)p[A]=aD(p[A]);return p}else return l}function aD(t){return(t&255)<<8|t>>8&255}const jd=Uint8Array.of(137,80,78,71,13,10,26,10);function Tw(t){if(!lD(t.readBytes(jd.length)))throw new Error("wrong PNG signature")}function lD(t){if(t.length<jd.length)return!1;for(let e=0;e<jd.length;e++)if(t[e]!==jd[e])return!1;return!0}const uD="tEXt",cD=0,_E=new TextDecoder("latin1");function hD(t){if(dD(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const fD=/^[\u0000-\u00FF]*$/;function dD(t){if(!fD.test(t))throw new Error("invalid latin1 text")}function pD(t,e,n){const r=wE(e);t[r]=mD(e,n-r.length-1)}function wE(t){for(t.mark();t.readByte()!==cD;);const e=t.offset;t.reset();const n=_E.decode(t.readBytes(e-t.offset-1));return t.skip(1),hD(n),n}function mD(t,e){return _E.decode(t.readBytes(e))}const Di={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jg={UNKNOWN:-1,DEFLATE:0},Nw={UNKNOWN:-1,ADAPTIVE:0},Vg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fd={NONE:0,BACKGROUND:1,PREVIOUS:2},Ug={SOURCE:0,OVER:1};class gD extends Tv{constructor(n,r={}){super(n);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Aw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jg.UNKNOWN,this._filterMethod=Nw.UNKNOWN,this._interlaceMethod=Vg.UNKNOWN,this._colorType=Di.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Tw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Tw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case uD:pD(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?xw(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?xw(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=vD(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Di.GREYSCALE:i=1;break;case Di.TRUECOLOUR:i=3;break;case Di.INDEXED_COLOUR:i=1;break;case Di.GREYSCALE_ALPHA:i=2;break;case Di.TRUECOLOUR_ALPHA:i=4;break;case Di.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==jg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Di.GREYSCALE:case Di.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Di.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Di.UNKNOWN:case Di.GREYSCALE_ALPHA:case Di.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=wE(this),i=this.readUint8();if(i!==jg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:G7(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Iw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case fd.NONE:break;case fd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case fd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Ug.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++)n.data[l+f]=r.data[u+f]}break;case Ug.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++){const m=r.data[u+this._png.channels-1]/i,v=f%(this._png.channels-1)===0?1:r.data[u+f],p=Math.floor(m*v+(1-m)*n.data[l+f]);n.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Nw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Vg.NO_INTERLACE)this._png.data=Iw({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Vg.ADAM7)this._png.data=tD({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fd.NONE,blendOp:Ug.SOURCE,data:n}),this._inflator=new Aw,this._writingDataChunks=!1}}function vD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var kw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(kw||(kw={}));function yD(t,e){return new gD(t,e).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bg(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var hn={log:Bg,warn:function(t){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):Bg.call(null,arguments))},error:function(t){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):Bg(t))}};function zg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Sl(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function Pw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sl=yt.saveAs||((typeof window>"u"?"undefined":on(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Pw(i.href)?zg(t,e,n):dd(i,i.target="_blank"):dd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){dd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Pw(t))zg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){dd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:on(s)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return zg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(yt.HTMLElement)||yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":on(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=yt.URL||yt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Vd=yt.atob.bind(yt),Cw=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Ur(n,r,i,s,e[0],7,-680876936),s=Ur(s,n,r,i,e[1],12,-389564586),i=Ur(i,s,n,r,e[2],17,606105819),r=Ur(r,i,s,n,e[3],22,-1044525330),n=Ur(n,r,i,s,e[4],7,-176418897),s=Ur(s,n,r,i,e[5],12,1200080426),i=Ur(i,s,n,r,e[6],17,-1473231341),r=Ur(r,i,s,n,e[7],22,-45705983),n=Ur(n,r,i,s,e[8],7,1770035416),s=Ur(s,n,r,i,e[9],12,-1958414417),i=Ur(i,s,n,r,e[10],17,-42063),r=Ur(r,i,s,n,e[11],22,-1990404162),n=Ur(n,r,i,s,e[12],7,1804603682),s=Ur(s,n,r,i,e[13],12,-40341101),i=Ur(i,s,n,r,e[14],17,-1502002290),n=Br(n,r=Ur(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Br(s,n,r,i,e[6],9,-1069501632),i=Br(i,s,n,r,e[11],14,643717713),r=Br(r,i,s,n,e[0],20,-373897302),n=Br(n,r,i,s,e[5],5,-701558691),s=Br(s,n,r,i,e[10],9,38016083),i=Br(i,s,n,r,e[15],14,-660478335),r=Br(r,i,s,n,e[4],20,-405537848),n=Br(n,r,i,s,e[9],5,568446438),s=Br(s,n,r,i,e[14],9,-1019803690),i=Br(i,s,n,r,e[3],14,-187363961),r=Br(r,i,s,n,e[8],20,1163531501),n=Br(n,r,i,s,e[13],5,-1444681467),s=Br(s,n,r,i,e[2],9,-51403784),i=Br(i,s,n,r,e[7],14,1735328473),n=zr(n,r=Br(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=zr(s,n,r,i,e[8],11,-2022574463),i=zr(i,s,n,r,e[11],16,1839030562),r=zr(r,i,s,n,e[14],23,-35309556),n=zr(n,r,i,s,e[1],4,-1530992060),s=zr(s,n,r,i,e[4],11,1272893353),i=zr(i,s,n,r,e[7],16,-155497632),r=zr(r,i,s,n,e[10],23,-1094730640),n=zr(n,r,i,s,e[13],4,681279174),s=zr(s,n,r,i,e[0],11,-358537222),i=zr(i,s,n,r,e[3],16,-722521979),r=zr(r,i,s,n,e[6],23,76029189),n=zr(n,r,i,s,e[9],4,-640364487),s=zr(s,n,r,i,e[12],11,-421815835),i=zr(i,s,n,r,e[15],16,530742520),n=qr(n,r=zr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qr(s,n,r,i,e[7],10,1126891415),i=qr(i,s,n,r,e[14],15,-1416354905),r=qr(r,i,s,n,e[5],21,-57434055),n=qr(n,r,i,s,e[12],6,1700485571),s=qr(s,n,r,i,e[3],10,-1894986606),i=qr(i,s,n,r,e[10],15,-1051523),r=qr(r,i,s,n,e[1],21,-2054922799),n=qr(n,r,i,s,e[8],6,1873313359),s=qr(s,n,r,i,e[15],10,-30611744),i=qr(i,s,n,r,e[6],15,-1560198380),r=qr(r,i,s,n,e[13],21,1309151649),n=qr(n,r,i,s,e[4],6,-145523070),s=qr(s,n,r,i,e[11],10,-1120210379),i=qr(i,s,n,r,e[2],15,718787259),r=qr(r,i,s,n,e[9],21,-343485551),t[0]=Na(n,t[0]),t[1]=Na(r,t[1]),t[2]=Na(i,t[2]),t[3]=Na(s,t[3])}function Em(t,e,n,r,i,s){return e=Na(Na(e,t),Na(r,s)),Na(e<<i|e>>>32-i,n)}function Ur(t,e,n,r,i,s,o){return Em(e&n|~e&r,t,e,i,s,o)}function Br(t,e,n,r,i,s,o){return Em(e&r|n&~r,t,e,i,s,o)}function zr(t,e,n,r,i,s,o){return Em(e^n^r,t,e,i,s,o)}function qr(t,e,n,r,i,s,o){return Em(n^(e|~r),t,e,i,s,o)}function SE(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qg(r,_D(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,qg(r,i),r}function _D(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Lw="0123456789abcdef".split("");function wD(t){for(var e="",n=0;n<4;n++)e+=Lw[t>>8*n+4&15]+Lw[t>>8*n&15];return e}function bD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function E1(t){return SE(t).map(bD).join("")}var SD=function(t){for(var e=0;e<t.length;e++)t[e]=wD(t[e]);return t.join("")}(SE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Na(t,e){if(SD){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var f=a[l];u=(u+f+o.charCodeAt(l))%256,a[l]=a[u],a[u]=f}n=t,r=a}else a=r;var m=e.length,v=0,p=0,A="";for(l=0;l<m;l++)p=(p+(f=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=f,o=a[(a[v]+a[p])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Rw={print:4,modify:8,copy:16,"annot-forms":32};function fu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Rw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Rw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=E1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=x1(this.encryptionKey,this.padding)}function du(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Dw(t){if(on(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){yt.console&&hn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Op(t){if(!(this instanceof Op))return new Op(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function AE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Al(t,e,n,r,i){if(!(this instanceof Al))return new Al(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,AE.call(this,r,i)}function Nu(t,e,n,r,i){if(!(this instanceof Nu))return new Nu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,AE.call(this,r,i)}function Je(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",f=null;on(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=Dw;var A="1.3",I=p.__private__.getPdfVersion=function(){return A};p.__private__.setPdfVersion=function(g){A=g};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return R};var b=p.__private__.getPageFormat=function(g){return R[g]};i=i||"a4";var N="compat",P="advanced",F=N;function Y(){this.saveGraphicsState(),Q(new st(lt,0,0,-lt,0,Ki()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),u="n",F=P}function te(){this.restoreGraphicsState(),u="S",F=N}var V=p.__private__.combineFontStyleAndFontWeight=function(g,D){if(g=="bold"&&D=="normal"||g=="bold"&&D==400||g=="normal"&&D=="italic"||g=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(g=D==400||D==="normal"?g==="italic"?"italic":"normal":D!=700&&D!=="bold"||g!=="normal"?(D==700?"bold":D)+""+g:"bold"),g};p.advancedAPI=function(g){var D=F===N;return D&&Y.call(this),typeof g!="function"||(g(this),D&&te.call(this)),this},p.compatAPI=function(g){var D=F===P;return D&&te.call(this),typeof g!="function"||(g(this),D&&Y.call(this)),this},p.isAdvancedAPI=function(){return F===P};var E,x=function(g){if(F!==P)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=p.roundToPrecision=p.__private__.roundToPrecision=function(g,D){var $=e||D;if(isNaN(g)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed($).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return L(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return L(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return L(g,16)};var w=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return L(g,2)},k=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return L(g,3)},C=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return F===N?g*lt:F===P?g:void 0},J=function(g){return C(function(D){return F===N?Ki()-D:F===P?D:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,ye="00000000000000000000000000000000",ge=p.__private__.getFileId=function(){return ye},Z=p.__private__.setFileId=function(g){return ye=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(en=new fu(f.userPermissions,f.userPassword,f.ownerPassword,ye)),ye};p.setFileId=function(g){return Z(g),this},p.getFileId=function(){return ge()};var le=p.__private__.convertDateToPDFDate=function(g){var D=g.getTimezoneOffset(),$=D<0?"+":"-",ee=Math.floor(Math.abs(D/60)),oe=Math.abs(D%60),Ae=[$,X(ee),"'",X(oe),"'"].join("");return["D:",g.getFullYear(),X(g.getMonth()+1),X(g.getDate()),X(g.getHours()),X(g.getMinutes()),X(g.getSeconds()),Ae].join("")},be=p.__private__.convertPDFDateToDate=function(g){var D=parseInt(g.substr(2,4),10),$=parseInt(g.substr(6,2),10)-1,ee=parseInt(g.substr(8,2),10),oe=parseInt(g.substr(10,2),10),Ae=parseInt(g.substr(12,2),10),Ne=parseInt(g.substr(14,2),10);return new Date(D,$,ee,oe,Ae,Ne,0)},we=p.__private__.setCreationDate=function(g){var D;if(g===void 0&&(g=new Date),g instanceof Date)D=le(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=g}return pe=D},M=p.__private__.getCreationDate=function(g){var D=pe;return g==="jsDate"&&(D=be(pe)),D};p.setCreationDate=function(g){return we(g),this},p.getCreationDate=function(g){return M(g)};var W,X=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},ne=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},se=0,ce=[],ve=[],me=0,xe=[],Pe=[],Me=!1,Ve=ve;p.__private__.setCustomOutputDestination=function(g){Me=!0,Ve=g};var _e=function(g){Me||(Ve=g)};p.__private__.resetCustomOutputDestination=function(){Me=!1,Ve=ve};var Q=p.__private__.out=function(g){return g=g.toString(),me+=g.length+1,Ve.push(g),Ve},kt=p.__private__.write=function(g){return Q(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},St=p.__private__.getArrayBuffer=function(g){for(var D=g.length,$=new ArrayBuffer(D),ee=new Uint8Array($);D--;)ee[D]=g.charCodeAt(D);return $},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=F===P?g/lt:g,this};var Ye,je=p.__private__.getFontSize=p.getFontSize=function(){return F===N?Re:Re*lt},At=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return At=g,this},p.__private__.getR2L=p.getR2L=function(){return At};var Ze,Mt=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ye=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ye=g}else Ye=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ye};var _t,Xe=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ze=g};p.__private__.getPageMode=function(){return Ze};var Et=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');_t=g};p.__private__.getLayoutMode=function(){return _t},p.__private__.setDisplayMode=p.setDisplayMode=function(g,D,$){return Mt(g),Et(D),Xe($),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(mt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[g]},p.__private__.getDocumentProperties=function(){return mt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var D in mt)mt.hasOwnProperty(D)&&g[D]&&(mt[D]=g[D]);return this},p.__private__.setDocumentProperty=function(g,D){if(Object.keys(mt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[g]=D};var et,lt,nt,Kt,Bt,Ge={},gt={},Zt=[],ot={},Pt={},wt={},An={},vn=null,Yt=0,ct=[],Lt=new Dw(p),Ns=t.hotfixes||[],zn={},Hi={},Lr=[],st=function g(D,$,ee,oe,Ae,Ne){if(!(this instanceof g))return new g(D,$,ee,oe,Ae,Ne);isNaN(D)&&(D=1),isNaN($)&&($=0),isNaN(ee)&&(ee=0),isNaN(oe)&&(oe=1),isNaN(Ae)&&(Ae=0),isNaN(Ne)&&(Ne=0),this._matrix=[D,$,ee,oe,Ae,Ne]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(g)},st.prototype.multiply=function(g){var D=g.sx*this.sx+g.shy*this.shx,$=g.sx*this.shy+g.shy*this.sy,ee=g.shx*this.sx+g.sy*this.shx,oe=g.shx*this.shy+g.sy*this.sy,Ae=g.tx*this.sx+g.ty*this.shx+this.tx,Ne=g.tx*this.shy+g.ty*this.sy+this.ty;return new st(D,$,ee,oe,Ae,Ne)},st.prototype.decompose=function(){var g=this.sx,D=this.shy,$=this.shx,ee=this.sy,oe=this.tx,Ae=this.ty,Ne=Math.sqrt(g*g+D*D),Be=(g/=Ne)*$+(D/=Ne)*ee;$-=g*Be,ee-=D*Be;var We=Math.sqrt($*$+ee*ee);return Be/=We,g*(ee/=We)<D*($/=We)&&(g=-g,D=-D,Be=-Be,Ne=-Ne),{scale:new st(Ne,0,0,We,0,0),translate:new st(1,0,0,1,oe,Ae),rotate:new st(g,D,-D,g,0,0),skew:new st(1,0,Be,1,0,0)}},st.prototype.toString=function(g){return this.join(" ")},st.prototype.inversed=function(){var g=this.sx,D=this.shy,$=this.shx,ee=this.sy,oe=this.tx,Ae=this.ty,Ne=1/(g*ee-D*$),Be=ee*Ne,We=-D*Ne,at=-$*Ne,vt=g*Ne;return new st(Be,We,at,vt,-Be*oe-at*Ae,-We*oe-vt*Ae)},st.prototype.applyToPoint=function(g){var D=g.x*this.sx+g.y*this.shx+this.tx,$=g.x*this.shy+g.y*this.sy+this.ty;return new js(D,$)},st.prototype.applyToRectangle=function(g){var D=this.applyToPoint(g),$=this.applyToPoint(new js(g.x+g.w,g.y+g.h));return new Xo(D.x,D.y,$.x-D.x,$.y-D.y)},st.prototype.clone=function(){var g=this.sx,D=this.shy,$=this.shx,ee=this.sy,oe=this.tx,Ae=this.ty;return new st(g,D,$,ee,oe,Ae)},p.Matrix=st;var yn=p.matrixMult=function(g,D){return D.multiply(g)},Wi=new st(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Wi;var hr=function(g,D){if(!Pt[g]){var $=(D instanceof Al?"Sh":"P")+(Object.keys(ot).length+1).toString(10);D.id=$,Pt[g]=$,ot[$]=D,Lt.publish("addPattern",D)}};p.ShadingPattern=Al,p.TilingPattern=Nu,p.addShadingPattern=function(g,D){return x("addShadingPattern()"),hr(g,D),this},p.beginTilingPattern=function(g){x("beginTilingPattern()"),Vs(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,D){x("endTilingPattern()"),D.stream=Pe[W].join(`
`),hr(g,D),Lt.publish("endTilingPattern",D),Lr.pop().restore()};var fr,En=p.__private__.newObject=function(){var g=er();return xn(g,!0),g},er=p.__private__.newObjectDeferred=function(){return se++,ce[se]=function(){return me},se},xn=function(g,D){return D=typeof D=="boolean"&&D,ce[g]=me,D&&Q(g+" 0 obj"),g},ro=p.__private__.newAdditionalObject=function(){var g={objId:er(),content:""};return xe.push(g),g},ks=er(),Rr=er(),wi=p.__private__.decodeColorString=function(g){var D=g.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var $=parseFloat(D[0]);D=[$,$,$,"r"]}for(var ee="#",oe=0;oe<3;oe++)ee+=("0"+Math.floor(255*parseFloat(D[oe])).toString(16)).slice(-2);return ee},Qr=p.__private__.encodeColorString=function(g){var D;typeof g=="string"&&(g={ch1:g});var $=g.ch1,ee=g.ch2,oe=g.ch3,Ae=g.ch4,Ne=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Be=new bE($);if(Be.ok)$=Be.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var We=parseInt($.substr(1),16);$=We>>16&255,ee=We>>8&255,oe=255&We}if(ee===void 0||Ae===void 0&&$===ee&&ee===oe)D=typeof $=="string"?$+" "+Ne[0]:g.precision===2?w($/255)+" "+Ne[0]:k($/255)+" "+Ne[0];else if(Ae===void 0||on(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Ne[1]].join(" ");D=typeof $=="string"?[$,ee,oe,Ne[1]].join(" "):g.precision===2?[w($/255),w(ee/255),w(oe/255),Ne[1]].join(" "):[k($/255),k(ee/255),k(oe/255),Ne[1]].join(" ")}else D=typeof $=="string"?[$,ee,oe,Ae,Ne[2]].join(" "):g.precision===2?[w($),w(ee),w(oe),w(Ae),Ne[2]].join(" "):[k($),k(ee),k(oe),k(Ae),Ne[2]].join(" ");return D},Dr=p.__private__.getFilters=function(){return o},qn=p.__private__.putStream=function(g){var D=(g=g||{}).data||"",$=g.filters||Dr(),ee=g.alreadyAppliedFilters||[],oe=g.addLength1||!1,Ae=D.length,Ne=g.objectId,Be=function(Fn){return Fn};if(f!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Be=en.encryptor(Ne,0));var We={};$===!0&&($=["FlateEncode"]);var at=g.additionalKeyValues||[],vt=(We=Je.API.processDataByFilters!==void 0?Je.API.processDataByFilters(D,$):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(We.data.length!==0&&(at.push({key:"Length",value:We.data.length}),oe===!0&&at.push({key:"Length1",value:Ae})),vt.length!=0)if(vt.split("/").length-1==1)at.push({key:"Filter",value:vt});else{at.push({key:"Filter",value:"["+vt+"]"});for(var zt=0;zt<at.length;zt+=1)if(at[zt].key==="DecodeParms"){for(var Xt=[],kn=0;kn<We.reverseChain.split("/").length-1;kn+=1)Xt.push("null");Xt.push(at[zt].value),at[zt].value="["+Xt.join(" ")+"]"}}Q("<<");for(var tn=0;tn<at.length;tn++)Q("/"+at[tn].key+" "+at[tn].value);Q(">>"),We.data.length!==0&&(Q("stream"),Q(Be(We.data)),Q("endstream"))},Ps=p.__private__.putPage=function(g){var D=g.number,$=g.data,ee=g.objId,oe=g.contentsObjId;xn(ee,!0),Q("<</Type /Page"),Q("/Parent "+g.rootDictionaryObjId+" 0 R"),Q("/Resources "+g.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(E(g.mediaBox.bottomLeftX))+" "+parseFloat(E(g.mediaBox.bottomLeftY))+" "+E(g.mediaBox.topRightX)+" "+E(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&Q("/CropBox ["+E(g.cropBox.bottomLeftX)+" "+E(g.cropBox.bottomLeftY)+" "+E(g.cropBox.topRightX)+" "+E(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&Q("/BleedBox ["+E(g.bleedBox.bottomLeftX)+" "+E(g.bleedBox.bottomLeftY)+" "+E(g.bleedBox.topRightX)+" "+E(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&Q("/TrimBox ["+E(g.trimBox.bottomLeftX)+" "+E(g.trimBox.bottomLeftY)+" "+E(g.trimBox.topRightX)+" "+E(g.trimBox.topRightY)+"]"),g.artBox!==null&&Q("/ArtBox ["+E(g.artBox.bottomLeftX)+" "+E(g.artBox.bottomLeftY)+" "+E(g.artBox.topRightX)+" "+E(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&Q("/UserUnit "+g.userUnit),Lt.publish("putPage",{objId:ee,pageContext:ct[D],pageNumber:D,page:$}),Q("/Contents "+oe+" 0 R"),Q(">>"),Q("endobj");var Ae=$.join(`
`);return F===P&&(Ae+=`
Q`),xn(oe,!0),qn({data:Ae,filters:Dr(),objectId:oe}),Q("endobj"),ee},bi=p.__private__.putPages=function(){var g,D,$=[];for(g=1;g<=Yt;g++)ct[g].objId=er(),ct[g].contentsObjId=er();for(g=1;g<=Yt;g++)$.push(Ps({number:g,data:Pe[g],objId:ct[g].objId,contentsObjId:ct[g].contentsObjId,mediaBox:ct[g].mediaBox,cropBox:ct[g].cropBox,bleedBox:ct[g].bleedBox,trimBox:ct[g].trimBox,artBox:ct[g].artBox,userUnit:ct[g].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:Rr}));xn(ks,!0),Q("<</Type /Pages");var ee="/Kids [";for(D=0;D<Yt;D++)ee+=$[D]+" 0 R ";Q(ee+"]"),Q("/Count "+Yt),Q(">>"),Q("endobj"),Lt.publish("postPutPages")},ss=function(g){Lt.publish("putFont",{font:g,out:Q,newObject:En,putStream:qn}),g.isAlreadyPutted!==!0&&(g.objectNumber=En(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+du(g.postScriptName)),Q("/Subtype /Type1"),typeof g.encoding=="string"&&Q("/Encoding /"+g.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Cs=function(g){g.objectNumber=En();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[E(g.x),E(g.y),E(g.x+g.width),E(g.y+g.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var $=g.pages[1].join(`
`);qn({data:$,additionalKeyValues:D,objectId:g.objectNumber}),Q("endobj")},io=function(g,D){D||(D=21);var $=En(),ee=function(Ne,Be){var We,at=[],vt=1/(Be-1);for(We=0;We<1;We+=vt)at.push(We);if(at.push(1),Ne[0].offset!=0){var zt={offset:0,color:Ne[0].color};Ne.unshift(zt)}if(Ne[Ne.length-1].offset!=1){var Xt={offset:1,color:Ne[Ne.length-1].color};Ne.push(Xt)}for(var kn="",tn=0,Fn=0;Fn<at.length;Fn++){for(We=at[Fn];We>Ne[tn+1].offset;)tn++;var Pn=Ne[tn].offset,Mn=(We-Pn)/(Ne[tn+1].offset-Pn),dn=Ne[tn].color,wr=Ne[tn+1].color;kn+=ne(Math.round((1-Mn)*dn[0]+Mn*wr[0]).toString(16))+ne(Math.round((1-Mn)*dn[1]+Mn*wr[1]).toString(16))+ne(Math.round((1-Mn)*dn[2]+Mn*wr[2]).toString(16))}return kn.trim()}(g.colors,D),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+D+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:ee,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),Q("endobj"),g.objectNumber=En(),Q("<< /ShadingType "+g.type),Q("/ColorSpace /DeviceRGB");var Ae="/Coords ["+E(parseFloat(g.coords[0]))+" "+E(parseFloat(g.coords[1]))+" ";g.type===2?Ae+=E(parseFloat(g.coords[2]))+" "+E(parseFloat(g.coords[3])):Ae+=E(parseFloat(g.coords[2]))+" "+E(parseFloat(g.coords[3]))+" "+E(parseFloat(g.coords[4]))+" "+E(parseFloat(g.coords[5])),Q(Ae+="]"),g.matrix&&Q("/Matrix ["+g.matrix.toString()+"]"),Q("/Function "+$+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},so=function(g,D){var $=er(),ee=En();D.push({resourcesOid:$,objectOid:ee}),g.objectNumber=ee;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+g.boundingBox.map(E).join(" ")+"]"}),oe.push({key:"XStep",value:E(g.xStep)}),oe.push({key:"YStep",value:E(g.yStep)}),oe.push({key:"Resources",value:$+" 0 R"}),g.matrix&&oe.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),qn({data:g.stream,additionalKeyValues:oe,objectId:g.objectNumber}),Q("endobj")},gc=function(g){for(var D in g.objectNumber=En(),Q("<<"),g)switch(D){case"opacity":Q("/ca "+w(g[D]));break;case"stroke-opacity":Q("/CA "+w(g[D]))}Q(">>"),Q("endobj")},Ls=function(g){xn(g.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in Q("/Font <<"),Ge)Ge.hasOwnProperty(D)&&(m===!1||m===!0&&v.hasOwnProperty(D))&&Q("/"+D+" "+Ge[D].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(ot).length>0){for(var D in Q("/Shading <<"),ot)ot.hasOwnProperty(D)&&ot[D]instanceof Al&&ot[D].objectNumber>=0&&Q("/"+D+" "+ot[D].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Q(">>")}}(),function(D){if(Object.keys(ot).length>0){for(var $ in Q("/Pattern <<"),ot)ot.hasOwnProperty($)&&ot[$]instanceof p.TilingPattern&&ot[$].objectNumber>=0&&ot[$].objectNumber<D&&Q("/"+$+" "+ot[$].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Q(">>")}}(g.objectOid),function(){if(Object.keys(wt).length>0){var D;for(D in Q("/ExtGState <<"),wt)wt.hasOwnProperty(D)&&wt[D].objectNumber>=0&&Q("/"+D+" "+wt[D].objectNumber+" 0 R");Lt.publish("putGStateDict"),Q(">>")}}(),function(){for(var D in Q("/XObject <<"),zn)zn.hasOwnProperty(D)&&zn[D].objectNumber>=0&&Q("/"+D+" "+zn[D].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},el=function(g){gt[g.fontName]=gt[g.fontName]||{},gt[g.fontName][g.fontStyle]=g.id},Ho=function(g,D,$,ee,oe){var Ae={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:g,fontName:D,fontStyle:$,encoding:ee,isStandardFont:oe||!1,metadata:{}};return Lt.publish("addFont",{font:Ae,instance:this}),Ge[Ae.id]=Ae,el(Ae),Ae.id},dr=p.__private__.pdfEscape=p.pdfEscape=function(g,D){return function($,ee){var oe,Ae,Ne,Be,We,at,vt,zt,Xt;if(Ne=(ee=ee||{}).sourceEncoding||"Unicode",We=ee.outputEncoding,(ee.autoencode||We)&&Ge[et].metadata&&Ge[et].metadata[Ne]&&Ge[et].metadata[Ne].encoding&&(Be=Ge[et].metadata[Ne].encoding,!We&&Ge[et].encoding&&(We=Ge[et].encoding),!We&&Be.codePages&&(We=Be.codePages[0]),typeof We=="string"&&(We=Be[We]),We)){for(vt=!1,at=[],oe=0,Ae=$.length;oe<Ae;oe++)(zt=We[$.charCodeAt(oe)])?at.push(String.fromCharCode(zt)):at.push($[oe]),at[oe].charCodeAt(0)>>8&&(vt=!0);$=at.join("")}for(oe=$.length;vt===void 0&&oe!==0;)$.charCodeAt(oe-1)>>8&&(vt=!0),oe--;if(!vt)return $;for(at=ee.noBOM?[]:[254,255],oe=0,Ae=$.length;oe<Ae;oe++){if((Xt=(zt=$.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Xt),at.push(zt-(Xt<<8))}return String.fromCharCode.apply(void 0,at)}(g,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Si=p.__private__.beginPage=function(g){Pe[++Yt]=[],ct[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},nl(Yt),_e(Pe[W])},Wo=function(g,D){var $,ee,oe;switch(n=D||n,typeof g=="string"&&($=b(g.toLowerCase()),Array.isArray($)&&(ee=$[0],oe=$[1])),Array.isArray(g)&&(ee=g[0]*lt,oe=g[1]*lt),isNaN(ee)&&(ee=i[0],oe=i[1]),(ee>14400||oe>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),oe=Math.min(14400,oe)),i=[ee,oe],n.substr(0,1)){case"l":oe>ee&&(i=[oe,ee]);break;case"p":ee>oe&&(i=[oe,ee])}Si(i),Ms(Ko),Q(ls),ln!==0&&Q(ln+" J"),cl!==0&&Q(cl+" j"),Lt.publish("addPage",{pageNumber:Yt})},tl=function(g){g>0&&g<=Yt&&(Pe.splice(g,1),ct.splice(g,1),Yt--,W>Yt&&(W=Yt),this.setPage(W))},nl=function(g){g>0&&g<=Yt&&(W=g)},rl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},il=function(g,D,$){var ee,oe=void 0;return $=$||{},g=g!==void 0?g:Ge[et].fontName,D=D!==void 0?D:Ge[et].fontStyle,ee=g.toLowerCase(),gt[ee]!==void 0&&gt[ee][D]!==void 0?oe=gt[ee][D]:gt[g]!==void 0&&gt[g][D]!==void 0?oe=gt[g][D]:$.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+g+"', '"+D+"'. Refer to getFontList() for available fonts."),oe||$.noFallback||(oe=gt.times[D])==null&&(oe=gt.times.normal),oe},Rs=p.__private__.putInfo=function(){var g=En(),D=function(ee){return ee};for(var $ in f!==null&&(D=en.encryptor(g,0)),Q("<<"),Q("/Producer ("+dr(D("jsPDF "+Je.version))+")"),mt)mt.hasOwnProperty($)&&mt[$]&&Q("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+dr(D(mt[$]))+")");Q("/CreationDate ("+dr(D(pe))+")"),Q(">>"),Q("endobj")},sl=p.__private__.putCatalog=function(g){var D=(g=g||{}).rootDictionaryObjId||ks;switch(En(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+D+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+Ye;$.substr($.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+w(Ye)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Ze&&Q("/PageMode /"+Ze),Lt.publish("putCatalog"),Q(">>"),Q("endobj")},Nn=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(se+1)),Q("/Root "+se+" 0 R"),Q("/Info "+(se-1)+" 0 R"),f!==null&&Q("/Encrypt "+en.oid+" 0 R"),Q("/ID [ <"+ye+"> <"+ye+"> ]"),Q(">>")},ol=p.__private__.putHeader=function(){Q("%PDF-"+A),Q("%")},Zl=p.__private__.putXRef=function(){var g="0000000000";Q("xref"),Q("0 "+(se+1)),Q("0000000000 65535 f ");for(var D=1;D<=se;D++)typeof ce[D]=="function"?Q((g+ce[D]()).slice(-10)+" 00000 n "):ce[D]!==void 0?Q((g+ce[D]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},os=p.__private__.buildDocument=function(){var g;se=0,me=0,ve=[],ce=[],xe=[],ks=er(),Rr=er(),_e(ve),Lt.publish("buildDocument"),ol(),bi(),function(){Lt.publish("putAdditionalObjects");for(var $=0;$<xe.length;$++){var ee=xe[$];xn(ee.objId,!0),Q(ee.content),Q("endobj")}Lt.publish("postPutAdditionalObjects")}(),g=[],function(){for(var $ in Ge)Ge.hasOwnProperty($)&&(m===!1||m===!0&&v.hasOwnProperty($))&&ss(Ge[$])}(),function(){var $;for($ in wt)wt.hasOwnProperty($)&&gc(wt[$])}(),function(){for(var $ in zn)zn.hasOwnProperty($)&&Cs(zn[$])}(),function($){var ee;for(ee in ot)ot.hasOwnProperty(ee)&&(ot[ee]instanceof Al?io(ot[ee]):ot[ee]instanceof Nu&&so(ot[ee],$))}(g),Lt.publish("putResources"),g.forEach(Ls),Ls({resourcesOid:Rr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),f!==null&&(en.oid=En(),Q("<<"),Q("/Filter /Standard"),Q("/V "+en.v),Q("/R "+en.r),Q("/U <"+en.toHexString(en.U)+">"),Q("/O <"+en.toHexString(en.O)+">"),Q("/P "+en.P),Q(">>"),Q("endobj")),Rs(),sl();var D=me;return Zl(),Nn(),Q("startxref"),Q(""+D),Q("%%EOF"),_e(Pe[W]),ve.join(`
`)},Ds=p.__private__.getBlob=function(g){return new Blob([St(g)],{type:"application/pdf"})},ai=p.output=p.__private__.output=(fr=function(g,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",g){case void 0:return os();case"save":p.save(D.filename);break;case"arraybuffer":return St(os());case"blob":return Ds(os());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Ds(os()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",ee=os();try{$=Cw(ee)}catch{$=Cw(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+D.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(oe=D.pdfObjectUrl,Ae="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Be=yt.open();return Be!==null&&Be.document.write(Ne),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',at=yt.open();if(at!==null){at.document.write(We);var vt=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=D.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vt.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Xt=yt.open();if(Xt!==null&&(Xt.document.write(zt),Xt.document.title=D.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",D);default:return null}},fr.foo=function(){try{return fr.apply(this,arguments)}catch($){var g=$.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var D="Error in function "+g.split(`
`)[0].split("<")[0]+": "+$.message;if(!yt.console)throw new Error(D);yt.console.error(D,$),yt.alert&&alert(D)}},fr.foo.bar=fr,fr.foo),oo=function(g){return Array.isArray(Ns)===!0&&Ns.indexOf(g)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=oo("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var en=null;we(),Z();var Yr=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[g].objId,pageNumber:g,pageContext:ct[g]}},$o=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ct)if(ct[D].objId===g)break;return Yr(D)},Go=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ct[W].objId,pageNumber:W,pageContext:ct[W]}};p.addPage=function(){return Wo.apply(this,arguments),this},p.setPage=function(){return nl.apply(this,arguments),_e.call(this,Pe[W]),this},p.insertPage=function(g){return this.addPage(),this.movePage(W,g),this},p.movePage=function(g,D){var $,ee;if(g>D){$=Pe[g],ee=ct[g];for(var oe=g;oe>D;oe--)Pe[oe]=Pe[oe-1],ct[oe]=ct[oe-1];Pe[D]=$,ct[D]=ee,this.setPage(D)}else if(g<D){$=Pe[g],ee=ct[g];for(var Ae=g;Ae<D;Ae++)Pe[Ae]=Pe[Ae+1],ct[Ae]=ct[Ae+1];Pe[D]=$,ct[D]=ee,this.setPage(D)}return this},p.deletePage=function(){return tl.apply(this,arguments),this},p.__private__.text=p.text=function(g,D,$,ee,oe){var Ae,Ne,Be,We,at,vt,zt,Xt,kn,tn=(ee=ee||{}).scope||this;if(typeof g=="number"&&typeof D=="number"&&(typeof $=="string"||Array.isArray($))){var Fn=$;$=D,D=g,g=Fn}if(arguments[3]instanceof st==0?(Be=arguments[4],We=arguments[5],on(zt=arguments[3])==="object"&&zt!==null||(typeof Be=="string"&&(We=Be,Be=null),typeof zt=="string"&&(We=zt,zt=null),typeof zt=="number"&&(Be=zt,zt=null),ee={flags:zt,angle:Be,align:We})):(x("The transform parameter of text() with a Matrix value"),kn=oe),isNaN(D)||isNaN($)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return tn;var Pn,Mn="",dn=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Fs,wr=tn.internal.scaleFactor;function pl(Jt){return Jt=Jt.split("	").join(Array(ee.TabLen||9).join(" ")),dr(Jt,zt)}function Ei(Jt){for(var un,Wn=Jt.concat(),ir=[],po=Wn.length;po--;)typeof(un=Wn.shift())=="string"?ir.push(un):Array.isArray(Jt)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?ir.push(un[0]):ir.push([un[0],un[1],un[2]]);return ir}function h(Jt,un){var Wn;if(typeof Jt=="string")Wn=un(Jt)[0];else if(Array.isArray(Jt)){for(var ir,po,Pc=Jt.concat(),ru=[],bf=Pc.length;bf--;)typeof(ir=Pc.shift())=="string"?ru.push(un(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(po=un(ir[0],ir[1],ir[2]),ru.push([po[0],po[1],po[2]]));Wn=ru}return Wn}var _=!1,T=!0;if(typeof g=="string")_=!0;else if(Array.isArray(g)){var z=g.concat();Ne=[];for(var ae,de=z.length;de--;)(typeof(ae=z.shift())!="string"||Array.isArray(ae)&&typeof ae[0]!="string")&&(T=!1);_=T}if(_===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Oe=Re/tn.internal.scaleFactor,jt=Oe*(dn-1);switch(ee.baseline){case"bottom":$-=jt;break;case"top":$+=Oe-jt;break;case"hanging":$+=Oe-2*jt;break;case"middle":$+=Oe/2-jt}if((vt=ee.maxWidth||0)>0&&(typeof g=="string"?g=tn.splitTextToSize(g,vt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Jt,un){return Jt.concat(tn.splitTextToSize(un,vt))},[]))),Ae={text:g,x:D,y:$,options:ee,mutex:{pdfEscape:dr,activeFontKey:et,fonts:Ge,activeFontSize:Re}},Lt.publish("preProcessText",Ae),g=Ae.text,Be=(ee=Ae.options).angle,kn instanceof st==0&&Be&&typeof Be=="number"){Be*=Math.PI/180,ee.rotationDirection===0&&(Be=-Be),F===P&&(Be=-Be);var Cn=Math.cos(Be),Rt=Math.sin(Be);kn=new st(Cn,Rt,-Rt,Cn,0,0)}else Be&&Be instanceof st&&(kn=Be);F!==P||kn||(kn=Wi),(at=ee.charSpace||uo)!==void 0&&(Mn+=E(C(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=ee.horizontalScale)!==void 0&&(Mn+=E(100*Xt)+` Tz
`),ee.lang;var Ct=-1,pn=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,xi=tn.internal.getCurrentPageInfo().pageContext;switch(pn){case 0:case!1:case"fill":Ct=0;break;case 1:case!0:case"stroke":Ct=1;break;case 2:case"fillThenStroke":Ct=2;break;case 3:case"invisible":Ct=3;break;case 4:case"fillAndAddForClipping":Ct=4;break;case 5:case"strokeAndAddPathForClipping":Ct=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ct=6;break;case 7:case"addToPathForClipping":Ct=7}var Or=xi.usedRenderingMode!==void 0?xi.usedRenderingMode:-1;Ct!==-1?Mn+=Ct+` Tr
`:Or!==-1&&(Mn+=`0 Tr
`),Ct!==-1&&(xi.usedRenderingMode=Ct),We=ee.align||"left";var br,cs=Re*dn,Ac=tn.internal.pageSize.getWidth(),Ec=Ge[et];at=ee.charSpace||uo,vt=ee.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Zo=[],ml=function(Jt){return tn.getStringUnitWidth(Jt,{font:Ec,charSpace:at,fontSize:Re,doKerning:!1})*Re/wr};if(Object.prototype.toString.call(g)==="[object Array]"){var Ii;Ne=Ei(g),We!=="left"&&(br=Ne.map(ml));var Ti,ea=0;if(We==="right"){D-=br[0],g=[],de=Ne.length;for(var fo=0;fo<de;fo++)fo===0?(Ti=pr(D),Ii=as($)):(Ti=C(ea-br[fo]),Ii=-cs),g.push([Ne[fo],Ti,Ii]),ea=br[fo]}else if(We==="center"){D-=br[0]/2,g=[],de=Ne.length;for(var ta=0;ta<de;ta++)ta===0?(Ti=pr(D),Ii=as($)):(Ti=C((ea-br[ta])/2),Ii=-cs),g.push([Ne[ta],Ti,Ii]),ea=br[ta]}else if(We==="left"){g=[],de=Ne.length;for(var xc=0;xc<de;xc++)g.push(Ne[xc])}else if(We==="justify"&&Ec.encoding==="Identity-H"){g=[],de=Ne.length,vt=vt!==0?vt:Ac;for(var nu=0,Hn=0;Hn<de;Hn++)if(Ii=Hn===0?as($):-cs,Ti=Hn===0?pr(D):nu,Hn<de-1){var wf=C((vt-br[Hn])/(Ne[Hn].split(" ").length-1)),Bs=Ne[Hn].split(" ");g.push([Bs[0]+" ",Ti,Ii]),nu=0;for(var zs=1;zs<Bs.length;zs++){var Ic=(ml(Bs[zs-1]+" "+Bs[zs])-ml(Bs[zs]))*wr+wf;zs==Bs.length-1?g.push([Bs[zs],Ic,0]):g.push([Bs[zs]+" ",Ic,0]),nu-=Ic}}else g.push([Ne[Hn],Ti,Ii]);g.push(["",nu,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],de=Ne.length,vt=vt!==0?vt:Ac,Hn=0;Hn<de;Hn++){Ii=Hn===0?as($):-cs,Ti=Hn===0?pr(D):0;var Tc=Ne[Hn].split(" ").length-1,Nc=Tc>0?(vt-br[Hn])/Tc:0;Hn<de-1?Zo.push(E(C(Nc))):Zo.push(0),g.push([Ne[Hn],Ti,Ii])}}}(typeof ee.R2L=="boolean"?ee.R2L:At)===!0&&(g=h(g,function(Jt,un,Wn){return[Jt.split("").reverse().join(""),un,Wn]})),Ae={text:g,x:D,y:$,options:ee,mutex:{pdfEscape:dr,activeFontKey:et,fonts:Ge,activeFontSize:Re}},Lt.publish("postProcessText",Ae),g=Ae.text,Pn=Ae.mutex.isHex||!1;var kc=Ge[et].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(g=h(g,function(Jt,un,Wn){return[pl(Jt),un,Wn]})),Ne=Ei(g),g=[];for(var na,ra,ia,gl=Array.isArray(Ne[0])?1:0,sa="",vl=function(Jt,un,Wn){var ir="";return Wn instanceof st?(Wn=typeof ee.angle=="number"?yn(Wn,new st(1,0,0,1,Jt,un)):yn(new st(1,0,0,1,Jt,un),Wn),F===P&&(Wn=yn(new st(1,0,0,-1,0,0),Wn)),ir=Wn.join(" ")+` Tm
`):ir=E(Jt)+" "+E(un)+` Td
`,ir},Qi=0;Qi<Ne.length;Qi++){switch(sa="",gl){case 1:ia=(Pn?"<":"(")+Ne[Qi][0]+(Pn?">":")"),na=parseFloat(Ne[Qi][1]),ra=parseFloat(Ne[Qi][2]);break;case 0:ia=(Pn?"<":"(")+Ne[Qi]+(Pn?">":")"),na=pr(D),ra=as($)}Zo!==void 0&&Zo[Qi]!==void 0&&(sa=Zo[Qi]+` Tw
`),Qi===0?g.push(sa+vl(na,ra,kn)+ia):gl===0?g.push(sa+ia):gl===1&&g.push(sa+vl(na,ra,kn)+ia)}g=gl===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var qs=`BT
/`;return qs+=et+" "+Re+` Tf
`,qs+=E(Re*dn)+` TL
`,qs+=Ai+`
`,qs+=Mn,qs+=g,Q(qs+="ET"),v[et]=!0,tn};var eu=p.__private__.clip=p.clip=function(g){return Q(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return eu("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Q("n"),this};var Ot=p.__private__.isValidStyle=function(g){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ot(g)&&(u=g),this};var ao=p.__private__.getStyle=p.getStyle=function(g){var D=u;switch(g){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=g}return D},Os=p.close=function(){return Q("h"),this};p.stroke=function(){return Q("S"),this},p.fill=function(g){return li("f",g),this},p.fillEvenOdd=function(g){return li("f*",g),this},p.fillStroke=function(g){return li("B",g),this},p.fillStrokeEvenOdd=function(g){return li("B*",g),this};var li=function(g,D){on(D)==="object"?vc(D,g):Q(g)},al=function(g){g===null||F===P&&g===void 0||(g=ao(g),Q(g))};function tu(g,D,$,ee,oe){var Ae=new Nu(D||this.boundingBox,$||this.xStep,ee||this.yStep,this.gState,oe||this.matrix);Ae.stream=this.stream;var Ne=g+"$$"+this.cloneIndex+++"$$";return hr(Ne,Ae),Ae}var vc=function(g,D){var $=Pt[g.key],ee=ot[$];if(ee instanceof Al)Q("q"),Q(yc(D)),ee.gState&&p.setGState(ee.gState),Q(g.matrix.toString()+" cm"),Q("/"+$+" sh"),Q("Q");else if(ee instanceof Nu){var oe=new st(1,0,0,-1,0,Ki());g.matrix&&(oe=oe.multiply(g.matrix||Wi),$=tu.call(ee,g.key,g.boundingBox,g.xStep,g.yStep,oe).id),Q("q"),Q("/Pattern cs"),Q("/"+$+" scn"),ee.gState&&p.setGState(ee.gState),Q(D),Q("Q")}},yc=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ll=p.moveTo=function(g,D){return Q(E(C(g))+" "+E(J(D))+" m"),this},lo=p.lineTo=function(g,D){return Q(E(C(g))+" "+E(J(D))+" l"),this},ui=p.curveTo=function(g,D,$,ee,oe,Ae){return Q([E(C(g)),E(J(D)),E(C($)),E(J(ee)),E(C(oe)),E(J(Ae)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,D,$,ee,oe){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.line");return F===N?this.lines([[$-g,ee-D]],g,D,[1,1],oe||"S"):this.lines([[$-g,ee-D]],g,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,D,$,ee,oe,Ae){var Ne,Be,We,at,vt,zt,Xt,kn,tn,Fn,Pn,Mn;if(typeof g=="number"&&(Mn=$,$=D,D=g,g=Mn),ee=ee||[1,1],Ae=Ae||!1,isNaN(D)||isNaN($)||!Array.isArray(g)||!Array.isArray(ee)||!Ot(oe)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ll(D,$),Ne=ee[0],Be=ee[1],at=g.length,Fn=D,Pn=$,We=0;We<at;We++)(vt=g[We]).length===2?(Fn=vt[0]*Ne+Fn,Pn=vt[1]*Be+Pn,lo(Fn,Pn)):(zt=vt[0]*Ne+Fn,Xt=vt[1]*Be+Pn,kn=vt[2]*Ne+Fn,tn=vt[3]*Be+Pn,Fn=vt[4]*Ne+Fn,Pn=vt[5]*Be+Pn,ui(zt,Xt,kn,tn,Fn,Pn));return Ae&&Os(),al(oe),this},p.path=function(g){for(var D=0;D<g.length;D++){var $=g[D],ee=$.c;switch($.op){case"m":ll(ee[0],ee[1]);break;case"l":lo(ee[0],ee[1]);break;case"c":ui.apply(this,ee);break;case"h":Os()}}return this},p.__private__.rect=p.rect=function(g,D,$,ee,oe){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return F===N&&(ee=-ee),Q([E(C(g)),E(J(D)),E(C($)),E(C(ee)),"re"].join(" ")),al(oe),this},p.__private__.triangle=p.triangle=function(g,D,$,ee,oe,Ae,Ne){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||isNaN(oe)||isNaN(Ae)||!Ot(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-g,ee-D],[oe-$,Ae-ee],[g-oe,D-Ae]],g,D,[1,1],Ne,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,D,$,ee,oe,Ae,Ne){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||isNaN(oe)||isNaN(Ae)||!Ot(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*$),Ae=Math.min(Ae,.5*ee),this.lines([[$-2*oe,0],[oe*Be,0,oe,Ae-Ae*Be,oe,Ae],[0,ee-2*Ae],[0,Ae*Be,-oe*Be,Ae,-oe,Ae],[2*oe-$,0],[-oe*Be,0,-oe,-Ae*Be,-oe,-Ae],[0,2*Ae-ee],[0,-Ae*Be,oe*Be,-Ae,oe,-Ae]],g+oe,D,[1,1],Ne,!0),this},p.__private__.ellipse=p.ellipse=function(g,D,$,ee,oe){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*$,Ne=4/3*(Math.SQRT2-1)*ee;return ll(g+$,D),ui(g+$,D-Ne,g+Ae,D-ee,g,D-ee),ui(g-Ae,D-ee,g-$,D-Ne,g-$,D),ui(g-$,D+Ne,g-Ae,D+ee,g,D+ee),ui(g+Ae,D+ee,g+$,D+Ne,g+$,D),al(oe),this},p.__private__.circle=p.circle=function(g,D,$,ee){if(isNaN(g)||isNaN(D)||isNaN($)||!Ot(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,D,$,$,ee)},p.setFont=function(g,D,$){return $&&(D=V(D,$)),et=il(g,D,{disableWarning:!1}),this};var $i=p.__private__.getFont=p.getFont=function(){return Ge[il.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,D,$={};for(g in gt)if(gt.hasOwnProperty(g))for(D in $[g]=[],gt[g])gt[g].hasOwnProperty(D)&&$[g].push(D);return $},p.addFont=function(g,D,$,ee,oe){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&($=V($,ee)),Ho.call(this,g,D,$,oe=oe||"Identity-H")};var Fs,Ko=t.lineWidth||.200025,ft=p.__private__.getLineWidth=p.getLineWidth=function(){return Ko},Ms=p.__private__.setLineWidth=p.setLineWidth=function(g){return Ko=g,Q(E(C(g))+" w"),this};p.__private__.setLineDash=Je.API.setLineDash=Je.API.setLineDashPattern=function(g,D){if(g=g||[],D=D||0,isNaN(D)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function($){return E(C($))}).join(" "),D=E(C(D)),Q("["+g+"] "+D+" d"),this};var _c=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Fs};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Fs};var wc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Fs=g),this},bc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Fs};wc(t.lineHeight);var pr=p.__private__.getHorizontalCoordinate=function(g){return C(g)},as=p.__private__.getVerticalCoordinate=function(g){return F===P?g:ct[W].mediaBox.topRightY-ct[W].mediaBox.bottomLeftY-C(g)},Sc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return E(pr(g))},Qo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return E(as(g))},ls=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return wi(ls)},p.__private__.setStrokeColor=p.setDrawColor=function(g,D,$,ee){return ls=Qr({ch1:g,ch2:D,ch3:$,ch4:ee,pdfColorType:"draw",precision:2}),Q(ls),this};var Yo=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return wi(Yo)},p.__private__.setFillColor=p.setFillColor=function(g,D,$,ee){return Yo=Qr({ch1:g,ch2:D,ch3:$,ch4:ee,pdfColorType:"fill",precision:2}),Q(Yo),this};var Ai=t.textColor||"0 g",Gi=p.__private__.getTextColor=p.getTextColor=function(){return wi(Ai)};p.__private__.setTextColor=p.setTextColor=function(g,D,$,ee){return Ai=Qr({ch1:g,ch2:D,ch3:$,ch4:ee,pdfColorType:"text",precision:3}),this};var uo=t.charSpace,ul=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(uo||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uo=g,this};var ln=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var D=p.CapJoinStyles[g];if(D===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ln=D,Q(D+" J"),this};var cl=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var D=p.CapJoinStyles[g];if(D===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cl=D,Q(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(E(C(g))+" M"),this},p.GState=Op,p.setGState=function(g){(g=typeof g=="string"?wt[An[g]]:co(null,g)).equals(vn)||(Q("/"+g.id+" gs"),vn=g)};var co=function(g,D){if(!g||!An[g]){var $=!1;for(var ee in wt)if(wt.hasOwnProperty(ee)&&wt[ee].equals(D)){$=!0;break}if($)D=wt[ee];else{var oe="GS"+(Object.keys(wt).length+1).toString(10);wt[oe]=D,D.id=oe}return g&&(An[g]=D.id),Lt.publish("addGState",D),D}};p.addGState=function(g,D){return co(g,D),this},p.saveGraphicsState=function(){return Q("q"),Zt.push({key:et,size:Re,color:Ai}),this},p.restoreGraphicsState=function(){Q("Q");var g=Zt.pop();return et=g.key,Re=g.size,Ai=g.color,vn=null,this},p.setCurrentTransformationMatrix=function(g){return Q(g.toString()+" cm"),this},p.comment=function(g){return Q("#"+g),this};var js=function(g,D){var $=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(Ae){isNaN(Ae)||($=parseFloat(Ae))}});var ee=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Ae){isNaN(Ae)||(ee=parseFloat(Ae))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(Ae){oe=Ae.toString()}}),this},Xo=function(g,D,$,ee){js.call(this,g,D),this.type="rect";var oe=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ne){isNaN(Ne)||(oe=parseFloat(Ne))}});var Ae=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Ne){isNaN(Ne)||(Ae=parseFloat(Ne))}}),this},ho=function(){this.page=Yt,this.currentPage=W,this.pages=Pe.slice(0),this.pagesContext=ct.slice(0),this.x=nt,this.y=Kt,this.matrix=Bt,this.width=ci(W),this.height=us(W),this.outputDestination=Ve,this.id="",this.objectNumber=-1};ho.prototype.restore=function(){Yt=this.page,W=this.currentPage,ct=this.pagesContext,Pe=this.pages,nt=this.x,Kt=this.y,Bt=this.matrix,hl(W,this.width),Xr(W,this.height),Ve=this.outputDestination};var Vs=function(g,D,$,ee,oe){Lr.push(new ho),Yt=W=0,Pe=[],nt=g,Kt=D,Bt=oe,Si([$,ee])};for(var Us in p.beginFormObject=function(g,D,$,ee,oe){return Vs(g,D,$,ee,oe),this},p.endFormObject=function(g){return function(D){if(Hi[D])Lr.pop().restore();else{var $=new ho,ee="Xo"+(Object.keys(zn).length+1).toString(10);$.id=ee,Hi[D]=ee,zn[ee]=$,Lt.publish("addFormObject",$),Lr.pop().restore()}}(g),this},p.doFormObject=function(g,D){var $=zn[Hi[g]];return Q("q"),Q(D.toString()+" cm"),Q("/"+$.id+" Do"),Q("Q"),this},p.getFormObject=function(g){var D=zn[Hi[g]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(g,D){return g=g||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Sl(Ds(os()),g),typeof Sl.unload=="function"&&yt.setTimeout&&setTimeout(Sl.unload,911),this):new Promise(function($,ee){try{var oe=Sl(Ds(os()),g);typeof Sl.unload=="function"&&yt.setTimeout&&setTimeout(Sl.unload,911),$(oe)}catch(Ae){ee(Ae.message)}})},Je.API)Je.API.hasOwnProperty(Us)&&(Us==="events"&&Je.API.events.length?function(g,D){var $,ee,oe;for(oe=D.length-1;oe!==-1;oe--)$=D[oe][0],ee=D[oe][1],g.subscribe.apply(g,[$].concat(typeof ee=="function"?[ee]:ee))}(Lt,Je.API.events):p[Us]=Je.API[Us]);function ci(g){return ct[g].mediaBox.topRightX-ct[g].mediaBox.bottomLeftX}function hl(g,D){ct[g].mediaBox.topRightX=D+ct[g].mediaBox.bottomLeftX}function us(g){return ct[g].mediaBox.topRightY-ct[g].mediaBox.bottomLeftY}function Xr(g,D){ct[g].mediaBox.topRightY=D+ct[g].mediaBox.bottomLeftY}var fl=p.getPageWidth=function(g){return ci(g=g||W)/lt},Jo=p.setPageWidth=function(g,D){hl(g,D*lt)},Ki=p.getPageHeight=function(g){return us(g=g||W)/lt},dl=p.setPageHeight=function(g,D){Xr(g,D*lt)};return p.internal={pdfEscape:dr,getStyle:ao,getFont:$i,getFontSize:je,getCharSpace:ul,getTextColor:Gi,getLineHeight:_c,getLineHeightFactor:bc,getLineWidth:ft,write:kt,getHorizontalCoordinate:pr,getVerticalCoordinate:as,getCoordinateString:Sc,getVerticalCoordinateString:Qo,collections:{},newObject:En,newAdditionalObject:ro,newObjectDeferred:er,newObjectDeferredBegin:xn,getFilters:Dr,putStream:qn,events:Lt,scaleFactor:lt,pageSize:{getWidth:function(){return fl(W)},setWidth:function(g){Jo(W,g)},getHeight:function(){return Ki(W)},setHeight:function(g){dl(W,g)}},encryptionOptions:f,encryption:en,getEncryptor:function(g){return f!==null?en.encryptor(g,0):function(D){return D}},output:ai,getNumberOfPages:rl,pages:Pe,out:Q,f2:w,f3:k,getPageInfo:Yr,getPageInfoByObjId:$o,getCurrentPageInfo:Go,getPDFVersion:I,Point:js,Rectangle:Xo,Matrix:st,hasHotfix:oo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return fl(W)},set:function(g){Jo(W,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ki(W)},set:function(g){dl(W,g)},enumerable:!0,configurable:!0}),(function(g){for(var D=0,$=it.length;D<$;D++){var ee=Ho.call(this,g[D][0],g[D][1],g[D][2],it[D][3],!0);m===!1&&(v[ee]=!0);var oe=g[D][0].split("-");el({id:ee,fontName:oe[0],fontStyle:oe[1]||""})}Lt.publish("addFonts",{fonts:Ge,dictionary:gt})}).call(p,it),et="F1",Wo(i,n),Lt.publish("initialized"),p}fu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},fu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},fu.prototype.processOwnerPassword=function(t,e){return x1(E1(e).substr(0,5),t)},fu.prototype.encryptor=function(t,e){var n=E1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return x1(n,r)}},Op.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||on(t)!==on(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Je.API={events:[]},Je.version="3.0.3";var Un=Je.API,Nv=1,Jl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xt=function(t){return t.toFixed(2)},ma=function(t){return t.toFixed(5)};Un.__acroform__={};var _i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Ow=function(t){return t*Nv},$s=function(t){var e=new xE,n=He.internal.getHeight(t)||0,r=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(xt(r)),Number(xt(n))],e},AD=Un.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},ED=Un.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},xD=Un.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yn=Un.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xD(t,e-1)},Xn=Un.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return AD(t,e-1)},Jn=Un.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ED(t,e-1)},ID=Un.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(xt(l.lowerLeft_X)),Number(xt(l.lowerLeft_Y)),Number(xt(l.upperRight_X)),Number(xt(l.upperRight_Y))]},TD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=I1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=$s(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},I1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(w){return w.split(`
`)}):i.map(function(w){return[w]});var s=n,o=He.internal.getHeight(t)||0;o=o<0?-o:o;var a=He.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(w,k,C){if(w+1<i.length){var J=k+" "+i[w+1][0];return pd(J,t,C).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=pd("3",t,s).height,v=t.multiline?o-s:(o-m)/2,p=v+=2,A=0,I=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+pd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",N=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var F=!1;if(i[P].length!==1&&R!==i[P].length-1){if((m+2)*(N+2)+2>o)continue e;b+=i[P][R],F=!0,I=P,P--}else{b=(b+=i[P][R]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var Y=parseInt(P),te=l(Y,b,s),V=P>=i.length-1;if(te&&!V){b+=" ",R=0;continue}if(te||V){if(V)I=Y;else if(t.multiline&&(m+2)*(N+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(N+2)+2>o)continue e;I=Y}}for(var E="",x=A;x<=I;x++){var L=i[x];if(t.multiline){if(x===I){E+=L[R]+" ",R=(R+1)%L.length;continue}if(x===A){E+=L[L.length-1]+" ";continue}}E+=L[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,f=pd(E,t,s).width,t.textAlign){case"right":u=a-f-2;break;case"center":u=(a-f)/2;break;default:u=2}e+=xt(u)+" "+xt(p)+` Td
`,e+="("+Jl(E)+`) Tj
`,e+=-xt(u)+` 0 Td
`,p=-(s+2),f=0,A=F?I:I+1,N++,b=""}break}return r.text=e,r.fontSize=s,r},pd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ND={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kD=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},PD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Is.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ND)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Nv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new IE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&kD(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=ID(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=He.createDefaultAppearanceStream(a),on(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=TD(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var m="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var A=p[o];typeof A=="function"&&(A=A.call(i,a)),m+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=p)=="function"&&(A=A.call(i,a)),m+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(I,R){for(var b in I)if(I.hasOwnProperty(b)){var N=b,P=I[b];R.internal.newObjectDeferredBegin(P.objId,!0),on(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete I[N]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},EE=Un.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),on(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Jl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Jl(r(t))+")"},Qs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qs.prototype.toString=function(){return this.objId+" 0 R"},Qs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:EE(i,this.objId,this.scope)}):i instanceof Qs?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var xE=function(){Qs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};_i(xE,Qs);var IE=function(){Qs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Jl(n(t))+")"}},set:function(n){t=n}})};_i(IE,Qs);var Is=function t(){Qs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(b){b?this.F=Xn(e,3):this.F=Jn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Fp)return;s="FieldObject"+t.FieldNum++}var b=function(N){return N};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Jl(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Nv:u},set:function(b){u=b}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(b){f=b}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Fp||this instanceof Cl))return Hg(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=b}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof vr==0?Hg(v,this.objId,this.scope):v},set:function(b){b=b.toString(),v=this instanceof vr==0?b.substr(0,1)==="("?au(b.substr(1,b.length-2)):au(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?au(v.substr(1,v.length-1)):v},set:function(b){b=b.toString(),v=this instanceof vr==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof vr==0?Hg(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof vr==0?b.substr(0,1)==="("?au(b.substr(1,b.length-2)):au(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?au(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof vr==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(b){b=!!b,I=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(b){A=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(b){b?this.Ff=Xn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(b){b?this.Ff=Xn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(b){b?this.Ff=Xn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');R=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(R){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};_i(Is,Qs);var Vu=function(){Is.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EE(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Xn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Xn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Xn(this.Ff,20),e.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Xn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Xn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};_i(Vu,Is);var Uu=function(){Vu.call(this),this.fontName="helvetica",this.combo=!1};_i(Uu,Vu);var Bu=function(){Uu.call(this),this.combo=!0};_i(Bu,Uu);var Ud=function(){Bu.call(this),this.edit=!0};_i(Ud,Bu);var vr=function(){Is.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Xn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Xn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Xn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Jl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){on(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};_i(vr,Is);var Bd=function(){vr.call(this),this.pushButton=!0};_i(Bd,vr);var zu=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_i(zu,vr);var Fp=function(){var t,e;Is.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Jl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){on(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_i(Fp,Is),zu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zu.prototype.createOption=function(t){var e=new Fp;return e.Parent=this,e.optionName=t,this.Kids.push(e),CD.call(this.scope,e),e};var zd=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};_i(zd,vr);var Cl=function(){Is.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Xn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Xn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Xn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Xn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_i(Cl,Is);var qd=function(){Cl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Xn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};_i(qd,Cl);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=$s(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=I1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+xt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=$s(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=He.internal.getHeight(t),o=He.internal.getWidth(t),a=I1(t,t.caption);return i.push("1 g"),i.push("0 0 "+xt(o)+" "+xt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xt(o-1)+" "+xt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+xt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=$s(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=$s(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=He.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ma(He.internal.getWidth(t)/2)+" "+ma(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=$s(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5)),o=Number((r*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ma(He.internal.getWidth(t)/2)+" "+ma(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ma(He.internal.getWidth(t)/2)+" "+ma(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=$s(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ma(He.internal.getWidth(t)/2)+" "+ma(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=$s(t);e.scope=t.scope;var n=[],r=He.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+xt(He.internal.getWidth(t)-2)+" "+xt(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(xt(r.x1.x)+" "+xt(r.x1.y)+" m"),n.push(xt(r.x2.x)+" "+xt(r.x2.y)+" l"),n.push(xt(r.x4.x)+" "+xt(r.x4.y)+" m"),n.push(xt(r.x3.x)+" "+xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=$s(t);e.scope=t.scope;var n=He.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xt(He.internal.getWidth(t)-2)+" "+xt(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(xt(n.x1.x)+" "+xt(n.x1.y)+" m"),r.push(xt(n.x2.x)+" "+xt(n.x2.y)+" l"),r.push(xt(n.x4.x)+" "+xt(n.x4.y)+" m"),r.push(xt(n.x3.x)+" "+xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=$s(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),n=He.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},He.internal.getWidth=function(t){var e=0;return on(t)==="object"&&(e=Ow(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return on(t)==="object"&&(e=Ow(t.Rect[3])),e};var CD=Un.addField=function(t){if(PD(this,t),!(t instanceof Is))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Un.AcroFormChoiceField=Vu,Un.AcroFormListBox=Uu,Un.AcroFormComboBox=Bu,Un.AcroFormEditBox=Ud,Un.AcroFormButton=vr,Un.AcroFormPushButton=Bd,Un.AcroFormRadioButton=zu,Un.AcroFormCheckBox=zd,Un.AcroFormTextField=Cl,Un.AcroFormPasswordField=qd,Un.AcroFormAppearance=He,Un.AcroForm={ChoiceField:Vu,ListBox:Uu,ComboBox:Bu,EditBox:Ud,Button:vr,PushButton:Bd,RadioButton:zu,CheckBox:zd,TextField:Cl,PasswordField:qd,Appearance:He},Je.AcroForm={ChoiceField:Vu,ListBox:Uu,ComboBox:Bu,EditBox:Ud,Button:vr,PushButton:Bd,RadioButton:zu,CheckBox:zd,TextField:Cl,PasswordField:qd,Appearance:He};Je.AcroForm;function TE(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(w,k){var C,J,pe,ye,ge,Z=n;if((k=k||n)==="RGBA"||w.data!==void 0&&w.data instanceof Uint8ClampedArray&&"height"in w&&"width"in w)return"RGBA";if(te(w))for(ge in r)for(pe=r[ge],C=0;C<pe.length;C+=1){for(ye=!0,J=0;J<pe[C].length;J+=1)if(pe[C][J]!==void 0&&pe[C][J]!==w[J]){ye=!1;break}if(ye===!0){Z=ge;break}}else for(ge in r)for(pe=r[ge],C=0;C<pe.length;C+=1){for(ye=!0,J=0;J<pe[C].length;J+=1)if(pe[C][J]!==void 0&&pe[C][J]!==w.charCodeAt(J)){ye=!1;break}if(ye===!0){Z=ge;break}}return Z===n&&k!==n&&(Z=k),Z},s=function w(k){for(var C=this.internal.write,J=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:k.width}),ye.push({key:"Height",value:k.height}),k.colorSpace===b.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===b.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var ge="",Z=0,le=k.transparency.length;Z<le;Z++)ge+=k.transparency[Z]+" "+k.transparency[Z]+" ";ye.push({key:"Mask",value:"["+ge+"]"})}k.sMask!==void 0&&ye.push({key:"SMask",value:k.objectId+1+" 0 R"});var be=k.filter!==void 0?["/"+k.filter]:void 0;if(J({data:k.data,additionalKeyValues:ye,alreadyAppliedFilters:be,objectId:k.objectId}),C("endobj"),"sMask"in k&&k.sMask!==void 0){var we,M=(we=k.sMaskBitsPerComponent)!==null&&we!==void 0?we:k.bitsPerComponent,W={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:k.sMask};"filter"in k&&(W.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(k.width),W.filter=k.filter),w.call(this,W)}if(k.colorSpace===b.INDEXED){var X=this.internal.newObject();J({data:E(new Uint8Array(k.palette)),objectId:X}),C("endobj")}},o=function(){var w=this.internal.collections[e+"images"];for(var k in w)s.call(this,w[k])},a=function(){var w,k=this.internal.collections[e+"images"],C=this.internal.write;for(var J in k)C("/I"+(w=k[J]).index,w.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var w=this.internal.collections[e+"images"];return l.call(this),w},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(w){return typeof t["process"+w.toUpperCase()]=="function"},v=function(w){return on(w)==="object"&&w.nodeType===1},p=function(w,k){if(w.nodeName==="IMG"&&w.hasAttribute("src")){var C=""+w.getAttribute("src");if(C.indexOf("data:image/")===0)return Vd(unescape(C).split("base64,").pop());var J=t.loadFile(C,!0);if(J!==void 0)return J}if(w.nodeName==="CANVAS"){if(w.width===0||w.height===0)throw new Error("Given canvas must have data. Canvas width: "+w.width+", height: "+w.height);var pe;switch(k){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Vd(w.toDataURL(pe,1).split("base64,").pop())}},A=function(w){var k=this.internal.collections[e+"images"];if(k){for(var C in k)if(w===k[C].alias)return k[C]}},I=function(w,k,C){return w||k||(w=-96,k=-96),w<0&&(w=-1*C.width*72/w/this.internal.scaleFactor),k<0&&(k=-1*C.height*72/k/this.internal.scaleFactor),w===0&&(w=k*C.width/C.height),k===0&&(k=w*C.height/C.width),[w,k]},R=function(w,k,C,J,pe,ye){var ge=I.call(this,C,J,pe),Z=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,be=u.call(this);if(C=ge[0],J=ge[1],be[pe.index]=pe,ye){ye*=Math.PI/180;var we=Math.cos(ye),M=Math.sin(ye),W=function(ne){return ne.toFixed(4)},X=[W(we),W(M),W(-1*M),W(we),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,Z(w),le(k+J),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Z(C),"0","0",Z(J),"0","0","cm"].join(" "))):this.internal.write([Z(C),"0","0",Z(J),Z(w),le(k+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(w){var k,C,J=0;if(typeof w=="string")for(C=w.length,k=0;k<C;k++)J=(J<<5)-J+w.charCodeAt(k),J|=0;else if(te(w))for(C=w.byteLength/2,k=0;k<C;k++)J=(J<<5)-J+w[k],J|=0;return J},F=t.__addimage__.validateStringAsBase64=function(w){(w=w||"").toString().trim();var k=!0;return w.length===0&&(k=!1),w.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(w.substr(0,w.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(w.substr(-2))===!1&&(k=!1),k},Y=t.__addimage__.extractImageFromDataUrl=function(w){if(w==null||!(w=w.trim()).startsWith("data:"))return null;var k=w.indexOf(",");return k<0?null:w.substring(0,k).trim().endsWith("base64")?w.substring(k+1):null};t.__addimage__.isArrayBuffer=function(w){return w instanceof ArrayBuffer};var te=t.__addimage__.isArrayBufferView=function(w){return w instanceof Int8Array||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(w){for(var k=w.length,C=new Uint8Array(k),J=0;J<k;J++)C[J]=w.charCodeAt(J);return C},E=t.__addimage__.arrayBufferToBinaryString=function(w){for(var k="",C=te(w)?w:new Uint8Array(w),J=0;J<C.length;J+=8192)k+=String.fromCharCode.apply(null,C.subarray(J,J+8192));return k};t.addImage=function(){var w,k,C,J,pe,ye,ge,Z,le;if(typeof arguments[1]=="number"?(k=n,C=arguments[1],J=arguments[2],pe=arguments[3],ye=arguments[4],ge=arguments[5],Z=arguments[6],le=arguments[7]):(k=arguments[1],C=arguments[2],J=arguments[3],pe=arguments[4],ye=arguments[5],ge=arguments[6],Z=arguments[7],le=arguments[8]),on(w=arguments[0])==="object"&&!v(w)&&"imageData"in w){var be=w;w=be.imageData,k=be.format||k||n,C=be.x||C||0,J=be.y||J||0,pe=be.w||be.width||pe,ye=be.h||be.height||ye,ge=be.alias||ge,Z=be.compression||Z,le=be.rotation||be.angle||le}var we=this.internal.getFilters();if(Z===void 0&&we.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(C)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=x.call(this,w,k,ge,Z);return R.call(this,C,J,pe,ye,M,le),this};var x=function(w,k,C,J){var pe,ye,ge;if(typeof w=="string"&&i(w)===n){w=unescape(w);var Z=L(w,!1);(Z!==""||(Z=t.loadFile(w,!0))!==void 0)&&(w=Z)}if(v(w)&&(w=p(w,k)),k=i(w,k),!m(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ge=C)==null||ge.length===0)&&(C=function(le){return typeof le=="string"||te(le)?P(le):te(le.data)?P(le.data):null}(w)),(pe=A.call(this,C))||(w instanceof Uint8Array||k==="RGBA"||(ye=w,w=V(w)),pe=this["process"+k.toUpperCase()](w,f.call(this),C,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:N.NONE}(J),ye)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},L=t.__addimage__.convertBase64ToBinaryString=function(w,k){k=typeof k!="boolean"||k;var C,J="";if(typeof w=="string"){var pe;C=(pe=Y(w))!==null&&pe!==void 0?pe:w;try{J=Vd(C)}catch(ye){if(k)throw F(C)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(w){var k,C,J="";if(v(w)&&(w=p(w)),typeof w=="string"&&i(w)===n&&((J=L(w,!1))===""&&(J=t.loadFile(w)||""),w=J),C=i(w),!m(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(w instanceof Uint8Array||(w=V(w)),!(k=this["process"+C.toUpperCase()](w)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=C,k}})(Je.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Je.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,A=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(I.objId),N=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(b(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(b(N))+") >>",I.content=s;var P=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(I.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var te=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+te+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(u*f)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Je.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},a=t.__arabicParser__.isArabicEndLetter=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(I){return o(I)&&i.indexOf(I.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(I){var R=0,b=n,N="",P=0;for(R=0;R<I.length;R+=1)b[I.charCodeAt(R)]!==void 0?(P++,typeof(b=b[I.charCodeAt(R)])=="number"&&(N+=String.fromCharCode(b),b=n,P=0),R===I.length-1&&(b=n,N+=I.charAt(R-(P-1)),R-=P-1,P=0)):(b=n,N+=I.charAt(R-P),R-=P,P=0);return N};t.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(I,R,b){return o(I)?s(I)===!1?-1:!u(I)||!o(R)&&!o(b)||!o(b)&&a(R)||a(I)&&!o(R)||a(I)&&l(R)||a(I)&&a(R)?0:f(I)&&o(R)&&!a(R)&&o(b)&&u(b)?3:a(I)||!o(b)?1:2:-1},p=function(I){var R=0,b=0,N=0,P="",F="",Y="",te=(I=I||"").split("\\s+"),V=[];for(R=0;R<te.length;R+=1){for(V.push(""),b=0;b<te[R].length;b+=1)P=te[R][b],F=te[R][b-1],Y=te[R][b+1],o(P)?(N=v(P,F,Y),V[R]+=N!==-1?String.fromCharCode(e[P.charCodeAt(0)][N]):P):V[R]+=P;V[R]=m(V[R])}return V.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var I,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(R)){var N=0;for(b=[],N=0;N<R.length;N+=1)Array.isArray(R[N])?b.push([p(R[N][0]),R[N][1],R[N][2]]):b.push([p(R[N])]);I=b}else I=p(R);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};t.events.push(["preProcessText",A])}(Je.API),Je.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Je.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(I){l=I}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(I){A=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,A=0,I=0,R=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=u.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(P,F){return P.concat(R.splitTextToSize(F,b))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)p<(I=this.getStringUnitWidth(l[N],{font:m})*f)&&(p=I);return p!==0&&(A=l.length),{w:p/=v,h:Math.max((A*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,m,v){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,A,I,R,b=[],N=[],P=[],F={},Y={},te=[],V=[],E=(v=v||{}).autoSize||!1,x=v.printHeaders!==!1,L=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,w=v.margins||Object.assign({width:this.getPageWidth()},e),k=typeof v.padding=="number"?v.padding:3,C=v.headerBackgroundColor||"#c8c8c8",J=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=w,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=J,this.setFontSize(L),m==null)N=b=Object.keys(f[0]),P=b.map(function(){return"left"});else if(Array.isArray(m)&&on(m[0])==="object")for(b=m.map(function(be){return be.name}),N=m.map(function(be){return be.prompt||be.name||""}),P=m.map(function(be){return be.align||"left"}),p=0;p<m.length;p+=1)Y[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=b=m,P=b.map(function(){return"left"}));if(E||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<b.length;p+=1){for(F[R=b[p]]=f.map(function(be){return be[R]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=F[R],this.setFont(void 0,"normal"),I=0;I<A.length;I+=1)te.push(this.getTextDimensions(A[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[R]=Math.max.apply(null,te)+k+k,te=[]}if(x){var pe={};for(p=0;p<b.length;p+=1)pe[b[p]]={},pe[b[p]].text=N[p],pe[b[p]].align=P[p];var ye=a.call(this,pe,Y);V=b.map(function(be){return new s(l,u,Y[be],ye,pe[be].text,void 0,pe[be].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ge=m.reduce(function(be,we){return be[we.name]=we.align,be},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var Z=a.call(this,f[p],Y);for(I=0;I<b.length;I+=1){var le=f[p][b[I]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:I,data:le},this),o.call(this,new s(l,u,Y[b[I]],Z,le,p+2,ge[b[I]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var A=l[p];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+f+f},this).reduce(function(p,A){return Math.max(p,A)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(A)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(Je.API);var NE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],T1=TE(kE),PE=[100,200,300,400,500,600,700,800,900],LD=TE(PE);function Wg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return NE[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof T1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Fw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var RD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Vw(t){return t.trimLeft()}function DD(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function OD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var md,Uw,Bw,lu,gd,zw,qw,Hw,$g=["times"];function Ww(t,e,n,r,i){var s=4,o=Gw;switch(i){case Je.API.image_compression.FAST:s=1,o=$w;break;case Je.API.image_compression.MEDIUM:s=6,o=Kw;break;case Je.API.image_compression.SLOW:s=9,o=Qw}t=function(l,u,f,m){for(var v,p=l.length/u,A=new Uint8Array(l.length+p),I=[FD,$w,Gw,Kw,Qw],R=0;R<p;R+=1){var b=R*u,N=l.subarray(b,b+u);if(m)A.set(m(N,f,v),b+R);else{for(var P=I.length,F=[],Y=0;Y<P;Y+=1)F[Y]=I[Y](N,f,v);var te=jD(F.concat());A.set(F[te],b+R)}v=N}return A}(t,e,Math.ceil(n*r/8),o);var a=w1(t,{level:s});return Je.API.__addimage__.arrayBufferToBinaryString(a)}function FD(t){var e=Array.apply([],t);return e.unshift(0),e}function $w(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function Gw(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function Kw(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function Qw(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=MD(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function MD(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function jD(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Gg(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return CE(t,i)>>s&o}function Yw(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var v=m>>8&255;u.setUint8(f,v)}})(t,s,CE(t,s)&~(a<<o)&65535|l)}function CE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function VD(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,f=[],m=0,v=null,p=0,A=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],1&I||(v=null),p=I>>2&7,e++;break;case 254:for(;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,F=t[e++],Y=F>>6&1,te=1<<1+(7&F),V=a,E=l,x=!1;F>>7&&(x=!0,V=e,E=te,e+=3*te);var L=e;for(e++;;){var w;if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}f.push({x:R,y:b,width:N,height:P,has_local_palette:x,palette_offset:V,palette_size:E,data_offset:L,data_length:e-L,transparent_index:v,interlaced:!!Y,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return A},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,C){var J=this.frameInfo(k),pe=J.width*J.height,ye=new Uint8Array(pe);Xw(t,J.data_offset,ye,pe);var ge=J.palette_offset,Z=J.transparent_index;Z===null&&(Z=256);var le=J.width,be=n-le,we=le,M=4*(J.y*n+J.x),W=4*((J.y+J.height)*n+J.x),X=M,ne=4*be;J.interlaced===!0&&(ne+=4*n*7);for(var se=8,ce=0,ve=ye.length;ce<ve;++ce){var me=ye[ce];if(we===0&&(we=le,(X+=ne)>=W&&(ne=4*be+4*n*(se-1),X=M+(le+be)*(se<<1),se>>=1)),me===Z)X+=4;else{var xe=t[ge+3*me],Pe=t[ge+3*me+1],Me=t[ge+3*me+2];C[X++]=Me,C[X++]=Pe,C[X++]=xe,C[X++]=255}--we}},this.decodeAndBlitFrameRGBA=function(k,C){var J=this.frameInfo(k),pe=J.width*J.height,ye=new Uint8Array(pe);Xw(t,J.data_offset,ye,pe);var ge=J.palette_offset,Z=J.transparent_index;Z===null&&(Z=256);var le=J.width,be=n-le,we=le,M=4*(J.y*n+J.x),W=4*((J.y+J.height)*n+J.x),X=M,ne=4*be;J.interlaced===!0&&(ne+=4*n*7);for(var se=8,ce=0,ve=ye.length;ce<ve;++ce){var me=ye[ce];if(we===0&&(we=le,(X+=ne)>=W&&(ne=4*be+4*n*(se-1),X=M+(le+be)*(se<<1),se>>=1)),me===Z)X+=4;else{var xe=t[ge+3*me],Pe=t[ge+3*me+1],Me=t[ge+3*me+2];C[X++]=xe,C[X++]=Pe,C[X++]=Me,C[X++]=255}--we}}}function Xw(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,f=0,m=0,v=0,p=t[e++],A=new Int32Array(4096),I=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var R=m&u;if(m>>=l,f-=l,R!==s){if(R===o)break;for(var b=R<a?R:I,N=0,P=b;P>s;)P=A[P]>>8,++N;var F=P;if(v+N+(b!==R?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[v++]=F;var Y=v+=N;for(b!==R&&(n[v++]=F),P=b;N--;)P=A[P],n[--Y]=255&P,P>>=8;I!==null&&a<4096&&(A[a++]=I<<8|F,a>=u+1&&l<12&&(++l,u=u<<1|1)),I=R}else a=o+1,u=(1<<(l=i+1))-1,I=null}return v!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Kg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),A=new Array(64),I=[],R=0,b=7,N=new Array(64),P=new Array(64),F=new Array(64),Y=new Array(256),te=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],w=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(M,W){for(var X=0,ne=0,se=new Array,ce=1;ce<=16;ce++){for(var ve=1;ve<=M[ce];ve++)se[W[ne]]=[],se[W[ne]][0]=X,se[W[ne]][1]=ce,ne++,X++;X*=2}return se}function ge(M){for(var W=M[0],X=M[1]-1;X>=0;)W&1<<X&&(R|=1<<b),X--,--b<0&&(R==255?(Z(255),Z(0)):Z(R),b=7,R=0)}function Z(M){I.push(M)}function le(M){Z(M>>8&255),Z(255&M)}function be(M,W,X,ne,se){for(var ce,ve=se[0],me=se[240],xe=function(Re,Ye){var je,At,Ze,Mt,_t,Xe,Et,mt,et,lt,nt=0;for(et=0;et<8;++et){je=Re[nt],At=Re[nt+1],Ze=Re[nt+2],Mt=Re[nt+3],_t=Re[nt+4],Xe=Re[nt+5],Et=Re[nt+6];var Kt=je+(mt=Re[nt+7]),Bt=je-mt,Ge=At+Et,gt=At-Et,Zt=Ze+Xe,ot=Ze-Xe,Pt=Mt+_t,wt=Mt-_t,An=Kt+Pt,vn=Kt-Pt,Yt=Ge+Zt,ct=Ge-Zt;Re[nt]=An+Yt,Re[nt+4]=An-Yt;var Lt=.707106781*(ct+vn);Re[nt+2]=vn+Lt,Re[nt+6]=vn-Lt;var Ns=.382683433*((An=wt+ot)-(ct=gt+Bt)),zn=.5411961*An+Ns,Hi=1.306562965*ct+Ns,Lr=.707106781*(Yt=ot+gt),st=Bt+Lr,yn=Bt-Lr;Re[nt+5]=yn+zn,Re[nt+3]=yn-zn,Re[nt+1]=st+Hi,Re[nt+7]=st-Hi,nt+=8}for(nt=0,et=0;et<8;++et){je=Re[nt],At=Re[nt+8],Ze=Re[nt+16],Mt=Re[nt+24],_t=Re[nt+32],Xe=Re[nt+40],Et=Re[nt+48];var Wi=je+(mt=Re[nt+56]),hr=je-mt,fr=At+Et,En=At-Et,er=Ze+Xe,xn=Ze-Xe,ro=Mt+_t,ks=Mt-_t,Rr=Wi+ro,wi=Wi-ro,Qr=fr+er,Dr=fr-er;Re[nt]=Rr+Qr,Re[nt+32]=Rr-Qr;var qn=.707106781*(Dr+wi);Re[nt+16]=wi+qn,Re[nt+48]=wi-qn;var Ps=.382683433*((Rr=ks+xn)-(Dr=En+hr)),bi=.5411961*Rr+Ps,ss=1.306562965*Dr+Ps,Cs=.707106781*(Qr=xn+En),io=hr+Cs,so=hr-Cs;Re[nt+40]=so+bi,Re[nt+24]=so-bi,Re[nt+8]=io+ss,Re[nt+56]=io-ss,nt++}for(et=0;et<64;++et)lt=Re[et]*Ye[et],p[et]=lt>0?lt+.5|0:lt-.5|0;return p}(M,W),Pe=0;Pe<64;++Pe)A[V[Pe]]=xe[Pe];var Me=A[0]-X;X=A[0],Me==0?ge(ne[0]):(ge(ne[v[ce=32767+Me]]),ge(m[ce]));for(var Ve=63;Ve>0&&A[Ve]==0;)Ve--;if(Ve==0)return ge(ve),X;for(var _e,Q=1;Q<=Ve;){for(var kt=Q;A[Q]==0&&Q<=Ve;)++Q;var St=Q-kt;if(St>=16){_e=St>>4;for(var it=1;it<=_e;++it)ge(me);St&=15}ce=32767+A[Q],ge(se[(St<<4)+v[ce]]),ge(m[ce]),Q++}return Ve!=63&&ge(ve),X}function we(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(W){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=o((X[ne]*W+50)/100);se=Math.min(Math.max(se,1),255),a[V[ne]]=se}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var me=o((ce[ve]*W+50)/100);me=Math.min(Math.max(me,1),255),l[V[ve]]=me}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var Ve=0;Ve<8;Ve++)u[Pe]=1/(a[V[Pe]]*xe[Me]*xe[Ve]*8),f[Pe]=1/(l[V[Pe]]*xe[Me]*xe[Ve]*8),Pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,W){W&&we(W),I=new Array,R=0,b=7,le(65496),le(65504),le(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),le(1),le(1),Z(0),Z(0),function(){le(65499),le(132),Z(0);for(var At=0;At<64;At++)Z(a[At]);Z(1);for(var Ze=0;Ze<64;Ze++)Z(l[Ze])}(),function(At,Ze){le(65472),le(17),Z(8),le(Ze),le(At),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(M.width,M.height),function(){le(65476),le(418),Z(0);for(var At=0;At<16;At++)Z(E[At+1]);for(var Ze=0;Ze<=11;Ze++)Z(x[Ze]);Z(16);for(var Mt=0;Mt<16;Mt++)Z(L[Mt+1]);for(var _t=0;_t<=161;_t++)Z(w[_t]);Z(1);for(var Xe=0;Xe<16;Xe++)Z(k[Xe+1]);for(var Et=0;Et<=11;Et++)Z(C[Et]);Z(17);for(var mt=0;mt<16;mt++)Z(J[mt+1]);for(var et=0;et<=161;et++)Z(pe[et])}(),le(65498),le(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var X=0,ne=0,se=0;R=0,b=7,this.encode.displayName="_encode_";for(var ce,ve,me,xe,Pe,Me,Ve,_e,Q,kt=M.data,St=M.width,it=M.height,Re=4*St,Ye=0;Ye<it;){for(ce=0;ce<Re;){for(Pe=Re*Ye+ce,Ve=-1,_e=0,Q=0;Q<64;Q++)Me=Pe+(_e=Q>>3)*Re+(Ve=4*(7&Q)),Ye+_e>=it&&(Me-=Re*(Ye+1+_e-it)),ce+Ve>=Re&&(Me-=ce+Ve-Re+4),ve=kt[Me++],me=kt[Me++],xe=kt[Me++],N[Q]=(te[ve]+te[me+256|0]+te[xe+512|0]>>16)-128,P[Q]=(te[ve+768|0]+te[me+1024|0]+te[xe+1280|0]>>16)-128,F[Q]=(te[ve+1280|0]+te[me+1536|0]+te[xe+1792|0]>>16)-128;X=be(N,u,X,e,r),ne=be(P,f,ne,n,i),se=be(F,f,se,n,i),ce+=32}Ye+=8}if(b>=0){var je=[];je[1]=b+1,je[0]=(1<<b+1)-1,ge(je)}return le(65497),new Uint8Array(I)},t=t||50,function(){for(var M=String.fromCharCode,W=0;W<256;W++)Y[W]=M(W)}(),e=ye(E,x),n=ye(k,C),r=ye(L,w),i=ye(J,pe),function(){for(var M=1,W=2,X=1;X<=15;X++){for(var ne=M;ne<W;ne++)v[32767+ne]=X,m[32767+ne]=[],m[32767+ne][1]=X,m[32767+ne][0]=ne;for(var se=-(W-1);se<=-M;se++)v[32767+se]=X,m[32767+se]=[],m[32767+se][1]=X,m[32767+se][0]=W-1+se;M<<=1,W<<=1}}(),function(){for(var M=0;M<256;M++)te[M]=19595*M,te[M+256|0]=38470*M,te[M+512|0]=7471*M+32768,te[M+768|0]=-11059*M,te[M+1024|0]=-21709*M,te[M+1280|0]=32768*M+8421375,te[M+1536|0]=-27439*M,te[M+1792|0]=-5329*M}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ms(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jw(t){function e(x){if(!x)throw Error("assert :P")}function n(x,L,w){for(var k=0;4>k;k++)if(x[L+k]!=w.charCodeAt(k))return!0;return!1}function r(x,L,w,k,C){for(var J=0;J<C;J++)x[L+J]=w[k+J]}function i(x,L,w,k){for(var C=0;C<k;C++)x[L+C]=w}function s(x){return new Int32Array(x)}function o(x,L){for(var w=[],k=0;k<x;k++)w.push(new L);return w}function a(x,L){var w=[];return function k(C,J,pe){for(var ye=pe[J],ge=0;ge<ye&&(C.push(pe.length>J+1?[]:new L),!(pe.length<J+1));ge++)k(C[ge],J+1,pe)}(w,0,x),w}var l=function(){var x=this;function L(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function w(c,d,y,S,O){e(!(S%y));do c[d+(S-=y)]=O;while(0<S)}function k(c,d,y,S,O){if(e(2328>=O),512>=O)var j=s(512);else if((j=s(O))==null)return 0;return function(U,B,q,G,re,fe){var K,ie,ue=B,Se=1<<q,he=s(16),Ee=s(16);for(e(re!=0),e(G!=null),e(U!=null),e(0<q),ie=0;ie<re;++ie){if(15<G[ie])return 0;++he[G[ie]]}if(he[0]==re)return 0;for(Ee[1]=0,K=1;15>K;++K){if(he[K]>1<<K)return 0;Ee[K+1]=Ee[K]+he[K]}for(ie=0;ie<re;++ie)K=G[ie],0<G[ie]&&(fe[Ee[K]++]=ie);if(Ee[15]==1)return(G=new C).g=0,G.value=fe[0],w(U,ue,1,Se,G),Se;var Ie,Le=-1,ke=Se-1,tt=0,qe=1,Tt=1,Ke=1<<q;for(ie=0,K=1,re=2;K<=q;++K,re<<=1){if(qe+=Tt<<=1,0>(Tt-=he[K]))return 0;for(;0<he[K];--he[K])(G=new C).g=K,G.value=fe[ie++],w(U,ue+tt,re,Ke,G),tt=L(tt,K)}for(K=q+1,re=2;15>=K;++K,re<<=1){if(qe+=Tt<<=1,0>(Tt-=he[K]))return 0;for(;0<he[K];--he[K]){if(G=new C,(tt&ke)!=Le){for(ue+=Ke,Ie=1<<(Le=K)-q;15>Le&&!(0>=(Ie-=he[Le]));)++Le,Ie<<=1;Se+=Ke=1<<(Ie=Le-q),U[B+(Le=tt&ke)].g=Ie+q,U[B+Le].value=ue-B-Le}G.g=K-q,G.value=fe[ie++],w(U,ue+(tt>>q),re,Ke,G),tt=L(tt,K)}}return qe!=2*Ee[15]-1?0:Se}(c,d,y,S,O,j)}function C(){this.value=this.g=0}function J(){this.value=this.g=0}function pe(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ml,J)}function ye(c,d,y,S){e(c!=null),e(d!=null),e(2147483648>S),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+S,c.Zc=4<=S?y+S-4+1:y,ve(c)}function ge(c,d){for(var y=0;0<d--;)y|=xe(c,128)<<d;return y}function Z(c,d){var y=ge(c,d);return me(c)?-y:y}function le(c,d,y,S){var O,j=0;for(e(c!=null),e(d!=null),e(4294967288>S),c.Sb=S,c.Ra=0,c.u=0,c.h=0,4<S&&(S=4),O=0;O<S;++O)j+=d[y+O]<<8*O;c.Ra=j,c.bb=S,c.oa=d,c.pa=y}function be(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ea-8>>>0,++c.bb,c.u-=8;ne(c)&&(c.h=1,c.u=0)}function we(c,d){if(e(0<=d),!c.h&&d<=Ti){var y=X(c)&Ii[d];return c.u+=d,be(c),y}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(c){return c.Ra>>>(c.u&ea-1)>>>0}function ne(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ea}function se(c,d){c.u=d,c.h=ne(c)}function ce(c){c.u>=fo&&(e(c.u>=fo),be(c))}function ve(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function me(c){return ge(c,1)}function xe(c,d){var y=c.Ca;0>c.b&&ve(c);var S=c.b,O=y*d>>>8,j=(c.I>>>S>O)+0;for(j?(y-=O,c.I-=O+1<<S>>>0):y=O+1,S=y,O=0;256<=S;)O+=8,S>>=8;return S=7^O+ta[S],c.b-=S,c.Ca=(y<<S)-1,j}function Pe(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Me(c,d){return c[d+0]|c[d+1]<<8}function Ve(c,d){return Me(c,d)|c[d+2]<<16}function _e(c,d){return Me(c,d)|Me(c,d+2)<<16}function Q(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function kt(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function it(c,d,y,S){e(y!=null),e(S!=null);var O=y[0],j=S[0];return O==0&&(O=(c*j+d/2)/d),j==0&&(j=(d*O+c/2)/c),0>=O||0>=j?0:(y[0]=O,S[0]=j,1)}function Re(c,d){return c+(1<<d)-1>>>d}function Ye(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function je(c,d){x[d]=function(y,S,O,j,U,B,q){var G;for(G=0;G<U;++G){var re=x[c](B[q+G-1],O,j+G);B[q+G]=Ye(y[S+G],re)}}}function At(){this.ud=this.hd=this.jd=0}function Ze(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Mt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function _t(c,d){return Mt(c+(c-d+.5>>1))}function Xe(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function Et(c,d,y,S,O,j,U){for(S=j[U-1],y=0;y<O;++y)j[U+y]=S=Ye(c[d+y],S)}function mt(c,d,y,S,O){var j;for(j=0;j<y;++j){var U=c[d+j],B=U>>8&255,q=16711935&(q=(q=16711935&U)+((B<<16)+B));S[O+j]=(4278255360&U)+q>>>0}}function et(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function lt(c,d,y,S,O,j){var U;for(U=0;U<S;++U){var B=d[y+U],q=B>>>8,G=B,re=255&(re=(re=B>>>16)+((c.jd<<24>>24)*(q<<24>>24)>>>5));G=255&(G=(G+=(c.hd<<24>>24)*(q<<24>>24)>>>5)+((c.ud<<24>>24)*(re<<24>>24)>>>5)),O[j+U]=(4278255360&B)+(re<<16)+G}}function nt(c,d,y,S,O){x[d]=function(j,U,B,q,G,re,fe,K,ie){for(q=fe;q<K;++q)for(fe=0;fe<ie;++fe)G[re++]=O(B[S(j[U++])])},x[c]=function(j,U,B,q,G,re,fe){var K=8>>j.b,ie=j.Ea,ue=j.K[0],Se=j.w;if(8>K)for(j=(1<<j.b)-1,Se=(1<<K)-1;U<B;++U){var he,Ee=0;for(he=0;he<ie;++he)he&j||(Ee=S(q[G++])),re[fe++]=O(ue[Ee&Se]),Ee>>=K}else x["VP8LMapColor"+y](q,G,ue,Se,re,fe,U,B,ie)}}function Kt(c,d,y,S,O){for(y=d+y;d<y;){var j=c[d++];S[O++]=j>>16&255,S[O++]=j>>8&255,S[O++]=255&j}}function Bt(c,d,y,S,O){for(y=d+y;d<y;){var j=c[d++];S[O++]=j>>16&255,S[O++]=j>>8&255,S[O++]=255&j,S[O++]=j>>24&255}}function Ge(c,d,y,S,O){for(y=d+y;d<y;){var j=(U=c[d++])>>16&240|U>>12&15,U=240&U|U>>28&15;S[O++]=j,S[O++]=U}}function gt(c,d,y,S,O){for(y=d+y;d<y;){var j=(U=c[d++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;S[O++]=j,S[O++]=U}}function Zt(c,d,y,S,O){for(y=d+y;d<y;){var j=c[d++];S[O++]=255&j,S[O++]=j>>8&255,S[O++]=j>>16&255}}function ot(c,d,y,S,O,j){if(j==0)for(y=d+y;d<y;)Pe(S,((j=c[d++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),O+=32;else r(S,O,c,d,y)}function Pt(c,d){x[d][0]=x[c+"0"],x[d][1]=x[c+"1"],x[d][2]=x[c+"2"],x[d][3]=x[c+"3"],x[d][4]=x[c+"4"],x[d][5]=x[c+"5"],x[d][6]=x[c+"6"],x[d][7]=x[c+"7"],x[d][8]=x[c+"8"],x[d][9]=x[c+"9"],x[d][10]=x[c+"10"],x[d][11]=x[c+"11"],x[d][12]=x[c+"12"],x[d][13]=x[c+"13"],x[d][14]=x[c+"0"],x[d][15]=x[c+"0"]}function wt(c){return c==Nm||c==km||c==Tf||c==Pm}function An(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new An,this.f.kb=new vn,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ns(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function zn(c,d){var y=c.T,S=d.ba.f.RGBA,O=S.eb,j=S.fb+c.ka*S.A,U=Xi[d.ba.S],B=c.y,q=c.O,G=c.f,re=c.N,fe=c.ea,K=c.W,ie=d.cc,ue=d.dc,Se=d.Mc,he=d.Nc,Ee=c.ka,Ie=c.ka+c.T,Le=c.U,ke=Le+1>>1;for(Ee==0?U(B,q,null,null,G,re,fe,K,G,re,fe,K,O,j,null,null,Le):(U(d.ec,d.fc,B,q,ie,ue,Se,he,G,re,fe,K,O,j-S.A,O,j,Le),++y);Ee+2<Ie;Ee+=2)ie=G,ue=re,Se=fe,he=K,re+=c.Rc,K+=c.Rc,j+=2*S.A,U(B,(q+=2*c.fa)-c.fa,B,q,ie,ue,Se,he,G,re,fe,K,O,j-S.A,O,j,Le);return q+=c.fa,c.j+Ie<c.o?(r(d.ec,d.fc,B,q,Le),r(d.cc,d.dc,G,re,ke),r(d.Mc,d.Nc,fe,K,ke),y--):1&Ie||U(B,q,null,null,G,re,fe,K,G,re,fe,K,O,j+S.A,null,null,Le),y}function Hi(c,d,y){var S=c.F,O=[c.J];if(S!=null){var j=c.U,U=d.ba.S,B=U==If||U==Tf;d=d.ba.f.RGBA;var q=[0],G=c.ka;q[0]=c.T,c.Kb&&(G==0?--q[0]:(--G,O[0]-=c.width),c.j+c.ka+c.T==c.o&&(q[0]=c.o-c.j-G));var re=d.eb;G=d.fb+G*d.A,c=Fv(S,O[0],c.width,j,q,re,G+(B?0:3),d.A),e(y==q),c&&wt(U)&&Cc(re,G,B,j,q,d.A)}return 0}function Lr(c){var d=c.ma,y=d.ba.S,S=11>y,O=y==Ef||y==xf||y==If||y==Tm||y==12||wt(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ac(d.Oa,c,O?11:12))return 0;if(O&&wt(y)&&pl(),c.da)alert("todo:use_scaling");else{if(S){if(d.Ib=Ns,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=zn,pl()}}else alert("todo:EmitYUV");O&&(d.Jb=Hi,S&&dn())}if(S&&!Jv){for(c=0;256>c;++c)px[c]=89858*(c-128)+kf>>Nf,vx[c]=-22014*(c-128)+kf,gx[c]=-45773*(c-128),mx[c]=113618*(c-128)+kf>>Nf;for(c=Rc;c<Rm;++c)d=76283*(c-16)+kf>>Nf,yx[c-Rc]=Ct(d,255),_x[c-Rc]=Ct(d+8>>4,15);Jv=1}return 1}function st(c){var d=c.ma,y=c.U,S=c.T;return e(!(1&c.ka)),0>=y||0>=S?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function yn(c){c.ma.memory=null}function Wi(c,d,y,S){return we(c,8)!=47?0:(d[0]=we(c,14)+1,y[0]=we(c,14)+1,S[0]=we(c,1),we(c,3)!=0?0:!c.h)}function hr(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+we(d,y)+1}function fr(c,d){return 120<d?d-120:1<=(y=((y=ex[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function En(c,d,y){var S=X(y),O=c[d+=255&S].g-8;return 0<O&&(se(y,y.u+8),S=X(y),d+=c[d].value,d+=S&(1<<O)-1),se(y,y.u+c[d].g),c[d].value}function er(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function xn(c,d,y){var S=c.xc;return e((d=S==0?0:c.vc[c.md*(y>>S)+(d>>S)])<c.Wb),c.Ya[d]}function ro(c,d,y,S){var O=c.ab,j=c.c*d,U=c.C;d=U+d;var B=y,q=S;for(S=c.Ta,y=c.Ua;0<O--;){var G=c.gc[O],re=U,fe=d,K=B,ie=q,ue=(q=S,B=y,G.Ea);switch(e(re<fe),e(fe<=G.nc),G.hc){case 2:Hn(K,ie,(fe-re)*ue,q,B);break;case 0:var Se=re,he=fe,Ee=q,Ie=B,Le=(Ke=G).Ea;Se==0&&(xc(K,ie,null,null,1,Ee,Ie),Et(K,ie+1,0,0,Le-1,Ee,Ie+1),ie+=Le,Ie+=Le,++Se);for(var ke=1<<Ke.b,tt=ke-1,qe=Re(Le,Ke.b),Tt=Ke.K,Ke=Ke.w+(Se>>Ke.b)*qe;Se<he;){var Vt=Tt,sr=Ke,Nt=1;for(nu(K,ie,Ee,Ie-Le,1,Ee,Ie);Nt<Le;){var Qe=(Nt&~tt)+ke;Qe>Le&&(Qe=Le),(0,Tc[Vt[sr++]>>8&15])(K,ie+ +Nt,Ee,Ie+Nt-Le,Qe-Nt,Ee,Ie+Nt),Nt=Qe}ie+=Le,Ie+=Le,++Se&tt||(Ke+=qe)}fe!=G.nc&&r(q,B-ue,q,B+(fe-re-1)*ue,ue);break;case 1:for(ue=K,he=ie,Le=(K=G.Ea)-(Ie=K&~(Ee=(ie=1<<G.b)-1)),Se=Re(K,G.b),ke=G.K,G=G.w+(re>>G.b)*Se;re<fe;){for(tt=ke,qe=G,Tt=new At,Ke=he+Ie,Vt=he+K;he<Ke;)et(tt[qe++],Tt),Nc(Tt,ue,he,ie,q,B),he+=ie,B+=ie;he<Vt&&(et(tt[qe++],Tt),Nc(Tt,ue,he,Le,q,B),he+=Le,B+=Le),++re&Ee||(G+=Se)}break;case 3:if(K==q&&ie==B&&0<G.b){for(he=q,K=ue=B+(fe-re)*ue-(Ie=(fe-re)*Re(G.Ea,G.b)),ie=q,Ee=B,Se=[],Ie=(Le=Ie)-1;0<=Ie;--Ie)Se[Ie]=ie[Ee+Ie];for(Ie=Le-1;0<=Ie;--Ie)he[K+Ie]=Se[Ie];wf(G,re,fe,q,ue,q,B)}else wf(G,re,fe,K,ie,q,B)}B=S,q=y}q!=y&&r(S,y,B,q,j)}function ks(c,d){var y=c.V,S=c.Ba+c.c*c.C,O=d-c.C;if(e(d<=c.l.o),e(16>=O),0<O){var j=c.l,U=c.Ta,B=c.Ua,q=j.width;if(ro(c,O,y,S),O=B=[B],e((y=c.C)<(S=d)),e(j.v<j.va),S>j.o&&(S=j.o),y<j.j){var G=j.j-y;y=j.j,O[0]+=G*q}if(y>=S?y=0:(O[0]+=4*j.v,j.ka=y-j.j,j.U=j.va-j.v,j.T=S-y,y=1),y){if(B=B[0],11>(y=c.ca).S){var re=y.f.RGBA,fe=(S=y.S,O=j.U,j=j.T,G=re.eb,re.A),K=j;for(re=re.fb+c.Ma*re.A;0<K--;){var ie=U,ue=B,Se=O,he=G,Ee=re;switch(S){case Af:kc(ie,ue,Se,he,Ee);break;case Ef:na(ie,ue,Se,he,Ee);break;case Nm:na(ie,ue,Se,he,Ee),Cc(he,Ee,0,Se,1,0);break;case qv:gl(ie,ue,Se,he,Ee);break;case xf:ot(ie,ue,Se,he,Ee,1);break;case km:ot(ie,ue,Se,he,Ee,1),Cc(he,Ee,0,Se,1,0);break;case If:ot(ie,ue,Se,he,Ee,0);break;case Tf:ot(ie,ue,Se,he,Ee,0),Cc(he,Ee,1,Se,1,0);break;case Tm:ra(ie,ue,Se,he,Ee);break;case Pm:ra(ie,ue,Se,he,Ee),Ov(he,Ee,Se,1,0);break;case Hv:ia(ie,ue,Se,he,Ee);break;default:e(0)}B+=q,re+=fe}c.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function Rr(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,S=c.Ya[d].H;if(0<y[1][S[1]+0].g||0<y[2][S[2]+0].g||0<y[3][S[3]+0].g)return 0}return 1}function wi(c,d,y,S,O,j){if(c.Z!=0){var U=c.qd,B=c.rd;for(e(aa[c.Z]!=null);d<y;++d)aa[c.Z](U,B,S,O,S,O,j),U=S,B=O,O+=j;c.qd=U,c.rd=B}}function Qr(c,d){var y=c.l.ma,S=y.Z==0||y.Z==1?c.l.j:c.C;if(S=c.C<S?S:c.C,e(d<=c.l.o),d>S){var O=c.l.width,j=y.ca,U=y.tb+O*S,B=c.V,q=c.Ba+c.c*S,G=c.gc;e(c.ab==1),e(G[0].hc==3),zs(G[0],S,d,B,q,j,U),wi(y,S,d,j,U,O)}c.C=c.Ma=d}function Dr(c,d,y,S,O,j,U){var B=c.$/S,q=c.$%S,G=c.m,re=c.s,fe=y+c.$,K=fe;O=y+S*O;var ie=y+S*j,ue=280+re.ua,Se=c.Pb?B:16777216,he=0<re.ua?re.Wa:null,Ee=re.wc,Ie=fe<ie?xn(re,q,B):null;e(c.C<j),e(ie<=O);var Le=!1;e:for(;;){for(;Le||fe<ie;){var ke=0;if(B>=Se){var tt=fe-y;e((Se=c).Pb),Se.wd=Se.m,Se.xd=tt,0<Se.s.ua&&kt(Se.s.Wa,Se.s.vb),Se=B+nx}if(q&Ee||(Ie=xn(re,q,B)),e(Ie!=null),Ie.Qb&&(d[fe]=Ie.qb,Le=!0),!Le)if(ce(G),Ie.jc){ke=G,tt=d;var qe=fe,Tt=Ie.pd[X(ke)&ml-1];e(Ie.jc),256>Tt.g?(se(ke,ke.u+Tt.g),tt[qe]=Tt.value,ke=0):(se(ke,ke.u+Tt.g-256),e(256<=Tt.value),ke=Tt.value),ke==0&&(Le=!0)}else ke=En(Ie.G[0],Ie.H[0],G);if(G.h)break;if(Le||256>ke){if(!Le)if(Ie.nd)d[fe]=(Ie.qb|ke<<8)>>>0;else{if(ce(G),Le=En(Ie.G[1],Ie.H[1],G),ce(G),tt=En(Ie.G[2],Ie.H[2],G),qe=En(Ie.G[3],Ie.H[3],G),G.h)break;d[fe]=(qe<<24|Le<<16|ke<<8|tt)>>>0}if(Le=!1,++fe,++q>=S&&(q=0,++B,U!=null&&B<=j&&!(B%16)&&U(c,B),he!=null))for(;K<fe;)ke=d[K++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke}else if(280>ke){if(ke=hr(ke-256,G),tt=En(Ie.G[4],Ie.H[4],G),ce(G),tt=fr(S,tt=hr(tt,G)),G.h)break;if(fe-y<tt||O-fe<ke)break e;for(qe=0;qe<ke;++qe)d[fe+qe]=d[fe+qe-tt];for(fe+=ke,q+=ke;q>=S;)q-=S,++B,U!=null&&B<=j&&!(B%16)&&U(c,B);if(e(fe<=O),q&Ee&&(Ie=xn(re,q,B)),he!=null)for(;K<fe;)ke=d[K++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke}else{if(!(ke<ue))break e;for(Le=ke-280,e(he!=null);K<fe;)ke=d[K++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke;ke=fe,e(!(Le>>>(tt=he).Xa)),d[ke]=tt.X[Le],Le=!0}Le||e(G.h==ne(G))}if(c.Pb&&G.h&&fe<O)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&kt(c.s.vb,c.s.Wa);else{if(G.h)break e;U!=null&&U(c,B>j?j:B),c.a=0,c.$=fe-y}return 1}return c.a=3,0}function qn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function Ps(){var c=new We;return c==null?null:(c.a=0,c.xb=Gv,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),Hn=mt,Nc=lt,kc=Kt,na=Bt,ra=Ge,ia=gt,gl=Zt,x.VP8LMapColor32b=Bs,x.VP8LMapColor8b=Ic,c)}function bi(c,d,y,S,O){var j=1,U=[c],B=[d],q=S.m,G=S.s,re=null,fe=0;e:for(;;){if(y)for(;j&&we(q,1);){var K=U,ie=B,ue=S,Se=1,he=ue.m,Ee=ue.gc[ue.ab],Ie=we(he,2);if(ue.Oc&1<<Ie)j=0;else{switch(ue.Oc|=1<<Ie,Ee.hc=Ie,Ee.Ea=K[0],Ee.nc=ie[0],Ee.K=[null],++ue.ab,e(4>=ue.ab),Ie){case 0:case 1:Ee.b=we(he,3)+2,Se=bi(Re(Ee.Ea,Ee.b),Re(Ee.nc,Ee.b),0,ue,Ee.K),Ee.K=Ee.K[0];break;case 3:var Le,ke=we(he,8)+1,tt=16<ke?0:4<ke?1:2<ke?2:3;if(K[0]=Re(Ee.Ea,tt),Ee.b=tt,Le=Se=bi(ke,1,0,ue,Ee.K)){var qe,Tt=ke,Ke=Ee,Vt=1<<(8>>Ke.b),sr=s(Vt);if(sr==null)Le=0;else{var Nt=Ke.K[0],Qe=Ke.w;for(sr[0]=Ke.K[0][0],qe=1;qe<1*Tt;++qe)sr[qe]=Ye(Nt[Qe+qe],sr[qe-1]);for(;qe<4*Vt;++qe)sr[qe]=0;Ke.K[0]=null,Ke.K[0]=sr,Le=1}}Se=Le;break;case 2:break;default:e(0)}j=Se}}if(U=U[0],B=B[0],j&&we(q,1)&&!(j=1<=(fe=we(q,4))&&11>=fe)){S.a=3;break e}var Fe;if(Fe=j)t:{var $n,It,qt,_n=S,Sr=U,Jr=B,jn=fe,Fr=y,Zr=_n.m,or=_n.s,Wt=[null],nn=1,Vn=0,rn=tx[jn];n:for(;;){if(Fr&&we(Zr,1)){var Ar=we(Zr,3)+2,fs=Re(Sr,Ar),Gn=Re(Jr,Ar),hi=fs*Gn;if(!bi(fs,Gn,0,_n,Wt))break n;for(Wt=Wt[0],or.xc=Ar,$n=0;$n<hi;++$n){var cn=Wt[$n]>>8&65535;Wt[$n]=cn,cn>=nn&&(nn=cn+1)}}if(Zr.h)break n;for(It=0;5>It;++It){var ar=Wv[It];!It&&0<jn&&(ar+=1<<jn),Vn<ar&&(Vn=ar)}var ki=o(nn*rn,C),ei=nn,Pi=o(ei,pe);if(Pi==null)var Ci=null;else e(65536>=ei),Ci=Pi;var fi=s(Vn);if(Ci==null||fi==null||ki==null){_n.a=1;break n}var Li=ki;for($n=qt=0;$n<nn;++$n){var mn=Ci[$n],Ri=mn.G,ds=mn.H,yl=0,go=1,Er=0;for(It=0;5>It;++It){ar=Wv[It],Ri[It]=Li,ds[It]=qt,!It&&0<jn&&(ar+=1<<jn);i:{var Cf,Dm=ar,Lf=_n,Dc=fi,Sx=Li,Ax=qt,Om=0,la=Lf.m,Ex=we(la,1);if(i(Dc,0,0,Dm),Ex){var xx=we(la,1)+1,Ix=we(la,1),ty=we(la,Ix==0?1:8);Dc[ty]=1,xx==2&&(Dc[ty=we(la,8)]=1);var Rf=1}else{var ny=s(19),ry=we(la,4)+4;if(19<ry){Lf.a=3;var Df=0;break i}for(Cf=0;Cf<ry;++Cf)ny[ZE[Cf]]=we(la,3);var Fm=void 0,Oc=void 0,iy=Lf,Tx=ny,Of=Dm,sy=Dc,Mm=0,ua=iy.m,oy=8,ay=o(128,C);r:for(;k(ay,0,7,Tx,19);){if(we(ua,1)){var Nx=2+2*we(ua,3);if((Fm=2+we(ua,Nx))>Of)break r}else Fm=Of;for(Oc=0;Oc<Of&&Fm--;){ce(ua);var ly=ay[0+(127&X(ua))];se(ua,ua.u+ly.g);var iu=ly.value;if(16>iu)sy[Oc++]=iu,iu!=0&&(oy=iu);else{var kx=iu==16,uy=iu-16,Px=XE[uy],cy=we(ua,YE[uy])+Px;if(Oc+cy>Of)break r;for(var Cx=kx?oy:0;0<cy--;)sy[Oc++]=Cx}}Mm=1;break r}Mm||(iy.a=3),Rf=Mm}(Rf=Rf&&!la.h)&&(Om=k(Sx,Ax,8,Dc,Dm)),Rf&&Om!=0?Df=Om:(Lf.a=3,Df=0)}if(Df==0)break n;if(go&&JE[It]==1&&(go=Li[qt].g==0),yl+=Li[qt].g,qt+=Df,3>=It){var Fc,jm=fi[0];for(Fc=1;Fc<ar;++Fc)fi[Fc]>jm&&(jm=fi[Fc]);Er+=jm}}if(mn.nd=go,mn.Qb=0,go&&(mn.qb=(Ri[3][ds[3]+0].value<<24|Ri[1][ds[1]+0].value<<16|Ri[2][ds[2]+0].value)>>>0,yl==0&&256>Ri[0][ds[0]+0].value&&(mn.Qb=1,mn.qb+=Ri[0][ds[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Er,mn.jc){var Ff,vo=mn;for(Ff=0;Ff<ml;++Ff){var ca=Ff,ha=vo.pd[ca],Mf=vo.G[0][vo.H[0]+ca];256<=Mf.value?(ha.g=Mf.g+256,ha.value=Mf.value):(ha.g=0,ha.value=0,ca>>=er(Mf,8,ha),ca>>=er(vo.G[1][vo.H[1]+ca],16,ha),ca>>=er(vo.G[2][vo.H[2]+ca],0,ha),er(vo.G[3][vo.H[3]+ca],24,ha))}}}or.vc=Wt,or.Wb=nn,or.Ya=Ci,or.yc=ki,Fe=1;break t}Fe=0}if(!(j=Fe)){S.a=3;break e}if(0<fe){if(G.ua=1<<fe,!Q(G.Wa,fe)){S.a=1,j=0;break e}}else G.ua=0;var Vm=S,hy=U,Lx=B,Um=Vm.s,Bm=Um.xc;if(Vm.c=hy,Vm.i=Lx,Um.md=Re(hy,Bm),Um.wc=Bm==0?-1:(1<<Bm)-1,y){S.xb=ux;break e}if((re=s(U*B))==null){S.a=1,j=0;break e}j=(j=Dr(S,re,0,U,B,B,null))&&!q.h;break e}return j?(O!=null?O[0]=re:(e(re==null),e(y)),S.$=0,y||qn(G)):qn(G),j}function ss(c,d){var y=c.c*c.i,S=y+d+16*d;return e(c.c<=d),c.V=s(S),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function Cs(c,d){var y=c.C,S=d-y,O=c.V,j=c.Ba+c.c*y;for(e(d<=c.l.o);0<S;){var U=16<S?16:S,B=c.l.ma,q=c.l.width,G=q*U,re=B.ca,fe=B.tb+q*y,K=c.Ta,ie=c.Ua;ro(c,U,O,j),Mv(K,ie,re,fe,G),wi(B,y,y+U,re,fe,q),S-=U,O+=U*c.c,y+=U}e(y==d),c.C=c.Ma=d}function io(){this.ub=this.yd=this.td=this.Rb=0}function so(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ls(){this.Yb=function(){var c=[];return function d(y,S,O){for(var j=O[S],U=0;U<j&&(y.push(O.length>S+1?[]:0),!(O.length<S+1));U++)d(y[U],S+1,O)}(c,0,[3,11]),c}()}function el(){this.jb=s(3),this.Wc=a([4,8],Ls),this.Xc=a([4,17],Ls)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dr(){this.ld=this.La=this.dd=this.tc=0}function Si(){this.Na=this.la=0}function Wo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function tl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nl(){this.uc=this.M=this.Nb=0,this.wa=Array(new dr),this.Y=0,this.ya=Array(new tl),this.aa=0,this.l=new Rs}function rl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function il(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new io,this.Kc=new so,this.ed=new Ho,this.Qa=new gc,this.Ic=this.$c=this.Aa=0,this.D=new nl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,Wo),this.Pa=new el,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rl),this.Hd=0,this.rb=Array(new Si),this.sb=0,this.wa=Array(new dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new tl),this.L=this.aa=0,this.gd=a([4,2],dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sl(){var c=new il;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Lc||(Lc=os)),c}function Nn(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function ol(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Zl(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return Nn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,S=d.w,O=d.ha;if(4>O)return Nn(c,7,"Truncated header.");var j=y[S+0]|y[S+1]<<8|y[S+2]<<16,U=c.Od;if(U.Rb=!(1&j),U.td=j>>1&7,U.yd=j>>4&1,U.ub=j>>5,3<U.td)return Nn(c,3,"Incorrect keyframe parameters.");if(!U.yd)return Nn(c,4,"Frame not displayable.");S+=3,O-=3;var B=c.Kc;if(U.Rb){if(7>O)return Nn(c,7,"cannot parse picture header");if(!ol(y,S,O))return Nn(c,3,"Bad code word");B.c=16383&(y[S+4]<<8|y[S+3]),B.Td=y[S+4]>>6,B.i=16383&(y[S+6]<<8|y[S+5]),B.Ud=y[S+6]>>6,S+=7,O-=7,c.za=B.c+15>>4,c.Ub=B.i+15>>4,d.width=B.c,d.height=B.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((j=c.Pa).jb,0,255,j.jb.length),e((j=c.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,i(j.Zb,0,0,j.Zb.length),i(j.Lb,0,0,j.Lb)}if(U.ub>O)return Nn(c,7,"bad partition length");ye(j=c.m,y,S,U.ub),S+=U.ub,O-=U.ub,U.Rb&&(B.Ld=me(j),B.Kd=me(j)),B=c.Qa;var q,G=c.Pa;if(e(j!=null),e(B!=null),B.Cb=me(j),B.Cb){if(B.Bb=me(j),me(j)){for(B.Fb=me(j),q=0;4>q;++q)B.Zb[q]=me(j)?Z(j,7):0;for(q=0;4>q;++q)B.Lb[q]=me(j)?Z(j,6):0}if(B.Bb)for(q=0;3>q;++q)G.jb[q]=me(j)?ge(j,8):255}else B.Bb=0;if(j.Ka)return Nn(c,3,"cannot parse segment header");if((B=c.ed).zd=me(j),B.Tb=ge(j,6),B.wb=ge(j,3),B.Pc=me(j),B.Pc&&me(j)){for(G=0;4>G;++G)me(j)&&(B.vd[G]=Z(j,6));for(G=0;4>G;++G)me(j)&&(B.od[G]=Z(j,6))}if(c.L=B.Tb==0?0:B.zd?1:2,j.Ka)return Nn(c,3,"cannot parse filter header");var re=O;if(O=q=S,S=q+re,B=re,c.Xb=(1<<ge(c.m,2))-1,re<3*(G=c.Xb))y=7;else{for(q+=3*G,B-=3*G,re=0;re<G;++re){var fe=y[O+0]|y[O+1]<<8|y[O+2]<<16;fe>B&&(fe=B),ye(c.Jc[+re],y,q,fe),q+=fe,B-=fe,O+=3}ye(c.Jc[+G],y,q,B),y=q<S?0:5}if(y!=0)return Nn(c,y,"cannot parse partitions");for(y=ge(q=c.m,7),O=me(q)?Z(q,4):0,S=me(q)?Z(q,4):0,B=me(q)?Z(q,4):0,G=me(q)?Z(q,4):0,q=me(q)?Z(q,4):0,re=c.Qa,fe=0;4>fe;++fe){if(re.Cb){var K=re.Zb[fe];re.Fb||(K+=y)}else{if(0<fe){c.pb[fe]=c.pb[0];continue}K=y}var ie=c.pb[fe];ie.Sc[0]=Cm[Ct(K+O,127)],ie.Sc[1]=Lm[Ct(K+0,127)],ie.Eb[0]=2*Cm[Ct(K+S,127)],ie.Eb[1]=101581*Lm[Ct(K+B,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=Cm[Ct(K+G,117)],ie.Qc[1]=Lm[Ct(K+q,127)],ie.lc=K+q}if(!U.Rb)return Nn(c,4,"Not a key frame.");for(me(j),U=c.Pa,y=0;4>y;++y){for(O=0;8>O;++O)for(S=0;3>S;++S)for(B=0;11>B;++B)G=xe(j,ax[y][O][S][B])?ge(j,8):sx[y][O][S][B],U.Wc[y][O].Yb[S][B]=G;for(O=0;17>O;++O)U.Xc[y][O]=U.Wc[y][lx[O]]}return c.kc=me(j),c.kc&&(c.Bd=ge(j,8)),c.cb=1}function os(c,d,y,S,O,j,U){var B=d[O].Yb[y];for(y=0;16>O;++O){if(!xe(c,B[y+0]))return O;for(;!xe(c,B[y+1]);)if(B=d[++O].Yb[0],y=0,O==16)return 16;var q=d[O+1].Yb;if(xe(c,B[y+2])){var G=c,re=0;if(xe(G,(K=B)[(fe=y)+3]))if(xe(G,K[fe+6])){for(B=0,fe=2*(re=xe(G,K[fe+8]))+(K=xe(G,K[fe+9+re])),re=0,K=rx[fe];K[B];++B)re+=re+xe(G,K[B]);re+=3+(8<<fe)}else xe(G,K[fe+7])?(re=7+2*xe(G,165),re+=xe(G,145)):re=5+xe(G,159);else re=xe(G,K[fe+4])?3+xe(G,K[fe+5]):2;B=q[2]}else re=1,B=q[1];q=U+ix[O],0>(G=c).b&&ve(G);var fe,K=G.b,ie=(fe=G.Ca>>1)-(G.I>>K)>>31;--G.b,G.Ca+=ie,G.Ca|=1,G.I-=(fe+1&ie)<<K,j[q]=((re^ie)-ie)*S[(0<O)+0]}return 16}function Ds(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ai(c,d,y,S,O){O=c[d+y+32*S]+(O>>3),c[d+y+32*S]=-256&O?0>O?0:255:O}function oo(c,d,y,S,O,j){ai(c,d,0,y,S+O),ai(c,d,1,y,S+j),ai(c,d,2,y,S-j),ai(c,d,3,y,S-O)}function en(c){return(20091*c>>16)+c}function Yr(c,d,y,S){var O,j=0,U=s(16);for(O=0;4>O;++O){var B=c[d+0]+c[d+8],q=c[d+0]-c[d+8],G=(35468*c[d+4]>>16)-en(c[d+12]),re=en(c[d+4])+(35468*c[d+12]>>16);U[j+0]=B+re,U[j+1]=q+G,U[j+2]=q-G,U[j+3]=B-re,j+=4,d++}for(O=j=0;4>O;++O)B=(c=U[j+0]+4)+U[j+8],q=c-U[j+8],G=(35468*U[j+4]>>16)-en(U[j+12]),ai(y,S,0,0,B+(re=en(U[j+4])+(35468*U[j+12]>>16))),ai(y,S,1,0,q+G),ai(y,S,2,0,q-G),ai(y,S,3,0,B-re),j++,S+=32}function $o(c,d,y,S){var O=c[d+0]+4,j=35468*c[d+4]>>16,U=en(c[d+4]),B=35468*c[d+1]>>16;oo(y,S,0,O+U,c=en(c[d+1]),B),oo(y,S,1,O+j,c,B),oo(y,S,2,O-j,c,B),oo(y,S,3,O-U,c,B)}function Go(c,d,y,S,O){Yr(c,d,y,S),O&&Yr(c,d+16,y,S+4)}function eu(c,d,y,S){vl(c,d+0,y,S,1),vl(c,d+32,y,S+128,1)}function Ot(c,d,y,S){var O;for(c=c[d+0]+4,O=0;4>O;++O)for(d=0;4>d;++d)ai(y,S,d,O,c)}function ao(c,d,y,S){c[d+0]&&Jt(c,d+0,y,S),c[d+16]&&Jt(c,d+16,y,S+4),c[d+32]&&Jt(c,d+32,y,S+128),c[d+48]&&Jt(c,d+48,y,S+128+4)}function Os(c,d,y,S){var O,j=s(16);for(O=0;4>O;++O){var U=c[d+0+O]+c[d+12+O],B=c[d+4+O]+c[d+8+O],q=c[d+4+O]-c[d+8+O],G=c[d+0+O]-c[d+12+O];j[0+O]=U+B,j[8+O]=U-B,j[4+O]=G+q,j[12+O]=G-q}for(O=0;4>O;++O)U=(c=j[0+4*O]+3)+j[3+4*O],B=j[1+4*O]+j[2+4*O],q=j[1+4*O]-j[2+4*O],G=c-j[3+4*O],y[S+0]=U+B>>3,y[S+16]=G+q>>3,y[S+32]=U-B>>3,y[S+48]=G-q>>3,S+=64}function li(c,d,y){var S,O=d-32,j=Ni,U=255-c[O-1];for(S=0;S<y;++S){var B,q=j,G=U+c[d-1];for(B=0;B<y;++B)c[d+B]=q[G+c[O+B]];d+=32}}function al(c,d){li(c,d,4)}function tu(c,d){li(c,d,8)}function vc(c,d){li(c,d,16)}function yc(c,d){var y;for(y=0;16>y;++y)r(c,d+32*y,c,d-32,16)}function ll(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function lo(c,d,y){var S;for(S=0;16>S;++S)i(d,y+32*S,c,16)}function ui(c,d){var y,S=16;for(y=0;16>y;++y)S+=c[d-1+32*y]+c[d+y-32];lo(S>>5,c,d)}function $i(c,d){var y,S=8;for(y=0;16>y;++y)S+=c[d-1+32*y];lo(S>>4,c,d)}function Fs(c,d){var y,S=8;for(y=0;16>y;++y)S+=c[d+y-32];lo(S>>4,c,d)}function Ko(c,d){lo(128,c,d)}function ft(c,d,y){return c+2*d+y+2>>2}function Ms(c,d){var y,S=d-32;for(S=new Uint8Array([ft(c[S-1],c[S+0],c[S+1]),ft(c[S+0],c[S+1],c[S+2]),ft(c[S+1],c[S+2],c[S+3]),ft(c[S+2],c[S+3],c[S+4])]),y=0;4>y;++y)r(c,d+32*y,S,0,S.length)}function _c(c,d){var y=c[d-1],S=c[d-1+32],O=c[d-1+64],j=c[d-1+96];Pe(c,d+0,16843009*ft(c[d-1-32],y,S)),Pe(c,d+32,16843009*ft(y,S,O)),Pe(c,d+64,16843009*ft(S,O,j)),Pe(c,d+96,16843009*ft(O,j,j))}function wc(c,d){var y,S=4;for(y=0;4>y;++y)S+=c[d+y-32]+c[d-1+32*y];for(S>>=3,y=0;4>y;++y)i(c,d+32*y,S,4)}function bc(c,d){var y=c[d-1+0],S=c[d-1+32],O=c[d-1+64],j=c[d-1-32],U=c[d+0-32],B=c[d+1-32],q=c[d+2-32],G=c[d+3-32];c[d+0+96]=ft(S,O,c[d-1+96]),c[d+1+96]=c[d+0+64]=ft(y,S,O),c[d+2+96]=c[d+1+64]=c[d+0+32]=ft(j,y,S),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=ft(U,j,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=ft(B,U,j),c[d+3+32]=c[d+2+0]=ft(q,B,U),c[d+3+0]=ft(G,q,B)}function pr(c,d){var y=c[d+1-32],S=c[d+2-32],O=c[d+3-32],j=c[d+4-32],U=c[d+5-32],B=c[d+6-32],q=c[d+7-32];c[d+0+0]=ft(c[d+0-32],y,S),c[d+1+0]=c[d+0+32]=ft(y,S,O),c[d+2+0]=c[d+1+32]=c[d+0+64]=ft(S,O,j),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=ft(O,j,U),c[d+3+32]=c[d+2+64]=c[d+1+96]=ft(j,U,B),c[d+3+64]=c[d+2+96]=ft(U,B,q),c[d+3+96]=ft(B,q,q)}function as(c,d){var y=c[d-1+0],S=c[d-1+32],O=c[d-1+64],j=c[d-1-32],U=c[d+0-32],B=c[d+1-32],q=c[d+2-32],G=c[d+3-32];c[d+0+0]=c[d+1+64]=j+U+1>>1,c[d+1+0]=c[d+2+64]=U+B+1>>1,c[d+2+0]=c[d+3+64]=B+q+1>>1,c[d+3+0]=q+G+1>>1,c[d+0+96]=ft(O,S,y),c[d+0+64]=ft(S,y,j),c[d+0+32]=c[d+1+96]=ft(y,j,U),c[d+1+32]=c[d+2+96]=ft(j,U,B),c[d+2+32]=c[d+3+96]=ft(U,B,q),c[d+3+32]=ft(B,q,G)}function Sc(c,d){var y=c[d+0-32],S=c[d+1-32],O=c[d+2-32],j=c[d+3-32],U=c[d+4-32],B=c[d+5-32],q=c[d+6-32],G=c[d+7-32];c[d+0+0]=y+S+1>>1,c[d+1+0]=c[d+0+64]=S+O+1>>1,c[d+2+0]=c[d+1+64]=O+j+1>>1,c[d+3+0]=c[d+2+64]=j+U+1>>1,c[d+0+32]=ft(y,S,O),c[d+1+32]=c[d+0+96]=ft(S,O,j),c[d+2+32]=c[d+1+96]=ft(O,j,U),c[d+3+32]=c[d+2+96]=ft(j,U,B),c[d+3+64]=ft(U,B,q),c[d+3+96]=ft(B,q,G)}function Qo(c,d){var y=c[d-1+0],S=c[d-1+32],O=c[d-1+64],j=c[d-1+96];c[d+0+0]=y+S+1>>1,c[d+2+0]=c[d+0+32]=S+O+1>>1,c[d+2+32]=c[d+0+64]=O+j+1>>1,c[d+1+0]=ft(y,S,O),c[d+3+0]=c[d+1+32]=ft(S,O,j),c[d+3+32]=c[d+1+64]=ft(O,j,j),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=j}function ls(c,d){var y=c[d-1+0],S=c[d-1+32],O=c[d-1+64],j=c[d-1+96],U=c[d-1-32],B=c[d+0-32],q=c[d+1-32],G=c[d+2-32];c[d+0+0]=c[d+2+32]=y+U+1>>1,c[d+0+32]=c[d+2+64]=S+y+1>>1,c[d+0+64]=c[d+2+96]=O+S+1>>1,c[d+0+96]=j+O+1>>1,c[d+3+0]=ft(B,q,G),c[d+2+0]=ft(U,B,q),c[d+1+0]=c[d+3+32]=ft(y,U,B),c[d+1+32]=c[d+3+64]=ft(S,y,U),c[d+1+64]=c[d+3+96]=ft(O,S,y),c[d+1+96]=ft(j,O,S)}function Yo(c,d){var y;for(y=0;8>y;++y)r(c,d+32*y,c,d-32,8)}function Ai(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Gi(c,d,y){var S;for(S=0;8>S;++S)i(d,y+32*S,c,8)}function uo(c,d){var y,S=8;for(y=0;8>y;++y)S+=c[d+y-32]+c[d-1+32*y];Gi(S>>4,c,d)}function ul(c,d){var y,S=4;for(y=0;8>y;++y)S+=c[d+y-32];Gi(S>>3,c,d)}function ln(c,d){var y,S=4;for(y=0;8>y;++y)S+=c[d-1+32*y];Gi(S>>3,c,d)}function cl(c,d){Gi(128,c,d)}function co(c,d,y){var S=c[d-y],O=c[d+0],j=3*(O-S)+Im[1020+c[d-2*y]-c[d+y]],U=Sf[112+(j+4>>3)];c[d-y]=Ni[255+S+Sf[112+(j+3>>3)]],c[d+0]=Ni[255+O-U]}function js(c,d,y,S){var O=c[d+0],j=c[d+y];return Yi[255+c[d-2*y]-c[d-y]]>S||Yi[255+j-O]>S}function Xo(c,d,y,S){return 4*Yi[255+c[d-y]-c[d+0]]+Yi[255+c[d-2*y]-c[d+y]]<=S}function ho(c,d,y,S,O){var j=c[d-3*y],U=c[d-2*y],B=c[d-y],q=c[d+0],G=c[d+y],re=c[d+2*y],fe=c[d+3*y];return 4*Yi[255+B-q]+Yi[255+U-G]>S?0:Yi[255+c[d-4*y]-j]<=O&&Yi[255+j-U]<=O&&Yi[255+U-B]<=O&&Yi[255+fe-re]<=O&&Yi[255+re-G]<=O&&Yi[255+G-q]<=O}function Vs(c,d,y,S){var O=2*S+1;for(S=0;16>S;++S)Xo(c,d+S,y,O)&&co(c,d+S,y)}function Us(c,d,y,S){var O=2*S+1;for(S=0;16>S;++S)Xo(c,d+S*y,1,O)&&co(c,d+S*y,1)}function ci(c,d,y,S){var O;for(O=3;0<O;--O)Vs(c,d+=4*y,y,S)}function hl(c,d,y,S){var O;for(O=3;0<O;--O)Us(c,d+=4,y,S)}function us(c,d,y,S,O,j,U,B){for(j=2*j+1;0<O--;){if(ho(c,d,y,j,U))if(js(c,d,y,B))co(c,d,y);else{var q=c,G=d,re=y,fe=q[G-2*re],K=q[G-re],ie=q[G+0],ue=q[G+re],Se=q[G+2*re],he=27*(Ie=Im[1020+3*(ie-K)+Im[1020+fe-ue]])+63>>7,Ee=18*Ie+63>>7,Ie=9*Ie+63>>7;q[G-3*re]=Ni[255+q[G-3*re]+Ie],q[G-2*re]=Ni[255+fe+Ee],q[G-re]=Ni[255+K+he],q[G+0]=Ni[255+ie-he],q[G+re]=Ni[255+ue-Ee],q[G+2*re]=Ni[255+Se-Ie]}d+=S}}function Xr(c,d,y,S,O,j,U,B){for(j=2*j+1;0<O--;){if(ho(c,d,y,j,U))if(js(c,d,y,B))co(c,d,y);else{var q=c,G=d,re=y,fe=q[G-re],K=q[G+0],ie=q[G+re],ue=Sf[112+(4+(Se=3*(K-fe))>>3)],Se=Sf[112+(Se+3>>3)],he=ue+1>>1;q[G-2*re]=Ni[255+q[G-2*re]+he],q[G-re]=Ni[255+fe+Se],q[G+0]=Ni[255+K-ue],q[G+re]=Ni[255+ie-he]}d+=S}}function fl(c,d,y,S,O,j){us(c,d,y,1,16,S,O,j)}function Jo(c,d,y,S,O,j){us(c,d,1,y,16,S,O,j)}function Ki(c,d,y,S,O,j){var U;for(U=3;0<U;--U)Xr(c,d+=4*y,y,1,16,S,O,j)}function dl(c,d,y,S,O,j){var U;for(U=3;0<U;--U)Xr(c,d+=4,1,y,16,S,O,j)}function g(c,d,y,S,O,j,U,B){us(c,d,O,1,8,j,U,B),us(y,S,O,1,8,j,U,B)}function D(c,d,y,S,O,j,U,B){us(c,d,1,O,8,j,U,B),us(y,S,1,O,8,j,U,B)}function $(c,d,y,S,O,j,U,B){Xr(c,d+4*O,O,1,8,j,U,B),Xr(y,S+4*O,O,1,8,j,U,B)}function ee(c,d,y,S,O,j,U,B){Xr(c,d+4,1,O,8,j,U,B),Xr(y,S+4,1,O,8,j,U,B)}function oe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ae(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ne(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Be(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new C}function We(){this.xb=this.a=0,this.l=new Rs,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Be,this.ab=0,this.gc=o(4,Ne),this.Oc=0}function at(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vt(c,d,y,S,O,j,U){for(c=c==null?0:c[d+0],d=0;d<U;++d)O[j+d]=c+y[S+d]&255,c=O[j+d]}function zt(c,d,y,S,O,j,U){var B;if(c==null)vt(null,null,y,S,O,j,U);else for(B=0;B<U;++B)O[j+B]=c[d+B]+y[S+B]&255}function Xt(c,d,y,S,O,j,U){if(c==null)vt(null,null,y,S,O,j,U);else{var B,q=c[d+0],G=q,re=q;for(B=0;B<U;++B)G=re+(q=c[d+B])-G,re=y[S+B]+(-256&G?0>G?0:255:G)&255,G=q,O[j+B]=re}}function kn(c,d,y,S){var O=d.width,j=d.o;if(e(c!=null&&d!=null),0>y||0>=S||y+S>j)return null;if(!c.Cc){if(c.ga==null){var U;if(c.ga=new at,(U=c.ga==null)||(U=d.width*d.o,e(c.Gb.length==0),c.Gb=s(U),c.Uc=0,c.Gb==null?U=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,U=1),U=!U),!U){U=c.ga;var B=c.Fa,q=c.P,G=c.qc,re=c.mb,fe=c.nb,K=q+1,ie=G-1,ue=U.l;if(e(B!=null&&re!=null&&d!=null),aa[0]=null,aa[1]=vt,aa[2]=zt,aa[3]=Xt,U.ca=re,U.tb=fe,U.c=d.width,U.i=d.height,e(0<U.c&&0<U.i),1>=G)d=0;else if(U.$a=3&B[q+0],U.Z=B[q+0]>>2&3,U.Lc=B[q+0]>>4&3,q=B[q+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||q)d=0;else if(ue.put=st,ue.ac=Lr,ue.bc=yn,ue.ma=U,ue.width=d.width,ue.height=d.height,ue.Da=d.Da,ue.v=d.v,ue.va=d.va,ue.j=d.j,ue.o=d.o,U.$a)e:{e(U.$a==1),d=Ps();t:for(;;){if(d==null){d=0;break e}if(e(U!=null),U.mc=d,d.c=U.c,d.i=U.i,d.l=U.l,d.l.ma=U,d.l.width=U.c,d.l.height=U.i,d.a=0,le(d.m,B,K,ie),!bi(U.c,U.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Rr(d.s)?(U.ic=1,B=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(B),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(U.ic=0,d=ss(d,U.c)),!d))break t;d=1;break e}U.mc=null,d=0}else d=ie>=U.c*U.i;U=!d}if(U)return null;c.ga.Lc!=1?c.Ga=0:S=j-y}e(c.ga!=null),e(y+S<=j);e:{if(d=(B=c.ga).c,j=B.l.o,B.$a==0){if(K=c.rc,ie=c.Vc,ue=c.Fa,q=c.P+1+y*d,G=c.mb,re=c.nb+y*d,e(q<=c.P+c.qc),B.Z!=0)for(e(aa[B.Z]!=null),U=0;U<S;++U)aa[B.Z](K,ie,ue,q,G,re,d),K=G,ie=re,re+=d,q+=d;else for(U=0;U<S;++U)r(G,re,ue,q,d),K=G,ie=re,re+=d,q+=d;c.rc=K,c.Vc=ie}else{if(e(B.mc!=null),d=y+S,e((U=B.mc)!=null),e(d<=U.i),U.C>=d)d=1;else if(B.ic||dn(),B.ic){B=U.V,K=U.Ba,ie=U.c;var Se=U.i,he=(ue=1,q=U.$/ie,G=U.$%ie,re=U.m,fe=U.s,U.$),Ee=ie*Se,Ie=ie*d,Le=fe.wc,ke=he<Ie?xn(fe,G,q):null;e(he<=Ee),e(d<=Se),e(Rr(fe));t:for(;;){for(;!re.h&&he<Ie;){if(G&Le||(ke=xn(fe,G,q)),e(ke!=null),ce(re),256>(Se=En(ke.G[0],ke.H[0],re)))B[K+he]=Se,++he,++G>=ie&&(G=0,++q<=d&&!(q%16)&&Qr(U,q));else{if(!(280>Se)){ue=0;break t}Se=hr(Se-256,re);var tt,qe=En(ke.G[4],ke.H[4],re);if(ce(re),!(he>=(qe=fr(ie,qe=hr(qe,re)))&&Ee-he>=Se)){ue=0;break t}for(tt=0;tt<Se;++tt)B[K+he+tt]=B[K+he+tt-qe];for(he+=Se,G+=Se;G>=ie;)G-=ie,++q<=d&&!(q%16)&&Qr(U,q);he<Ie&&G&Le&&(ke=xn(fe,G,q))}e(re.h==ne(re))}Qr(U,q>d?d:q);break t}!ue||re.h&&he<Ee?(ue=0,U.a=re.h?5:3):U.$=he,d=ue}else d=Dr(U,U.V,U.Ba,U.c,U.i,d,Cs);if(!d){S=0;break e}}y+S>=j&&(c.Cc=1),S=1}if(!S)return null;if(c.Cc&&((S=c.ga)!=null&&(S.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*O}function tn(c,d,y,S,O,j){for(;0<O--;){var U,B=c,q=d+(y?1:0),G=c,re=d+(y?0:3);for(U=0;U<S;++U){var fe=G[re+4*U];fe!=255&&(fe*=32897,B[q+4*U+0]=B[q+4*U+0]*fe>>23,B[q+4*U+1]=B[q+4*U+1]*fe>>23,B[q+4*U+2]=B[q+4*U+2]*fe>>23)}d+=j}}function Fn(c,d,y,S,O){for(;0<S--;){var j;for(j=0;j<y;++j){var U=c[d+2*j+0],B=15&(G=c[d+2*j+1]),q=4369*B,G=(240&G|G>>4)*q>>16;c[d+2*j+0]=(240&U|U>>4)*q>>16&240|(15&U|U<<4)*q>>16>>4&15,c[d+2*j+1]=240&G|B}d+=O}}function Pn(c,d,y,S,O,j,U,B){var q,G,re=255;for(G=0;G<O;++G){for(q=0;q<S;++q){var fe=c[d+q];j[U+4*q]=fe,re&=fe}d+=y,U+=B}return re!=255}function Mn(c,d,y,S,O){var j;for(j=0;j<O;++j)y[S+j]=c[d+j]>>8}function dn(){Cc=tn,Ov=Fn,Fv=Pn,Mv=Mn}function wr(c,d,y){x[c]=function(S,O,j,U,B,q,G,re,fe,K,ie,ue,Se,he,Ee,Ie,Le){var ke,tt=Le-1>>1,qe=B[q+0]|G[re+0]<<16,Tt=fe[K+0]|ie[ue+0]<<16;e(S!=null);var Ke=3*qe+Tt+131074>>2;for(d(S[O+0],255&Ke,Ke>>16,Se,he),j!=null&&(Ke=3*Tt+qe+131074>>2,d(j[U+0],255&Ke,Ke>>16,Ee,Ie)),ke=1;ke<=tt;++ke){var Vt=B[q+ke]|G[re+ke]<<16,sr=fe[K+ke]|ie[ue+ke]<<16,Nt=qe+Vt+Tt+sr+524296,Qe=Nt+2*(Vt+Tt)>>3;Ke=Qe+qe>>1,qe=(Nt=Nt+2*(qe+sr)>>3)+Vt>>1,d(S[O+2*ke-1],255&Ke,Ke>>16,Se,he+(2*ke-1)*y),d(S[O+2*ke-0],255&qe,qe>>16,Se,he+(2*ke-0)*y),j!=null&&(Ke=Nt+Tt>>1,qe=Qe+sr>>1,d(j[U+2*ke-1],255&Ke,Ke>>16,Ee,Ie+(2*ke-1)*y),d(j[U+2*ke+0],255&qe,qe>>16,Ee,Ie+(2*ke+0)*y)),qe=Vt,Tt=sr}1&Le||(Ke=3*qe+Tt+131074>>2,d(S[O+Le-1],255&Ke,Ke>>16,Se,he+(Le-1)*y),j!=null&&(Ke=3*Tt+qe+131074>>2,d(j[U+Le-1],255&Ke,Ke>>16,Ee,Ie+(Le-1)*y)))}}function pl(){Xi[Af]=cx,Xi[Ef]=Kv,Xi[qv]=hx,Xi[xf]=Qv,Xi[If]=Yv,Xi[Tm]=Xv,Xi[Hv]=fx,Xi[Nm]=Kv,Xi[km]=Qv,Xi[Tf]=Yv,Xi[Pm]=Xv}function Ei(c){return c&-16384?0>c?0:255:c>>dx}function h(c,d){return Ei((19077*c>>8)+(26149*d>>8)-14234)}function _(c,d,y){return Ei((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function T(c,d){return Ei((19077*c>>8)+(33050*d>>8)-17685)}function z(c,d,y,S,O){S[O+0]=h(c,y),S[O+1]=_(c,d,y),S[O+2]=T(c,d)}function ae(c,d,y,S,O){S[O+0]=T(c,d),S[O+1]=_(c,d,y),S[O+2]=h(c,y)}function de(c,d,y,S,O){var j=_(c,d,y);d=j<<3&224|T(c,d)>>3,S[O+0]=248&h(c,y)|j>>5,S[O+1]=d}function Oe(c,d,y,S,O){var j=240&T(c,d)|15;S[O+0]=240&h(c,y)|_(c,d,y)>>4,S[O+1]=j}function jt(c,d,y,S,O){S[O+0]=255,z(c,d,y,S,O+1)}function Cn(c,d,y,S,O){ae(c,d,y,S,O),S[O+3]=255}function Rt(c,d,y,S,O){z(c,d,y,S,O),S[O+3]=255}function Ct(c,d){return 0>c?0:c>d?d:c}function pn(c,d,y){x[c]=function(S,O,j,U,B,q,G,re,fe){for(var K=re+(-2&fe)*y;re!=K;)d(S[O+0],j[U+0],B[q+0],G,re),d(S[O+1],j[U+0],B[q+0],G,re+y),O+=2,++U,++q,re+=2*y;1&fe&&d(S[O+0],j[U+0],B[q+0],G,re)}}function xi(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function Or(c,d,y,S,O){switch(c>>>30){case 3:vl(d,y,S,O,0);break;case 2:Qi(d,y,S,O);break;case 1:Jt(d,y,S,O)}}function br(c,d){var y,S,O=d.M,j=d.Nb,U=c.oc,B=c.pc+40,q=c.oc,G=c.pc+584,re=c.oc,fe=c.pc+600;for(y=0;16>y;++y)U[B+32*y-1]=129;for(y=0;8>y;++y)q[G+32*y-1]=129,re[fe+32*y-1]=129;for(0<O?U[B-1-32]=q[G-1-32]=re[fe-1-32]=129:(i(U,B-32-1,127,21),i(q,G-32-1,127,9),i(re,fe-32-1,127,9)),S=0;S<c.za;++S){var K=d.ya[d.aa+S];if(0<S){for(y=-1;16>y;++y)r(U,B+32*y-4,U,B+32*y+12,4);for(y=-1;8>y;++y)r(q,G+32*y-4,q,G+32*y+4,4),r(re,fe+32*y-4,re,fe+32*y+4,4)}var ie=c.Gd,ue=c.Hd+S,Se=K.ad,he=K.Hc;if(0<O&&(r(U,B-32,ie[ue].y,0,16),r(q,G-32,ie[ue].f,0,8),r(re,fe-32,ie[ue].ea,0,8)),K.Za){var Ee=U,Ie=B-32+16;for(0<O&&(S>=c.za-1?i(Ee,Ie,ie[ue].y[15],4):r(Ee,Ie,ie[ue+1].y,0,4)),y=0;4>y;y++)Ee[Ie+128+y]=Ee[Ie+256+y]=Ee[Ie+384+y]=Ee[Ie+0+y];for(y=0;16>y;++y,he<<=2)Ee=U,Ie=B+Zv[y],hs[K.Ob[y]](Ee,Ie),Or(he,Se,16*+y,Ee,Ie)}else if(Ee=xi(S,O,K.Ob[0]),oa[Ee](U,B),he!=0)for(y=0;16>y;++y,he<<=2)Or(he,Se,16*+y,U,B+Zv[y]);for(y=K.Gc,Ee=xi(S,O,K.Dd),mo[Ee](q,G),mo[Ee](re,fe),he=Se,Ee=q,Ie=G,255&(K=0|y)&&(170&K?qs(he,256,Ee,Ie):un(he,256,Ee,Ie)),K=re,he=fe,255&(y>>=8)&&(170&y?qs(Se,320,K,he):un(Se,320,K,he)),O<c.Ub-1&&(r(ie[ue].y,0,U,B+480,16),r(ie[ue].f,0,q,G+224,8),r(ie[ue].ea,0,re,fe+224,8)),y=8*j*c.B,ie=c.sa,ue=c.ta+16*S+16*j*c.R,Se=c.qa,K=c.ra+8*S+y,he=c.Ha,Ee=c.Ia+8*S+y,y=0;16>y;++y)r(ie,ue+y*c.R,U,B+32*y,16);for(y=0;8>y;++y)r(Se,K+y*c.B,q,G+32*y,8),r(he,Ee+y*c.B,re,fe+32*y,8)}}function cs(c,d,y,S,O,j,U,B,q){var G=[0],re=[0],fe=0,K=q!=null?q.kd:0,ie=q??new Ae;if(c==null||12>y)return 7;ie.data=c,ie.w=d,ie.ha=y,d=[d],y=[y],ie.gb=[ie.gb];e:{var ue=d,Se=y,he=ie.gb;if(e(c!=null),e(Se!=null),e(he!=null),he[0]=0,12<=Se[0]&&!n(c,ue[0],"RIFF")){if(n(c,ue[0]+8,"WEBP")){he=3;break e}var Ee=_e(c,ue[0]+4);if(12>Ee||4294967286<Ee){he=3;break e}if(K&&Ee>Se[0]-8){he=7;break e}he[0]=Ee,ue[0]+=12,Se[0]-=12}he=0}if(he!=0)return he;for(Ee=0<ie.gb[0],y=y[0];;){e:{var Ie=c;Se=d,he=y;var Le=G,ke=re,tt=ue=[0];if((Ke=fe=[fe])[0]=0,8>he[0])he=7;else{if(!n(Ie,Se[0],"VP8X")){if(_e(Ie,Se[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var qe=_e(Ie,Se[0]+8),Tt=1+Ve(Ie,Se[0]+12);if(2147483648<=Tt*(Ie=1+Ve(Ie,Se[0]+15))){he=3;break e}tt!=null&&(tt[0]=qe),Le!=null&&(Le[0]=Tt),ke!=null&&(ke[0]=Ie),Se[0]+=18,he[0]-=18,Ke[0]=1}he=0}}if(fe=fe[0],ue=ue[0],he!=0)return he;if(Se=!!(2&ue),!Ee&&fe)return 3;if(j!=null&&(j[0]=!!(16&ue)),U!=null&&(U[0]=Se),B!=null&&(B[0]=0),U=G[0],ue=re[0],fe&&Se&&q==null){he=0;break}if(4>y){he=7;break}if(Ee&&fe||!Ee&&!fe&&!n(c,d[0],"ALPH")){y=[y],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{qe=c,he=d,Ee=y;var Ke=ie.gb;Le=ie.na,ke=ie.P,tt=ie.Sa,Tt=22,e(qe!=null),e(Ee!=null),Ie=he[0];var Vt=Ee[0];for(e(Le!=null),e(tt!=null),Le[0]=null,ke[0]=null,tt[0]=0;;){if(he[0]=Ie,Ee[0]=Vt,8>Vt){he=7;break e}var sr=_e(qe,Ie+4);if(4294967286<sr){he=3;break e}var Nt=8+sr+1&-2;if(Tt+=Nt,0<Ke&&Tt>Ke){he=3;break e}if(!n(qe,Ie,"VP8 ")||!n(qe,Ie,"VP8L")){he=0;break e}if(Vt[0]<Nt){he=7;break e}n(qe,Ie,"ALPH")||(Le[0]=qe,ke[0]=Ie+8,tt[0]=sr),Ie+=Nt,Vt-=Nt}}if(y=y[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],he!=0)break}y=[y],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if(Ke=c,he=d,Ee=y,Le=ie.gb[0],ke=ie.Ja,tt=ie.xa,qe=he[0],Ie=!n(Ke,qe,"VP8 "),Tt=!n(Ke,qe,"VP8L"),e(Ke!=null),e(Ee!=null),e(ke!=null),e(tt!=null),8>Ee[0])he=7;else{if(Ie||Tt){if(Ke=_e(Ke,qe+4),12<=Le&&Ke>Le-12){he=3;break e}if(K&&Ke>Ee[0]-8){he=7;break e}ke[0]=Ke,he[0]+=8,Ee[0]-=8,tt[0]=Tt}else tt[0]=5<=Ee[0]&&Ke[qe+0]==47&&!(Ke[qe+4]>>5),ke[0]=Ee[0];he=0}if(y=y[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],d=d[0],he!=0)break;if(4294967286<ie.Ja)return 3;if(B==null||Se||(B[0]=ie.xa?2:1),U=[U],ue=[ue],ie.xa){if(5>y){he=7;break}B=U,K=ue,Se=j,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(Ee=[0],Ke=[0],Le=[0],le(ke=new W,c,d,y),Wi(ke,Ee,Ke,Le)?(B!=null&&(B[0]=Ee[0]),K!=null&&(K[0]=Ke[0]),Se!=null&&(Se[0]=Le[0]),c=1):c=0):c=0}else{if(10>y){he=7;break}B=ue,c==null||10>y||!ol(c,d+3,y-3)?c=0:(K=c[d+0]|c[d+1]<<8|c[d+2]<<16,Se=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=ie.Ja||!Se||!c?c=0:(U&&(U[0]=Se),B&&(B[0]=c),c=1))}if(!c||(U=U[0],ue=ue[0],fe&&(G[0]!=U||re[0]!=ue)))return 3;q!=null&&(q[0]=ie,q.offset=d-q.w,e(4294967286>d-q.w),e(q.offset==q.ha-y));break}return he==0||he==7&&fe&&q==null?(j!=null&&(j[0]|=ie.na!=null&&0<ie.na.length),S!=null&&(S[0]=U),O!=null&&(O[0]=ue),0):he}function Ac(c,d,y){var S=d.width,O=d.height,j=0,U=0,B=S,q=O;if(d.Da=c!=null&&0<c.Da,d.Da&&(B=c.cd,q=c.bd,j=c.v,U=c.j,11>y||(j&=-2,U&=-2),0>j||0>U||0>=B||0>=q||j+B>S||U+q>O))return 0;if(d.v=j,d.j=U,d.va=j+B,d.o=U+q,d.U=B,d.T=q,d.da=c!=null&&0<c.da,d.da){if(!it(B,q,y=[c.ib],j=[c.hb]))return 0;d.ib=y[0],d.hb=j[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*S/4&&d.hb<3*O/4,d.Kb=0),1}function Ec(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Zo(c,d,y,S){if(S==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var O=y.cd,j=y.bd,U=-2&y.v,B=-2&y.j;if(0>U||0>B||0>=O||0>=j||U+O>c||B+j>d)return 2;c=O,d=j}if(y.da){if(!it(c,d,O=[y.ib],j=[y.hb]))return 2;c=O[0],d=j[0]}}S.width=c,S.height=d;e:{var q=S.width,G=S.height;if(c=S.S,0>=q||0>=G||!(c>=Af&&13>c))c=2;else{if(0>=S.Rd&&S.sd==null){U=j=O=d=0;var re=(B=q*ey[c])*G;if(11>c||(j=(G+1)/2*(d=(q+1)/2),c==12&&(U=(O=q)*G)),(G=s(re+2*j+U))==null){c=1;break e}S.sd=G,11>c?((q=S.f.RGBA).eb=G,q.fb=0,q.A=B,q.size=re):((q=S.f.kb).y=G,q.O=0,q.fa=B,q.Fd=re,q.f=G,q.N=0+re,q.Ab=d,q.Cd=j,q.ea=G,q.W=0+re+j,q.Db=d,q.Ed=j,c==12&&(q.F=G,q.J=0+re+2*j),q.Tc=U,q.lb=O)}if(d=1,O=S.S,j=S.width,U=S.height,O>=Af&&13>O)if(11>O)c=S.f.RGBA,d&=(B=Math.abs(c.A))*(U-1)+j<=c.size,d&=B>=j*ey[O],d&=c.eb!=null;else{c=S.f.kb,B=(j+1)/2,re=(U+1)/2,q=Math.abs(c.fa),G=Math.abs(c.Ab);var fe=Math.abs(c.Db),K=Math.abs(c.lb),ie=K*(U-1)+j;d&=q*(U-1)+j<=c.Fd,d&=G*(re-1)+B<=c.Cd,d=(d&=fe*(re-1)+B<=c.Ed)&q>=j&G>=B&fe>=B,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,O==12&&(d&=K>=j,d&=ie<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Ec(S)),c}var ml=64,Ii=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ti=24,ea=32,fo=8,ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(c){return c},x.Predictor2=function(c,d,y){return d[y+0]},x.Predictor3=function(c,d,y){return d[y+1]},x.Predictor4=function(c,d,y){return d[y-1]},x.Predictor5=function(c,d,y){return Ze(Ze(c,d[y+1]),d[y+0])},x.Predictor6=function(c,d,y){return Ze(c,d[y-1])},x.Predictor7=function(c,d,y){return Ze(c,d[y+0])},x.Predictor8=function(c,d,y){return Ze(d[y-1],d[y+0])},x.Predictor9=function(c,d,y){return Ze(d[y+0],d[y+1])},x.Predictor10=function(c,d,y){return Ze(Ze(c,d[y-1]),Ze(d[y+0],d[y+1]))},x.Predictor11=function(c,d,y){var S=d[y+0];return 0>=Xe(S>>24&255,c>>24&255,(d=d[y-1])>>24&255)+Xe(S>>16&255,c>>16&255,d>>16&255)+Xe(S>>8&255,c>>8&255,d>>8&255)+Xe(255&S,255&c,255&d)?S:c},x.Predictor12=function(c,d,y){var S=d[y+0];return(Mt((c>>24&255)+(S>>24&255)-((d=d[y-1])>>24&255))<<24|Mt((c>>16&255)+(S>>16&255)-(d>>16&255))<<16|Mt((c>>8&255)+(S>>8&255)-(d>>8&255))<<8|Mt((255&c)+(255&S)-(255&d)))>>>0},x.Predictor13=function(c,d,y){var S=d[y-1];return(_t((c=Ze(c,d[y+0]))>>24&255,S>>24&255)<<24|_t(c>>16&255,S>>16&255)<<16|_t(c>>8&255,S>>8&255)<<8|_t(255&c,255&S))>>>0};var xc=x.PredictorAdd0;x.PredictorAdd1=Et,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var nu=x.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Hn,wf=x.ColorIndexInverseTransform,Bs=x.MapARGB,zs=x.VP8LColorIndexInverseTransformAlpha,Ic=x.MapAlpha,Tc=x.VP8LPredictorsAdd=[];Tc.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var Nc,kc,na,ra,ia,gl,sa,vl,Qi,qs,Jt,un,Wn,ir,po,Pc,ru,bf,kv,Pv,Cv,Lv,Rv,Dv,Cc,Ov,Fv,Mv,jv=s(511),Vv=s(2041),Uv=s(225),Bv=s(767),zv=0,Im=Vv,Sf=Uv,Ni=Bv,Yi=jv,Af=0,Ef=1,qv=2,xf=3,If=4,Tm=5,Hv=6,Nm=7,km=8,Tf=9,Pm=10,YE=[2,3,7],XE=[3,3,11],Wv=[280,256,256,256,40],JE=[0,1,1,1,0],ZE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ex=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nx=8,Cm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Lm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lc=null,rx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ix=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$v=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ox=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ax=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oa=[],hs=[],mo=[],ux=1,Gv=2,aa=[],Xi=[];wr("UpsampleRgbLinePair",z,3),wr("UpsampleBgrLinePair",ae,3),wr("UpsampleRgbaLinePair",Rt,4),wr("UpsampleBgraLinePair",Cn,4),wr("UpsampleArgbLinePair",jt,4),wr("UpsampleRgba4444LinePair",Oe,2),wr("UpsampleRgb565LinePair",de,2);var cx=x.UpsampleRgbLinePair,hx=x.UpsampleBgrLinePair,Kv=x.UpsampleRgbaLinePair,Qv=x.UpsampleBgraLinePair,Yv=x.UpsampleArgbLinePair,Xv=x.UpsampleRgba4444LinePair,fx=x.UpsampleRgb565LinePair,Nf=16,kf=1<<Nf-1,Rc=-227,Rm=482,dx=6,Jv=0,px=s(256),mx=s(256),gx=s(256),vx=s(256),yx=s(Rm-Rc),_x=s(Rm-Rc);pn("YuvToRgbRow",z,3),pn("YuvToBgrRow",ae,3),pn("YuvToRgbaRow",Rt,4),pn("YuvToBgraRow",Cn,4),pn("YuvToArgbRow",jt,4),pn("YuvToRgba4444Row",Oe,2),pn("YuvToRgb565Row",de,2);var Zv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pf=[0,2,8],wx=[8,7,6,4,4,2,2,2,1,1,1,1],bx=1;this.WebPDecodeRGBA=function(c,d,y,S,O){var j=Ef,U=new oe,B=new Yt;U.ba=B,B.S=j,B.width=[B.width],B.height=[B.height];var q=B.width,G=B.height,re=new ct;if(re==null||c==null)var fe=2;else e(re!=null),fe=cs(c,d,y,re.width,re.height,re.Pd,re.Qd,re.format,null);if(fe!=0?q=0:(q!=null&&(q[0]=re.width[0]),G!=null&&(G[0]=re.height[0]),q=1),q){B.width=B.width[0],B.height=B.height[0],S!=null&&(S[0]=B.width),O!=null&&(O[0]=B.height);e:{if(S=new Rs,(O=new Ae).data=c,O.w=d,O.ha=y,O.kd=1,d=[0],e(O!=null),((c=cs(O.data,O.w,O.ha,null,null,null,d,null,O))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(U!=null),S.data=O.data,S.w=O.w+O.offset,S.ha=O.ha-O.offset,S.put=st,S.ac=Lr,S.bc=yn,S.ma=U,O.xa){if((c=Ps())==null){U=1;break e}if(function(K,ie){var ue=[0],Se=[0],he=[0];t:for(;;){if(K==null)return 0;if(ie==null)return K.a=2,0;if(K.l=ie,K.a=0,le(K.m,ie.data,ie.w,ie.ha),!Wi(K.m,ue,Se,he)){K.a=3;break t}if(K.xb=Gv,ie.width=ue[0],ie.height=Se[0],!bi(ue[0],Se[0],1,K,null))break t;return 1}return e(K.a!=0),0}(c,S)){if(S=(d=Zo(S.width,S.height,U.Oa,U.ba))==0){t:{S=c;n:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((y=S.l)!=null),e((O=y.ma)!=null),S.xb!=0){if(S.ca=O.ba,S.tb=O.tb,e(S.ca!=null),!Ac(O.Oa,y,xf)){S.a=2;break n}if(!ss(S,y.width)||y.da)break n;if((y.da||wt(S.ca.S))&&dn(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&dn()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!Q(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!Dr(S,S.V,S.Ba,S.c,S.i,y.o,ks))break n;O.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(d=c.a)}else d=c.a}else{if((c=new sl)==null){U=1;break e}if(c.Fa=O.na,c.P=O.P,c.qc=O.Sa,Zl(c,S)){if((d=Zo(S.width,S.height,U.Oa,U.ba))==0){if(c.Aa=0,y=U.Oa,e((O=c)!=null),y!=null){if(0<(q=0>(q=y.Md)?0:100<q?255:255*q/100)){for(G=re=0;4>G;++G)12>(fe=O.pb[G]).lc&&(fe.ia=q*wx[0>fe.lc?0:fe.lc]>>3),re|=fe.ia;re&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=y.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(K,ie){if(K==null)return 0;if(ie==null)return Nn(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!Zl(K,ie))return 0;if(e(K.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(K.L=0);var ue=Pf[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=ie.v-ue>>4,K.zb=ie.j-ue>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=ie.o+15+ue>>4,K.Hb=ie.va+15+ue>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var Se=K.ed;for(ue=0;4>ue;++ue){var he;if(K.Qa.Cb){var Ee=K.Qa.Lb[ue];K.Qa.Fb||(Ee+=Se.Tb)}else Ee=Se.Tb;for(he=0;1>=he;++he){var Ie=K.gd[ue][he],Le=Ee;if(Se.Pc&&(Le+=Se.vd[0],he&&(Le+=Se.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var ke=Le;0<Se.wb&&(ke=4<Se.wb?ke>>2:ke>>1)>9-Se.wb&&(ke=9-Se.wb),1>ke&&(ke=1),Ie.dd=ke,Ie.tc=2*Le+ke,Ie.ld=40<=Le?2:15<=Le?1:0}else Ie.tc=0;Ie.La=he}}}ue=0}else Nn(K,6,"Frame setup failed"),ue=K.a;if(ue=ue==0){if(ue){K.$c=0,0<K.Aa||(K.Ic=bx);t:{ue=K.Ic,Se=4*(ke=K.za);var tt=32*ke,qe=ke+1,Tt=0<K.L?ke*(0<K.Aa?2:1):0,Ke=(K.Aa==2?2:1)*ke;if((Ie=Se+832+(he=3*(16*ue+Pf[K.L])/2*tt)+(Ee=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=Ie)ue=0;else{if(Ie>K.Vb){if(K.Vb=0,K.Ec=s(Ie),K.Fc=0,K.Ec==null){ue=Nn(K,1,"no memory during frame initialization.");break t}K.Vb=Ie}Ie=K.Ec,Le=K.Fc,K.Ac=Ie,K.Bc=Le,Le+=Se,K.Gd=o(tt,rl),K.Hd=0,K.rb=o(qe+1,Si),K.sb=1,K.wa=Tt?o(Tt,dr):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=ke),e(!0),K.oc=Ie,K.pc=Le,Le+=832,K.ya=o(Ke,tl),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=ke),K.R=16*ke,K.B=8*ke,ke=(tt=Pf[K.L])*K.R,tt=tt/2*K.B,K.sa=Ie,K.ta=Le+ke,K.qa=K.sa,K.ra=K.ta+16*ue*K.R+tt,K.Ha=K.qa,K.Ia=K.ra+8*ue*K.B+tt,K.$c=0,Le+=he,K.mb=Ee?Ie:null,K.nb=Ee?Le:null,e(Le+Ee<=K.Fc+K.Vb),Ds(K),i(K.Ac,K.Bc,0,Se),ue=1}}if(ue){if(ie.ka=0,ie.y=K.sa,ie.O=K.ta,ie.f=K.qa,ie.N=K.ra,ie.ea=K.Ha,ie.Vd=K.Ia,ie.fa=K.R,ie.Rc=K.B,ie.F=null,ie.J=0,!zv){for(ue=-255;255>=ue;++ue)jv[255+ue]=0>ue?-ue:ue;for(ue=-1020;1020>=ue;++ue)Vv[1020+ue]=-128>ue?-128:127<ue?127:ue;for(ue=-112;112>=ue;++ue)Uv[112+ue]=-16>ue?-16:15<ue?15:ue;for(ue=-255;510>=ue;++ue)Bv[255+ue]=0>ue?0:255<ue?255:ue;zv=1}sa=Os,vl=Go,qs=eu,Jt=Ot,un=ao,Qi=$o,Wn=fl,ir=Jo,po=g,Pc=D,ru=Ki,bf=dl,kv=$,Pv=ee,Cv=Vs,Lv=Us,Rv=ci,Dv=hl,hs[0]=wc,hs[1]=al,hs[2]=Ms,hs[3]=_c,hs[4]=bc,hs[5]=as,hs[6]=pr,hs[7]=Sc,hs[8]=ls,hs[9]=Qo,oa[0]=ui,oa[1]=vc,oa[2]=yc,oa[3]=ll,oa[4]=$i,oa[5]=Fs,oa[6]=Ko,mo[0]=uo,mo[1]=tu,mo[2]=Yo,mo[3]=Ai,mo[4]=ln,mo[5]=ul,mo[6]=cl,ue=1}else ue=0}ue&&(ue=function(Vt,sr){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var Nt,Qe=Vt.Jc[Vt.M&Vt.Xb],Fe=Vt.m,$n=Vt;for(Nt=0;Nt<$n.za;++Nt){var It=Fe,qt=$n,_n=qt.Ac,Sr=qt.Bc+4*Nt,Jr=qt.zc,jn=qt.ya[qt.aa+Nt];if(qt.Qa.Bb?jn.$b=xe(It,qt.Pa.jb[0])?2+xe(It,qt.Pa.jb[2]):xe(It,qt.Pa.jb[1]):jn.$b=0,qt.kc&&(jn.Ad=xe(It,qt.Bd)),jn.Za=!xe(It,145)+0,jn.Za){var Fr=jn.Ob,Zr=0;for(qt=0;4>qt;++qt){var or,Wt=Jr[0+qt];for(or=0;4>or;++or){Wt=ox[_n[Sr+or]][Wt];for(var nn=$v[xe(It,Wt[0])];0<nn;)nn=$v[2*nn+xe(It,Wt[nn])];Wt=-nn,_n[Sr+or]=Wt}r(Fr,Zr,_n,Sr,4),Zr+=4,Jr[0+qt]=Wt}}else Wt=xe(It,156)?xe(It,128)?1:3:xe(It,163)?2:0,jn.Ob[0]=Wt,i(_n,Sr,Wt,4),i(Jr,0,Wt,4);jn.Dd=xe(It,142)?xe(It,114)?xe(It,183)?1:3:2:0}if($n.m.Ka)return Nn(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if($n=Qe,It=(Fe=Vt).rb[Fe.sb-1],_n=Fe.rb[Fe.sb+Fe.ja],Nt=Fe.ya[Fe.aa+Fe.ja],Sr=Fe.kc?Nt.Ad:0)It.la=_n.la=0,Nt.Za||(It.Na=_n.Na=0),Nt.Hc=0,Nt.Gc=0,Nt.ia=0;else{var Vn,rn;if(It=_n,_n=$n,Sr=Fe.Pa.Xc,Jr=Fe.ya[Fe.aa+Fe.ja],jn=Fe.pb[Jr.$b],qt=Jr.ad,Fr=0,Zr=Fe.rb[Fe.sb-1],Wt=or=0,i(qt,Fr,0,384),Jr.Za)var Ar=0,fs=Sr[3];else{nn=s(16);var Gn=It.Na+Zr.Na;if(Gn=Lc(_n,Sr[1],Gn,jn.Eb,0,nn,0),It.Na=Zr.Na=(0<Gn)+0,1<Gn)sa(nn,0,qt,Fr);else{var hi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)qt[Fr+nn]=hi}Ar=1,fs=Sr[0]}var cn=15&It.la,ar=15&Zr.la;for(nn=0;4>nn;++nn){var ki=1&ar;for(hi=rn=0;4>hi;++hi)cn=cn>>1|(ki=(Gn=Lc(_n,fs,Gn=ki+(1&cn),jn.Sc,Ar,qt,Fr))>Ar)<<7,rn=rn<<2|(3<Gn?3:1<Gn?2:qt[Fr+0]!=0),Fr+=16;cn>>=4,ar=ar>>1|ki<<7,or=(or<<8|rn)>>>0}for(fs=cn,Ar=ar>>4,Vn=0;4>Vn;Vn+=2){for(rn=0,cn=It.la>>4+Vn,ar=Zr.la>>4+Vn,nn=0;2>nn;++nn){for(ki=1&ar,hi=0;2>hi;++hi)Gn=ki+(1&cn),cn=cn>>1|(ki=0<(Gn=Lc(_n,Sr[2],Gn,jn.Qc,0,qt,Fr)))<<3,rn=rn<<2|(3<Gn?3:1<Gn?2:qt[Fr+0]!=0),Fr+=16;cn>>=2,ar=ar>>1|ki<<5}Wt|=rn<<4*Vn,fs|=cn<<4<<Vn,Ar|=(240&ar)<<Vn}It.la=fs,Zr.la=Ar,Jr.Hc=or,Jr.Gc=Wt,Jr.ia=43690&Wt?0:jn.ia,Sr=!(or|Wt)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Nt.$b][Nt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Sr),$n.Ka)return Nn(Vt,7,"Premature end-of-file encountered.")}if(Ds(Vt),Fe=sr,$n=1,Nt=(Qe=Vt).D,It=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(Nt.M=Qe.M,Nt.uc=It,br(Qe,Nt),$n=1,Nt=(rn=Qe.D).Nb,It=(Wt=Pf[Qe.L])*Qe.R,_n=Wt/2*Qe.B,nn=16*Nt*Qe.R,hi=8*Nt*Qe.B,Sr=Qe.sa,Jr=Qe.ta-It+nn,jn=Qe.qa,qt=Qe.ra-_n+hi,Fr=Qe.Ha,Zr=Qe.Ia-_n+hi,ar=(cn=rn.M)==0,or=cn>=Qe.Va-1,Qe.Aa==2&&br(Qe,rn),rn.uc)for(ki=(Gn=Qe).D.M,e(Gn.D.uc),rn=Gn.yb;rn<Gn.Hb;++rn){Ar=rn,fs=ki;var ei=(Pi=(Er=Gn).D).Nb;Vn=Er.R;var Pi=Pi.wa[Pi.Y+Ar],Ci=Er.sa,fi=Er.ta+16*ei*Vn+16*Ar,Li=Pi.dd,mn=Pi.tc;if(mn!=0)if(e(3<=mn),Er.L==1)0<Ar&&Lv(Ci,fi,Vn,mn+4),Pi.La&&Dv(Ci,fi,Vn,mn),0<fs&&Cv(Ci,fi,Vn,mn+4),Pi.La&&Rv(Ci,fi,Vn,mn);else{var Ri=Er.B,ds=Er.qa,yl=Er.ra+8*ei*Ri+8*Ar,go=Er.Ha,Er=Er.Ia+8*ei*Ri+8*Ar;ei=Pi.ld,0<Ar&&(ir(Ci,fi,Vn,mn+4,Li,ei),Pc(ds,yl,go,Er,Ri,mn+4,Li,ei)),Pi.La&&(bf(Ci,fi,Vn,mn,Li,ei),Pv(ds,yl,go,Er,Ri,mn,Li,ei)),0<fs&&(Wn(Ci,fi,Vn,mn+4,Li,ei),po(ds,yl,go,Er,Ri,mn+4,Li,ei)),Pi.La&&(ru(Ci,fi,Vn,mn,Li,ei),kv(ds,yl,go,Er,Ri,mn,Li,ei))}}if(Qe.ia&&alert("todo:DitherRow"),Fe.put!=null){if(rn=16*cn,cn=16*(cn+1),ar?(Fe.y=Qe.sa,Fe.O=Qe.ta+nn,Fe.f=Qe.qa,Fe.N=Qe.ra+hi,Fe.ea=Qe.Ha,Fe.W=Qe.Ia+hi):(rn-=Wt,Fe.y=Sr,Fe.O=Jr,Fe.f=jn,Fe.N=qt,Fe.ea=Fr,Fe.W=Zr),or||(cn-=Wt),cn>Fe.o&&(cn=Fe.o),Fe.F=null,Fe.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&rn<cn&&(Fe.J=kn(Qe,Fe,rn,cn-rn),Fe.F=Qe.mb,Fe.F==null&&Fe.F.length==0)){$n=Nn(Qe,3,"Could not decode alpha data.");break t}rn<Fe.j&&(Wt=Fe.j-rn,rn=Fe.j,e(!(1&Wt)),Fe.O+=Qe.R*Wt,Fe.N+=Qe.B*(Wt>>1),Fe.W+=Qe.B*(Wt>>1),Fe.F!=null&&(Fe.J+=Fe.width*Wt)),rn<cn&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=rn-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=cn-rn,$n=Fe.put(Fe))}Nt+1!=Qe.Ic||or||(r(Qe.sa,Qe.ta-It,Sr,Jr+16*Qe.R,It),r(Qe.qa,Qe.ra-_n,jn,qt+8*Qe.B,_n),r(Qe.Ha,Qe.Ia-_n,Fr,Zr+8*Qe.B,_n))}if(!$n)return Nn(Vt,6,"Output aborted.")}return 1}(K,ie)),ie.bc!=null&&ie.bc(ie),ue&=1}return ue?(K.cb=0,ue):0})(c,S)||(d=c.a)}}else d=c.a}d==0&&U.Oa!=null&&U.Oa.fd&&(d=Ec(U.ba))}U=d}j=U!=0?null:11>j?B.f.RGBA.eb:B.f.kb.y}else j=null;return j};var ey=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(x,L){for(var w="",k=0;k<4;k++)w+=String.fromCharCode(x[L++]);return w}function f(x,L){return x[L+0]|x[L+1]<<8}function m(x,L){return(x[L+0]|x[L+1]<<8|x[L+2]<<16)>>>0}function v(x,L){return(x[L+0]|x[L+1]<<8|x[L+2]<<16|x[L+3]<<24)>>>0}new l;var p=[0],A=[0],I=[],R=new l,b=t,N=function(x,L){var w={},k=0,C=!1,J=0,pe=0;if(w.frames=[],!function(M,W){for(var X=0;X<4;X++)if(M[W+X]!="RIFF".charCodeAt(X))return!0;return!1}(x,L)){for(v(x,L+=4),L+=8;L<x.length;){var ye=u(x,L),ge=v(x,L+=4);L+=4;var Z=ge+(1&ge);switch(ye){case"VP8 ":case"VP8L":w.frames[k]===void 0&&(w.frames[k]={}),(we=w.frames[k]).src_off=C?pe:L-8,we.src_size=J+ge+8,k++,C&&(C=!1,J=0,pe=0);break;case"VP8X":(we=w.header={}).feature_flags=x[L];var le=L+4;we.canvas_width=1+m(x,le),le+=3,we.canvas_height=1+m(x,le),le+=3;break;case"ALPH":C=!0,J=Z+8,pe=L-8;break;case"ANIM":(we=w.header).bgcolor=v(x,L),le=L+4,we.loop_count=f(x,le),le+=2;break;case"ANMF":var be,we;(we=w.frames[k]={}).offset_x=2*m(x,L),L+=3,we.offset_y=2*m(x,L),L+=3,we.width=1+m(x,L),L+=3,we.height=1+m(x,L),L+=3,we.duration=m(x,L),L+=3,be=x[L++],we.dispose=1&be,we.blend=be>>1&1}ye!="ANMF"&&(L+=Z)}return w}}(b,0);N.response=b,N.rgbaoutput=!0,N.dataurl=!1;var P=N.header?N.header:null,F=N.frames?N.frames:null;if(P){P.loop_counter=P.loop_count,p=[P.canvas_height],A=[P.canvas_width];for(var Y=0;Y<F.length&&F[Y].blend!=0;Y++);}var te=F[0],V=R.WebPDecodeRGBA(b,te.src_off,te.src_size,A,p);te.rgba=V,te.imgwidth=A[0],te.imgheight=p[0];for(var E=0;E<A[0]*p[0]*4;E++)I[E]=V[E];return this.width=A,this.height=p,this.data=I,this}(function(t){var e,n,r,i,s,o,a,l,u,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(_e){X=!!_e}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(_e){ne=!!_e}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(_e){isNaN(_e)||(se=_e)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(_e){isNaN(_e)||(ce=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var Q;typeof _e=="number"?Q=[_e,_e,_e,_e]:((Q=new Array(4))[0]=_e[0],Q[1]=_e.length>=2?_e[1]:Q[0],Q[2]=_e.length>=3?_e[2]:Q[0],Q[3]=_e.length>=4?_e[3]:Q[1]),u.margin=Q}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(_e){ve=_e}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(_e){me=_e}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(_e){xe=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof f&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(_e){Pe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var Q;Q=v(_e),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var Q=v(_e);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Me=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(_e){Me=null,Ve=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var Q;if(this.ctx.font=_e,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var kt=Q[1];Q[2];var St=Q[3],it=Q[4];Q[5];var Re=Q[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ye==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var je=function(lt){var nt,Kt,Bt=[],Ge=lt.trim();if(Ge==="")return $g;if(Ge in Mw)return[Mw[Ge]];for(;Ge!=="";){switch(Kt=null,nt=(Ge=Vw(Ge)).charAt(0)){case'"':case"'":Kt=DD(Ge.substring(1),nt);break;default:Kt=OD(Ge)}if(Kt===null||(Bt.push(Kt[0]),(Ge=Vw(Kt[1]))!==""&&Ge.charAt(0)!==","))return $g;Ge=Ge.replace(/^,/,"")}return Bt}(Re);if(this.fontFaces){var At=function(lt,nt){if(Me===null){var Kt=function(Bt){var Ge=[];return Object.keys(Bt).forEach(function(gt){Bt[gt].forEach(function(Zt){var ot=null;switch(Zt){case"bold":ot={family:gt,weight:"bold"};break;case"italic":ot={family:gt,style:"italic"};break;case"bolditalic":ot={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:gt}}ot!==null&&(ot.ref={name:gt,style:Zt},Ge.push(ot))})}),Ge}(lt.getFontList());Me=function(Bt){for(var Ge={},gt=0;gt<Bt.length;++gt){var Zt=Wg(Bt[gt]),ot=Zt.family,Pt=Zt.stretch,wt=Zt.style,An=Zt.weight;Ge[ot]=Ge[ot]||{},Ge[ot][Pt]=Ge[ot][Pt]||{},Ge[ot][Pt][wt]=Ge[ot][Pt][wt]||{},Ge[ot][Pt][wt][An]=Zt}return Ge}(Kt.concat(nt))}return Me}(this.pdf,this.fontFaces),Ze=je.map(function(lt){return{family:lt,stretch:"normal",weight:St,style:kt}}),Mt=function(lt,nt,Kt){for(var Bt=(Kt=Kt||{}).defaultFontFamily||"times",Ge=Object.assign({},RD,Kt.genericFontFamilies||{}),gt=null,Zt=null,ot=0;ot<nt.length;++ot)if(Ge[(gt=Wg(nt[ot])).family]&&(gt.family=Ge[gt.family]),lt.hasOwnProperty(gt.family)){Zt=lt[gt.family];break}if(!(Zt=Zt||lt[Bt]))throw new Error("Could not find a font-family for the rule '"+jw(gt)+"' and default family '"+Bt+"'.");if(Zt=function(Pt,wt){if(wt[Pt])return wt[Pt];var An=T1[Pt],vn=An<=T1.normal?-1:1,Yt=Fw(wt,kE,An,vn);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+Pt);return Yt}(gt.stretch,Zt),Zt=function(Pt,wt){if(wt[Pt])return wt[Pt];for(var An=NE[Pt],vn=0;vn<An.length;++vn)if(wt[An[vn]])return wt[An[vn]];throw new Error("Could not find a matching font-style for "+Pt)}(gt.style,Zt),!(Zt=function(Pt,wt){if(wt[Pt])return wt[Pt];if(Pt===400&&wt[500])return wt[500];if(Pt===500&&wt[400])return wt[400];var An=LD[Pt],vn=Fw(wt,PE,An,Pt<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+Pt);return vn}(gt.weight,Zt)))throw new Error("Failed to resolve a font for the rule '"+jw(gt)+"'.");return Zt}(At,Ze);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var _t="";(St==="bold"||parseInt(St,10)>=700||kt==="bold")&&(_t="bold"),kt==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var Xe="",Et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<je.length;mt++){if(this.pdf.internal.getFont(je[mt],_t,{noFallback:!0,disableWarning:!0})!==void 0){Xe=je[mt];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(je[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=je[mt],_t="bold";else if(this.pdf.internal.getFont(je[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=je[mt],_t="normal";break}}if(Xe===""){for(var et=0;et<je.length;et++)if(Et[je[et]]){Xe=Et[je[et]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(M,W)},m.prototype.closePath=function(){var M=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&on(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},m.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,W,X,ne){if(isNaN(X)||isNaN(ne)||isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(X,ne)),ce=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},m.prototype.bezierCurveTo=function(M,W,X,ne,se,ce){if(isNaN(se)||isNaN(ce)||isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(se,ce)),me=this.ctx.transform.applyToPoint(new o(M,W)),xe=this.ctx.transform.applyToPoint(new o(X,ne));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:xe.x,y2:xe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},m.prototype.arc=function(M,W,X,ne,se,ce){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne)||isNaN(se))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(M,W));M=ve.x,W=ve.y;var me=this.ctx.transform.applyToPoint(new o(0,X)),xe=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(me.x-xe.x,2)+Math.pow(me.y-xe.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:X,startAngle:ne,endAngle:se,counterclockwise:ce})},m.prototype.arcTo=function(M,W,X,ne,se){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,W,X,ne){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+X,W),this.lineTo(M+X,W+ne),this.lineTo(M,W+ne),this.lineTo(M,W),this.lineTo(M+X,W),this.lineTo(M,W)},m.prototype.fillRect=function(M,W,X,ne){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,X,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},m.prototype.strokeRect=function(M,W,X,ne){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(M,W,X,ne),this.stroke())},m.prototype.clearRect=function(M,W,X,ne){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,X,ne))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var W,X,ne,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,X=0,ne=0,se=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ce!==null)W=parseInt(ce[1]),X=parseInt(ce[2]),ne=parseInt(ce[3]),se=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(ce[1]),X=parseInt(ce[2]),ne=parseInt(ce[3]),se=parseFloat(ce[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var ve=new bE(M);M=ve.ok?ve.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,X=M.substring(2,3),X+=X,ne=M.substring(3,4),ne+=ne):(W=M.substring(1,3),X=M.substring(3,5),ne=M.substring(5,7)),W=parseInt(W,16),X=parseInt(X,16),ne=parseInt(ne,16)}}return{r:W,g:X,b:ne,a:se,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,W,X,ne){if(isNaN(W)||isNaN(X)||typeof M!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var se=Z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:M,x:W,y:X,scale:ce,angle:se,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(M,W,X,ne){if(isNaN(W)||isNaN(X)||typeof M!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ne=isNaN(ne)?void 0:ne;var se=Z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:M,x:W,y:X,scale:ce,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(M){if(typeof M!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,X=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),se=W.getStringUnitWidth(M)*ne/W.internal.scaleFactor;return new function(ce){var ve=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:se*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(M){if(isNaN(M))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(M,W,X,ne,se,ce){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(ne)||isNaN(se)||isNaN(ce))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(M,W,X,ne,se,ce);this.ctx.transform=this.ctx.transform.multiply(ve)},m.prototype.setTransform=function(M,W,X,ne,se,ce){M=isNaN(M)?1:M,W=isNaN(W)?0:W,X=isNaN(X)?0:X,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(M,W,X,ne,se,ce)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,W,X,ne,se,ce,ve,me,xe){var Pe=this.pdf.getImageProperties(M),Me=1,Ve=1,_e=1,Q=1;ne!==void 0&&me!==void 0&&(_e=me/ne,Q=xe/se,Me=Pe.width/ne*me/ne,Ve=Pe.height/se*xe/se),ce===void 0&&(ce=W,ve=X,W=0,X=0),ne!==void 0&&me===void 0&&(me=ne,xe=se),ne===void 0&&me===void 0&&(me=Pe.width,xe=Pe.height);for(var kt,St=this.ctx.transform.decompose(),it=Z(St.rotate.shx),Re=new l,Ye=(Re=(Re=(Re=Re.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new a(ce-W*_e,ve-X*Q,ne*Me,se*Ve)),je=R.call(this,Ye),At=[],Ze=0;Ze<je.length;Ze+=1)At.indexOf(je[Ze])===-1&&At.push(je[Ze]);if(P(At),this.autoPaging)for(var Mt=At[0],_t=At[At.length-1],Xe=Mt;Xe<_t+1;Xe++){this.pdf.setPage(Xe);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=Xe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Xe===1?0:et+(Xe-2)*lt;if(this.ctx.clip_path.length!==0){var Kt=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(kt,this.posX+this.margin[3],-nt+mt+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Kt}var Bt=JSON.parse(JSON.stringify(Ye));Bt=N([Bt],this.posX+this.margin[3],-nt+mt+this.ctx.prevPageLastElemOffset)[0];var Ge=(Xe>Mt||Xe<_t)&&I.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,lt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,it),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,it)};var R=function(M,W,X){var ne=[];W=W||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+se)/X)+1);break;case"arc":ne.push(Math.floor((M.y+se-M.radius)/X)+1),ne.push(Math.floor((M.y+se+M.radius)/X)+1);break;case"qct":var ce=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((ce.y+se)/X)+1),ne.push(Math.floor((ce.y+ce.h+se)/X)+1);break;case"bct":var ve=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((ve.y+se)/X)+1),ne.push(Math.floor((ve.y+ve.h+se)/X)+1);break;case"rect":ne.push(Math.floor((M.y+se)/X)+1),ne.push(Math.floor((M.y+M.h+se)/X)+1)}for(var me=0;me<ne.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ne[me];)b.call(this);return ne},b=function(){var M=this.fillStyle,W=this.strokeStyle,X=this.font,ne=this.lineCap,se=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=X,this.lineCap=ne,this.lineWidth=se,this.lineJoin=ce},N=function(M,W,X){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=W,M[ne].y2+=X;case"qct":M[ne].x1+=W,M[ne].y1+=X;default:M[ne].x+=W,M[ne].y+=X}return M},P=function(M){return M.sort(function(W,X){return W-X})},F=function(M,W){for(var X,ne,se=this.fillStyle,ce=this.strokeStyle,ve=this.lineCap,me=this.lineWidth,xe=Math.abs(me*this.ctx.transform.scaleX),Pe=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),_e=[],Q=0;Q<Ve.length;Q++)if(Ve[Q].x!==void 0)for(var kt=R.call(this,Ve[Q]),St=0;St<kt.length;St+=1)_e.indexOf(kt[St])===-1&&_e.push(kt[St]);for(var it=0;it<_e.length;it++)for(;this.pdf.internal.getNumberOfPages()<_e[it];)b.call(this);if(P(_e),this.autoPaging)for(var Re=_e[0],Ye=_e[_e.length-1],je=Re;je<Ye+1;je++){this.pdf.setPage(je),this.fillStyle=se,this.strokeStyle=ce,this.lineCap=ve,this.lineWidth=xe,this.lineJoin=Pe;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=je===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=je===1?0:Mt+(je-2)*_t;if(this.ctx.clip_path.length!==0){var Et=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(X,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),Y.call(this,M,!0),this.path=Et}if(ne=JSON.parse(JSON.stringify(Me)),this.path=N(ne,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),W===!1||je===0){var mt=(je>Re||je<Ye)&&I.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,_t,null).clip().discardPath()),Y.call(this,M,W),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=xe,Y.call(this,M,W),this.lineWidth=me;this.path=Me},Y=function(M,W){if((M!=="stroke"||W||!A.call(this))&&(M==="stroke"||W||!p.call(this))){for(var X,ne,se=[],ce=this.path,ve=0;ve<ce.length;ve++){var me=ce[ve];switch(me.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:me,deltas:[],abs:[]});break;case"lt":var xe=se.length;if(ce[ve-1]&&!isNaN(ce[ve-1].x)&&(X=[me.x-ce[ve-1].x,me.y-ce[ve-1].y],xe>0)){for(;xe>=0;xe--)if(se[xe-1].close!==!0&&se[xe-1].begin!==!0){se[xe-1].deltas.push(X),se[xe-1].abs.push(me);break}}break;case"bct":X=[me.x1-ce[ve-1].x,me.y1-ce[ve-1].y,me.x2-ce[ve-1].x,me.y2-ce[ve-1].y,me.x-ce[ve-1].x,me.y-ce[ve-1].y],se[se.length-1].deltas.push(X);break;case"qct":var Pe=ce[ve-1].x+2/3*(me.x1-ce[ve-1].x),Me=ce[ve-1].y+2/3*(me.y1-ce[ve-1].y),Ve=me.x+2/3*(me.x1-me.x),_e=me.y+2/3*(me.y1-me.y),Q=me.x,kt=me.y;X=[Pe-ce[ve-1].x,Me-ce[ve-1].y,Ve-ce[ve-1].x,_e-ce[ve-1].y,Q-ce[ve-1].x,kt-ce[ve-1].y],se[se.length-1].deltas.push(X);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(me)}}ne=W?null:M==="stroke"?"stroke":"fill";for(var St=!1,it=0;it<se.length;it++)if(se[it].arc)for(var Re=se[it].abs,Ye=0;Ye<Re.length;Ye++){var je=Re[Ye];je.type==="arc"?E.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,W,!St):C.call(this,je.x,je.y),St=!0}else if(se[it].close===!0)this.pdf.internal.out("h"),St=!1;else if(se[it].begin!==!0){var At=se[it].start.x,Ze=se[it].start.y;J.call(this,se[it].deltas,At,Ze),St=!0}ne&&x.call(this,ne),W&&L.call(this)}},te=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+W-X;case"hanging":return M+W-2*X;case"middle":return M+W/2-X;default:return M}},V=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,X){this.colorStops.push([W,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,W,X,ne,se,ce,ve,me,xe){for(var Pe=ye.call(this,X,ne,se,ce),Me=0;Me<Pe.length;Me++){var Ve=Pe[Me];Me===0&&(xe?w.call(this,Ve.x1+M,Ve.y1+W):C.call(this,Ve.x1+M,Ve.y1+W)),pe.call(this,M,W,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}me?L.call(this):x.call(this,ve)},x=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},w=function(M,W){this.pdf.internal.out(n(M)+" "+r(W)+" m")},k=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var X=this.pdf.getTextDimensions(M.text),ne=te.call(this,M.y),se=V.call(this,ne)-X.h,ce=this.ctx.transform.applyToPoint(new o(M.x,ne)),ve=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var xe,Pe,Me,Ve=this.ctx.transform.applyToRectangle(new a(M.x,ne,X.w,X.h)),_e=me.applyToRectangle(new a(M.x,se,X.w,X.h)),Q=R.call(this,_e),kt=[],St=0;St<Q.length;St+=1)kt.indexOf(Q[St])===-1&&kt.push(Q[St]);if(P(kt),this.autoPaging)for(var it=kt[0],Re=kt[kt.length-1],Ye=it;Ye<Re+1;Ye++){this.pdf.setPage(Ye);var je=Ye===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],Mt=Ze-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],Xe=_t-this.margin[3],Et=Ye===1?0:At+(Ye-2)*Mt;if(this.ctx.clip_path.length!==0){var mt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(xe,this.posX+this.margin[3],-1*Et+je),Y.call(this,"fill",!0),this.path=mt}var et=N([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Et+je+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Me=this.lineWidth,this.lineWidth=Me*M.scale);var lt=this.autoPaging!=="text";if(lt||et.y+et.h<=Ze){if(lt||et.y>=je&&et.x<=_t){var nt=lt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||_t-et.x)[0],Kt=N([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Et+je+this.ctx.prevPageLastElemOffset)[0],Bt=lt&&(Ye>it||Ye<Re)&&I.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Mt,null).clip().discardPath()),this.pdf.text(nt,Kt.x,Kt.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else et.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-et.y);M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Me)}else M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Me=this.lineWidth,this.lineWidth=Me*M.scale),this.pdf.text(M.text,ce.x+this.posX,ce.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Me)},C=function(M,W,X,ne){X=X||0,ne=ne||0,this.pdf.internal.out(n(M+X)+" "+r(W+ne)+" l")},J=function(M,W,X){return this.pdf.lines(M,W,X,null,null)},pe=function(M,W,X,ne,se,ce,ve,me){this.pdf.internal.out([e(i(X+M)),e(s(ne+W)),e(i(se+M)),e(s(ce+W)),e(i(ve+M)),e(s(me+W)),"c"].join(" "))},ye=function(M,W,X,ne){for(var se=2*Math.PI,ce=Math.PI/2;W>X;)W-=se;var ve=Math.abs(X-W);ve<se&&ne&&(ve=se-ve);for(var me=[],xe=ne?-1:1,Pe=W;ve>1e-5;){var Me=Pe+xe*Math.min(ve,ce);me.push(ge.call(this,M,Pe,Me)),ve-=Math.abs(Me-Pe),Pe=Me}return me},ge=function(M,W,X){var ne=(X-W)/2,se=M*Math.cos(ne),ce=M*Math.sin(ne),ve=se,me=-ce,xe=ve*ve+me*me,Pe=xe+ve*se+me*ce,Me=4/3*(Math.sqrt(2*xe*Pe)-Pe)/(ve*ce-me*se),Ve=ve-Me*me,_e=me+Me*ve,Q=Ve,kt=-_e,St=ne+W,it=Math.cos(St),Re=Math.sin(St);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:Ve*it-_e*Re,y2:Ve*Re+_e*it,x3:Q*it-kt*Re,y3:Q*Re+kt*it,x4:M*Math.cos(X),y4:M*Math.sin(X)}},Z=function(M){return 180*M/Math.PI},le=function(M,W,X,ne,se,ce){var ve=M+.5*(X-M),me=W+.5*(ne-W),xe=se+.5*(X-se),Pe=ce+.5*(ne-ce),Me=Math.min(M,se,ve,xe),Ve=Math.max(M,se,ve,xe),_e=Math.min(W,ce,me,Pe),Q=Math.max(W,ce,me,Pe);return new a(Me,_e,Ve-Me,Q-_e)},be=function(M,W,X,ne,se,ce,ve,me){var xe,Pe,Me,Ve,_e,Q,kt,St,it,Re,Ye,je,At,Ze,Mt=X-M,_t=ne-W,Xe=se-X,Et=ce-ne,mt=ve-se,et=me-ce;for(Pe=0;Pe<41;Pe++)it=(kt=(Me=M+(xe=Pe/40)*Mt)+xe*((_e=X+xe*Xe)-Me))+xe*(_e+xe*(se+xe*mt-_e)-kt),Re=(St=(Ve=W+xe*_t)+xe*((Q=ne+xe*Et)-Ve))+xe*(Q+xe*(ce+xe*et-Q)-St),Pe==0?(Ye=it,je=Re,At=it,Ze=Re):(Ye=Math.min(Ye,it),je=Math.min(je,Re),At=Math.max(At,it),Ze=Math.max(Ze,Re));return new a(Math.round(Ye),Math.round(je),Math.round(At-Ye),Math.round(Ze-je))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,X=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Je.API),function(t){var e=function(o){var a,l,u,f,m,v,p,A,I,R;for(l=[],u=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(m=((m=((m=((m=(m-(R=m%85))/85)-(I=m%85))/85)-(A=m%85))/85)-(p=m%85))/85)%85,l.push(v+33,p+33,A+33,I+33,R+33)):l.push(122);return function(b,N){for(var P=N;P>0;P--)b.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,f,m,v=String,p="length",A=255,I="charCodeAt",R="slice",b="replace";for(o[R](-2),o=o[R](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],f=0,m=(o+=a="uuuuu"[R](o[p]%5||5))[p];m>f;f+=5)l=52200625*(o[I](f)-33)+614125*(o[I](f+1)-33)+7225*(o[I](f+2)-33)+85*(o[I](f+3)-33)+(o[I](f+4)-33),u.push(A&l>>24,A&l>>16,A&l>>8,A&l);return function(N,P){for(var F=P;F>0;F--)N.pop()}(u,a[p]),v.fromCharCode.apply(v,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=w1(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Je.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,f){var m=new XMLHttpRequest,v=0,p=function(A){var I=A.length,R=[],b=String.fromCharCode;for(v=0;v<I;v+=1)R.push(b(255&A.charCodeAt(v)));return R.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Je.API),function(t){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):Tg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):Tg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=on(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(a(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return(f=f.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var A=f[p],I=A.src.find(function(R){return R.format==="truetype"});I&&u.addFont(I.url,A.ref.name,A.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||Je.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,m).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=u.call(m,a,l);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Je.getPageSize=function(a,l,u){if(on(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var m,v=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var A,I=0,R=0;if(p.hasOwnProperty(v))I=p[v][1]/m,R=p[v][0]/m;else try{I=u[1],R=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",R>I&&(A=R,R=I,I=A);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",I>R&&(A=R,R=I,I=A)}return{width:R,height:I,unit:l,k:m,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Wg):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(Je.API),Je.API.addJS=function(t){return Bw=t,this.internal.events.subscribe("postPutResources",function(){md=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(md+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Uw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Bw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){md!==void 0&&Uw!==void 0&&this.internal.out("/Names <</JavaScript "+md+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=n.internal.newObject();f.push(m);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Je.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),A=m.length,I={width:0,height:0,numcomponents:1},R=4;R<A;R+=2){if(R+=p,e.indexOf(m.charCodeAt(R+1))!==-1){v=256*m.charCodeAt(R+5)+m.charCodeAt(R+6),I={width:256*m.charCodeAt(R+7)+m.charCodeAt(R+8),height:v,numcomponents:m.charCodeAt(R+9)};break}p=256*m.charCodeAt(R+2)+m.charCodeAt(R+3)}return I}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(Je.API),Je.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=yD(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(E){for(var x=E.width,L=E.height,w=E.data,k=E.palette,C=E.depth,J=!1,pe=[],ye=[],ge=void 0,Z=!1,le=0,be=0;be<k.length;be++){var we=W_(k[be],4),M=we[0],W=we[1],X=we[2],ne=we[3];pe.push(M,W,X),ne!=null&&(ne===0?(le++,ye.length<1&&ye.push(be)):ne<255&&(Z=!0))}if(Z||le>1){J=!0,ye=void 0;var se=x*L;ge=new Uint8Array(se);for(var ce=new DataView(w.buffer),ve=0;ve<se;ve++){var me=Gg(ce,ve,C),xe=W_(k[me],4)[3];ge[ve]=xe}}else le===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:w,alphaBytes:ge,needSMask:J,palette:pe,mask:ye}}(s):l===2||l===4?function(E){for(var x=E.data,L=E.width,w=E.height,k=E.channels,C=E.depth,J=k===2?"DeviceGray":"DeviceRGB",pe=k-1,ye=L*w,ge=pe,Z=ye*ge,le=1*ye,be=Math.ceil(Z*C/8),we=Math.ceil(le*C/8),M=new Uint8Array(be),W=new Uint8Array(we),X=new DataView(x.buffer),ne=new DataView(M.buffer),se=new DataView(W.buffer),ce=!1,ve=0;ve<ye;ve++){for(var me=ve*k,xe=0;xe<ge;xe++)Yw(ne,Gg(X,me+xe,C),ve*ge+xe,C);var Pe=Gg(X,me+ge,C);Pe<(1<<C)-1&&(ce=!0),Yw(se,Pe,1*ve,C)}return{colorSpace:J,colorsPerPixel:pe,sMaskBitsPerComponent:ce?C:void 0,colorBytes:M,alphaBytes:W,needSMask:ce}}(s):function(E){var x=E.data,L=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:x instanceof Uint16Array?function(w){for(var k=w.length,C=new Uint8Array(2*k),J=new DataView(C.buffer,C.byteOffset,C.byteLength),pe=0;pe<k;pe++)J.setUint16(2*pe,w[pe],!1);return C}(x):x,needSMask:!1}}(s);var m,v,p,A=i,I=A.colorSpace,R=A.colorsPerPixel,b=A.sMaskBitsPerComponent,N=A.colorBytes,P=A.alphaBytes,F=A.needSMask,Y=A.palette,te=A.mask,V=null;return r!==Je.API.image_compression.NONE&&typeof w1=="function"?(V=function(E){var x;switch(E){case Je.API.image_compression.FAST:x=11;break;case Je.API.image_compression.MEDIUM:x=13;break;case Je.API.image_compression.SLOW:x=14;break;default:x=12}return x}(r),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(V," /Colors ").concat(R," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=Ww(N,Math.ceil(o*R*f/8),R,f,r),F&&(p=Ww(P,Math.ceil(o*b/8),1,b,r))):(m=void 0,v=void 0,t=N,F&&(p=P)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:v,transparency:te,palette:Y,sMask:p,predictor:V,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:b,colorSpace:I}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new VD(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},f=new Kg(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(Je.API),ms.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ms.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},ms.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ms.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ms.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ms.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},ms.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},ms.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ms.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ms.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ms(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Kg(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Je.API),Jw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Jw(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Kg(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Je.API),Je.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var f=r[u],m=r[u+1],v=r[u+2],p=r[u+3];s[a++]=f,s[a++]=m,s[a++]=v,o[l++]=p}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Je.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lu=Je.API,gd=lu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,v=0,p=t.length,A=0,I=a[0]||l,R=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=m&&on(u[r])==="object"&&!isNaN(parseInt(u[r][A],10))?u[r][A]/f:0,R.push((a[r]||I)/l+v)),A=r;return R},zw=lu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lu.processArabic&&(t=lu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:gd.apply(this,arguments).reduce(function(s,o){return s+o},0)},qw=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Hw=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,f=[],m=[f],v=n.textIndent||0,p=0,A=0,I=t.split(" "),R=gd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),N=[];I.map(function(F){(F=F.split(/\s*\n/)).length>1?N=N.concat(F.map(function(Y,te){return(te&&Y.length?`
`:"")+Y})):N.push(F[0])}),I=N,l=zw.apply(this,[b,n])}for(s=0,o=I.length;s<o;s++){var P=0;if(r=I[s],l&&r[0]==`
`&&(r=r.substr(1),P=1),v+p+(A=(i=gd.apply(this,[r,n])).reduce(function(F,Y){return F+Y},0))>e||P){if(A>e){for(a=qw.apply(this,[r,i,e-(v+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)m.push([a.shift()]);A=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(F,Y){return F+Y},0)}else f=[r];m.push(f),v=A+l,p=R}else f.push(r),v+=p+A,p=R}return u=l?function(F,Y){return(Y?b:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(u)},lu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(Hw.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var p,A,I,R,b=["{"];for(var N in v){if(p=v[N],isNaN(parseInt(N,10))?A="'"+N+"'":(N=parseInt(N,10),A=(A=o(N).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof p=="number")p<0?(I=o(p).slice(3),R="-"):(I=o(p).slice(2),R=""),I=R+I.slice(0,-1)+i[I.slice(-1)];else{if(on(p)!=="object")throw new Error("Don't know what to do with value type "+on(p)+".");I=a(p)}b.push(A+I)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,A,I,R,b={},N=1,P=b,F=[],Y="",te="",V=v.length-1,E=1;E<V;E+=1)(R=v[E])=="'"?p?(I=p.join(""),p=void 0):p=[]:p?p.push(R):R=="{"?(F.push([P,I]),P={},I=void 0):R=="}"?((A=F.pop())[0][A[1]]=P,I=void 0,P=A[0]):R=="-"?N=-1:I===void 0?r.hasOwnProperty(R)?(Y+=r[R],I=parseInt(Y,16)*N,N=1,Y=""):Y+=R:r.hasOwnProperty(R)?(te+=r[R],P[I]=parseInt(te,16)*N,N=1,I=void 0,te=""):te+=R;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var p=v.font,A=m.Unicode[p.postScriptName];A&&(p.metadata.Unicode={},p.metadata.Unicode.widths=A.widths,p.metadata.Unicode.kerning=A.kerning);var I=f.Unicode[p.postScriptName];I&&(p.metadata.Unicode.encoding=I,p.encoding=I.codePages[0])}])}(Je.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Vd(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Je),Je.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(yt.canvg?Promise.resolve(yt.canvg):Tg(()=>import("./index.es-CKRaETHC.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},Je.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Je.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,f=0,m=0;function v(A,I){var R,b=!1;for(R=0;R<A.length;R+=1)A[R]===I&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(m=0;m<p;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(on(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,I=[];for(A in n)n[A].explicitSet===!0&&(n[A].type==="name"?I.push("/"+A+" /"+n[A].value):I.push("/"+A+" "+n[A].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Je.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,v=s.length;m<v;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(u[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,u,f,m,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,v=(a=Object.keys(s).sort(function(p,A){return p-A})).length;m<v;m++)o=a[m],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",A=0;A<v.length;A++)p+=String.fromCharCode(v[A]);var I=u();f({data:p,addLength1:!0,objectId:I}),l("endobj");var R=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),l("endobj");var b=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+du(a.fontName)),l("/FontFile2 "+I+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var N=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+du(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+R+" 0 R"),l("/BaseFont /"+du(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var A=u();f({data:v,addLength1:!0,objectId:A}),l("endobj");var I=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var R=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+du(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+du(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,f=s.options||{},m=s.mutex||{},v=m.pdfEscape,p=m.activeFontKey,A=m.fonts,I=p,R="",b=0,N="",P=A[I].encoding;if(A[I].encoding!=="Identity-H")return{text:a,x:l,y:u,options:f,mutex:m};for(N=a,I=p,Array.isArray(a)&&(N=a[0]),b=0;b<N.length;b+=1)A[I].metadata.hasOwnProperty("cmap")&&(o=A[I].metadata.cmap.unicode.codeMap[N[b].charCodeAt(0)]),o||N[b].charCodeAt(0)<256&&A[I].metadata.hasOwnProperty("Unicode")?R+=N[b]:R+="";var F="";return parseInt(I.slice(1))<14||P==="WinAnsiEncoding"?F=v(R,I).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(F=n(R,A[I])),m.isHex=!0,{text:F,x:l,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Je),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Je.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,f,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,P=0;this.__bidiEngine__={};var F=function(w){var k=w.charCodeAt(),C=k>>8,J=I[C];return J!==void 0?m[256*J+(255&k)]:C===252||C===253?"AL":b.test(C)?"L":C===8?"R":"N"},Y=function(w){for(var k,C=0;C<w.length;C++){if((k=F(w.charAt(C)))==="L")return!1;if(k==="R")return!0}return!1},te=function(w,k,C,J){var pe,ye,ge,Z,le=k[J];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(le="AN");break;case"AL":N=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":J<1||J+1>=k.length||(pe=C[J-1])!=="EN"&&pe!=="AN"||(ye=k[J+1])!=="EN"&&ye!=="AN"?le="N":N&&(ye="AN"),le=ye===pe?ye:"N";break;case"ES":le=(pe=J>0?C[J-1]:"B")==="EN"&&J+1<k.length&&k[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&C[J-1]==="EN"){le="EN";break}if(N){le="N";break}for(ge=J+1,Z=k.length;ge<Z&&k[ge]==="ET";)ge++;le=ge<Z&&k[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=k.length,ge=J+1;ge<Z&&k[ge]==="NSM";)ge++;if(ge<Z){var be=w[J],we=be>=1425&&be<=2303||be===64286;if(pe=k[ge],we&&(pe==="R"||pe==="AL")){le="R";break}}}le=J<1||(pe=k[J-1])==="B"?"N":C[J-1];break;case"B":N=!1,i=!0,le=P;break;case"S":s=!0,le="N"}return le},V=function(w,k,C){var J=w.split("");return C&&E(J,C,{hiLevel:P}),J.reverse(),k&&k.reverse(),J.join("")},E=function(w,k,C){var J,pe,ye,ge,Z,le=-1,be=w.length,we=0,M=[],W=P?p:v,X=[];for(N=!1,i=!1,s=!1,pe=0;pe<be;pe++)X[pe]=F(w[pe]);for(ye=0;ye<be;ye++){if(Z=we,M[ye]=te(w,X,M,ye),J=240&(we=W[Z][A[M[ye]]]),we&=15,k[ye]=ge=W[we][5],J>0)if(J===16){for(pe=le;pe<ye;pe++)k[pe]=1;le=-1}else le=-1;if(W[we][6])le===-1&&(le=ye);else if(le>-1){for(pe=le;pe<ye;pe++)k[pe]=ge;le=-1}X[ye]==="B"&&(k[ye]=0),C.hiLevel|=ge}s&&function(ne,se,ce){for(var ve=0;ve<ce;ve++)if(ne[ve]==="S"){se[ve]=P;for(var me=ve-1;me>=0&&ne[me]==="WS";me--)se[me]=P}}(X,k,be)},x=function(w,k,C,J,pe){if(!(pe.hiLevel<w)){if(w===1&&P===1&&!i)return k.reverse(),void(C&&C.reverse());for(var ye,ge,Z,le,be=k.length,we=0;we<be;){if(J[we]>=w){for(Z=we+1;Z<be&&J[Z]>=w;)Z++;for(le=we,ge=Z-1;le<ge;le++,ge--)ye=k[le],k[le]=k[ge],k[ge]=ye,C&&(ye=C[le],C[le]=C[ge],C[ge]=ye);we=Z}we++}}},L=function(w,k,C){var J=w.split(""),pe={hiLevel:P};return C||(C=[]),E(J,C,pe),function(ye,ge,Z){if(Z.hiLevel!==0&&f)for(var le,be=0;be<ye.length;be++)ge[be]===1&&(le=R.indexOf(ye[be]))>=0&&(ye[be]=R[le+1])}(J,C,pe),x(2,J,k,C,pe),x(1,J,k,C,pe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(w,k,C){if(function(pe,ye){if(ye)for(var ge=0;ge<pe.length;ge++)ye[ge]=ge;a===void 0&&(a=Y(pe)),u===void 0&&(u=Y(pe))}(w,k),o||!l||u)if(o&&l&&a^u)P=a?1:0,w=V(w,k,C);else if(!o&&l&&u)P=a?1:0,w=L(w,k,C),w=V(w,k);else if(!o||a||l||u){if(o&&!l&&a^u)w=V(w,k),a?(P=0,w=L(w,k,C)):(P=1,w=L(w,k,C),w=V(w,k));else if(o&&a&&!l&&u)P=1,w=L(w,k,C),w=V(w,k);else if(!o&&!l&&a^u){var J=f;a?(P=1,w=L(w,k,C),P=0,f=!1,w=L(w,k,C),f=J):(P=0,w=L(w,k,C),w=V(w,k),P=1,f=!1,w=L(w,k,C),f=J,w=V(w,k))}}else P=0,w=L(w,k,C);else P=a?1:0,w=L(w,k,C);return w},this.__bidiEngine__.setOptions=function(w){w&&(o=w.isInputVisual,l=w.isOutputVisual,a=w.isInputRtl,u=w.isOutputRtl,f=w.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Je),Je.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ka(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new eO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new UD(this.contents),this.head=new zD(this),this.name=new GD(this),this.cmap=new LE(this),this.toUnicode={},this.hhea=new qD(this),this.maxp=new KD(this),this.hmtx=new QD(this),this.post=new WD(this),this.os2=new HD(this),this.loca=new ZD(this),this.glyf=new YD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ts,Ka=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),UD=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,f,m,v,p,A,I;for(I in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),o=Math.floor(m/l),f=16*p-m,(i=new Ka).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(f),s=16*p,u=i.pos+s,a=null,A=[],n)for(v=n[I],i.writeString(I),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),A=A.concat(v),I==="head"&&(a=u),u+=v.length;u%4;)A.push(0),u++;return i.write(A),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=RE.call(n);n.length%4;)n.push(0);for(s=new Ka(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),BD={}.hasOwnProperty,no=function(t,e){for(var n in e)BD.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ts=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var zD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Ka).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Zw=function(){function t(e,n){var r,i,s,o,a,l,u,f,m,v,p,A,I,R,b,N,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var F,Y;for(Y=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)Y.push(e.readUInt16());return Y}(),e.pos+=2,I=function(){var F,Y;for(Y=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)Y.push(e.readUInt16());return Y}(),u=function(){var F,Y;for(Y=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)Y.push(e.readUInt16());return Y}(),f=function(){var F,Y;for(Y=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)Y.push(e.readUInt16());return Y}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,Y;for(Y=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)Y.push(e.readUInt16());return Y}(),l=b=0,P=s.length;b<P;l=++b)for(R=s[l],r=N=A=I[l];A<=R?N<=R:N>=R;r=A<=R?++N:--N)f[l]===0?o=r+u[l]:(o=a[f[l]/2+(r-A)-(v-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=m}return t.encode=function(e,n){var r,i,s,o,a,l,u,f,m,v,p,A,I,R,b,N,P,F,Y,te,V,E,x,L,w,k,C,J,pe,ye,ge,Z,le,be,we,M,W,X,ne,se,ce,ve,me,xe,Pe,Me;switch(J=new Ka,o=Object.keys(e).sort(function(Ve,_e){return Ve-_e}),n){case"macroman":for(I=0,R=function(){var Ve=[];for(A=0;A<256;++A)Ve.push(0);return Ve}(),N={0:0},s={},pe=0,le=o.length;pe<le;pe++)N[me=e[i=o[pe]]]==null&&(N[me]=++I),s[i]={old:e[i],new:N[e[i]]},R[i]=N[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(R),{charMap:s,subtable:J.data,maxGlyphID:I+1};case"unicode":for(k=[],m=[],P=0,N={},r={},b=u=null,ye=0,be=o.length;ye<be;ye++)N[Y=e[i=o[ye]]]==null&&(N[Y]=++P),r[i]={old:Y,new:N[Y]},a=N[Y]-i,b!=null&&a===u||(b&&m.push(b),k.push(i),u=a),b=i;for(b&&m.push(b),m.push(65535),k.push(65535),L=2*(x=k.length),E=2*Math.pow(Math.log(x)/Math.LN2,2),v=Math.log(E/2)/Math.LN2,V=2*x-E,l=[],te=[],p=[],A=ge=0,we=k.length;ge<we;A=++ge){if(w=k[A],f=m[A],w===65535){l.push(0),te.push(0);break}if(w-(C=r[w].new)>=32768)for(l.push(0),te.push(2*(p.length+x-A)),i=Z=w;w<=f?Z<=f:Z>=f;i=w<=f?++Z:--Z)p.push(r[i].new);else l.push(C-w),te.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*x+2*p.length),J.writeUInt16(0),J.writeUInt16(L),J.writeUInt16(E),J.writeUInt16(v),J.writeUInt16(V),ce=0,M=m.length;ce<M;ce++)i=m[ce],J.writeUInt16(i);for(J.writeUInt16(0),ve=0,W=k.length;ve<W;ve++)i=k[ve],J.writeUInt16(i);for(xe=0,X=l.length;xe<X;xe++)a=l[xe],J.writeUInt16(a);for(Pe=0,ne=te.length;Pe<ne;Pe++)F=te[Pe],J.writeUInt16(F);for(Me=0,se=p.length;Me<se;Me++)I=p[Me],J.writeUInt16(I);return{charMap:r,subtable:J.data,maxGlyphID:P+1}}},t}(),LE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Zw(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Zw.encode(e,n),(i=new Ka).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),qD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),HD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),WD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),$D=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},GD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,f,m,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=f=0,m=r.length;f<m;s=++f)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new $D(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),KD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),QD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,m,v;for(v=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),RE=[].slice,YD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Ka(n.read(i))).readShort(),u=a.readShort(),m=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new JD(a,u,m,l,f):new XD(a,o,u,m,l,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),XD=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),JD=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ka(RE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),ZD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ts),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),eO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,f,m,v,p,A,I,R,b;for(i in r=LE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},b=r.charMap)p[(l=b[i]).old]=l.new;for(A in v=r.maxGlyphID,o)A in p||(p[A]=v++);return f=function(N){var P,F;for(P in F={},N)F[N[P]]=P;return F}(p),m=Object.keys(f).sort(function(N,P){return N-P}),I=function(){var N,P,F;for(F=[],N=0,P=m.length;N<P;N++)a=m[N],F.push(f[a]);return F}(),s=this.font.glyf.encode(o,I,p),u=this.font.loca.encode(s.offsets,I),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t}();Je.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function DE(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,f=/\r\n|\r|\n/g,m="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof t=="string"?t.split(f):t,v=m.length||1),n+=a*(2-s),r.valign==="middle"?n-=v/2*u:r.valign==="bottom"&&(n-=v*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),m&&v>=1){for(var A=0;A<m.length;A++)i.text(m[A],e-i.getStringUnitWidth(m[A])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var eb={},qu=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:eb=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return eb||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),N1=function(t,e){return N1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},N1(t,e)};function OE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");N1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var FE=function(t){OE(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function tO(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function nO(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Mp(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function ME(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=jE(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function jE(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function xm(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function VE(t,e){var n=xm(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function rO(t,e,n,r,i){var s={},o=1.3333333333333333,a=Qg(e,function(P){return i.getComputedStyle(P).backgroundColor});a!=null&&(s.fillColor=a);var l=Qg(e,function(P){return i.getComputedStyle(P).color});l!=null&&(s.textColor=l);var u=sO(r,n);u&&(s.cellPadding=u);var f="borderTopColor",m=o*n,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var p=(parseFloat(v)||0)/m;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var A=Qg(e,function(P){return i.getComputedStyle(P)[f]});A!=null&&(s.lineColor=A);var I=["left","right","center","justify"];I.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),I=["middle","bottom","top"],I.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var R=parseInt(r.fontSize||"");isNaN(R)||(s.fontSize=R/o);var b=iO(r);b&&(s.fontStyle=b);var N=(r.fontFamily||"").toLowerCase();return t.indexOf(N)!==-1&&(s.font=N),s}function iO(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Qg(t,e){var n=UE(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function UE(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:UE(t.parentElement,e):n}function sO(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=xm(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function BE(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],m=[],v=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:v};for(var p=0;p<a.rows.length;p++){var A=a.rows[p],I=(o=(s=A==null?void 0:A.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),R=oO(l,u,n,A,r,i);R&&(I==="thead"?f.push(R):I==="tfoot"?v.push(R):m.push(R))}return{head:f,body:m,foot:v}}function oO(t,e,n,r,i,s){for(var o=new FE(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=rO(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:aO(l)})}}var m=n.getComputedStyle(r);if(o.length>0&&(i||m.display!=="none"))return o}function aO(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function lO(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ko(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function zE(t,e){var n=new qu(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();lO(i,r,e);var s=ko({},i,r,e),o;typeof window<"u"&&(o=window);var a=uO(i,r,e),l=cO(i,r,e),u=hO(n,s),f=dO(n,s,o);return{id:e.tableId,content:f,hooks:l,styles:a,settings:u}}function uO(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],m=n[l];r.columnStyles=ko({},u,f,m)}else{var v=[t,e,n],p=v.map(function(A){return A[l]||{}});r[l]=ko({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function cO(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function hO(t,e){var n,r,i,s,o,a,l,u,f,m,v,p,A=xm(e.margin,40/t.scaleFactor()),I=(n=fO(t,e.startY))!==null&&n!==void 0?n:A.top,R;e.showFoot===!0?R="everyPage":e.showFoot===!1?R="never":R=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var N=(s=e.useCss)!==null&&s!==void 0?s:!1,P=e.theme||(N?"plain":"striped"),F=!!e.horizontalPageBreak,Y=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:N,theme:P,startY:I,margin:A,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:b,showFoot:R,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:F,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function fO(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function dO(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=BE(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||pO(r,i,s);return{columns:l,head:r,body:i,foot:s}}function pO(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var k1=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),mO=function(t){OE(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(k1),gO=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],f=new mO(e,this,r,i,s,o),m=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new k1(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new k1(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),qE=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof FE&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),HE=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=xm(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),vO=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function yO(t,e){_O(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=P1(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=P1(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),bO(e),SO(e,t),wO(e)}function _O(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=VE(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,l,null);var m=u.padding("horizontal");u.contentWidth=Mp(u.text,u.styles,t)+m;var v=Mp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(l.minWidth=m,l.wrappedWidth=m)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function P1(t,e,n){for(var r=e,i=t.reduce(function(p,A){return p+A.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,f=n(o),m=u<f?f:u;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(p){return e<0?p.width>n(p):!0});v.length&&(e=P1(v,e,n))}return e}function wO(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var m=r.length-i,v=f.rowSpan>m?m:f.rowSpan;e[l.index]={cell:f,left:v,row:s}}}}}function bO(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function SO(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=tb(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=tb(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,f);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<v*u.rowSpan?n={height:v,count:u.rowSpan}:n&&n.count>0&&n.height>v&&(v=n.height),v>s.height&&(s.height=v)}}n.count--}}function tb(t,e,n,r,i){return t.map(function(s){return AO(s,e,n,r,i)})}function AO(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Mp(t,n,r))return t;for(;e<Mp(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function WE(t,e){var n=new qu(t),r=EO(e,n.scaleFactor()),i=new gO(e,r);return yO(n,i),n.applyStyles(n.userStyles),i}function EO(t,e){var n=t.content,r=IO(n.columns);if(n.head.length===0){var i=nb(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=nb(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:Yg("head",n.head,r,o,s,e),body:Yg("body",n.body,r,o,s,e),foot:Yg("foot",n.foot,r,o,s,e)}}function Yg(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var f=0,m={},v=0,p=0,A=0,I=n;A<I.length;A++){var R=I[A];if(o[R.index]==null||o[R.index].left===0)if(p===0){var b=void 0;Array.isArray(l)?b=l[R.index-v-f]:b=l[R.dataKey];var N={};typeof b=="object"&&!Array.isArray(b)&&(N=(b==null?void 0:b.styles)||{});var P=TO(t,R,u,i,r,s,N),F=new HE(b,P,t);m[R.dataKey]=F,m[R.index]=F,p=F.colSpan-1,o[R.index]={left:F.rowSpan-1,times:p}}else p--,v++;else o[R.index].left--,p=o[R.index].times,f++}return new qE(l,u,t,m)});return a}function nb(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=xO(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function xO(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function IO(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new vO(i,e,n)})}function TO(t,e,n,r,i,s,o){var a=nO(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=ko({},a.table,a[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?f:{},v=t==="body"&&n%2===0?ko({},a.alternateRow,i.alternateRowStyles):{},p=tO(s),A=ko({},p,u,v,m);return ko(A,o)}function NO(t,e,n){var r;n===void 0&&(n={});var i=VE(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var p=e.columns.find(function(A){return A.dataKey===v||A.index===v});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(u||i>=m)u=!1,o.push(f),a.push(e.columns[f]),i-=m;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function kO(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=NO(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function $E(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(v,p){return v+p.height},0);a+=u}var f=new qu(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&(KE(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var m=ko({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?PO(f,e,m,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(v){return Uo(f,e,v,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(v,p){var A=p===e.body.length-1;jp(f,e,v,A,m,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(v){return Uo(f,e,v,s,e.columns)})),ME(f,e,m,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function PO(t,e,n,r){var i=kO(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Ah(t,e,n,r,u.columns,!0):rb(t,e,r,u.columns),CO(t,e,n,r,u.columns),Xg(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?Ah(t,e,n,r,f,!0):rb(t,e,r,f),u=ib(t,e,o+1,r,f),Xg(t,e,r,f)}var m=u-o;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),Ah(t,e,n,r,v.columns,!0),ib(t,e,o+1,r,v.columns,m),Xg(t,e,r,v.columns)}),o=u};o<e.body.length-1;)l()}function rb(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Uo(t,e,s,n,r)})}function CO(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;jp(t,e,s,a,n,r,i)})}function ib(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var f=n+u===e.body.length-1,m=GE(t,e,f,r);l.canEntireRowFit(m,i)&&(Uo(t,e,l,r,i),a=n+u)}),a}function Xg(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Uo(t,e,s,n,r)})}function LO(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function RO(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new HE(u.raw,u.styles,u.section);f=ko(f,u),f.text=[];var m=LO(u,e,r);u.text.length>m&&(f.text=u.text.splice(m,u.text.length));var v=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(v,p),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var A=new qE(t.raw,-1,t.section,i,!0);A.height=s;for(var I=0,R=n.columns;I<R.length;I++){var l=R[I],f=A.cells[l.index];f&&(f.height=A.height);var u=t.cells[l.index];u&&(u.height=t.height)}return A}function DO(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>a;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function jp(t,e,n,r,i,s,o){var a=GE(t,e,r,s);if(n.canEntireRowFit(a,o))Uo(t,e,n,s,o);else if(DO(t,n,a,e)){var l=RO(n,a,e,t);Uo(t,e,n,s,o),Ah(t,e,i,s,o),jp(t,e,l,r,i,s,o)}else Ah(t,e,i,s,o),jp(t,e,n,r,i,s,o)}function Uo(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}OO(t,l,r);var f=l.getTextPos();DE(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function OO(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=jE(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),FO(t,e,n,r.lineWidth))}function FO(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,f,m,v,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,m,v,p,"S")}}function GE(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Ah(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Uo(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;ME(t,e,n,r),KE(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Uo(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function KE(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function MO(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=zE(this,r),s=WE(this,i);return $E(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){DE(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return qu.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){qu.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new qu(this),s=BE(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Jg;function QE(t,e){var n=zE(t,e),r=WE(t,n);$E(t,r)}try{if(typeof window<"u"&&window){var sb=window,ob=sb.jsPDF||((Jg=sb.jspdf)===null||Jg===void 0?void 0:Jg.jsPDF);ob&&MO(ob)}}catch(t){console.error("Could not apply autoTable plugin",t)}function jO({shooters:t,scores:e,competitions:n}){const[r,i]=ht.useState(n.length>0?n[0].id:"");ht.useEffect(()=>{n.length>0&&!r&&i(n[0].id)},[n,r]);const s=n.find(v=>v.id===r),o=(s==null?void 0:s.skiljemal)||[1,2,3],a=Array.from(new Set(e.filter(v=>v.competitionId===r).map(v=>v.station))).sort((v,p)=>v-p),l=["ppen","dam","veteran","ungdom","junior med std"],u={};t.forEach(v=>{const p=e.filter(b=>b.shooterId===v.id&&b.competitionId===r),A={},I={};p.forEach(b=>{A[b.station]=(A[b.station]||0)+b.total;const N=b.shots?b.shots.filter(P=>P.femetta&&(P.value===5||P.value===10)).length:b.femettor||0;I[b.station]=(I[b.station]||0)+N});const R=Object.values(A).reduce((b,N)=>b+N,0);u[v.klass]||(u[v.klass]=[]),u[v.klass].push({...v,total:R,stationTotals:A,stationFemettors:I})});function f(v,p){var A,I,R,b;if(p.total!==v.total)return p.total-v.total;for(const N of o){const P=((A=v.stationTotals)==null?void 0:A[N])||0,F=((I=p.stationTotals)==null?void 0:I[N])||0;if(F!==P)return F-P}for(const N of o){const P=((R=v.stationFemettors)==null?void 0:R[N])||0,F=((b=p.stationFemettors)==null?void 0:b[N])||0;if(F!==P)return F-P}return 0}l.forEach(v=>{var p;return(p=u[v])==null?void 0:p.sort(f)});const m=()=>{const v=new Je({orientation:"portrait",unit:"mm",format:"a4"});v.setFontSize(16),v.text("Resultatlista",105,20,{align:"center"}),v.setFontSize(13),v.text((s==null?void 0:s.name)||"",105,28,{align:"center"}),v.setFontSize(11),v.text(`Skiljeml: ${o.map((A,I)=>`Skilje ${I+1}: St ${A}`).join(", ")}`,60,36);let p=42;l.forEach(A=>{var N;const I=[];u[A]&&u[A].length>0?u[A].forEach((P,F)=>{I.push([`${F+1}`,P.name,P.club,...a.map(Y=>String(P.stationTotals[Y]||0)),...o.map(Y=>`${P.stationTotals[Y]||0}/${P.stationFemettors[Y]||0}`),String(P.total)])}):I.push(["Inga deltagare"]);const R=[["Plats","Skytt","Ort",...a.map(P=>"St "+P),...o.map((P,F)=>`Skilje ${F+1}`),"Summa"]],b=QE(v,{startY:p,head:R,body:I,theme:"grid",styles:{fontSize:8,cellPadding:2,halign:"left",valign:"middle"},headStyles:{fontSize:9,fillColor:[71,85,105],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:10,right:10},didDrawPage:P=>{v.setFontSize(12),v.text(A,10,P.settings.startY-4)}});p=((b==null?void 0:b.finalY)??((N=v.lastAutoTable)==null?void 0:N.finalY)??p)+10}),v.save(`resultatlista_${(s==null?void 0:s.name)||""}.pdf`)};return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(BA,{className:"w-6 h-6"}),"Resultatlista"]}),H.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center bg-primary-50 p-4 rounded-lg border border-primary-200",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("label",{className:"text-sm font-medium text-primary-700",children:"Vlj deltvling:"}),H.jsx("select",{value:r,onChange:v=>i(v.target.value),className:"border border-primary-300 p-2 rounded-lg min-w-[180px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:n.map(v=>H.jsx("option",{value:v.id,children:v.name},v.id))})]}),H.jsxs("span",{className:"text-primary-700 text-sm font-medium",children:["Skiljeml: ",o.map(v=>`St ${v}`).join(", ")]}),H.jsx("button",{onClick:m,className:"bg-primary-700 hover:bg-primary-800 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-colors ml-auto",children:"Exportera som PDF"})]}),l.map(v=>H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"text-lg font-semibold mb-4 capitalize text-primary-800 bg-primary-100 px-3 py-2 rounded-lg",children:v}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs("table",{className:"min-w-full border border-primary-200 rounded-lg text-sm bg-white",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-primary-100 border-b border-primary-200",children:[H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Plats"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Skytt"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Ort"}),a.map(p=>H.jsxs("th",{className:"p-3 text-left font-medium text-primary-800",children:["St ",p]},p)),o.map((p,A)=>H.jsxs("th",{className:"p-3 text-left font-medium text-primary-800",children:["Skilje ",A+1]},"skilje"+p)),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Summa"})]})}),H.jsx("tbody",{children:(u[v]||[]).length===0?H.jsx("tr",{children:H.jsx("td",{className:"p-3 text-primary-500",colSpan:4+a.length+o.length,children:"Inga deltagare"})}):u[v].map((p,A)=>H.jsxs("tr",{className:"border-b border-primary-100 hover:bg-primary-50 transition-colors",children:[H.jsxs("td",{className:"p-3 font-medium",children:[A+1,A===0&&H.jsx("span",{className:"ml-2 text-amber-500",children:H.jsx(wh,{className:"w-4 h-4 inline"})}),A===1&&H.jsx("span",{className:"ml-2 text-primary-400",children:H.jsx(wh,{className:"w-4 h-4 inline"})}),A===2&&H.jsx("span",{className:"ml-2 text-amber-600",children:H.jsx(wh,{className:"w-4 h-4 inline"})})]}),H.jsx("td",{className:"p-3 font-medium text-primary-800",children:p.name}),H.jsx("td",{className:"p-3 text-primary-600",children:p.club}),a.map(I=>H.jsx("td",{className:"p-3 font-mono text-primary-700",children:p.stationTotals[I]||0},I)),o.map((I,R)=>H.jsx("td",{className:"p-3 font-mono text-primary-700 font-medium",children:(p.stationTotals[I]||0)+"/"+(p.stationFemettors[I]||0)},"skilje"+I)),H.jsx("td",{className:"p-3 font-bold text-primary-800",children:p.total})]},p.id))})]})})]},v))]})}function VO({shooters:t,scores:e,competitions:n}){const r=["ppen","dam","veteran","ungdom","junior med std"],i={};n.forEach(a=>{i[a.id]={};const l=a.skiljemal||[1,2,3];r.forEach(u=>{const m=t.filter(A=>A.klass===u).map(A=>{const I=e.filter(P=>P.shooterId===A.id&&P.competitionId===a.id);if(I.length===0)return{...A,total:-1,stationTotals:{},stationFemettors:{},participated:!1};const R={},b={};I.forEach(P=>{R[P.station]=(R[P.station]||0)+P.total;const F=P.shots?P.shots.filter(Y=>Y.femetta&&(Y.value===5||Y.value===10)).length:P.femettor||0;b[P.station]=(b[P.station]||0)+F});const N=Object.values(R).reduce((P,F)=>P+F,0);return{...A,total:N,stationTotals:R,stationFemettors:b,participated:!0}}).filter(A=>A.participated);function v(A,I){var R,b,N,P;if(I.total!==A.total)return I.total-A.total;for(const F of l){const Y=((R=A.stationTotals)==null?void 0:R[F])||0,te=((b=I.stationTotals)==null?void 0:b[F])||0;if(te!==Y)return te-Y}for(const F of l){const Y=((N=A.stationFemettors)==null?void 0:N[F])||0,te=((P=I.stationFemettors)==null?void 0:P[F])||0;if(te!==Y)return te-Y}return 0}m.sort(v);let p=1;for(let A=0;A<m.length;A++)A>0&&v(m[A-1],m[A])!==0&&(p=A+1),i[a.id][m[A].id]=p})});const s={};r.forEach(a=>{const u=t.filter(f=>f.klass===a).map(f=>{const m=n.map(I=>{var R;return((R=i[I.id])==null?void 0:R[f.id])||1e3}),A=[...m].sort((I,R)=>I-R).slice(0,5).reduce((I,R)=>I+R,0);return{...f,placements:m,cupTotal:A}}).filter(f=>f.cupTotal<5e3);u.sort((f,m)=>f.cupTotal-m.cupTotal),s[a]=u});const o=()=>{const a=new Je({orientation:"landscape",unit:"mm",format:"a4"});a.setFontSize(16),a.text("Cupresultat",148.5,20,{align:"center"});let l=30;r.forEach(u=>{var f;if(s[u]&&s[u].length>0){l>180&&(a.addPage(),l=20);const m=[["Plats","Skytt","Ort",...n.map(A=>A.name.split(" ").pop()),"Totalpong"]],v=s[u].map((A,I)=>[I+1,A.name,A.club,...A.placements.map(R=>R===1e3?"-":R),A.cupTotal]),p=QE(a,{startY:l,head:m,body:v,theme:"grid",styles:{fontSize:8,cellPadding:2,halign:"left",valign:"middle"},didDrawPage:A=>{a.setFontSize(12),a.text(u.charAt(0).toUpperCase()+u.slice(1),14,A.settings.startY-4)},headStyles:{fontSize:9,fillColor:[71,85,105],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:14,right:14}});l=((p==null?void 0:p.finalY)??((f=a.lastAutoTable)==null?void 0:f.finalY)??l)+10}}),a.save("cupresultat_landbys_cup.pdf")};return H.jsxs("section",{children:[H.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[H.jsxs("h2",{className:"text-xl font-semibold text-primary-800 flex items-center gap-3",children:[H.jsx(wh,{className:"w-6 h-6"}),"Cupresultat"]}),H.jsx("button",{onClick:o,className:"bg-primary-700 hover:bg-primary-800 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-colors",children:"Exportera som PDF"})]}),H.jsxs("p",{className:"text-sm text-primary-600 mb-4 bg-primary-50 p-3 rounded-lg border border-primary-200",children:["Totalpongen baseras p de ",H.jsx("strong",{children:"5 bsta placeringarna"})," av de 7 deltvlingarna. Lgst pong vinner. Skytt som ej deltagit i en deltvling fr 1000 pong och visas som -."]}),r.map(a=>s[a]&&s[a].length>0&&H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"text-lg font-semibold mb-4 capitalize text-primary-800 bg-primary-100 px-3 py-2 rounded-lg",children:a}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs("table",{className:"min-w-full border border-primary-200 rounded-lg text-sm bg-white",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-primary-100 border-b border-primary-200",children:[H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Plats"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Skytt"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Ort"}),n.map(l=>H.jsx("th",{className:"p-3 text-center font-medium text-primary-800",title:l.name,children:l.name.replace("Deltvling","Dt")},l.id)),H.jsx("th",{className:"p-3 text-right font-medium text-primary-800",children:"Totalpong"})]})}),H.jsx("tbody",{children:s[a].map((l,u)=>H.jsxs("tr",{className:"border-b border-primary-200 last:border-0 hover:bg-primary-50",children:[H.jsx("td",{className:"p-3 font-semibold text-primary-800",children:u+1}),H.jsx("td",{className:"p-3 font-medium text-primary-800",children:l.name}),H.jsx("td",{className:"p-3 text-primary-700",children:l.club}),l.placements.map((f,m)=>H.jsx("td",{className:"p-3 text-center text-primary-700",children:f===1e3?"-":f},m)),H.jsx("td",{className:"p-3 text-right font-bold text-primary-800",children:l.cupTotal})]},l.id))})]})})]},a))]})}function UO(){const t=Av(),[e,n]=ht.useState("shooters"),[r,i]=ht.useState(!1),s=t&&(e==="competitions"||e==="scores"||e==="results"||e==="cup"),o=e==="shooters"||t&&(e==="scores"||e==="results"||e==="cup"),a=t&&(e==="scores"||e==="results"||e==="cup"),{data:l,loading:u}=xg("competitions",[d1("date")],s,"competitions"),{data:f,loading:m}=xg("shooters",[d1("startNumber")],o,"shooters"),{data:v,loading:p}=xg("scores",[],a,"scores"),A=s&&u||o&&m||a&&p;return H.jsxs(H.Fragment,{children:[H.jsx(s8,{onLoginClick:()=>i(!0)}),r&&!t&&H.jsx(o8,{onLoginSuccess:()=>i(!1),onClose:()=>i(!1)}),H.jsx("main",{className:"max-w-6xl mx-auto mt-6 px-4 pb-10",children:H.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 md:p-8 mt-6 border border-primary-200",children:A?H.jsxs("div",{className:"flex items-center justify-center py-12",children:[H.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-700"}),H.jsx("span",{className:"ml-3 text-primary-700",children:"Laddar data..."})]}):H.jsxs(H.Fragment,{children:[H.jsxs("nav",{className:"flex flex-wrap gap-2 mb-8 justify-center md:justify-start",children:[H.jsx(Gc,{active:e==="shooters",onClick:()=>n("shooters"),icon:H.jsx(zA,{}),children:"Skyttar"}),t&&H.jsxs(H.Fragment,{children:[H.jsx(Gc,{active:e==="results",onClick:()=>n("results"),icon:H.jsx(BA,{}),children:"Resultatlistor"}),H.jsx(Gc,{active:e==="cup",onClick:()=>n("cup"),icon:H.jsx(wh,{}),children:"Cupresultat"}),H.jsx(Gc,{active:e==="competitions",onClick:()=>n("competitions"),icon:H.jsx(VA,{}),children:"Deltvlingar"}),H.jsx(Gc,{active:e==="scores",onClick:()=>n("scores"),icon:H.jsx(UA,{}),children:"Registrera Pong"})]})]}),e==="shooters"&&H.jsx(l8,{shooters:f,user:t}),t&&H.jsxs(H.Fragment,{children:[e==="competitions"&&H.jsx(a8,{competitions:l,user:t}),e==="scores"&&H.jsx(c8,{shooters:f,competitions:l,scores:v,user:t}),e==="results"&&H.jsx(jO,{shooters:f,scores:v,competitions:l}),e==="cup"&&H.jsx(VO,{shooters:f,scores:v,competitions:l})]})]})})})]})}Zg.createRoot(document.getElementById("root")).render(H.jsx(Xx.StrictMode,{children:H.jsx(UO,{})}));export{on as _,zO as c,Ox as g};
