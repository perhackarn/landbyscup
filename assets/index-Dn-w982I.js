var Ax=Object.defineProperty;var xx=(t,e,n)=>e in t?Ax(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sn=(t,e,n)=>xx(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ix(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rb={exports:{}},Mp={},ib={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),Tx=Symbol.for("react.portal"),Nx=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),Dx=Symbol.for("react.suspense"),Ox=Symbol.for("react.memo"),Fx=Symbol.for("react.lazy"),ay=Symbol.iterator;function Mx(t){return t===null||typeof t!="object"?null:(t=ay&&t[ay]||t["@@iterator"],typeof t=="function"?t:null)}var sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob=Object.assign,ab={};function sc(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||sb}sc.prototype.isReactComponent={};sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lb(){}lb.prototype=sc.prototype;function x1(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||sb}var I1=x1.prototype=new lb;I1.constructor=x1;ob(I1,sc.prototype);I1.isPureReactComponent=!0;var ly=Array.isArray,ub=Object.prototype.hasOwnProperty,T1={current:null},cb={key:!0,ref:!0,__self:!0,__source:!0};function hb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ub.call(e,r)&&!cb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zh,type:t,key:s,ref:o,props:i,_owner:T1.current}}function jx(t,e){return{$$typeof:Zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function N1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zh}function Vx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uy=/\/+/g;function jm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vx(""+t.key):e.toString(36)}function gd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zh:case Tx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jm(o,0):r,ly(i)?(n="",t!=null&&(n=t.replace(uy,"$&/")+"/"),gd(i,e,n,"",function(u){return u})):i!=null&&(N1(i)&&(i=jx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ly(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jm(s,a);o+=gd(s,e,n,l,i)}else if(l=Mx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jm(s,a++),o+=gd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jf(t,e,n){if(t==null)return t;var r=[],i=0;return gd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Bx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var si={current:null},vd={transition:null},Ux={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:vd,ReactCurrentOwner:T1};function fb(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:jf,forEach:function(t,e,n){jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jf(t,function(){e++}),e},toArray:function(t){return jf(t,function(e){return e})||[]},only:function(t){if(!N1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=sc;Dt.Fragment=Nx;Dt.Profiler=Px;Dt.PureComponent=x1;Dt.StrictMode=kx;Dt.Suspense=Dx;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ux;Dt.act=fb;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ob({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=T1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ub.call(e,l)&&!cb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zh,type:t.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:Lx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cx,_context:t},t.Consumer=t};Dt.createElement=hb;Dt.createFactory=function(t){var e=hb.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:Rx,render:t}};Dt.isValidElement=N1;Dt.lazy=function(t){return{$$typeof:Fx,_payload:{_status:-1,_result:t},_init:Bx}};Dt.memo=function(t,e){return{$$typeof:Ox,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=vd.transition;vd.transition={};try{t()}finally{vd.transition=e}};Dt.unstable_act=fb;Dt.useCallback=function(t,e){return si.current.useCallback(t,e)};Dt.useContext=function(t){return si.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return si.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return si.current.useEffect(t,e)};Dt.useId=function(){return si.current.useId()};Dt.useImperativeHandle=function(t,e,n){return si.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return si.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return si.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return si.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return si.current.useReducer(t,e,n)};Dt.useRef=function(t){return si.current.useRef(t)};Dt.useState=function(t){return si.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return si.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return si.current.useTransition()};Dt.version="18.3.1";ib.exports=Dt;var wt=ib.exports;const zx=Ix(wt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=wt,Hx=Symbol.for("react.element"),Wx=Symbol.for("react.fragment"),$x=Object.prototype.hasOwnProperty,Gx=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kx={key:!0,ref:!0,__self:!0,__source:!0};function db(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$x.call(e,r)&&!Kx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Hx,type:t,key:s,ref:o,props:i,_owner:Gx.current}}Mp.Fragment=Wx;Mp.jsx=db;Mp.jsxs=db;rb.exports=Mp;var H=rb.exports,Kg={},pb={exports:{}},zi={},mb={exports:{}},gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ue){var be=Z.length;Z.push(ue);e:for(;0<be;){var we=be-1>>>1,M=Z[we];if(0<i(M,ue))Z[we]=ue,Z[be]=M,be=we;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],be=Z.pop();if(be!==ue){Z[0]=be;e:for(var we=0,M=Z.length,W=M>>>1;we<W;){var X=2*(we+1)-1,te=Z[X],se=X+1,he=Z[se];if(0>i(te,be))se<M&&0>i(he,te)?(Z[we]=he,Z[se]=be,we=se):(Z[we]=te,Z[X]=be,we=X);else if(se<M&&0>i(he,be))Z[we]=he,Z[se]=be,we=se;else break e}}return ue}function i(Z,ue){var be=Z.sortIndex-ue.sortIndex;return be!==0?be:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,m=null,v=3,p=!1,S=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Z){for(var ue=n(u);ue!==null;){if(ue.callback===null)r(u);else if(ue.startTime<=Z)r(u),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=n(u)}}function F(Z){if(T=!1,C(Z),!S)if(n(l)!==null)S=!0,me(J);else{var ue=n(u);ue!==null&&ge(F,ue.startTime-Z)}}function J(Z,ue){S=!1,T&&(T=!1,w(A),A=-1),p=!0;var be=v;try{for(C(ue),m=n(l);m!==null&&(!(m.expirationTime>ue)||Z&&!E());){var we=m.callback;if(typeof we=="function"){m.callback=null,v=m.priorityLevel;var M=we(m.expirationTime<=ue);ue=t.unstable_now(),typeof M=="function"?m.callback=M:m===n(l)&&r(l),C(ue)}else r(l);m=n(l)}if(m!==null)var W=!0;else{var X=n(u);X!==null&&ge(F,X.startTime-ue),W=!1}return W}finally{m=null,v=be,p=!1}}var ne=!1,V=null,A=-1,I=5,L=-1;function E(){return!(t.unstable_now()-L<I)}function P(){if(V!==null){var Z=t.unstable_now();L=Z;var ue=!0;try{ue=V(!0,Z)}finally{ue?x():(ne=!1,V=null)}}else ne=!1}var x;if(typeof k=="function")x=function(){k(P)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=P,x=function(){ae.postMessage(null)}}else x=function(){R(P,0)};function me(Z){V=Z,ne||(ne=!0,x())}function ge(Z,ue){A=R(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,me(J))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var be=v;v=ue;try{return Z()}finally{v=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var be=v;v=Z;try{return ue()}finally{v=be}},t.unstable_scheduleCallback=function(Z,ue,be){var we=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?we+be:we):be=we,Z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=be+M,Z={id:f++,callback:ue,priorityLevel:Z,startTime:be,expirationTime:M,sortIndex:-1},be>we?(Z.sortIndex=be,e(u,Z),n(l)===null&&Z===n(u)&&(T?(w(A),A=-1):T=!0,ge(F,be-we))):(Z.sortIndex=M,e(l,Z),S||p||(S=!0,me(J))),Z},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(Z){var ue=v;return function(){var be=v;v=ue;try{return Z.apply(this,arguments)}finally{v=be}}}})(gb);mb.exports=gb;var Qx=mb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=wt,Ui=Qx;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vb=new Set,Ah={};function Hl(t,e){qu(t,e),qu(t+"Capture",e)}function qu(t,e){for(Ah[t]=e,t=0;t<e.length;t++)vb.add(e[t])}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,Xx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},hy={};function Jx(t){return Qg.call(hy,t)?!0:Qg.call(cy,t)?!1:Xx.test(t)?hy[t]=!0:(cy[t]=!0,!1)}function Zx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eI(t,e,n,r){if(e===null||typeof e>"u"||Zx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var k1=/[\-:]([a-z])/g;function P1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(k1,P1);Pr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(k1,P1);Pr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(k1,P1);Pr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function C1(t,e,n,r){var i=Pr.hasOwnProperty(e)?Pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eI(e,n,i,r)&&(n=null),r||i===null?Jx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Uo=Yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),du=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),_b=Symbol.for("react.context"),R1=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),ma=Symbol.for("react.lazy"),wb=Symbol.for("react.offscreen"),fy=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=fy&&t[fy]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,Vm;function Yc(t){if(Vm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vm=e&&e[1]||""}return`
`+Vm+t}var Bm=!1;function Um(t,e){if(!t||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yc(t):""}function tI(t){switch(t.tag){case 5:return Yc(t.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return t=Um(t.type,!1),t;case 11:return t=Um(t.type.render,!1),t;case 1:return t=Um(t.type,!0),t;default:return""}}function Zg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pu:return"Fragment";case du:return"Portal";case Yg:return"Profiler";case L1:return"StrictMode";case Xg:return"Suspense";case Jg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _b:return(t.displayName||"Context")+".Consumer";case yb:return(t._context.displayName||"Context")+".Provider";case R1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D1:return e=t.displayName||null,e!==null?e:Zg(t.type)||"Memo";case ma:e=t._payload,t=t._init;try{return Zg(t(e))}catch{}}return null}function nI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zg(e);case 8:return e===L1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rI(t){var e=bb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bf(t){t._valueTracker||(t._valueTracker=rI(t))}function Sb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function e0(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Eb(t,e){e=e.checked,e!=null&&C1(t,"checked",e,!1)}function t0(t,e){Eb(t,e);var n=Ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?n0(t,e.type,n):e.hasOwnProperty("defaultValue")&&n0(t,e.type,Ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function n0(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xc=Array.isArray;function Nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ua(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function my(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(Xc(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ua(n)}}function Ab(t,e){var n=Ua(e.value),r=Ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uf,Ib=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iI=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){iI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function Tb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function Nb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sI=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s0(t,e){if(e){if(sI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function o0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=null;function O1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l0=null,ku=null,Pu=null;function vy(t){if(t=nf(t)){if(typeof l0!="function")throw Error(De(280));var e=t.stateNode;e&&(e=zp(e),l0(t.stateNode,t.type,e))}}function kb(t){ku?Pu?Pu.push(t):Pu=[t]:ku=t}function Pb(){if(ku){var t=ku,e=Pu;if(Pu=ku=null,vy(t),e)for(t=0;t<e.length;t++)vy(e[t])}}function Cb(t,e){return t(e)}function Lb(){}var zm=!1;function Rb(t,e,n){if(zm)return t(e,n);zm=!0;try{return Cb(t,e,n)}finally{zm=!1,(ku!==null||Pu!==null)&&(Lb(),Pb())}}function Ih(t,e){var n=t.stateNode;if(n===null)return null;var r=zp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var u0=!1;if(Lo)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){u0=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{u0=!1}function oI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var oh=!1,Hd=null,Wd=!1,c0=null,aI={onError:function(t){oh=!0,Hd=t}};function lI(t,e,n,r,i,s,o,a,l){oh=!1,Hd=null,oI.apply(aI,arguments)}function uI(t,e,n,r,i,s,o,a,l){if(lI.apply(this,arguments),oh){if(oh){var u=Hd;oh=!1,Hd=null}else throw Error(De(198));Wd||(Wd=!0,c0=u)}}function Wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Db(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yy(t){if(Wl(t)!==t)throw Error(De(188))}function cI(t){var e=t.alternate;if(!e){if(e=Wl(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yy(i),t;if(s===r)return yy(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function Ob(t){return t=cI(t),t!==null?Fb(t):null}function Fb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fb(t);if(e!==null)return e;t=t.sibling}return null}var Mb=Ui.unstable_scheduleCallback,_y=Ui.unstable_cancelCallback,hI=Ui.unstable_shouldYield,fI=Ui.unstable_requestPaint,Qn=Ui.unstable_now,dI=Ui.unstable_getCurrentPriorityLevel,F1=Ui.unstable_ImmediatePriority,jb=Ui.unstable_UserBlockingPriority,$d=Ui.unstable_NormalPriority,pI=Ui.unstable_LowPriority,Vb=Ui.unstable_IdlePriority,jp=null,Qs=null;function mI(t){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(jp,t,void 0,(t.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:yI,gI=Math.log,vI=Math.LN2;function yI(t){return t>>>=0,t===0?32:31-(gI(t)/vI|0)|0}var zf=64,qf=4194304;function Jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jc(a):(s&=o,s!==0&&(r=Jc(s)))}else o=n&~i,o!==0?r=Jc(o):s!==0&&(r=Jc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_s(e),i=1<<n,r|=t[n],e&=~i;return r}function _I(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_s(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_I(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function h0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bb(){var t=zf;return zf<<=1,!(zf&4194240)&&(zf=64),t}function qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ef(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_s(e),t[e]=n}function bI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_s(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function M1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_s(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var an=0;function Ub(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zb,j1,qb,Hb,Wb,f0=!1,Hf=[],Ta=null,Na=null,ka=null,Th=new Map,Nh=new Map,va=[],SI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wy(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Th.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(e.pointerId)}}function Vc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nf(e),e!==null&&j1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EI(t,e,n,r,i){switch(e){case"focusin":return Ta=Vc(Ta,t,e,n,r,i),!0;case"dragenter":return Na=Vc(Na,t,e,n,r,i),!0;case"mouseover":return ka=Vc(ka,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Th.set(s,Vc(Th.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nh.set(s,Vc(Nh.get(s)||null,t,e,n,r,i)),!0}return!1}function $b(t){var e=Sl(t.target);if(e!==null){var n=Wl(e);if(n!==null){if(e=n.tag,e===13){if(e=Db(n),e!==null){t.blockedOn=e,Wb(t.priority,function(){qb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=d0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);a0=r,n.target.dispatchEvent(r),a0=null}else return e=nf(n),e!==null&&j1(e),t.blockedOn=n,!1;e.shift()}return!0}function by(t,e,n){yd(t)&&n.delete(e)}function AI(){f0=!1,Ta!==null&&yd(Ta)&&(Ta=null),Na!==null&&yd(Na)&&(Na=null),ka!==null&&yd(ka)&&(ka=null),Th.forEach(by),Nh.forEach(by)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,f0||(f0=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,AI)))}function kh(t){function e(i){return Bc(i,t)}if(0<Hf.length){Bc(Hf[0],t);for(var n=1;n<Hf.length;n++){var r=Hf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ta!==null&&Bc(Ta,t),Na!==null&&Bc(Na,t),ka!==null&&Bc(ka,t),Th.forEach(e),Nh.forEach(e),n=0;n<va.length;n++)r=va[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<va.length&&(n=va[0],n.blockedOn===null);)$b(n),n.blockedOn===null&&va.shift()}var Cu=Uo.ReactCurrentBatchConfig,Kd=!0;function xI(t,e,n,r){var i=an,s=Cu.transition;Cu.transition=null;try{an=1,V1(t,e,n,r)}finally{an=i,Cu.transition=s}}function II(t,e,n,r){var i=an,s=Cu.transition;Cu.transition=null;try{an=4,V1(t,e,n,r)}finally{an=i,Cu.transition=s}}function V1(t,e,n,r){if(Kd){var i=d0(t,e,n,r);if(i===null)Zm(t,e,r,Qd,n),wy(t,r);else if(EI(i,t,e,n,r))r.stopPropagation();else if(wy(t,r),e&4&&-1<SI.indexOf(t)){for(;i!==null;){var s=nf(i);if(s!==null&&zb(s),s=d0(t,e,n,r),s===null&&Zm(t,e,r,Qd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zm(t,e,r,null,n)}}var Qd=null;function d0(t,e,n,r){if(Qd=null,t=O1(r),t=Sl(t),t!==null)if(e=Wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Db(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qd=t,null}function Gb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dI()){case F1:return 1;case jb:return 4;case $d:case pI:return 16;case Vb:return 536870912;default:return 16}default:return 16}}var Ea=null,B1=null,_d=null;function Kb(){if(_d)return _d;var t,e=B1,n=e.length,r,i="value"in Ea?Ea.value:Ea.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _d=i.slice(t,1<r?1-r:void 0)}function wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function Sy(){return!1}function qi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wf:Sy,this.isPropagationStopped=Sy,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U1=qi(oc),tf=Dn({},oc,{view:0,detail:0}),TI=qi(tf),Hm,Wm,Uc,Vp=Dn({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uc&&(Uc&&t.type==="mousemove"?(Hm=t.screenX-Uc.screenX,Wm=t.screenY-Uc.screenY):Wm=Hm=0,Uc=t),Hm)},movementY:function(t){return"movementY"in t?t.movementY:Wm}}),Ey=qi(Vp),NI=Dn({},Vp,{dataTransfer:0}),kI=qi(NI),PI=Dn({},tf,{relatedTarget:0}),$m=qi(PI),CI=Dn({},oc,{animationName:0,elapsedTime:0,pseudoElement:0}),LI=qi(CI),RI=Dn({},oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DI=qi(RI),OI=Dn({},oc,{data:0}),Ay=qi(OI),FI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jI[t])?!!e[t]:!1}function z1(){return VI}var BI=Dn({},tf,{key:function(t){if(t.key){var e=FI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(t){return t.type==="keypress"?wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UI=qi(BI),zI=Dn({},Vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=qi(zI),qI=Dn({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),HI=qi(qI),WI=Dn({},oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$I=qi(WI),GI=Dn({},Vp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KI=qi(GI),QI=[9,13,27,32],q1=Lo&&"CompositionEvent"in window,ah=null;Lo&&"documentMode"in document&&(ah=document.documentMode);var YI=Lo&&"TextEvent"in window&&!ah,Qb=Lo&&(!q1||ah&&8<ah&&11>=ah),Iy=" ",Ty=!1;function Yb(t,e){switch(t){case"keyup":return QI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mu=!1;function XI(t,e){switch(t){case"compositionend":return Xb(e);case"keypress":return e.which!==32?null:(Ty=!0,Iy);case"textInput":return t=e.data,t===Iy&&Ty?null:t;default:return null}}function JI(t,e){if(mu)return t==="compositionend"||!q1&&Yb(t,e)?(t=Kb(),_d=B1=Ea=null,mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qb&&e.locale!=="ko"?null:e.data;default:return null}}var ZI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZI[t.type]:e==="textarea"}function Jb(t,e,n,r){kb(r),e=Yd(e,"onChange"),0<e.length&&(n=new U1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,Ph=null;function eT(t){u4(t,0)}function Bp(t){var e=yu(t);if(Sb(e))return t}function tT(t,e){if(t==="change")return e}var Zb=!1;if(Lo){var Gm;if(Lo){var Km="oninput"in document;if(!Km){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Km=typeof ky.oninput=="function"}Gm=Km}else Gm=!1;Zb=Gm&&(!document.documentMode||9<document.documentMode)}function Py(){lh&&(lh.detachEvent("onpropertychange",e4),Ph=lh=null)}function e4(t){if(t.propertyName==="value"&&Bp(Ph)){var e=[];Jb(e,Ph,t,O1(t)),Rb(eT,e)}}function nT(t,e,n){t==="focusin"?(Py(),lh=e,Ph=n,lh.attachEvent("onpropertychange",e4)):t==="focusout"&&Py()}function rT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bp(Ph)}function iT(t,e){if(t==="click")return Bp(e)}function sT(t,e){if(t==="input"||t==="change")return Bp(e)}function oT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bs=typeof Object.is=="function"?Object.is:oT;function Ch(t,e){if(bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qg.call(e,i)||!bs(t[i],e[i]))return!1}return!0}function Cy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var n=Cy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cy(n)}}function t4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?t4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n4(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function H1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aT(t){var e=n4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&t4(n.ownerDocument.documentElement,n)){if(r!==null&&H1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ly(n,s);var o=Ly(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lT=Lo&&"documentMode"in document&&11>=document.documentMode,gu=null,p0=null,uh=null,m0=!1;function Ry(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;m0||gu==null||gu!==qd(r)||(r=gu,"selectionStart"in r&&H1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&Ch(uh,r)||(uh=r,r=Yd(p0,"onSelect"),0<r.length&&(e=new U1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gu)))}function $f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vu={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},Qm={},r4={};Lo&&(r4=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function Up(t){if(Qm[t])return Qm[t];if(!vu[t])return t;var e=vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in r4)return Qm[t]=e[n];return t}var i4=Up("animationend"),s4=Up("animationiteration"),o4=Up("animationstart"),a4=Up("transitionend"),l4=new Map,Dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(t,e){l4.set(t,e),Hl(e,[t])}for(var Ym=0;Ym<Dy.length;Ym++){var Xm=Dy[Ym],uT=Xm.toLowerCase(),cT=Xm[0].toUpperCase()+Xm.slice(1);Ga(uT,"on"+cT)}Ga(i4,"onAnimationEnd");Ga(s4,"onAnimationIteration");Ga(o4,"onAnimationStart");Ga("dblclick","onDoubleClick");Ga("focusin","onFocus");Ga("focusout","onBlur");Ga(a4,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function Oy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uI(r,e,void 0,t),t.currentTarget=null}function u4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Oy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Oy(i,a,u),s=l}}}if(Wd)throw t=c0,Wd=!1,c0=null,t}function wn(t,e){var n=e[w0];n===void 0&&(n=e[w0]=new Set);var r=t+"__bubble";n.has(r)||(c4(e,t,2,!1),n.add(r))}function Jm(t,e,n){var r=0;e&&(r|=4),c4(n,t,r,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[Gf]){t[Gf]=!0,vb.forEach(function(n){n!=="selectionchange"&&(hT.has(n)||Jm(n,!1,t),Jm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,Jm("selectionchange",!1,e))}}function c4(t,e,n,r){switch(Gb(e)){case 1:var i=xI;break;case 4:i=II;break;default:i=V1}n=i.bind(null,e,n,t),i=void 0,!u0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Sl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rb(function(){var u=s,f=O1(n),m=[];e:{var v=l4.get(t);if(v!==void 0){var p=U1,S=t;switch(t){case"keypress":if(wd(n)===0)break e;case"keydown":case"keyup":p=UI;break;case"focusin":S="focus",p=$m;break;case"focusout":S="blur",p=$m;break;case"beforeblur":case"afterblur":p=$m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HI;break;case i4:case s4:case o4:p=LI;break;case a4:p=$I;break;case"scroll":p=TI;break;case"wheel":p=KI;break;case"copy":case"cut":case"paste":p=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xy}var T=(e&4)!==0,R=!T&&t==="scroll",w=T?v!==null?v+"Capture":null:v;T=[];for(var k=u,C;k!==null;){C=k;var F=C.stateNode;if(C.tag===5&&F!==null&&(C=F,w!==null&&(F=Ih(k,w),F!=null&&T.push(Rh(k,F,C)))),R)break;k=k.return}0<T.length&&(v=new p(v,S,null,n,f),m.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&n!==a0&&(S=n.relatedTarget||n.fromElement)&&(Sl(S)||S[Ro]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=u,S=S?Sl(S):null,S!==null&&(R=Wl(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(T=Ey,F="onMouseLeave",w="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(T=xy,F="onPointerLeave",w="onPointerEnter",k="pointer"),R=p==null?v:yu(p),C=S==null?v:yu(S),v=new T(F,k+"leave",p,n,f),v.target=R,v.relatedTarget=C,F=null,Sl(f)===u&&(T=new T(w,k+"enter",S,n,f),T.target=C,T.relatedTarget=R,F=T),R=F,p&&S)t:{for(T=p,w=S,k=0,C=T;C;C=iu(C))k++;for(C=0,F=w;F;F=iu(F))C++;for(;0<k-C;)T=iu(T),k--;for(;0<C-k;)w=iu(w),C--;for(;k--;){if(T===w||w!==null&&T===w.alternate)break t;T=iu(T),w=iu(w)}T=null}else T=null;p!==null&&Fy(m,v,p,T,!1),S!==null&&R!==null&&Fy(m,R,S,T,!0)}}e:{if(v=u?yu(u):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var J=tT;else if(Ny(v))if(Zb)J=sT;else{J=rT;var ne=nT}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(J=iT);if(J&&(J=J(t,u))){Jb(m,J,n,f);break e}ne&&ne(t,v,u),t==="focusout"&&(ne=v._wrapperState)&&ne.controlled&&v.type==="number"&&n0(v,"number",v.value)}switch(ne=u?yu(u):window,t){case"focusin":(Ny(ne)||ne.contentEditable==="true")&&(gu=ne,p0=u,uh=null);break;case"focusout":uh=p0=gu=null;break;case"mousedown":m0=!0;break;case"contextmenu":case"mouseup":case"dragend":m0=!1,Ry(m,n,f);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":Ry(m,n,f)}var V;if(q1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else mu?Yb(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Qb&&n.locale!=="ko"&&(mu||A!=="onCompositionStart"?A==="onCompositionEnd"&&mu&&(V=Kb()):(Ea=f,B1="value"in Ea?Ea.value:Ea.textContent,mu=!0)),ne=Yd(u,A),0<ne.length&&(A=new Ay(A,t,null,n,f),m.push({event:A,listeners:ne}),V?A.data=V:(V=Xb(n),V!==null&&(A.data=V)))),(V=YI?XI(t,n):JI(t,n))&&(u=Yd(u,"onBeforeInput"),0<u.length&&(f=new Ay("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=V))}u4(m,e)})}function Rh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ih(t,n),s!=null&&r.unshift(Rh(t,s,i)),s=Ih(t,e),s!=null&&r.push(Rh(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ih(n,s),l!=null&&o.unshift(Rh(n,l,a))):i||(l=Ih(n,s),l!=null&&o.push(Rh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function My(t){return(typeof t=="string"?t:""+t).replace(fT,`
`).replace(dT,"")}function Kf(t,e,n){if(e=My(e),My(t)!==e&&n)throw Error(De(425))}function Xd(){}var g0=null,v0=null;function y0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _0=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(t){return jy.resolve(null).then(t).catch(gT)}:_0;function gT(t){setTimeout(function(){throw t})}function eg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kh(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ac=Math.random().toString(36).slice(2),Gs="__reactFiber$"+ac,Dh="__reactProps$"+ac,Ro="__reactContainer$"+ac,w0="__reactEvents$"+ac,vT="__reactListeners$"+ac,yT="__reactHandles$"+ac;function Sl(t){var e=t[Gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ro]||n[Gs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vy(t);t!==null;){if(n=t[Gs])return n;t=Vy(t)}return e}t=n,n=t.parentNode}return null}function nf(t){return t=t[Gs]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function zp(t){return t[Dh]||null}var b0=[],_u=-1;function Ka(t){return{current:t}}function Sn(t){0>_u||(t.current=b0[_u],b0[_u]=null,_u--)}function gn(t,e){_u++,b0[_u]=t.current,t.current=e}var za={},Gr=Ka(za),gi=Ka(!1),Pl=za;function Hu(t,e){var n=t.type.contextTypes;if(!n)return za;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Jd(){Sn(gi),Sn(Gr)}function By(t,e,n){if(Gr.current!==za)throw Error(De(168));gn(Gr,e),gn(gi,n)}function h4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,nI(t)||"Unknown",i));return Dn({},n,r)}function Zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||za,Pl=Gr.current,gn(Gr,t),gn(gi,gi.current),!0}function Uy(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=h4(t,e,Pl),r.__reactInternalMemoizedMergedChildContext=t,Sn(gi),Sn(Gr),gn(Gr,t)):Sn(gi),gn(gi,n)}var wo=null,qp=!1,tg=!1;function f4(t){wo===null?wo=[t]:wo.push(t)}function _T(t){qp=!0,f4(t)}function Qa(){if(!tg&&wo!==null){tg=!0;var t=0,e=an;try{var n=wo;for(an=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wo=null,qp=!1}catch(i){throw wo!==null&&(wo=wo.slice(t+1)),Mb(F1,Qa),i}finally{an=e,tg=!1}}return null}var wu=[],bu=0,ep=null,tp=0,Ji=[],Zi=0,Cl=null,So=1,Eo="";function vl(t,e){wu[bu++]=tp,wu[bu++]=ep,ep=t,tp=e}function d4(t,e,n){Ji[Zi++]=So,Ji[Zi++]=Eo,Ji[Zi++]=Cl,Cl=t;var r=So;t=Eo;var i=32-_s(r)-1;r&=~(1<<i),n+=1;var s=32-_s(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,So=1<<32-_s(e)+i|n<<i|r,Eo=s+t}else So=1<<s|n<<i|r,Eo=t}function W1(t){t.return!==null&&(vl(t,1),d4(t,1,0))}function $1(t){for(;t===ep;)ep=wu[--bu],wu[bu]=null,tp=wu[--bu],wu[bu]=null;for(;t===Cl;)Cl=Ji[--Zi],Ji[Zi]=null,Eo=Ji[--Zi],Ji[Zi]=null,So=Ji[--Zi],Ji[Zi]=null}var Vi=null,Fi=null,Tn=!1,ys=null;function p4(t,e){var n=es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vi=t,Fi=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vi=t,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cl!==null?{id:So,overflow:Eo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vi=t,Fi=null,!0):!1;default:return!1}}function S0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function E0(t){if(Tn){var e=Fi;if(e){var n=e;if(!zy(t,e)){if(S0(t))throw Error(De(418));e=Pa(n.nextSibling);var r=Vi;e&&zy(t,e)?p4(r,n):(t.flags=t.flags&-4097|2,Tn=!1,Vi=t)}}else{if(S0(t))throw Error(De(418));t.flags=t.flags&-4097|2,Tn=!1,Vi=t}}}function qy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vi=t}function Qf(t){if(t!==Vi)return!1;if(!Tn)return qy(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!y0(t.type,t.memoizedProps)),e&&(e=Fi)){if(S0(t))throw m4(),Error(De(418));for(;e;)p4(t,e),e=Pa(e.nextSibling)}if(qy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fi=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fi=null}}else Fi=Vi?Pa(t.stateNode.nextSibling):null;return!0}function m4(){for(var t=Fi;t;)t=Pa(t.nextSibling)}function Wu(){Fi=Vi=null,Tn=!1}function G1(t){ys===null?ys=[t]:ys.push(t)}var wT=Uo.ReactCurrentBatchConfig;function zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hy(t){var e=t._init;return e(t._payload)}function g4(t){function e(w,k){if(t){var C=w.deletions;C===null?(w.deletions=[k],w.flags|=16):C.push(k)}}function n(w,k){if(!t)return null;for(;k!==null;)e(w,k),k=k.sibling;return null}function r(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function i(w,k){return w=Da(w,k),w.index=0,w.sibling=null,w}function s(w,k,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<k?(w.flags|=2,k):C):(w.flags|=2,k)):(w.flags|=1048576,k)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,k,C,F){return k===null||k.tag!==6?(k=lg(C,w.mode,F),k.return=w,k):(k=i(k,C),k.return=w,k)}function l(w,k,C,F){var J=C.type;return J===pu?f(w,k,C.props.children,F,C.key):k!==null&&(k.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ma&&Hy(J)===k.type)?(F=i(k,C.props),F.ref=zc(w,k,C),F.return=w,F):(F=Td(C.type,C.key,C.props,null,w.mode,F),F.ref=zc(w,k,C),F.return=w,F)}function u(w,k,C,F){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=ug(C,w.mode,F),k.return=w,k):(k=i(k,C.children||[]),k.return=w,k)}function f(w,k,C,F,J){return k===null||k.tag!==7?(k=Tl(C,w.mode,F,J),k.return=w,k):(k=i(k,C),k.return=w,k)}function m(w,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=lg(""+k,w.mode,C),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vf:return C=Td(k.type,k.key,k.props,null,w.mode,C),C.ref=zc(w,null,k),C.return=w,C;case du:return k=ug(k,w.mode,C),k.return=w,k;case ma:var F=k._init;return m(w,F(k._payload),C)}if(Xc(k)||Mc(k))return k=Tl(k,w.mode,C,null),k.return=w,k;Yf(w,k)}return null}function v(w,k,C,F){var J=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:a(w,k,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vf:return C.key===J?l(w,k,C,F):null;case du:return C.key===J?u(w,k,C,F):null;case ma:return J=C._init,v(w,k,J(C._payload),F)}if(Xc(C)||Mc(C))return J!==null?null:f(w,k,C,F,null);Yf(w,C)}return null}function p(w,k,C,F,J){if(typeof F=="string"&&F!==""||typeof F=="number")return w=w.get(C)||null,a(k,w,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Vf:return w=w.get(F.key===null?C:F.key)||null,l(k,w,F,J);case du:return w=w.get(F.key===null?C:F.key)||null,u(k,w,F,J);case ma:var ne=F._init;return p(w,k,C,ne(F._payload),J)}if(Xc(F)||Mc(F))return w=w.get(C)||null,f(k,w,F,J,null);Yf(k,F)}return null}function S(w,k,C,F){for(var J=null,ne=null,V=k,A=k=0,I=null;V!==null&&A<C.length;A++){V.index>A?(I=V,V=null):I=V.sibling;var L=v(w,V,C[A],F);if(L===null){V===null&&(V=I);break}t&&V&&L.alternate===null&&e(w,V),k=s(L,k,A),ne===null?J=L:ne.sibling=L,ne=L,V=I}if(A===C.length)return n(w,V),Tn&&vl(w,A),J;if(V===null){for(;A<C.length;A++)V=m(w,C[A],F),V!==null&&(k=s(V,k,A),ne===null?J=V:ne.sibling=V,ne=V);return Tn&&vl(w,A),J}for(V=r(w,V);A<C.length;A++)I=p(V,w,A,C[A],F),I!==null&&(t&&I.alternate!==null&&V.delete(I.key===null?A:I.key),k=s(I,k,A),ne===null?J=I:ne.sibling=I,ne=I);return t&&V.forEach(function(E){return e(w,E)}),Tn&&vl(w,A),J}function T(w,k,C,F){var J=Mc(C);if(typeof J!="function")throw Error(De(150));if(C=J.call(C),C==null)throw Error(De(151));for(var ne=J=null,V=k,A=k=0,I=null,L=C.next();V!==null&&!L.done;A++,L=C.next()){V.index>A?(I=V,V=null):I=V.sibling;var E=v(w,V,L.value,F);if(E===null){V===null&&(V=I);break}t&&V&&E.alternate===null&&e(w,V),k=s(E,k,A),ne===null?J=E:ne.sibling=E,ne=E,V=I}if(L.done)return n(w,V),Tn&&vl(w,A),J;if(V===null){for(;!L.done;A++,L=C.next())L=m(w,L.value,F),L!==null&&(k=s(L,k,A),ne===null?J=L:ne.sibling=L,ne=L);return Tn&&vl(w,A),J}for(V=r(w,V);!L.done;A++,L=C.next())L=p(V,w,A,L.value,F),L!==null&&(t&&L.alternate!==null&&V.delete(L.key===null?A:L.key),k=s(L,k,A),ne===null?J=L:ne.sibling=L,ne=L);return t&&V.forEach(function(P){return e(w,P)}),Tn&&vl(w,A),J}function R(w,k,C,F){if(typeof C=="object"&&C!==null&&C.type===pu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Vf:e:{for(var J=C.key,ne=k;ne!==null;){if(ne.key===J){if(J=C.type,J===pu){if(ne.tag===7){n(w,ne.sibling),k=i(ne,C.props.children),k.return=w,w=k;break e}}else if(ne.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ma&&Hy(J)===ne.type){n(w,ne.sibling),k=i(ne,C.props),k.ref=zc(w,ne,C),k.return=w,w=k;break e}n(w,ne);break}else e(w,ne);ne=ne.sibling}C.type===pu?(k=Tl(C.props.children,w.mode,F,C.key),k.return=w,w=k):(F=Td(C.type,C.key,C.props,null,w.mode,F),F.ref=zc(w,k,C),F.return=w,w=F)}return o(w);case du:e:{for(ne=C.key;k!==null;){if(k.key===ne)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){n(w,k.sibling),k=i(k,C.children||[]),k.return=w,w=k;break e}else{n(w,k);break}else e(w,k);k=k.sibling}k=ug(C,w.mode,F),k.return=w,w=k}return o(w);case ma:return ne=C._init,R(w,k,ne(C._payload),F)}if(Xc(C))return S(w,k,C,F);if(Mc(C))return T(w,k,C,F);Yf(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(n(w,k.sibling),k=i(k,C),k.return=w,w=k):(n(w,k),k=lg(C,w.mode,F),k.return=w,w=k),o(w)):n(w,k)}return R}var $u=g4(!0),v4=g4(!1),np=Ka(null),rp=null,Su=null,K1=null;function Q1(){K1=Su=rp=null}function Y1(t){var e=np.current;Sn(np),t._currentValue=e}function A0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lu(t,e){rp=t,K1=Su=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mi=!0),t.firstContext=null)}function ns(t){var e=t._currentValue;if(K1!==t)if(t={context:t,memoizedValue:e,next:null},Su===null){if(rp===null)throw Error(De(308));Su=t,rp.dependencies={lanes:0,firstContext:t}}else Su=Su.next=t;return e}var El=null;function X1(t){El===null?El=[t]:El.push(t)}function y4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,X1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Do(t,r)}function Do(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ga=!1;function J1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Do(t,n)}return i=r.interleaved,i===null?(e.next=e,X1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Do(t,n)}function bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,M1(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ip(t,e,n,r){var i=t.updateQueue;ga=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,f=u=l=null,a=s;do{var v=a.lane,p=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,T=a;switch(v=e,p=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){m=S.call(p,m,v);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,v=typeof S=="function"?S.call(p,m,v):S,v==null)break e;m=Dn({},m,v);break e;case 2:ga=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=m):f=f.next=p,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rl|=o,t.lanes=o,t.memoizedState=m}}function $y(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var rf={},Ys=Ka(rf),Oh=Ka(rf),Fh=Ka(rf);function Al(t){if(t===rf)throw Error(De(174));return t}function Z1(t,e){switch(gn(Fh,e),gn(Oh,t),gn(Ys,rf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i0(e,t)}Sn(Ys),gn(Ys,e)}function Gu(){Sn(Ys),Sn(Oh),Sn(Fh)}function w4(t){Al(Fh.current);var e=Al(Ys.current),n=i0(e,t.type);e!==n&&(gn(Oh,t),gn(Ys,n))}function e2(t){Oh.current===t&&(Sn(Ys),Sn(Oh))}var Ln=Ka(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ng=[];function t2(){for(var t=0;t<ng.length;t++)ng[t]._workInProgressVersionPrimary=null;ng.length=0}var Sd=Uo.ReactCurrentDispatcher,rg=Uo.ReactCurrentBatchConfig,Ll=0,Rn=null,lr=null,gr=null,op=!1,ch=!1,Mh=0,bT=0;function Mr(){throw Error(De(321))}function n2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bs(t[n],e[n]))return!1;return!0}function r2(t,e,n,r,i,s){if(Ll=s,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?xT:IT,t=n(r,i),ch){s=0;do{if(ch=!1,Mh=0,25<=s)throw Error(De(301));s+=1,gr=lr=null,e.updateQueue=null,Sd.current=TT,t=n(r,i)}while(ch)}if(Sd.current=ap,e=lr!==null&&lr.next!==null,Ll=0,gr=lr=Rn=null,op=!1,e)throw Error(De(300));return t}function i2(){var t=Mh!==0;return Mh=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Rn.memoizedState=gr=t:gr=gr.next=t,gr}function rs(){if(lr===null){var t=Rn.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=gr===null?Rn.memoizedState:gr.next;if(e!==null)gr=e,lr=t;else{if(t===null)throw Error(De(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},gr===null?Rn.memoizedState=gr=t:gr=gr.next=t}return gr}function jh(t,e){return typeof e=="function"?e(t):e}function ig(t){var e=rs(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=lr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Ll&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,Rn.lanes|=f,Rl|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,bs(r,e.memoizedState)||(mi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rn.lanes|=s,Rl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sg(t){var e=rs(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bs(s,e.memoizedState)||(mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function b4(){}function S4(t,e){var n=Rn,r=rs(),i=e(),s=!bs(r.memoizedState,i);if(s&&(r.memoizedState=i,mi=!0),r=r.queue,s2(x4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,Vh(9,A4.bind(null,n,r,i,e),void 0,null),_r===null)throw Error(De(349));Ll&30||E4(n,e,i)}return i}function E4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function A4(t,e,n,r){e.value=n,e.getSnapshot=r,I4(e)&&T4(t)}function x4(t,e,n){return n(function(){I4(e)&&T4(t)})}function I4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bs(t,n)}catch{return!0}}function T4(t){var e=Do(t,1);e!==null&&ws(e,t,1,-1)}function Gy(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:t},e.queue=t,t=t.dispatch=AT.bind(null,Rn,t),[e.memoizedState,t]}function Vh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N4(){return rs().memoizedState}function Ed(t,e,n,r){var i=$s();Rn.flags|=t,i.memoizedState=Vh(1|e,n,void 0,r===void 0?null:r)}function Hp(t,e,n,r){var i=rs();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&n2(r,o.deps)){i.memoizedState=Vh(e,n,s,r);return}}Rn.flags|=t,i.memoizedState=Vh(1|e,n,s,r)}function Ky(t,e){return Ed(8390656,8,t,e)}function s2(t,e){return Hp(2048,8,t,e)}function k4(t,e){return Hp(4,2,t,e)}function P4(t,e){return Hp(4,4,t,e)}function C4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L4(t,e,n){return n=n!=null?n.concat([t]):null,Hp(4,4,C4.bind(null,e,t),n)}function o2(){}function R4(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D4(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O4(t,e,n){return Ll&21?(bs(n,e)||(n=Bb(),Rn.lanes|=n,Rl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mi=!0),t.memoizedState=n)}function ST(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var r=rg.transition;rg.transition={};try{t(!1),e()}finally{an=n,rg.transition=r}}function F4(){return rs().memoizedState}function ET(t,e,n){var r=Ra(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},M4(t))j4(e,n);else if(n=y4(t,e,n,r),n!==null){var i=ri();ws(n,t,r,i),V4(n,e,r)}}function AT(t,e,n){var r=Ra(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(M4(t))j4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bs(a,o)){var l=e.interleaved;l===null?(i.next=i,X1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=y4(t,e,i,r),n!==null&&(i=ri(),ws(n,t,r,i),V4(n,e,r))}}function M4(t){var e=t.alternate;return t===Rn||e!==null&&e===Rn}function j4(t,e){ch=op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,M1(t,n)}}var ap={readContext:ns,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},xT={readContext:ns,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:ns,useEffect:Ky,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4194308,4,C4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ed(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ET.bind(null,Rn,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:Gy,useDebugValue:o2,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=Gy(!1),e=t[0];return t=ST.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rn,i=$s();if(Tn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),_r===null)throw Error(De(349));Ll&30||E4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ky(x4.bind(null,r,s,t),[t]),r.flags|=2048,Vh(9,A4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$s(),e=_r.identifierPrefix;if(Tn){var n=Eo,r=So;n=(r&~(1<<32-_s(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IT={readContext:ns,useCallback:R4,useContext:ns,useEffect:s2,useImperativeHandle:L4,useInsertionEffect:k4,useLayoutEffect:P4,useMemo:D4,useReducer:ig,useRef:N4,useState:function(){return ig(jh)},useDebugValue:o2,useDeferredValue:function(t){var e=rs();return O4(e,lr.memoizedState,t)},useTransition:function(){var t=ig(jh)[0],e=rs().memoizedState;return[t,e]},useMutableSource:b4,useSyncExternalStore:S4,useId:F4,unstable_isNewReconciler:!1},TT={readContext:ns,useCallback:R4,useContext:ns,useEffect:s2,useImperativeHandle:L4,useInsertionEffect:k4,useLayoutEffect:P4,useMemo:D4,useReducer:sg,useRef:N4,useState:function(){return sg(jh)},useDebugValue:o2,useDeferredValue:function(t){var e=rs();return lr===null?e.memoizedState=t:O4(e,lr.memoizedState,t)},useTransition:function(){var t=sg(jh)[0],e=rs().memoizedState;return[t,e]},useMutableSource:b4,useSyncExternalStore:S4,useId:F4,unstable_isNewReconciler:!1};function gs(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function x0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wp={isMounted:function(t){return(t=t._reactInternals)?Wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Ra(t),s=Po(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ca(t,s,i),e!==null&&(ws(e,t,i,r),bd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Ra(t),s=Po(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ca(t,s,i),e!==null&&(ws(e,t,i,r),bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ri(),r=Ra(t),i=Po(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ca(t,i,r),e!==null&&(ws(e,t,r,n),bd(e,t,r))}};function Qy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ch(n,r)||!Ch(i,s):!0}function B4(t,e,n){var r=!1,i=za,s=e.contextType;return typeof s=="object"&&s!==null?s=ns(s):(i=vi(e)?Pl:Gr.current,r=e.contextTypes,s=(r=r!=null)?Hu(t,i):za),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Yy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wp.enqueueReplaceState(e,e.state,null)}function I0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},J1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ns(s):(s=vi(e)?Pl:Gr.current,i.context=Hu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(x0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wp.enqueueReplaceState(i,i.state,null),ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ku(t,e){try{var n="",r=e;do n+=tI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function og(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function T0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NT=typeof WeakMap=="function"?WeakMap:Map;function U4(t,e,n){n=Po(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){up||(up=!0,M0=r),T0(t,e)},n}function z4(t,e,n){n=Po(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){T0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){T0(t,e),typeof r!="function"&&(La===null?La=new Set([this]):La.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zT.bind(null,t,e,n),e.then(t,t))}function Jy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Po(-1,1),e.tag=2,Ca(n,e,1))),n.lanes|=1),t)}var kT=Uo.ReactCurrentOwner,mi=!1;function ti(t,e,n,r){e.child=t===null?v4(e,null,n,r):$u(e,t.child,n,r)}function e5(t,e,n,r,i){n=n.render;var s=e.ref;return Lu(e,i),r=r2(t,e,n,r,s,i),n=i2(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oo(t,e,i)):(Tn&&n&&W1(e),e.flags|=1,ti(t,e,r,i),e.child)}function t5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!p2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,q4(t,e,s,r,i)):(t=Td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ch,n(o,r)&&t.ref===e.ref)return Oo(t,e,i)}return e.flags|=1,t=Da(s,r),t.ref=e.ref,t.return=e,e.child=t}function q4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ch(s,r)&&t.ref===e.ref)if(mi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mi=!0);else return e.lanes=t.lanes,Oo(t,e,i)}return N0(t,e,n,r,i)}function H4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(Au,Oi),Oi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gn(Au,Oi),Oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gn(Au,Oi),Oi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gn(Au,Oi),Oi|=r;return ti(t,e,i,n),e.child}function W4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function N0(t,e,n,r,i){var s=vi(n)?Pl:Gr.current;return s=Hu(e,s),Lu(e,i),n=r2(t,e,n,r,s,i),r=i2(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oo(t,e,i)):(Tn&&r&&W1(e),e.flags|=1,ti(t,e,n,i),e.child)}function n5(t,e,n,r,i){if(vi(n)){var s=!0;Zd(e)}else s=!1;if(Lu(e,i),e.stateNode===null)Ad(t,e),B4(e,n,r),I0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=vi(n)?Pl:Gr.current,u=Hu(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yy(e,o,r,u),ga=!1;var v=e.memoizedState;o.state=v,ip(e,r,o,i),l=e.memoizedState,a!==r||v!==l||gi.current||ga?(typeof f=="function"&&(x0(e,n,f,r),l=e.memoizedState),(a=ga||Qy(e,n,a,r,v,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_4(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gs(e.type,a),o.props=u,m=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=vi(n)?Pl:Gr.current,l=Hu(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||v!==l)&&Yy(e,o,r,l),ga=!1,v=e.memoizedState,o.state=v,ip(e,r,o,i);var S=e.memoizedState;a!==m||v!==S||gi.current||ga?(typeof p=="function"&&(x0(e,n,p,r),S=e.memoizedState),(u=ga||Qy(e,n,u,r,v,S,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return k0(t,e,n,r,s,i)}function k0(t,e,n,r,i,s){W4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Uy(e,n,!1),Oo(t,e,s);r=e.stateNode,kT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$u(e,t.child,null,s),e.child=$u(e,null,a,s)):ti(t,e,a,s),e.memoizedState=r.state,i&&Uy(e,n,!0),e.child}function $4(t){var e=t.stateNode;e.pendingContext?By(t,e.pendingContext,e.pendingContext!==e.context):e.context&&By(t,e.context,!1),Z1(t,e.containerInfo)}function r5(t,e,n,r,i){return Wu(),G1(i),e.flags|=256,ti(t,e,n,r),e.child}var P0={dehydrated:null,treeContext:null,retryLane:0};function C0(t){return{baseLanes:t,cachePool:null,transitions:null}}function G4(t,e,n){var r=e.pendingProps,i=Ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gn(Ln,i&1),t===null)return E0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kp(o,r,0,null),t=Tl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=C0(n),e.memoizedState=P0,t):a2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Da(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Da(a,s):(s=Tl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?C0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=P0,r}return s=t.child,t=s.sibling,r=Da(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function a2(t,e){return e=Kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xf(t,e,n,r){return r!==null&&G1(r),$u(e,t.child,null,n),t=a2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=og(Error(De(422))),Xf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kp({mode:"visible",children:r.children},i,0,null),s=Tl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$u(e,t.child,null,o),e.child.memoizedState=C0(o),e.memoizedState=P0,s);if(!(e.mode&1))return Xf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(De(419)),r=og(s,r,void 0),Xf(t,e,o,r)}if(a=(o&t.childLanes)!==0,mi||a){if(r=_r,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Do(t,i),ws(r,t,i,-1))}return d2(),r=og(Error(De(421))),Xf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fi=Pa(i.nextSibling),Vi=e,Tn=!0,ys=null,t!==null&&(Ji[Zi++]=So,Ji[Zi++]=Eo,Ji[Zi++]=Cl,So=t.id,Eo=t.overflow,Cl=e),e=a2(e,r.children),e.flags|=4096,e)}function i5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),A0(t.return,e,n)}function ag(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function K4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ti(t,e,r.children,n),r=Ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i5(t,n,e);else if(t.tag===19)i5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gn(Ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ag(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ag(e,!0,n,null,s);break;case"together":ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CT(t,e,n){switch(e.tag){case 3:$4(e),Wu();break;case 5:w4(e);break;case 1:vi(e.type)&&Zd(e);break;case 4:Z1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gn(np,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Ln,Ln.current&1),e.flags|=128,null):n&e.child.childLanes?G4(t,e,n):(gn(Ln,Ln.current&1),t=Oo(t,e,n),t!==null?t.sibling:null);gn(Ln,Ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Ln,Ln.current),r)break;return null;case 22:case 23:return e.lanes=0,H4(t,e,n)}return Oo(t,e,n)}var Q4,L0,Y4,X4;Q4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};L0=function(){};Y4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Al(Ys.current);var s=null;switch(n){case"input":i=e0(t,i),r=e0(t,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=r0(t,i),r=r0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xd)}s0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ah.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ah.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&wn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};X4=function(t,e,n,r){n!==r&&(e.flags|=4)};function qc(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LT(t,e,n){var r=e.pendingProps;switch($1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(e),null;case 1:return vi(e.type)&&Jd(),jr(e),null;case 3:return r=e.stateNode,Gu(),Sn(gi),Sn(Gr),t2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ys!==null&&(B0(ys),ys=null))),L0(t,e),jr(e),null;case 5:e2(e);var i=Al(Fh.current);if(n=e.type,t!==null&&e.stateNode!=null)Y4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return jr(e),null}if(t=Al(Ys.current),Qf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gs]=e,r[Dh]=s,t=(e.mode&1)!==0,n){case"dialog":wn("cancel",r),wn("close",r);break;case"iframe":case"object":case"embed":wn("load",r);break;case"video":case"audio":for(i=0;i<Zc.length;i++)wn(Zc[i],r);break;case"source":wn("error",r);break;case"img":case"image":case"link":wn("error",r),wn("load",r);break;case"details":wn("toggle",r);break;case"input":dy(r,s),wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wn("invalid",r);break;case"textarea":my(r,s),wn("invalid",r)}s0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",""+a]):Ah.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wn("scroll",r)}switch(n){case"input":Bf(r),py(r,s,!0);break;case"textarea":Bf(r),gy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gs]=e,t[Dh]=r,Q4(t,e,!1,!1),e.stateNode=t;e:{switch(o=o0(n,r),n){case"dialog":wn("cancel",t),wn("close",t),i=r;break;case"iframe":case"object":case"embed":wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zc.length;i++)wn(Zc[i],t);i=r;break;case"source":wn("error",t),i=r;break;case"img":case"image":case"link":wn("error",t),wn("load",t),i=r;break;case"details":wn("toggle",t),i=r;break;case"input":dy(t,r),i=e0(t,r),wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),wn("invalid",t);break;case"textarea":my(t,r),i=r0(t,r),wn("invalid",t);break;default:i=r}s0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ib(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xh(t,l):typeof l=="number"&&xh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ah.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wn("scroll",t):l!=null&&C1(t,s,l,o))}switch(n){case"input":Bf(t),py(t,r,!1);break;case"textarea":Bf(t),gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ua(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jr(e),null;case 6:if(t&&e.stateNode!=null)X4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=Al(Fh.current),Al(Ys.current),Qf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gs]=e,(s=r.nodeValue!==n)&&(t=Vi,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gs]=e,e.stateNode=r}return jr(e),null;case 13:if(Sn(Ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&Fi!==null&&e.mode&1&&!(e.flags&128))m4(),Wu(),e.flags|=98560,s=!1;else if(s=Qf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Gs]=e}else Wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jr(e),s=!1}else ys!==null&&(B0(ys),ys=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ln.current&1?ur===0&&(ur=3):d2())),e.updateQueue!==null&&(e.flags|=4),jr(e),null);case 4:return Gu(),L0(t,e),t===null&&Lh(e.stateNode.containerInfo),jr(e),null;case 10:return Y1(e.type._context),jr(e),null;case 17:return vi(e.type)&&Jd(),jr(e),null;case 19:if(Sn(Ln),s=e.memoizedState,s===null)return jr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qc(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sp(t),o!==null){for(e.flags|=128,qc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gn(Ln,Ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qn()>Qu&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304)}else{if(!r)if(t=sp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return jr(e),null}else 2*Qn()-s.renderingStartTime>Qu&&n!==1073741824&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qn(),e.sibling=null,n=Ln.current,gn(Ln,r?n&1|2:n&1),e):(jr(e),null);case 22:case 23:return f2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oi&1073741824&&(jr(e),e.subtreeFlags&6&&(e.flags|=8192)):jr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function RT(t,e){switch($1(e),e.tag){case 1:return vi(e.type)&&Jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gu(),Sn(gi),Sn(Gr),t2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e2(e),null;case 13:if(Sn(Ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Ln),null;case 4:return Gu(),null;case 10:return Y1(e.type._context),null;case 22:case 23:return f2(),null;case 24:return null;default:return null}}var Jf=!1,Wr=!1,DT=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(t,e,r)}else n.current=null}function R0(t,e,n){try{n()}catch(r){Un(t,e,r)}}var s5=!1;function OT(t,e){if(g0=Kd,t=n4(),H1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,m=t,v=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)v=m,m=p;for(;;){if(m===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++f===r&&(l=o),(p=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(v0={focusedElem:t,selectionRange:n},Kd=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,R=S.memoizedState,w=e.stateNode,k=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:gs(e.type,T),R);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(F){Un(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return S=s5,s5=!1,S}function hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&R0(e,n,s)}i=i.next}while(i!==r)}}function $p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function D0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J4(t){var e=t.alternate;e!==null&&(t.alternate=null,J4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gs],delete e[Dh],delete e[w0],delete e[vT],delete e[yT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z4(t){return t.tag===5||t.tag===3||t.tag===4}function o5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function O0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xd));else if(r!==4&&(t=t.child,t!==null))for(O0(t,e,n),t=t.sibling;t!==null;)O0(t,e,n),t=t.sibling}function F0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(F0(t,e,n),t=t.sibling;t!==null;)F0(t,e,n),t=t.sibling}var xr=null,vs=!1;function ha(t,e,n){for(n=n.child;n!==null;)e3(t,e,n),n=n.sibling}function e3(t,e,n){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(jp,n)}catch{}switch(n.tag){case 5:Wr||Eu(n,e);case 6:var r=xr,i=vs;xr=null,ha(t,e,n),xr=r,vs=i,xr!==null&&(vs?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(vs?(t=xr,n=n.stateNode,t.nodeType===8?eg(t.parentNode,n):t.nodeType===1&&eg(t,n),kh(t)):eg(xr,n.stateNode));break;case 4:r=xr,i=vs,xr=n.stateNode.containerInfo,vs=!0,ha(t,e,n),xr=r,vs=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&R0(n,e,o),i=i.next}while(i!==r)}ha(t,e,n);break;case 1:if(!Wr&&(Eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,e,a)}ha(t,e,n);break;case 21:ha(t,e,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,ha(t,e,n),Wr=r):ha(t,e,n);break;default:ha(t,e,n)}}function a5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DT),e.forEach(function(r){var i=HT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xr=a.stateNode,vs=!1;break e;case 3:xr=a.stateNode.containerInfo,vs=!0;break e;case 4:xr=a.stateNode.containerInfo,vs=!0;break e}a=a.return}if(xr===null)throw Error(De(160));e3(s,o,i),xr=null,vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Un(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t3(e,t),e=e.sibling}function t3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ps(e,t),qs(t),r&4){try{hh(3,t,t.return),$p(3,t)}catch(T){Un(t,t.return,T)}try{hh(5,t,t.return)}catch(T){Un(t,t.return,T)}}break;case 1:ps(e,t),qs(t),r&512&&n!==null&&Eu(n,n.return);break;case 5:if(ps(e,t),qs(t),r&512&&n!==null&&Eu(n,n.return),t.flags&32){var i=t.stateNode;try{xh(i,"")}catch(T){Un(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Eb(i,s),o0(a,o);var u=o0(a,s);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?Nb(i,m):f==="dangerouslySetInnerHTML"?Ib(i,m):f==="children"?xh(i,m):C1(i,f,m,u)}switch(a){case"input":t0(i,s);break;case"textarea":Ab(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Nu(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?Nu(i,!!s.multiple,s.defaultValue,!0):Nu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dh]=s}catch(T){Un(t,t.return,T)}}break;case 6:if(ps(e,t),qs(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Un(t,t.return,T)}}break;case 3:if(ps(e,t),qs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kh(e.containerInfo)}catch(T){Un(t,t.return,T)}break;case 4:ps(e,t),qs(t);break;case 13:ps(e,t),qs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(c2=Qn())),r&4&&a5(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wr=(u=Wr)||f,ps(e,t),Wr=u):ps(e,t),qs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ze=t,f=t.child;f!==null;){for(m=ze=f;ze!==null;){switch(v=ze,p=v.child,v.tag){case 0:case 11:case 14:case 15:hh(4,v,v.return);break;case 1:Eu(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(T){Un(r,n,T)}}break;case 5:Eu(v,v.return);break;case 22:if(v.memoizedState!==null){u5(m);continue}}p!==null?(p.return=v,ze=p):u5(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tb("display",o))}catch(T){Un(t,t.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(T){Un(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ps(e,t),qs(t),r&4&&a5(t);break;case 21:break;default:ps(e,t),qs(t)}}function qs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Z4(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xh(i,""),r.flags&=-33);var s=o5(t);F0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o5(t);O0(t,a,o);break;default:throw Error(De(161))}}catch(l){Un(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FT(t,e,n){ze=t,n3(t)}function n3(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=Jf;var u=Wr;if(Jf=o,(Wr=l)&&!u)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?c5(i):l!==null?(l.return=o,ze=l):c5(i);for(;s!==null;)ze=s,n3(s),s=s.sibling;ze=i,Jf=a,Wr=u}l5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):l5(t)}}function l5(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||$p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$y(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$y(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&kh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Wr||e.flags&512&&D0(e)}catch(v){Un(e,e.return,v)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function u5(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function c5(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$p(4,e)}catch(l){Un(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Un(e,i,l)}}var s=e.return;try{D0(e)}catch(l){Un(e,s,l)}break;case 5:var o=e.return;try{D0(e)}catch(l){Un(e,o,l)}}}catch(l){Un(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var MT=Math.ceil,lp=Uo.ReactCurrentDispatcher,l2=Uo.ReactCurrentOwner,ts=Uo.ReactCurrentBatchConfig,$t=0,_r=null,nr=null,Nr=0,Oi=0,Au=Ka(0),ur=0,Bh=null,Rl=0,Gp=0,u2=0,fh=null,di=null,c2=0,Qu=1/0,_o=null,up=!1,M0=null,La=null,Zf=!1,Aa=null,cp=0,dh=0,j0=null,xd=-1,Id=0;function ri(){return $t&6?Qn():xd!==-1?xd:xd=Qn()}function Ra(t){return t.mode&1?$t&2&&Nr!==0?Nr&-Nr:wT.transition!==null?(Id===0&&(Id=Bb()),Id):(t=an,t!==0||(t=window.event,t=t===void 0?16:Gb(t.type)),t):1}function ws(t,e,n,r){if(50<dh)throw dh=0,j0=null,Error(De(185));ef(t,n,r),(!($t&2)||t!==_r)&&(t===_r&&(!($t&2)&&(Gp|=n),ur===4&&ya(t,Nr)),yi(t,r),n===1&&$t===0&&!(e.mode&1)&&(Qu=Qn()+500,qp&&Qa()))}function yi(t,e){var n=t.callbackNode;wI(t,e);var r=Gd(t,t===_r?Nr:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?_T(h5.bind(null,t)):f4(h5.bind(null,t)),mT(function(){!($t&6)&&Qa()}),n=null;else{switch(Ub(r)){case 1:n=F1;break;case 4:n=jb;break;case 16:n=$d;break;case 536870912:n=Vb;break;default:n=$d}n=c3(n,r3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function r3(t,e){if(xd=-1,Id=0,$t&6)throw Error(De(327));var n=t.callbackNode;if(Ru()&&t.callbackNode!==n)return null;var r=Gd(t,t===_r?Nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hp(t,r);else{e=r;var i=$t;$t|=2;var s=s3();(_r!==t||Nr!==e)&&(_o=null,Qu=Qn()+500,Il(t,e));do try{BT();break}catch(a){i3(t,a)}while(!0);Q1(),lp.current=s,$t=i,nr!==null?e=0:(_r=null,Nr=0,e=ur)}if(e!==0){if(e===2&&(i=h0(t),i!==0&&(r=i,e=V0(t,i))),e===1)throw n=Bh,Il(t,0),ya(t,r),yi(t,Qn()),n;if(e===6)ya(t,r);else{if(i=t.current.alternate,!(r&30)&&!jT(i)&&(e=hp(t,r),e===2&&(s=h0(t),s!==0&&(r=s,e=V0(t,s))),e===1))throw n=Bh,Il(t,0),ya(t,r),yi(t,Qn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:yl(t,di,_o);break;case 3:if(ya(t,r),(r&130023424)===r&&(e=c2+500-Qn(),10<e)){if(Gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ri(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_0(yl.bind(null,t,di,_o),e);break}yl(t,di,_o);break;case 4:if(ya(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_s(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MT(r/1960))-r,10<r){t.timeoutHandle=_0(yl.bind(null,t,di,_o),r);break}yl(t,di,_o);break;case 5:yl(t,di,_o);break;default:throw Error(De(329))}}}return yi(t,Qn()),t.callbackNode===n?r3.bind(null,t):null}function V0(t,e){var n=fh;return t.current.memoizedState.isDehydrated&&(Il(t,e).flags|=256),t=hp(t,e),t!==2&&(e=di,di=n,e!==null&&B0(e)),t}function B0(t){di===null?di=t:di.push.apply(di,t)}function jT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(t,e){for(e&=~u2,e&=~Gp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_s(e),r=1<<n;t[n]=-1,e&=~r}}function h5(t){if($t&6)throw Error(De(327));Ru();var e=Gd(t,0);if(!(e&1))return yi(t,Qn()),null;var n=hp(t,e);if(t.tag!==0&&n===2){var r=h0(t);r!==0&&(e=r,n=V0(t,r))}if(n===1)throw n=Bh,Il(t,0),ya(t,e),yi(t,Qn()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,di,_o),yi(t,Qn()),null}function h2(t,e){var n=$t;$t|=1;try{return t(e)}finally{$t=n,$t===0&&(Qu=Qn()+500,qp&&Qa())}}function Dl(t){Aa!==null&&Aa.tag===0&&!($t&6)&&Ru();var e=$t;$t|=1;var n=ts.transition,r=an;try{if(ts.transition=null,an=1,t)return t()}finally{an=r,ts.transition=n,$t=e,!($t&6)&&Qa()}}function f2(){Oi=Au.current,Sn(Au)}function Il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pT(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch($1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jd();break;case 3:Gu(),Sn(gi),Sn(Gr),t2();break;case 5:e2(r);break;case 4:Gu();break;case 13:Sn(Ln);break;case 19:Sn(Ln);break;case 10:Y1(r.type._context);break;case 22:case 23:f2()}n=n.return}if(_r=t,nr=t=Da(t.current,null),Nr=Oi=e,ur=0,Bh=null,u2=Gp=Rl=0,di=fh=null,El!==null){for(e=0;e<El.length;e++)if(n=El[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}El=null}return t}function i3(t,e){do{var n=nr;try{if(Q1(),Sd.current=ap,op){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}op=!1}if(Ll=0,gr=lr=Rn=null,ch=!1,Mh=0,l2.current=null,n===null||n.return===null){ur=1,Bh=e,nr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Jy(o);if(p!==null){p.flags&=-257,Zy(p,o,a,s,e),p.mode&1&&Xy(s,u,e),e=p,l=u;var S=e.updateQueue;if(S===null){var T=new Set;T.add(l),e.updateQueue=T}else S.add(l);break e}else{if(!(e&1)){Xy(s,u,e),d2();break e}l=Error(De(426))}}else if(Tn&&a.mode&1){var R=Jy(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Zy(R,o,a,s,e),G1(Ku(l,a));break e}}s=l=Ku(l,a),ur!==4&&(ur=2),fh===null?fh=[s]:fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=U4(s,l,e);Wy(s,w);break e;case 1:a=l;var k=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(La===null||!La.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=z4(s,a,e);Wy(s,F);break e}}s=s.return}while(s!==null)}a3(n)}catch(J){e=J,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function s3(){var t=lp.current;return lp.current=ap,t===null?ap:t}function d2(){(ur===0||ur===3||ur===2)&&(ur=4),_r===null||!(Rl&268435455)&&!(Gp&268435455)||ya(_r,Nr)}function hp(t,e){var n=$t;$t|=2;var r=s3();(_r!==t||Nr!==e)&&(_o=null,Il(t,e));do try{VT();break}catch(i){i3(t,i)}while(!0);if(Q1(),$t=n,lp.current=r,nr!==null)throw Error(De(261));return _r=null,Nr=0,ur}function VT(){for(;nr!==null;)o3(nr)}function BT(){for(;nr!==null&&!hI();)o3(nr)}function o3(t){var e=u3(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,e===null?a3(t):nr=e,l2.current=null}function a3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RT(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,nr=null;return}}else if(n=LT(n,e,Oi),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);ur===0&&(ur=5)}function yl(t,e,n){var r=an,i=ts.transition;try{ts.transition=null,an=1,UT(t,e,n,r)}finally{ts.transition=i,an=r}return null}function UT(t,e,n,r){do Ru();while(Aa!==null);if($t&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bI(t,s),t===_r&&(nr=_r=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zf||(Zf=!0,c3($d,function(){return Ru(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ts.transition,ts.transition=null;var o=an;an=1;var a=$t;$t|=4,l2.current=null,OT(t,n),t3(n,t),aT(v0),Kd=!!g0,v0=g0=null,t.current=n,FT(n),fI(),$t=a,an=o,ts.transition=s}else t.current=n;if(Zf&&(Zf=!1,Aa=t,cp=i),s=t.pendingLanes,s===0&&(La=null),mI(n.stateNode),yi(t,Qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(up)throw up=!1,t=M0,M0=null,t;return cp&1&&t.tag!==0&&Ru(),s=t.pendingLanes,s&1?t===j0?dh++:(dh=0,j0=t):dh=0,Qa(),null}function Ru(){if(Aa!==null){var t=Ub(cp),e=ts.transition,n=an;try{if(ts.transition=null,an=16>t?16:t,Aa===null)var r=!1;else{if(t=Aa,Aa=null,cp=0,$t&6)throw Error(De(331));var i=$t;for($t|=4,ze=t.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var f=ze;switch(f.tag){case 0:case 11:case 15:hh(8,f,s)}var m=f.child;if(m!==null)m.return=f,ze=m;else for(;ze!==null;){f=ze;var v=f.sibling,p=f.return;if(J4(f),f===u){ze=null;break}if(v!==null){v.return=p,ze=v;break}ze=p}}}var S=s.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var R=T.sibling;T.sibling=null,T=R}while(T!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ze=w;break e}ze=s.return}}var k=t.current;for(ze=k;ze!==null;){o=ze;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ze=C;else e:for(o=k;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$p(9,a)}}catch(J){Un(a,a.return,J)}if(a===o){ze=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,ze=F;break e}ze=a.return}}if($t=i,Qa(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(jp,t)}catch{}r=!0}return r}finally{an=n,ts.transition=e}}return!1}function f5(t,e,n){e=Ku(n,e),e=U4(t,e,1),t=Ca(t,e,1),e=ri(),t!==null&&(ef(t,1,e),yi(t,e))}function Un(t,e,n){if(t.tag===3)f5(t,t,n);else for(;e!==null;){if(e.tag===3){f5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){t=Ku(n,t),t=z4(e,t,1),e=Ca(e,t,1),t=ri(),e!==null&&(ef(e,1,t),yi(e,t));break}}e=e.return}}function zT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ri(),t.pingedLanes|=t.suspendedLanes&n,_r===t&&(Nr&n)===n&&(ur===4||ur===3&&(Nr&130023424)===Nr&&500>Qn()-c2?Il(t,0):u2|=n),yi(t,e)}function l3(t,e){e===0&&(t.mode&1?(e=qf,qf<<=1,!(qf&130023424)&&(qf=4194304)):e=1);var n=ri();t=Do(t,e),t!==null&&(ef(t,e,n),yi(t,n))}function qT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l3(t,n)}function HT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),l3(t,n)}var u3;u3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)mi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mi=!1,CT(t,e,n);mi=!!(t.flags&131072)}else mi=!1,Tn&&e.flags&1048576&&d4(e,tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ad(t,e),t=e.pendingProps;var i=Hu(e,Gr.current);Lu(e,n),i=r2(null,e,r,t,i,n);var s=i2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(s=!0,Zd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,J1(e),i.updater=Wp,e.stateNode=i,i._reactInternals=e,I0(e,r,t,n),e=k0(null,e,r,!0,s,n)):(e.tag=0,Tn&&s&&W1(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$T(r),t=gs(r,t),i){case 0:e=N0(null,e,r,t,n);break e;case 1:e=n5(null,e,r,t,n);break e;case 11:e=e5(null,e,r,t,n);break e;case 14:e=t5(null,e,r,gs(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),N0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),n5(t,e,r,i,n);case 3:e:{if($4(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_4(t,e),ip(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ku(Error(De(423)),e),e=r5(t,e,r,n,i);break e}else if(r!==i){i=Ku(Error(De(424)),e),e=r5(t,e,r,n,i);break e}else for(Fi=Pa(e.stateNode.containerInfo.firstChild),Vi=e,Tn=!0,ys=null,n=v4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wu(),r===i){e=Oo(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return w4(e),t===null&&E0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,y0(r,i)?o=null:s!==null&&y0(r,s)&&(e.flags|=32),W4(t,e),ti(t,e,o,n),e.child;case 6:return t===null&&E0(e),null;case 13:return G4(t,e,n);case 4:return Z1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$u(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),e5(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gn(np,r._currentValue),r._currentValue=o,s!==null)if(bs(s.value,o)){if(s.children===i.children&&!gi.current){e=Oo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Po(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),A0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),A0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lu(e,n),i=ns(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=gs(r,e.pendingProps),i=gs(r.type,i),t5(t,e,r,i,n);case 15:return q4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),Ad(t,e),e.tag=1,vi(r)?(t=!0,Zd(e)):t=!1,Lu(e,n),B4(e,r,i),I0(e,r,i,n),k0(null,e,r,!0,t,n);case 19:return K4(t,e,n);case 22:return H4(t,e,n)}throw Error(De(156,e.tag))};function c3(t,e){return Mb(t,e)}function WT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(t,e,n,r){return new WT(t,e,n,r)}function p2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $T(t){if(typeof t=="function")return p2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R1)return 11;if(t===D1)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Td(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")p2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pu:return Tl(n.children,i,s,e);case L1:o=8,i|=8;break;case Yg:return t=es(12,n,e,i|2),t.elementType=Yg,t.lanes=s,t;case Xg:return t=es(13,n,e,i),t.elementType=Xg,t.lanes=s,t;case Jg:return t=es(19,n,e,i),t.elementType=Jg,t.lanes=s,t;case wb:return Kp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yb:o=10;break e;case _b:o=9;break e;case R1:o=11;break e;case D1:o=14;break e;case ma:o=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=es(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Tl(t,e,n,r){return t=es(7,t,r,e),t.lanes=n,t}function Kp(t,e,n,r){return t=es(22,t,r,e),t.elementType=wb,t.lanes=n,t.stateNode={isHidden:!1},t}function lg(t,e,n){return t=es(6,t,null,e),t.lanes=n,t}function ug(t,e,n){return e=es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m2(t,e,n,r,i,s,o,a,l){return t=new GT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=es(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J1(s),t}function KT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h3(t){if(!t)return za;t=t._reactInternals;e:{if(Wl(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(vi(n))return h4(t,n,e)}return e}function f3(t,e,n,r,i,s,o,a,l){return t=m2(n,r,!0,t,i,s,o,a,l),t.context=h3(null),n=t.current,r=ri(),i=Ra(n),s=Po(r,i),s.callback=e??null,Ca(n,s,i),t.current.lanes=i,ef(t,i,r),yi(t,r),t}function Qp(t,e,n,r){var i=e.current,s=ri(),o=Ra(i);return n=h3(n),e.context===null?e.context=n:e.pendingContext=n,e=Po(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ca(i,e,o),t!==null&&(ws(t,i,o,s),bd(t,i,o)),o}function fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g2(t,e){d5(t,e),(t=t.alternate)&&d5(t,e)}function QT(){return null}var d3=typeof reportError=="function"?reportError:function(t){console.error(t)};function v2(t){this._internalRoot=t}Yp.prototype.render=v2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));Qp(t,e,null,null)};Yp.prototype.unmount=v2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dl(function(){Qp(null,t,null,null)}),e[Ro]=null}};function Yp(t){this._internalRoot=t}Yp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<va.length&&e!==0&&e<va[n].priority;n++);va.splice(n,0,t),n===0&&$b(t)}};function y2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p5(){}function YT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fp(o);s.call(u)}}var o=f3(e,r,t,0,null,!1,!1,"",p5);return t._reactRootContainer=o,t[Ro]=o.current,Lh(t.nodeType===8?t.parentNode:t),Dl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fp(l);a.call(u)}}var l=m2(t,0,!1,null,null,!1,!1,"",p5);return t._reactRootContainer=l,t[Ro]=l.current,Lh(t.nodeType===8?t.parentNode:t),Dl(function(){Qp(e,l,n,r)}),l}function Jp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fp(o);a.call(l)}}Qp(e,o,t,i)}else o=YT(n,e,t,i,r);return fp(o)}zb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jc(e.pendingLanes);n!==0&&(M1(e,n|1),yi(e,Qn()),!($t&6)&&(Qu=Qn()+500,Qa()))}break;case 13:Dl(function(){var r=Do(t,1);if(r!==null){var i=ri();ws(r,t,1,i)}}),g2(t,1)}};j1=function(t){if(t.tag===13){var e=Do(t,134217728);if(e!==null){var n=ri();ws(e,t,134217728,n)}g2(t,134217728)}};qb=function(t){if(t.tag===13){var e=Ra(t),n=Do(t,e);if(n!==null){var r=ri();ws(n,t,e,r)}g2(t,e)}};Hb=function(){return an};Wb=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};l0=function(t,e,n){switch(e){case"input":if(t0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zp(r);if(!i)throw Error(De(90));Sb(r),t0(r,i)}}}break;case"textarea":Ab(t,n);break;case"select":e=n.value,e!=null&&Nu(t,!!n.multiple,e,!1)}};Cb=h2;Lb=Dl;var XT={usingClientEntryPoint:!1,Events:[nf,yu,zp,kb,Pb,h2]},Hc={findFiberByHostInstance:Sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JT={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ob(t),t===null?null:t.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||QT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{jp=ed.inject(JT),Qs=ed}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT;zi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y2(e))throw Error(De(200));return KT(t,e,null,n)};zi.createRoot=function(t,e){if(!y2(t))throw Error(De(299));var n=!1,r="",i=d3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=m2(t,1,!1,null,null,n,!1,r,i),t[Ro]=e.current,Lh(t.nodeType===8?t.parentNode:t),new v2(e)};zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=Ob(e),t=t===null?null:t.stateNode,t};zi.flushSync=function(t){return Dl(t)};zi.hydrate=function(t,e,n){if(!Xp(e))throw Error(De(200));return Jp(null,t,e,!0,n)};zi.hydrateRoot=function(t,e,n){if(!y2(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=d3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=f3(e,null,t,1,n??null,i,!1,s,o),t[Ro]=e.current,Lh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yp(e)};zi.render=function(t,e,n){if(!Xp(e))throw Error(De(200));return Jp(null,t,e,!1,n)};zi.unmountComponentAtNode=function(t){if(!Xp(t))throw Error(De(40));return t._reactRootContainer?(Dl(function(){Jp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};zi.unstable_batchedUpdates=h2;zi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xp(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return Jp(t,e,n,!1,r)};zi.version="18.3.1-next-f1338f8080-20240426";function p3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p3)}catch(t){console.error(t)}}p3(),pb.exports=zi;var ZT=pb.exports,m5=ZT;Kg.createRoot=m5.createRoot,Kg.hydrateRoot=m5.hydrateRoot;var g5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},g3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(v=64)),r.push(n[f],n[m],n[v],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new t6;const v=s<<2|a>>4;if(r.push(v),u!==64){const p=a<<4&240|u>>2;if(r.push(p),m!==64){const S=u<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n6=function(t){const e=m3(t);return g3.encodeByteArray(e,!0)},dp=function(t){return n6(t).replace(/\./g,"")},v3=function(t){try{return g3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=()=>r6().__FIREBASE_DEFAULTS__,s6=()=>{if(typeof process>"u"||typeof g5>"u")return;const t=g5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v3(t[1]);return e&&JSON.parse(e)},Zp=()=>{try{return i6()||s6()||o6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y3=t=>{var e,n;return(n=(e=Zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a6=t=>{const e=y3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_3=()=>{var t;return(t=Zp())===null||t===void 0?void 0:t.config},w3=t=>{var e;return(e=Zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dp(JSON.stringify(n)),dp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function h6(){var t;const e=(t=Zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m6(){const t=Kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g6(){return!h6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v6(){try{return typeof indexedDB=="object"}catch{return!1}}function y6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="FirebaseError";class zo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_6,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zo(i,a,r)}}function w6(t,e){return t.replace(b6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const b6=/\{\$([^}]+)}/g;function S6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(v5(s)&&v5(o)){if(!pp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function v5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E6(t,e){const n=new A6(t,e);return n.subscribe.bind(n)}class A6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cg),i.error===void 0&&(i.error=cg),i.complete===void 0&&(i.complete=cg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N6(e))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_l){return this.instances.has(e)}getOptions(e=_l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_l){return this.component?this.component.multipleInstances?e:_l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T6(t){return t===_l?void 0:t}function N6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const P6={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},C6=Bt.INFO,L6={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},R6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=L6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _2{constructor(e){this.name=e,this._logLevel=C6,this._logHandler=R6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const D6=(t,e)=>e.some(n=>t instanceof n);let y5,_5;function O6(){return y5||(y5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F6(){return _5||(_5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b3=new WeakMap,U0=new WeakMap,S3=new WeakMap,hg=new WeakMap,w2=new WeakMap;function M6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b3.set(n,t)}).catch(()=>{}),w2.set(e,t),e}function j6(t){if(U0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});U0.set(t,e)}let z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V6(t){z0=t(z0)}function B6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fg(this),e,...n);return S3.set(r,e.sort?e.sort():[e]),Oa(r)}:F6().includes(t)?function(...e){return t.apply(fg(this),e),Oa(b3.get(this))}:function(...e){return Oa(t.apply(fg(this),e))}}function U6(t){return typeof t=="function"?B6(t):(t instanceof IDBTransaction&&j6(t),D6(t,O6())?new Proxy(t,z0):t)}function Oa(t){if(t instanceof IDBRequest)return M6(t);if(hg.has(t))return hg.get(t);const e=U6(t);return e!==t&&(hg.set(t,e),w2.set(e,t)),e}const fg=t=>w2.get(t);function z6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oa(o.result),l.oldVersion,l.newVersion,Oa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const q6=["get","getKey","getAll","getAllKeys","count"],H6=["put","add","delete","clear"],dg=new Map;function w5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dg.set(e,s),s}V6(t=>({...t,get:(e,n,r)=>w5(e,n)||t.get(e,n,r),has:(e,n)=>!!w5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",b5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new _2("@firebase/app"),G6="@firebase/app-compat",K6="@firebase/analytics-compat",Q6="@firebase/analytics",Y6="@firebase/app-check-compat",X6="@firebase/app-check",J6="@firebase/auth",Z6="@firebase/auth-compat",eN="@firebase/database",tN="@firebase/data-connect",nN="@firebase/database-compat",rN="@firebase/functions",iN="@firebase/functions-compat",sN="@firebase/installations",oN="@firebase/installations-compat",aN="@firebase/messaging",lN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",hN="@firebase/remote-config",fN="@firebase/remote-config-compat",dN="@firebase/storage",pN="@firebase/storage-compat",mN="@firebase/firestore",gN="@firebase/vertexai-preview",vN="@firebase/firestore-compat",yN="firebase",_N="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="[DEFAULT]",wN={[q0]:"fire-core",[G6]:"fire-core-compat",[Q6]:"fire-analytics",[K6]:"fire-analytics-compat",[X6]:"fire-app-check",[Y6]:"fire-app-check-compat",[J6]:"fire-auth",[Z6]:"fire-auth-compat",[eN]:"fire-rtdb",[tN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[rN]:"fire-fn",[iN]:"fire-fn-compat",[sN]:"fire-iid",[oN]:"fire-iid-compat",[aN]:"fire-fcm",[lN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[hN]:"fire-rc",[fN]:"fire-rc-compat",[dN]:"fire-gcs",[pN]:"fire-gcs-compat",[mN]:"fire-fst",[vN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map,bN=new Map,W0=new Map;function S5(t,e){try{t.container.addComponent(e)}catch(n){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yu(t){const e=t.name;if(W0.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;W0.set(e,t);for(const n of mp.values())S5(n,t);for(const n of bN.values())S5(n,t);return!0}function b2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ao(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new sf("app","Firebase",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=_N;function E3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(n||(n=_3()),!n)throw Fa.create("no-options");const s=mp.get(i);if(s){if(pp(n,s.options)&&pp(r,s.config))return s;throw Fa.create("duplicate-app",{appName:i})}const o=new k6(i);for(const l of W0.values())o.addComponent(l);const a=new EN(n,r,o);return mp.set(i,a),a}function A3(t=H0){const e=mp.get(t);if(!e&&t===H0&&_3())return E3();if(!e)throw Fa.create("no-app",{appName:t});return e}function Ma(t,e,n){var r;let i=(r=wN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fo.warn(a.join(" "));return}Yu(new Ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="firebase-heartbeat-database",xN=1,Uh="firebase-heartbeat-store";let pg=null;function x3(){return pg||(pg=z6(AN,xN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),pg}async function IN(t){try{const n=(await x3()).transaction(Uh),r=await n.objectStore(Uh).get(I3(t));return await n.done,r}catch(e){if(e instanceof zo)Fo.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fo.warn(n.message)}}}async function E5(t,e){try{const r=(await x3()).transaction(Uh,"readwrite");await r.objectStore(Uh).put(e,I3(t)),await r.done}catch(n){if(n instanceof zo)Fo.warn(n.message);else{const r=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fo.warn(r.message)}}}function I3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1024,NN=30*24*60*60*1e3;class kN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=NN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A5(),{heartbeatsToSend:r,unsentEntries:i}=PN(this._heartbeatsCache.heartbeats),s=dp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fo.warn(n),""}}}function A5(){return new Date().toISOString().substring(0,10)}function PN(t,e=TN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),x5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),x5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v6()?y6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function x5(t){return dp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){Yu(new Ol("platform-logger",e=>new W6(e),"PRIVATE")),Yu(new Ol("heartbeat",e=>new kN(e),"PRIVATE")),Ma(q0,b5,t),Ma(q0,b5,"esm2017"),Ma("fire-js","")}LN("");var I5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nl,T3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function I(){}I.prototype=A.prototype,V.D=A.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(L,E,P){for(var x=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)x[Q-2]=arguments[Q];return A.prototype[E].apply(L,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,A,I){I||(I=0);var L=Array(16);if(typeof A=="string")for(var E=0;16>E;++E)L[E]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(E=0;16>E;++E)L[E]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=V.g[0],I=V.g[1],E=V.g[2];var P=V.g[3],x=A+(P^I&(E^P))+L[0]+3614090360&4294967295;A=I+(x<<7&4294967295|x>>>25),x=P+(E^A&(I^E))+L[1]+3905402710&4294967295,P=A+(x<<12&4294967295|x>>>20),x=E+(I^P&(A^I))+L[2]+606105819&4294967295,E=P+(x<<17&4294967295|x>>>15),x=I+(A^E&(P^A))+L[3]+3250441966&4294967295,I=E+(x<<22&4294967295|x>>>10),x=A+(P^I&(E^P))+L[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=P+(E^A&(I^E))+L[5]+1200080426&4294967295,P=A+(x<<12&4294967295|x>>>20),x=E+(I^P&(A^I))+L[6]+2821735955&4294967295,E=P+(x<<17&4294967295|x>>>15),x=I+(A^E&(P^A))+L[7]+4249261313&4294967295,I=E+(x<<22&4294967295|x>>>10),x=A+(P^I&(E^P))+L[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=P+(E^A&(I^E))+L[9]+2336552879&4294967295,P=A+(x<<12&4294967295|x>>>20),x=E+(I^P&(A^I))+L[10]+4294925233&4294967295,E=P+(x<<17&4294967295|x>>>15),x=I+(A^E&(P^A))+L[11]+2304563134&4294967295,I=E+(x<<22&4294967295|x>>>10),x=A+(P^I&(E^P))+L[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=P+(E^A&(I^E))+L[13]+4254626195&4294967295,P=A+(x<<12&4294967295|x>>>20),x=E+(I^P&(A^I))+L[14]+2792965006&4294967295,E=P+(x<<17&4294967295|x>>>15),x=I+(A^E&(P^A))+L[15]+1236535329&4294967295,I=E+(x<<22&4294967295|x>>>10),x=A+(E^P&(I^E))+L[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=P+(I^E&(A^I))+L[6]+3225465664&4294967295,P=A+(x<<9&4294967295|x>>>23),x=E+(A^I&(P^A))+L[11]+643717713&4294967295,E=P+(x<<14&4294967295|x>>>18),x=I+(P^A&(E^P))+L[0]+3921069994&4294967295,I=E+(x<<20&4294967295|x>>>12),x=A+(E^P&(I^E))+L[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=P+(I^E&(A^I))+L[10]+38016083&4294967295,P=A+(x<<9&4294967295|x>>>23),x=E+(A^I&(P^A))+L[15]+3634488961&4294967295,E=P+(x<<14&4294967295|x>>>18),x=I+(P^A&(E^P))+L[4]+3889429448&4294967295,I=E+(x<<20&4294967295|x>>>12),x=A+(E^P&(I^E))+L[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=P+(I^E&(A^I))+L[14]+3275163606&4294967295,P=A+(x<<9&4294967295|x>>>23),x=E+(A^I&(P^A))+L[3]+4107603335&4294967295,E=P+(x<<14&4294967295|x>>>18),x=I+(P^A&(E^P))+L[8]+1163531501&4294967295,I=E+(x<<20&4294967295|x>>>12),x=A+(E^P&(I^E))+L[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=P+(I^E&(A^I))+L[2]+4243563512&4294967295,P=A+(x<<9&4294967295|x>>>23),x=E+(A^I&(P^A))+L[7]+1735328473&4294967295,E=P+(x<<14&4294967295|x>>>18),x=I+(P^A&(E^P))+L[12]+2368359562&4294967295,I=E+(x<<20&4294967295|x>>>12),x=A+(I^E^P)+L[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=P+(A^I^E)+L[8]+2272392833&4294967295,P=A+(x<<11&4294967295|x>>>21),x=E+(P^A^I)+L[11]+1839030562&4294967295,E=P+(x<<16&4294967295|x>>>16),x=I+(E^P^A)+L[14]+4259657740&4294967295,I=E+(x<<23&4294967295|x>>>9),x=A+(I^E^P)+L[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=P+(A^I^E)+L[4]+1272893353&4294967295,P=A+(x<<11&4294967295|x>>>21),x=E+(P^A^I)+L[7]+4139469664&4294967295,E=P+(x<<16&4294967295|x>>>16),x=I+(E^P^A)+L[10]+3200236656&4294967295,I=E+(x<<23&4294967295|x>>>9),x=A+(I^E^P)+L[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=P+(A^I^E)+L[0]+3936430074&4294967295,P=A+(x<<11&4294967295|x>>>21),x=E+(P^A^I)+L[3]+3572445317&4294967295,E=P+(x<<16&4294967295|x>>>16),x=I+(E^P^A)+L[6]+76029189&4294967295,I=E+(x<<23&4294967295|x>>>9),x=A+(I^E^P)+L[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=P+(A^I^E)+L[12]+3873151461&4294967295,P=A+(x<<11&4294967295|x>>>21),x=E+(P^A^I)+L[15]+530742520&4294967295,E=P+(x<<16&4294967295|x>>>16),x=I+(E^P^A)+L[2]+3299628645&4294967295,I=E+(x<<23&4294967295|x>>>9),x=A+(E^(I|~P))+L[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=P+(I^(A|~E))+L[7]+1126891415&4294967295,P=A+(x<<10&4294967295|x>>>22),x=E+(A^(P|~I))+L[14]+2878612391&4294967295,E=P+(x<<15&4294967295|x>>>17),x=I+(P^(E|~A))+L[5]+4237533241&4294967295,I=E+(x<<21&4294967295|x>>>11),x=A+(E^(I|~P))+L[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=P+(I^(A|~E))+L[3]+2399980690&4294967295,P=A+(x<<10&4294967295|x>>>22),x=E+(A^(P|~I))+L[10]+4293915773&4294967295,E=P+(x<<15&4294967295|x>>>17),x=I+(P^(E|~A))+L[1]+2240044497&4294967295,I=E+(x<<21&4294967295|x>>>11),x=A+(E^(I|~P))+L[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=P+(I^(A|~E))+L[15]+4264355552&4294967295,P=A+(x<<10&4294967295|x>>>22),x=E+(A^(P|~I))+L[6]+2734768916&4294967295,E=P+(x<<15&4294967295|x>>>17),x=I+(P^(E|~A))+L[13]+1309151649&4294967295,I=E+(x<<21&4294967295|x>>>11),x=A+(E^(I|~P))+L[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=P+(I^(A|~E))+L[11]+3174756917&4294967295,P=A+(x<<10&4294967295|x>>>22),x=E+(A^(P|~I))+L[2]+718787259&4294967295,E=P+(x<<15&4294967295|x>>>17),x=I+(P^(E|~A))+L[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(E+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+E&4294967295,V.g[3]=V.g[3]+P&4294967295}r.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var I=A-this.blockSize,L=this.B,E=this.h,P=0;P<A;){if(E==0)for(;P<=I;)i(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<A;)if(L[E++]=V.charCodeAt(P++),E==this.blockSize){i(this,L),E=0;break}}else for(;P<A;)if(L[E++]=V[P++],E==this.blockSize){i(this,L),E=0;break}}this.h=E,this.o+=A},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var I=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=I&255,I/=256;for(this.u(V),V=Array(16),A=I=0;4>A;++A)for(var L=0;32>L;L+=8)V[I++]=this.g[A]>>>L&255;return V};function s(V,A){var I=a;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=A(V)}function o(V,A){this.h=A;for(var I=[],L=!0,E=V.length-1;0<=E;E--){var P=V[E]|0;L&&P==A||(I[E]=P,L=!1)}this.g=I}var a={};function l(V){return-128<=V&&128>V?s(V,function(A){return new o([A|0],0>A?-1:0)}):new o([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return R(u(-V));for(var A=[],I=1,L=0;V>=I;L++)A[L]=V/I|0,I*=4294967296;return new o(A,0)}function f(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return R(f(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(A,8)),L=m,E=0;E<V.length;E+=8){var P=Math.min(8,V.length-E),x=parseInt(V.substring(E,E+P),A);8>P?(P=u(Math.pow(A,P)),L=L.j(P).add(u(x))):(L=L.j(I),L=L.add(u(x)))}return L}var m=l(0),v=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-R(this).m();for(var V=0,A=1,I=0;I<this.g.length;I++){var L=this.i(I);V+=(0<=L?L:4294967296+L)*A,A*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(T(this))return"-"+R(this).toString(V);for(var A=u(Math.pow(V,6)),I=this,L="";;){var E=F(I,A).g;I=w(I,E.j(A));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=E,S(I))return P+L;for(;6>P.length;)P="0"+P;L=P+L}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function T(V){return V.h==-1}t.l=function(V){return V=w(this,V),T(V)?-1:S(V)?0:1};function R(V){for(var A=V.g.length,I=[],L=0;L<A;L++)I[L]=~V.g[L];return new o(I,~V.h).add(v)}t.abs=function(){return T(this)?R(this):this},t.add=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],L=0,E=0;E<=A;E++){var P=L+(this.i(E)&65535)+(V.i(E)&65535),x=(P>>>16)+(this.i(E)>>>16)+(V.i(E)>>>16);L=x>>>16,P&=65535,x&=65535,I[E]=x<<16|P}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(V,A){return V.add(R(A))}t.j=function(V){if(S(this)||S(V))return m;if(T(this))return T(V)?R(this).j(R(V)):R(R(this).j(V));if(T(V))return R(this.j(R(V)));if(0>this.l(p)&&0>V.l(p))return u(this.m()*V.m());for(var A=this.g.length+V.g.length,I=[],L=0;L<2*A;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var E=0;E<V.g.length;E++){var P=this.i(L)>>>16,x=this.i(L)&65535,Q=V.i(E)>>>16,ae=V.i(E)&65535;I[2*L+2*E]+=x*ae,k(I,2*L+2*E),I[2*L+2*E+1]+=P*ae,k(I,2*L+2*E+1),I[2*L+2*E+1]+=x*Q,k(I,2*L+2*E+1),I[2*L+2*E+2]+=P*Q,k(I,2*L+2*E+2)}for(L=0;L<A;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=A;L<2*A;L++)I[L]=0;return new o(I,0)};function k(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function C(V,A){this.g=V,this.h=A}function F(V,A){if(S(A))throw Error("division by zero");if(S(V))return new C(m,m);if(T(V))return A=F(R(V),A),new C(R(A.g),R(A.h));if(T(A))return A=F(V,R(A)),new C(R(A.g),A.h);if(30<V.g.length){if(T(V)||T(A))throw Error("slowDivide_ only works with positive integers.");for(var I=v,L=A;0>=L.l(V);)I=J(I),L=J(L);var E=ne(I,1),P=ne(L,1);for(L=ne(L,2),I=ne(I,2);!S(L);){var x=P.add(L);0>=x.l(V)&&(E=E.add(I),P=x),L=ne(L,1),I=ne(I,1)}return A=w(V,E.j(A)),new C(E,A)}for(E=m;0<=V.l(A);){for(I=Math.max(1,Math.floor(V.m()/A.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),P=u(I),x=P.j(A);T(x)||0<x.l(V);)I-=L,P=u(I),x=P.j(A);S(P)&&(P=v),E=E.add(P),V=w(V,x)}return new C(E,V)}t.A=function(V){return F(this,V).h},t.and=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)&V.i(L);return new o(I,this.h&V.h)},t.or=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)|V.i(L);return new o(I,this.h|V.h)},t.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)^V.i(L);return new o(I,this.h^V.h)};function J(V){for(var A=V.g.length+1,I=[],L=0;L<A;L++)I[L]=V.i(L)<<1|V.i(L-1)>>>31;return new o(I,V.h)}function ne(V,A){var I=A>>5;A%=32;for(var L=V.g.length-I,E=[],P=0;P<L;P++)E[P]=0<A?V.i(P+I)>>>A|V.i(P+I+1)<<32-A:V.i(P+I);return new o(E,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Nl=o}).apply(typeof I5<"u"?I5:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N3,nh,k3,Nd,$0,P3,C3,L3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,N){return h==Array.prototype||h==Object.prototype||(h[_]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<h.length;++_){var N=h[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var N=r;h=h.split(".");for(var z=0;z<h.length-1;z++){var le=h[z];if(!(le in N))break e;N=N[le]}h=h[h.length-1],z=N[h],_=_(z),_!=z&&_!=null&&e(N,h,{configurable:!0,writable:!0,value:_})}}function s(h,_){h instanceof String&&(h+="");var N=0,z=!1,le={next:function(){if(!z&&N<h.length){var pe=N++;return{value:_(pe,h[pe]),done:!1}}return z=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(h){return h||function(){return s(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function u(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function f(h,_,N){return h.call.apply(h.bind,arguments)}function m(h,_,N){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,z),h.apply(_,le)}}return function(){return h.apply(_,arguments)}}function v(h,_,N){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,v.apply(null,arguments)}function p(h,_){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function S(h,_){function N(){}N.prototype=_.prototype,h.aa=_.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(z,le,pe){for(var Oe=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)Oe[jt-2]=arguments[jt];return _.prototype[le].apply(z,Oe)}}function T(h){const _=h.length;if(0<_){const N=Array(_);for(let z=0;z<_;z++)N[z]=h[z];return N}return[]}function R(h,_){for(let N=1;N<arguments.length;N++){const z=arguments[N];if(l(z)){const le=h.length||0,pe=z.length||0;h.length=le+pe;for(let Oe=0;Oe<pe;Oe++)h[le+Oe]=z[Oe]}else h.push(z)}}class w{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){return/^[\s\xa0]*$/.test(h)}function C(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var J=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function ne(h,_,N){for(const z in h)_.call(N,h[z],z,h)}function V(h,_){for(const N in h)_.call(void 0,h[N],N,h)}function A(h){const _={};for(const N in h)_[N]=h[N];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let N,z;for(let le=1;le<arguments.length;le++){z=arguments[le];for(N in z)h[N]=z[N];for(let pe=0;pe<I.length;pe++)N=I[pe],Object.prototype.hasOwnProperty.call(z,N)&&(h[N]=z[N])}}function E(h){var _=1;h=h.split(":");const N=[];for(;0<_&&h.length;)N.push(h.shift()),_--;return h.length&&N.push(h.join(":")),N}function P(h){a.setTimeout(()=>{throw h},0)}function x(){var h=ue;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,N){const z=ae.get();z.set(_,N),this.h?this.h.next=z:this.g=z,this.h=z}}var ae=new w(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Z=!1,ue=new Q,be=()=>{const h=a.Promise.resolve(void 0);ge=()=>{h.then(we)}};var we=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(N){P(N)}var _=ae;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Z=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};a.addEventListener("test",N,_),a.removeEventListener("test",N,_)}catch{}return h}();function te(h,_){if(W.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(J){e:{try{F(_.nodeName);var le=!0;break e}catch{}le=!1}le||(_=null)}}else N=="mouseover"?_=h.fromElement:N=="mouseout"&&(_=h.toElement);this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&te.aa.h.call(this)}}S(te,W);var se={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ve(h,_,N,z,le){this.listener=h,this.proxy=null,this.src=_,this.type=N,this.capture=!!z,this.ha=le,this.key=++ye,this.da=this.fa=!1}function xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,_,N,z,le){var pe=h.toString();h=this.g[pe],h||(h=this.g[pe]=[],this.h++);var Oe=Ve(h,_,z,le);return-1<Oe?(_=h[Oe],N||(_.fa=!1)):(_=new ve(_,this.src,pe,!!z,le),_.fa=N,h.push(_)),_};function Me(h,_){var N=_.type;if(N in h.g){var z=h.g[N],le=Array.prototype.indexOf.call(z,_,void 0),pe;(pe=0<=le)&&Array.prototype.splice.call(z,le,1),pe&&(xe(_),h.g[N].length==0&&(delete h.g[N],h.h--))}}function Ve(h,_,N,z){for(var le=0;le<h.length;++le){var pe=h[le];if(!pe.da&&pe.listener==_&&pe.capture==!!N&&pe.ha==z)return le}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Y={};function kt(h,_,N,z,le){if(Array.isArray(_)){for(var pe=0;pe<_.length;pe++)kt(h,_[pe],N,z,le);return null}return N=yt(N),h&&h[he]?h.K(_,N,u(z)?!!z.capture:!1,le):St(h,_,N,!1,z,le)}function St(h,_,N,z,le,pe){if(!_)throw Error("Invalid event type");var Oe=u(le)?!!le.capture:!!le,jt=Ze(h);if(jt||(h[_e]=jt=new Pe(h)),N=jt.add(_,N,z,Oe,pe),N.proxy)return N;if(z=it(),N.proxy=z,z.src=h,z.listener=N,h.addEventListener)X||(le=Oe),le===void 0&&(le=!1),h.addEventListener(_.toString(),z,le);else if(h.attachEvent)h.attachEvent(je(_.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function it(){function h(N){return _.call(h.src,h.listener,N)}const _=Et;return h}function Re(h,_,N,z,le){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)Re(h,_[pe],N,z,le);else z=u(z)?!!z.capture:!!z,N=yt(N),h&&h[he]?(h=h.i,_=String(_).toString(),_ in h.g&&(pe=h.g[_],N=Ve(pe,N,z,le),-1<N&&(xe(pe[N]),Array.prototype.splice.call(pe,N,1),pe.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ze(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ve(_,N,z,le)),(N=-1<h?_[h]:null)&&Ye(N))}function Ye(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[he])Me(_.i,h);else{var N=h.type,z=h.proxy;_.removeEventListener?_.removeEventListener(N,z,h.capture):_.detachEvent?_.detachEvent(je(N),z):_.addListener&&_.removeListener&&_.removeListener(z),(N=Ze(_))?(Me(N,h),N.h==0&&(N.src=null,_[_e]=null)):xe(h)}}}function je(h){return h in Y?Y[h]:Y[h]="on"+h}function Et(h,_){if(h.da)h=!0;else{_=new te(_,this);var N=h.listener,z=h.ha||h.src;h.fa&&Ye(h),h=N.call(z,_)}return h}function Ze(h){return h=h[_e],h instanceof Pe?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(_){return h.handleEvent(_)}),h[Mt])}function Xe(){M.call(this),this.i=new Pe(this),this.M=this,this.F=null}S(Xe,M),Xe.prototype[he]=!0,Xe.prototype.removeEventListener=function(h,_,N,z){Re(this,h,_,N,z)};function At(h,_){var N,z=h.F;if(z)for(N=[];z;z=z.F)N.push(z);if(h=h.M,z=_.type||_,typeof _=="string")_=new W(_,h);else if(_ instanceof W)_.target=_.target||h;else{var le=_;_=new W(z,h),L(_,le)}if(le=!0,N)for(var pe=N.length-1;0<=pe;pe--){var Oe=_.g=N[pe];le=pt(Oe,z,!0,_)&&le}if(Oe=_.g=h,le=pt(Oe,z,!0,_)&&le,le=pt(Oe,z,!1,_)&&le,N)for(pe=0;pe<N.length;pe++)Oe=_.g=N[pe],le=pt(Oe,z,!1,_)&&le}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var N=h.g[_],z=0;z<N.length;z++)xe(N[z]);delete h.g[_],h.h--}}this.F=null},Xe.prototype.K=function(h,_,N,z){return this.i.add(String(h),_,!1,N,z)},Xe.prototype.L=function(h,_,N,z){return this.i.add(String(h),_,!0,N,z)};function pt(h,_,N,z){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var le=!0,pe=0;pe<_.length;++pe){var Oe=_[pe];if(Oe&&!Oe.da&&Oe.capture==N){var jt=Oe.listener,Cn=Oe.ha||Oe.src;Oe.fa&&Me(h.i,Oe),le=jt.call(Cn,z)!==!1&&le}}return le&&!z.defaultPrevented}function et(h,_,N){if(typeof h=="function")N&&(h=v(h,N));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function lt(h){h.g=et(()=>{h.g=null,h.i&&(h.i=!1,lt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class nt extends M{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(h){M.call(this),this.h=h,this.g={}}S(Kt,M);var Ut=[];function Ge(h){ne(h.g,function(_,N){this.g.hasOwnProperty(N)&&Ye(_)},h),h.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Ge(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=a.JSON.stringify,Zt=a.JSON.parse,ot=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Pt(){}Pt.prototype.h=null;function _t(h){return h.h||(h.h=h.i())}function En(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){W.call(this,"d")}S(Yt,W);function ct(){W.call(this,"c")}S(ct,W);var Lt={},Ts=null;function zn(){return Ts=Ts||new Xe}Lt.La="serverreachability";function Hi(h){W.call(this,Lt.La,h)}S(Hi,W);function Lr(h){const _=zn();At(_,new Hi(_))}Lt.STAT_EVENT="statevent";function st(h,_){W.call(this,Lt.STAT_EVENT,h),this.stat=_}S(st,W);function yn(h){const _=zn();At(_,new st(_,h))}Lt.Ma="timingevent";function Wi(h,_){W.call(this,Lt.Ma,h),this.size=_}S(Wi,W);function hr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function An(h,_,N,z,le,pe){h.info(function(){if(h.g)if(pe)for(var Oe="",jt=pe.split("&"),Cn=0;Cn<jt.length;Cn++){var Rt=jt[Cn].split("=");if(1<Rt.length){var Ct=Rt[0];Rt=Rt[1];var pn=Ct.split("_");Oe=2<=pn.length&&pn[1]=="type"?Oe+(Ct+"="+Rt+"&"):Oe+(Ct+"=redacted&")}}else Oe=null;else Oe=pe;return"XMLHTTP REQ ("+z+") [attempt "+le+"]: "+_+`
`+N+`
`+Oe})}function er(h,_,N,z,le,pe,Oe){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+le+"]: "+_+`
`+N+`
`+pe+" "+Oe})}function xn(h,_,N,z){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ns(h,N)+(z?" "+z:"")})}function no(h,_){h.info(function(){return"TIMEOUT: "+_})}fr.prototype.info=function(){};function Ns(h,_){if(!h.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var z=N[h];if(!(2>z.length)){var le=z[1];if(Array.isArray(le)&&!(1>le.length)){var pe=le[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Oe=1;Oe<le.length;Oe++)le[Oe]=""}}}}return mt(N)}catch{return _}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Dr(){}S(Dr,Pt),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Qr=new Dr;function qn(h,_,N,z){this.j=h,this.i=_,this.l=N,this.R=z||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var bi={},ss={};function Ps(h,_,N){h.L=1,h.v=oo(Yr(_)),h.m=N,h.P=!0,ro(h,null)}function ro(h,_){h.F=Date.now(),Cs(h),h.A=Yr(h.v);var N=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),ht(N.i,"t",z),h.C=0,N=h.j.J,h.h=new ks,h.g=Fn(h.j,N?_:null,!h.m),0<h.O&&(h.M=new nt(v(h.Y,h,h.g),h.O)),_=h.U,N=h.g,z=h.ca;var le="readystatechange";Array.isArray(le)||(le&&(Ut[0]=le.toString()),le=Ut);for(var pe=0;pe<le.length;pe++){var Oe=kt(N,le[pe],z||_.handleEvent,!1,_.h||_);if(!Oe)break;_.g[Oe.key]=Oe}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Lr(),An(h.i,h.u,h.A,h.l,h.R,h.m)}qn.prototype.ca=function(h){h=h.target;const _=this.M;_&&ci(h)==3?_.j():this.Y(h)},qn.prototype.Y=function(h){try{if(h==this.g)e:{const pn=ci(this.g);var _=this.g.Ba();const xi=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||ul(this.g)))){this.J||pn!=4||_==7||(_==8||0>=xi?Lr(3):Lr(2)),qo(this);var N=this.g.Z();this.X=N;t:if(io(this)){var z=ul(this.g);h="";var le=z.length,pe=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),dr(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(_=0;_<le;_++)this.h.h=!0,h+=this.h.i.decode(z[_],{stream:!(pe&&_==le-1)});z.length=0,this.h.g+=h,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=N==200,er(this.i,this.u,this.A,this.l,this.R,pn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Cn=this.g;if((jt=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(jt)){var Rt=jt;break t}}Rt=null}if(N=Rt)xn(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ho(this,N);else{this.o=!1,this.s=3,yn(12),Si(this),dr(this);break e}}if(this.P){N=!0;let Or;for(;!this.J&&this.C<Oe.length;)if(Or=gc(this,Oe),Or==ss){pn==4&&(this.s=4,yn(14),N=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==bi){this.s=4,yn(15),xn(this.i,this.l,Oe,"[Invalid Chunk]"),N=!1;break}else xn(this.i,this.l,Or,null),Ho(this,Or);if(io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Oe.length!=0||this.h.h||(this.s=1,yn(16),N=!1),this.o=this.o&&N,!N)xn(this.i,this.l,Oe,"[Invalid Chunked Response]"),Si(this),dr(this);else if(0<Oe.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Ue(Ct),Ct.M=!0,yn(11))}}else xn(this.i,this.l,Oe,null),Ho(this,Oe);pn==4&&Si(this),this.o&&!this.J&&(pn==4?gt(this.j,this):(this.o=!1,Cs(this)))}else us(this.g),N==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),Si(this),dr(this)}}}catch{}finally{}};function io(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gc(h,_){var N=h.C,z=_.indexOf(`
`,N);return z==-1?ss:(N=Number(_.substring(N,z)),isNaN(N)?bi:(z+=1,z+N>_.length?ss:(_=_.slice(z,z+N),h.C=z+N,_)))}qn.prototype.cancel=function(){this.J=!0,Si(this)};function Cs(h){h.S=Date.now()+h.I,Ja(h,h.I)}function Ja(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=hr(v(h.ba,h),_)}function qo(h){h.B&&(a.clearTimeout(h.B),h.B=null)}qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(no(this.i,this.A),this.L!=2&&(Lr(),yn(17)),Si(this),this.s=2,dr(this)):Ja(this,this.S-h)};function dr(h){h.j.G==0||h.J||gt(h.j,h)}function Si(h){qo(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Ge(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Ho(h,_){try{var N=h.j;if(N.G!=0&&(N.g==h||Ls(N.h,h))){if(!h.K&&Ls(N.h,h)&&N.G==3){try{var z=N.Da.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var le=z;if(le[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)at(N),Ki(N);else break e;Ne(N),yn(18)}}else N.za=le[1],0<N.za-N.T&&37500>le[2]&&N.F&&N.v==0&&!N.C&&(N.C=hr(v(N.Za,N),6e3));if(1>=nl(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Xt(N,11)}else if((h.K||N.g==h)&&at(N),!k(_))for(le=N.Da.g.parse(_),_=0;_<le.length;_++){let Rt=le[_];if(N.T=Rt[0],Rt=Rt[1],N.G==2)if(Rt[0]=="c"){N.K=Rt[1],N.ia=Rt[2];const Ct=Rt[3];Ct!=null&&(N.la=Ct,N.j.info("VER="+N.la));const pn=Rt[4];pn!=null&&(N.Aa=pn,N.j.info("SVER="+N.Aa));const xi=Rt[5];xi!=null&&typeof xi=="number"&&0<xi&&(z=1.5*xi,N.L=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const Or=h.g;if(Or){const br=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var pe=z.h;pe.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(rl(pe,pe.h),pe.h=null))}if(z.D){const cs=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(z.ya=cs,Ot(z.I,z.D,cs))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),z=N;var Oe=h;if(z.qa=tn(z,z.J?z.ia:null,z.W),Oe.K){Nn(z.h,Oe);var jt=Oe,Cn=z.L;Cn&&(jt.I=Cn),jt.B&&(qo(jt),Cs(jt)),z.g=Oe}else Ee(z);0<N.i.length&&g(N)}else Rt[0]!="stop"&&Rt[0]!="close"||Xt(N,7);else N.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Xt(N,7):Xo(N):Rt[0]!="noop"&&N.l&&N.l.ta(Rt),N.v=0)}}Lr(4)}catch{}}var Za=class{constructor(h,_){this.g=h,this.map=_}};function el(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nl(h){return h.h?1:h.g?h.g.size:0}function Ls(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function rl(h,_){h.g?h.g.add(_):h.h=_}function Nn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}el.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function il(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const N of h.g.values())_=_.concat(N.D);return _}return T(h.i)}function Jl(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var _=[],N=h.length,z=0;z<N;z++)_.push(h[z]);return _}_=[],N=0;for(z in h)_[N++]=h[z];return _}function os(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var _=[];h=h.length;for(var N=0;N<h;N++)_.push(N);return _}_=[],N=0;for(const z in h)_[N++]=z;return _}}}function Rs(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var N=os(h),z=Jl(h),le=z.length,pe=0;pe<le;pe++)_.call(void 0,z[pe],N&&N[pe],h)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(h,_){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var z=h[N].indexOf("="),le=null;if(0<=z){var pe=h[N].substring(0,z);le=h[N].substring(z+1)}else pe=h[N];_(pe,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function en(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof en){this.h=h.h,Wo(this,h.j),this.o=h.o,this.g=h.g,$o(this,h.s),this.l=h.l;var _=h.i,N=new ui;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),Zl(this,N),this.m=h.m}else h&&(_=String(h).match(ai))?(this.h=!1,Wo(this,_[1]||"",!0),this.o=Ds(_[2]||""),this.g=Ds(_[3]||"",!0),$o(this,_[4]),this.l=Ds(_[5]||"",!0),Zl(this,_[6]||"",!0),this.m=Ds(_[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}en.prototype.toString=function(){var h=[],_=this.j;_&&h.push(li(_,eu,!0),":");var N=this.g;return(N||_=="file")&&(h.push("//"),(_=this.o)&&h.push(li(_,eu,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(li(N,N.charAt(0)=="/"?yc:vc,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",li(N,ao)),h.join("")};function Yr(h){return new en(h)}function Wo(h,_,N){h.j=N?Ds(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function $o(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Zl(h,_,N){_ instanceof ui?(h.i=_,_c(h.i,h.h)):(N||(_=li(_,ol)),h.i=new ui(_,h.h))}function Ot(h,_,N){h.i.set(_,N)}function oo(h){return Ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ds(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function li(h,_,N){return typeof h=="string"?(h=encodeURI(h).replace(_,sl),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eu=/[#\/\?@]/g,vc=/[#\?:]/g,yc=/[#\?]/g,ol=/[#\?@]/g,ao=/#/g;function ui(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function $i(h){h.g||(h.g=new Map,h.h=0,h.i&&so(h.i,function(_,N){h.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=ui.prototype,t.add=function(h,_){$i(this),this.i=null,h=Fs(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(_),this.h+=1,this};function Os(h,_){$i(h),_=Fs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Go(h,_){return $i(h),_=Fs(h,_),h.g.has(_)}t.forEach=function(h,_){$i(this),this.g.forEach(function(N,z){N.forEach(function(le){h.call(_,le,z,this)},this)},this)},t.na=function(){$i(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let z=0;z<_.length;z++){const le=h[z];for(let pe=0;pe<le.length;pe++)N.push(_[z])}return N},t.V=function(h){$i(this);let _=[];if(typeof h=="string")Go(this,h)&&(_=_.concat(this.g.get(Fs(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)_=_.concat(h[N])}return _},t.set=function(h,_){return $i(this),this.i=null,h=Fs(this,h),Go(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function ht(h,_,N){Os(h,_),0<N.length&&(h.i=null,h.g.set(Fs(h,_),T(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var z=_[N];const pe=encodeURIComponent(String(z)),Oe=this.V(z);for(z=0;z<Oe.length;z++){var le=pe;Oe[z]!==""&&(le+="="+encodeURIComponent(String(Oe[z]))),h.push(le)}}return this.i=h.join("&")};function Fs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function _c(h,_){_&&!h.j&&($i(h),h.i=null,h.g.forEach(function(N,z){var le=z.toLowerCase();z!=le&&(Os(this,z),ht(this,le,N))},h)),h.j=_}function wc(h,_){const N=new fr;if(a.Image){const z=new Image;z.onload=p(pr,N,"TestLoadImage: loaded",!0,_,z),z.onerror=p(pr,N,"TestLoadImage: error",!1,_,z),z.onabort=p(pr,N,"TestLoadImage: abort",!1,_,z),z.ontimeout=p(pr,N,"TestLoadImage: timeout",!1,_,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else _(!1)}function bc(h,_){const N=new fr,z=new AbortController,le=setTimeout(()=>{z.abort(),pr(N,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:z.signal}).then(pe=>{clearTimeout(le),pe.ok?pr(N,"TestPingServer: ok",!0,_):pr(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(le),pr(N,"TestPingServer: error",!1,_)})}function pr(h,_,N,z,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),z(N)}catch{}}function as(){this.g=new ot}function Sc(h,_,N){const z=N||"";try{Rs(h,function(le,pe){let Oe=le;u(le)&&(Oe=mt(le)),_.push(z+pe+"="+encodeURIComponent(Oe))})}catch(le){throw _.push(z+"type="+encodeURIComponent("_badmap")),le}}function Ko(h){this.l=h.Ub||null,this.j=h.eb||!1}S(Ko,Pt),Ko.prototype.g=function(){return new ls(this.l,this.j)},Ko.prototype.i=function(h){return function(){return h}}({});function ls(h,_){Xe.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ls,Xe),t=ls.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Gi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ei(this):Gi(this),this.readyState==3&&Qo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ei(this))},t.Qa=function(h){this.g&&(this.response=h,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Gi(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=_.next();return h.join(`\r
`)};function Gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function lo(h){let _="";return ne(h,function(N,z){_+=z,_+=":",_+=N,_+=`\r
`}),_}function al(h,_,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=lo(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):Ot(h,_,N))}function ln(h){Xe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ln,Xe);var ll=/^https?$/i,uo=["POST","PUT"];t=ln.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?_t(this.o):_t(Qr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(pe){Ms(this,pe);return}if(h=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var le in z)N.set(le,z[le]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const pe of z.keys())N.set(pe,z.get(pe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(pe=>pe.toLowerCase()=="content-type"),le=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uo,_,void 0))||z||le||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Oe]of N)this.g.setRequestHeader(pe,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(h),this.u=!1}catch(pe){Ms(this,pe)}};function Ms(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Yo(h),js(h)}function Yo(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,At(this,"complete"),At(this,"abort"),js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},t.bb=function(){co(this)};function co(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ci(h)!=4||h.Z()!=2)){if(h.u&&ci(h)==4)et(h.Ea,0,h);else if(At(h,"readystatechange"),ci(h)==4){h.h=!1;try{const Oe=h.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var z;if(z=Oe===0){var le=String(h.D).match(ai)[1]||null;!le&&a.self&&a.self.location&&(le=a.self.location.protocol.slice(0,-1)),z=!ll.test(le?le.toLowerCase():"")}N=z}if(N)At(h,"complete"),At(h,"success");else{h.m=6;try{var pe=2<ci(h)?h.g.statusText:""}catch{pe=""}h.l=pe+" ["+h.Z()+"]",Yo(h)}}finally{js(h)}}}}function js(h,_){if(h.g){Vs(h);const N=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||At(h,"ready");try{N.onreadystatechange=z}catch{}}}function Vs(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Zt(_)}};function ul(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function us(h){const _={};h=(h.g&&2<=ci(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(k(h[z]))continue;var N=E(h[z]);const le=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const pe=_[le]||[];_[le]=pe,pe.push(N)}V(_,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(h,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||_}function cl(h){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,h),this.cb=Xr("retryDelaySeedMs",1e4,h),this.Wa=Xr("forwardChannelMaxRetries",2,h),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new el(h&&h.concurrentRequestLimit),this.Da=new as,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cl.prototype,t.la=8,t.G=1,t.connect=function(h,_,N,z){yn(0),this.W=h,this.H=_||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.I=tn(this,null,this.W),g(this)};function Xo(h){if(hl(h),h.G==3){var _=h.U++,N=Yr(h.I);if(Ot(N,"SID",h.K),Ot(N,"RID",_),Ot(N,"TYPE","terminate"),ee(h,N),_=new qn(h,h.j,_),_.L=2,_.v=oo(Yr(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=_.v,N=!0),N||(_.g=Fn(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Cs(_)}kn(h)}function Ki(h){h.g&&(Ue(h),h.g.cancel(),h.g=null)}function hl(h){Ki(h),h.u&&(a.clearTimeout(h.u),h.u=null),at(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function g(h){if(!tl(h.h)&&!h.s){h.s=!0;var _=h.Ga;ge||be(),Z||(ge(),Z=!0),ue.add(_,h),h.B=0}}function D(h,_){return nl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=hr(v(h.Ga,h,_),zt(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const le=new qn(this,this.j,h);let pe=this.o;if(this.S&&(pe?(pe=A(pe),L(pe,this.S)):pe=this.S),this.m!==null||this.O||(le.H=pe,pe=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=oe(this,le,_),N=Yr(this.I),Ot(N,"RID",h),Ot(N,"CVER",22),this.D&&Ot(N,"X-HTTP-Session-Id",this.D),ee(this,N),pe&&(this.O?_="headers="+encodeURIComponent(String(lo(pe)))+"&"+_:this.m&&al(N,this.m,pe)),rl(this.h,le),this.Ua&&Ot(N,"TYPE","init"),this.P?(Ot(N,"$req",_),Ot(N,"SID","null"),le.T=!0,Ps(le,N,null)):Ps(le,N,_),this.G=2}}else this.G==3&&(h?$(this,h):this.i.length==0||tl(this.h)||$(this))};function $(h,_){var N;_?N=_.l:N=h.U++;const z=Yr(h.I);Ot(z,"SID",h.K),Ot(z,"RID",N),Ot(z,"AID",h.T),ee(h,z),h.m&&h.o&&al(z,h.m,h.o),N=new qn(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),_&&(h.i=_.D.concat(h.i)),_=oe(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),rl(h.h,N),Ps(N,z,_)}function ee(h,_){h.H&&ne(h.H,function(N,z){Ot(_,z,N)}),h.l&&Rs({},function(N,z){Ot(_,z,N)})}function oe(h,_,N){N=Math.min(h.i.length,N);var z=h.l?v(h.l.Na,h.l,h):null;e:{var le=h.i;let pe=-1;for(;;){const Oe=["count="+N];pe==-1?0<N?(pe=le[0].g,Oe.push("ofs="+pe)):pe=0:Oe.push("ofs="+pe);let jt=!0;for(let Cn=0;Cn<N;Cn++){let Rt=le[Cn].g;const Ct=le[Cn].map;if(Rt-=pe,0>Rt)pe=Math.max(0,le[Cn].g-100),jt=!1;else try{Sc(Ct,Oe,"req"+Rt+"_")}catch{z&&z(Ct)}}if(jt){z=Oe.join("&");break e}}}return h=h.i.splice(0,N),_.D=h,z}function Ee(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ge||be(),Z||(ge(),Z=!0),ue.add(_,h),h.v=0}}function Ne(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=hr(v(h.Fa,h),zt(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,We(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=hr(v(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Ki(this),We(this))};function Ue(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function We(h){h.g=new qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Yr(h.qa);Ot(_,"RID","rpc"),Ot(_,"SID",h.K),Ot(_,"AID",h.T),Ot(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ot(_,"TO",h.ja),Ot(_,"TYPE","xmlhttp"),ee(h,_),h.m&&h.o&&al(_,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=oo(Yr(_)),N.m=null,N.P=!0,ro(N,h)}t.Za=function(){this.C!=null&&(this.C=null,Ki(this),Ne(this),yn(19))};function at(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function gt(h,_){var N=null;if(h.g==_){at(h),Ue(h),h.g=null;var z=2}else if(Ls(h.h,_))N=_.D,Nn(h.h,_),z=1;else return;if(h.G!=0){if(_.o)if(z==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var le=h.B;z=zn(),At(z,new Wi(z,N)),g(h)}else Ee(h);else if(le=_.s,le==3||le==0&&0<_.X||!(z==1&&D(h,_)||z==2&&Ne(h)))switch(N&&0<N.length&&(_=h.h,_.i=_.i.concat(N)),le){case 1:Xt(h,5);break;case 4:Xt(h,10);break;case 3:Xt(h,6);break;default:Xt(h,2)}}}function zt(h,_){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*_}function Xt(h,_){if(h.j.info("Error code "+_),_==2){var N=v(h.fb,h),z=h.Xa;const le=!z;z=new en(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wo(z,"https"),oo(z),le?wc(z.toString(),N):bc(z.toString(),N)}else yn(2);h.G=0,h.l&&h.l.sa(_),kn(h),hl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function kn(h){if(h.G=0,h.ka=[],h.l){const _=il(h.h);(_.length!=0||h.i.length!=0)&&(R(h.ka,_),R(h.ka,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.ra()}}function tn(h,_,N){var z=N instanceof en?Yr(N):new en(N);if(z.g!="")_&&(z.g=_+"."+z.g),$o(z,z.s);else{var le=a.location;z=le.protocol,_=_?_+"."+le.hostname:le.hostname,le=+le.port;var pe=new en(null);z&&Wo(pe,z),_&&(pe.g=_),le&&$o(pe,le),N&&(pe.l=N),z=pe}return N=h.D,_=h.ya,N&&_&&Ot(z,N,_),Ot(z,"VER",h.la),ee(h,z),z}function Fn(h,_,N){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ln(new Ko({eb:N})):new ln(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pn(){}t=Pn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mn(){}Mn.prototype.g=function(h,_){return new dn(h,_)};function dn(h,_){Xe.call(this),this.g=new cl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!k(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ai(this)}S(dn,Xe),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Xo(this.g)},dn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=mt(h),h=N);_.i.push(new Za(_.Ya++,h)),_.G==3&&g(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,dn.aa.N.call(this)};function wr(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const N in _){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}S(wr,Yt);function fl(){ct.call(this),this.status=1}S(fl,ct);function Ai(h){this.g=h}S(Ai,Pn),Ai.prototype.ua=function(){At(this.g,"a")},Ai.prototype.ta=function(h){At(this.g,new wr(h))},Ai.prototype.sa=function(h){At(this.g,new fl)},Ai.prototype.ra=function(){At(this.g,"b")},Mn.prototype.createWebChannel=Mn.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,L3=function(){return new Mn},C3=function(){return zn()},P3=Lt,$0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Nd=Rr,wi.COMPLETE="complete",k3=wi,En.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,nh=En,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,N3=ln}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const T5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new _2("@firebase/firestore");function Wc(){return Fl.logLevel}function $e(t,...e){if(Fl.logLevel<=Bt.DEBUG){const n=e.map(S2);Fl.debug(`Firestore (${uc}): ${t}`,...n)}}function Mo(t,...e){if(Fl.logLevel<=Bt.ERROR){const n=e.map(S2);Fl.error(`Firestore (${uc}): ${t}`,...n)}}function Xu(t,...e){if(Fl.logLevel<=Bt.WARN){const n=e.map(S2);Fl.warn(`Firestore (${uc}): ${t}`,...n)}}function S2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t="Unexpected state"){const e=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: `+t;throw Mo(e),new Error(e)}function Gt(t,e){t||ut()}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends zo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hr.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ON{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Gt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ja,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ja)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string"),new R3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Hr(e)}}class FN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Gt(this.o===void 0);const r=s=>{s.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new jN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function Ju(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new cr(0,0))}static max(){return new ft(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fn extends zh{construct(e,n,r){return new fn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const UN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends zh{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return UN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Be(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Be(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Be(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(fn.fromString(e))}static fromName(e){return new rt(fn.fromString(e).popFirst(5))}static empty(){return new rt(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new fn(e.slice()))}}function zN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new cr(n+1,0):new cr(n,r));return new qa(i,rt.empty(),e)}function qN(t){return new qa(t.readTime,t.key,-1)}class qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qa(ft.min(),rt.empty(),-1)}static max(){return new qa(ft.max(),rt.empty(),-1)}}function HN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==WN)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function GN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}E2.oe=-1;function uf(t){return t==null}function gp(t){return t===0&&1/t==-1/0}function KN(t){return typeof t=="number"&&Number.isInteger(t)&&!gp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new On(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ir.RED,this.left=i??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k5(this.data.getIterator())}getIteratorFrom(e){return new k5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class k5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Mi([])}unionWith(e){let n=new kr(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new F3("Invalid base64 string: "+s):s}}(e);return new Cr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const QN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(t){if(Gt(!!t),typeof t=="string"){let e=0;const n=QN.exec(t);if(Gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(t.seconds),nanos:Kn(t.nanos)}}function Kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ml(t){return typeof t=="string"?Cr.fromBase64String(t):Cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x2(t){const e=t.mapValue.fields.__previous_value__;return A2(e)?x2(e):e}function qh(t){const e=Ha(t.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={mapValue:{}};function jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A2(t)?4:JN(t)?9007199254740991:XN(t)?10:11:ut()}function eo(t,e){if(t===e)return!0;const n=jl(t);if(n!==jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ha(i.timestampValue),a=Ha(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ml(i.bytesValue).isEqual(Ml(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kn(i.geoPointValue.latitude)===Kn(s.geoPointValue.latitude)&&Kn(i.geoPointValue.longitude)===Kn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kn(i.integerValue)===Kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Kn(i.doubleValue),a=Kn(s.doubleValue);return o===a?gp(o)===gp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ju(t.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(N5(o)!==N5(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eo(o[l],a[l])))return!1;return!0}(t,e);default:return ut()}}function Wh(t,e){return(t.values||[]).find(n=>eo(n,e))!==void 0}function Zu(t,e){if(t===e)return 0;const n=jl(t),r=jl(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Kn(s.integerValue||s.doubleValue),l=Kn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return P5(t.timestampValue,e.timestampValue);case 4:return P5(qh(t),qh(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ml(s),l=Ml(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Qt(a[u],l[u]);if(f!==0)return f}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qt(Kn(s.latitude),Kn(o.latitude));return a!==0?a:Qt(Kn(s.longitude),Kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C5(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const m=s.fields||{},v=o.fields||{},p=(a=m.value)===null||a===void 0?void 0:a.arrayValue,S=(l=v.value)===null||l===void 0?void 0:l.arrayValue,T=Qt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0);return T!==0?T:C5(p,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rd.mapValue&&o===rd.mapValue)return 0;if(s===rd.mapValue)return 1;if(o===rd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const v=Qt(l[m],f[m]);if(v!==0)return v;const p=Zu(a[l[m]],u[f[m]]);if(p!==0)return p}return Qt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ut()}}function P5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=Ha(t),r=Ha(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function C5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zu(n[i],r[i]);if(s)return s}return Qt(n.length,r.length)}function ec(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ha(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ml(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=G0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${G0(n.fields[o])}`;return i+"}"}(t.mapValue):ut()}function L5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K0(t){return!!t&&"integerValue"in t}function I2(t){return!!t&&"arrayValue"in t}function R5(t){return!!t&&"nullValue"in t}function D5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function XN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ph(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ph(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ph(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ph(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$l(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ni(ph(this.value))}}function M3(t){const e=[];return $l(t.fields,(n,r)=>{const i=new Tr([n]);if(kd(r)){const s=M3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,ft.min(),ft.min(),ft.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,ft.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,ft.min(),ft.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,ft.min(),ft.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.position=e,this.inclusive=n}}function O5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Zu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function F5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!eo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{}class rr extends j3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tk(e,n,r):n==="array-contains"?new ik(e,r):n==="in"?new sk(e,r):n==="not-in"?new ok(e,r):n==="array-contains-any"?new ak(e,r):new rr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nk(e,r):new rk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zu(n,this.value)):n!==null&&jl(this.value)===jl(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends j3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ss(e,n)}matches(e){return V3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function V3(t){return t.op==="and"}function B3(t){return ek(t)&&V3(t)}function ek(t){for(const e of t.filters)if(e instanceof Ss)return!1;return!0}function Q0(t){if(t instanceof rr)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(B3(t))return t.filters.map(e=>Q0(e)).join(",");{const e=t.filters.map(n=>Q0(n)).join(",");return`${t.op}(${e})`}}function U3(t,e){return t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.field.isEqual(i.field)&&eo(r.value,i.value)}(t,e):t instanceof Ss?function(r,i){return i instanceof Ss&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&U3(o,i.filters[a]),!0):!1}(t,e):void ut()}function z3(t){return t instanceof rr?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(t):t instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(z3).join(" ,")+"}"}(t):"Filter"}class tk extends rr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class nk extends rr{constructor(e,n){super(e,"in",n),this.keys=q3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rk extends rr{constructor(e,n){super(e,"not-in",n),this.keys=q3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class ik extends rr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I2(n)&&Wh(n.arrayValue,this.value)}}class sk extends rr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class ok extends rr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wh(this.value.arrayValue,n)}}class ak extends rr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function M5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lk(t,e,n,r,i,s,o)}function T2(t){const e=bt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Q0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ec(r)).join(",")),e.ue=n}return e.ue}function N2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F5(t.startAt,e.startAt)&&F5(t.endAt,e.endAt)}function Y0(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uk(t,e,n,r,i,s,o,a){return new cc(t,e,n,r,i,s,o,a)}function k2(t){return new cc(t)}function j5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H3(t){return t.collectionGroup!==null}function mh(t){const e=bt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kr(Tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $h(s,r))}),n.has(Tr.keyField().canonicalString())||e.ce.push(new $h(Tr.keyField(),r))}return e.ce}function Xs(t){const e=bt(t);return e.le||(e.le=ck(e,mh(t))),e.le}function ck(t,e){if(t.limitType==="F")return M5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $h(i.field,s)});const n=t.endAt?new vp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vp(t.startAt.position,t.startAt.inclusive):null;return M5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function X0(t,e){const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function J0(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function em(t,e){return N2(Xs(t),Xs(e))&&t.limitType===e.limitType}function W3(t){return`${T2(Xs(t))}|lt:${t.limitType}`}function lu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>z3(i)).join(", ")}]`),uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ec(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ec(i)).join(",")),`Target(${r})`}(Xs(t))}; limitType=${t.limitType})`}function tm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=O5(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,mh(r),i)||r.endAt&&!function(o,a,l){const u=O5(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,mh(r),i))}(t,e)}function hk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $3(t){return(e,n)=>{let r=!1;for(const i of mh(t)){const s=fk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fk(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Zu(l,u):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return O3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new On(rt.comparator);function jo(){return dk}const G3=new On(rt.comparator);function rh(...t){let e=G3;for(const n of t)e=e.insert(n.key,n);return e}function K3(t){let e=G3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xl(){return gh()}function Q3(){return gh()}function gh(){return new hc(t=>t.toString(),(t,e)=>t.isEqual(e))}const pk=new On(rt.comparator),mk=new kr(rt.comparator);function Ft(...t){let e=mk;for(const n of t)e=e.add(n);return e}const gk=new kr(Qt);function vk(){return gk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gp(e)?"-0":e}}function Y3(t){return{integerValue:""+t}}function yk(t,e){return KN(e)?Y3(e):P2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this._=void 0}}function _k(t,e,n){return t instanceof yp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&A2(s)&&(s=x2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gh?J3(t,e):t instanceof Kh?Z3(t,e):function(i,s){const o=X3(i,s),a=V5(o)+V5(i.Pe);return K0(o)&&K0(i.Pe)?Y3(a):P2(i.serializer,a)}(t,e)}function wk(t,e,n){return t instanceof Gh?J3(t,e):t instanceof Kh?Z3(t,e):n}function X3(t,e){return t instanceof _p?function(r){return K0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yp extends nm{}class Gh extends nm{constructor(e){super(),this.elements=e}}function J3(t,e){const n=eS(e);for(const r of t.elements)n.some(i=>eo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kh extends nm{constructor(e){super(),this.elements=e}}function Z3(t,e){let n=eS(e);for(const r of t.elements)n=n.filter(i=>!eo(i,r));return{arrayValue:{values:n}}}class _p extends nm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function V5(t){return Kn(t.integerValue||t.doubleValue)}function eS(t){return I2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Kh&&i instanceof Kh?Ju(r.elements,i.elements,eo):r instanceof _p&&i instanceof _p?eo(r.Pe,i.Pe):r instanceof yp&&i instanceof yp}(t.transform,e.transform)}class Sk{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rm{}function tS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new im(t.key,$r.none()):new cf(t.key,t.data,$r.none());{const n=t.data,r=ni.empty();let i=new kr(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ya(t.key,r,new Mi(i.toArray()),$r.none())}}function Ek(t,e,n){t instanceof cf?function(i,s,o){const a=i.value.clone(),l=U5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ya?function(i,s,o){if(!Pd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=U5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(nS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vh(t,e,n,r){return t instanceof cf?function(s,o,a,l){if(!Pd(s.precondition,o))return a;const u=s.value.clone(),f=z5(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ya?function(s,o,a,l){if(!Pd(s.precondition,o))return a;const u=z5(s.fieldTransforms,l,o),f=o.data;return f.setAll(nS(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Pd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Ak(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=X3(r.transform,i||null);s!=null&&(n===null&&(n=ni.empty()),n.set(r.field,s))}return n||null}function B5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(s,o)=>bk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends rm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ya extends rm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U5(t,e,n){const r=new Map;Gt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wk(o,a,n[i]))}return r}function z5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_k(s,o,e))}return r}class im extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rS extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ek(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=tS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(n,r)=>B5(n,r))&&Ju(this.baseMutations,e.baseMutations,(n,r)=>B5(n,r))}}class C2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Gt(e.mutations.length===r.length);let i=function(){return pk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new C2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Ht;function iS(t){switch(t){default:return ut();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function sS(t){if(t===void 0)return Mo("GRPC error has no .code"),Te.UNKNOWN;switch(t){case tr.OK:return Te.OK;case tr.CANCELLED:return Te.CANCELLED;case tr.UNKNOWN:return Te.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Te.INTERNAL;case tr.UNAVAILABLE:return Te.UNAVAILABLE;case tr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case tr.NOT_FOUND:return Te.NOT_FOUND;case tr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case tr.ABORTED:return Te.ABORTED;case tr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case tr.DATA_LOSS:return Te.DATA_LOSS;default:return ut()}}(Ht=tr||(tr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Nl([4294967295,4294967295],0);function q5(t){const e=Nk().encode(t),n=new T3;return n.update(e),new Uint8Array(n.digest())}function H5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nl([n,r],0),new Nl([i,s],0)]}class L2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ih(`Invalid padding: ${n}`);if(r<0)throw new ih(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ih(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Nl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Nl.fromNumber(r)));return i.compare(kk)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=q5(e),[r,i]=H5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new L2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=q5(e),[r,i]=H5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sm(ft.min(),i,new On(Qt),jo(),Ft())}}class hf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class oS{constructor(e,n){this.targetId=e,this.me=n}}class aS{constructor(e,n,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class W5{constructor(){this.fe=0,this.ge=G5(),this.pe=Cr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),n=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new hf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=G5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pk{constructor(e){this.Le=e,this.Be=new Map,this.ke=jo(),this.qe=$5(),this.Qe=new On(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ut()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Y0(s))if(r===0){const o=new rt(s.path);this.Ue(n,o,yr.newNoDocument(o,ft.min()))}else Gt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ml(r).toUint8Array()}catch(l){if(l instanceof F3)return Xu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new L2(o,i,s)}catch(l){return Xu(l instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Y0(a.target)){const l=new rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new sm(e,n,this.Qe,this.ke,r);return this.ke=jo(),this.qe=$5(),this.Qe=new On(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new W5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kr(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new W5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $5(){return new On(rt.comparator)}function G5(){return new On(rt.comparator)}const Ck={asc:"ASCENDING",desc:"DESCENDING"},Lk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rk={and:"AND",or:"OR"};class Dk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z0(t,e){return t.useProto3Json||uf(e)?e:{value:e}}function wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ok(t,e){return wp(t,e.toTimestamp())}function Bi(t){return Gt(!!t),ft.fromTimestamp(function(n){const r=Ha(n);return new cr(r.seconds,r.nanos)}(t))}function R2(t,e){return e1(t,e).canonicalString()}function e1(t,e){const n=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uS(t){const e=fn.fromString(t);return Gt(mS(e)),e}function bp(t,e){return R2(t.databaseId,e.path)}function yh(t,e){const n=uS(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(hS(n))}function cS(t,e){return R2(t.databaseId,e)}function Fk(t){const e=uS(t);return e.length===4?fn.emptyPath():hS(e)}function t1(t){return new fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hS(t){return Gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function K5(t,e,n){return{name:bp(t,e),fields:n.value.mapValue.fields}}function Mk(t,e){return"found"in e?function(r,i){Gt(!!i.found),i.found.name,i.found.updateTime;const s=yh(r,i.found.name),o=Bi(i.found.updateTime),a=i.found.createTime?Bi(i.found.createTime):ft.min(),l=new ni({mapValue:{fields:i.found.fields}});return yr.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Gt(!!i.missing),Gt(!!i.readTime);const s=yh(r,i.missing),o=Bi(i.readTime);return yr.newNoDocument(s,o)}(t,e):ut()}function jk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Gt(f===void 0||typeof f=="string"),Cr.fromBase64String(f||"")):(Gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Cr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?Te.UNKNOWN:sS(u.code);return new Be(f,u.message||"")}(o);n=new aS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yh(t,r.document.name),s=Bi(r.document.updateTime),o=r.document.createTime?Bi(r.document.createTime):ft.min(),a=new ni({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Cd(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yh(t,r.document),s=r.readTime?Bi(r.readTime):ft.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yh(t,r.document),s=r.removedTargetIds||[];n=new Cd([],s,i,null)}else{if(!("filter"in e))return ut();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Tk(i,s),a=r.targetId;n=new oS(a,o)}}return n}function fS(t,e){let n;if(e instanceof cf)n={update:K5(t,e.key,e.value)};else if(e instanceof im)n={delete:bp(t,e.key)};else if(e instanceof Ya)n={update:K5(t,e.key,e.data),updateMask:Gk(e.fieldMask)};else{if(!(e instanceof rS))return ut();n={verify:bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof yp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _p)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ut()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ok(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ut()}(t,e.precondition)),n}function Vk(t,e){return t&&t.length>0?(Gt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Bi(i.updateTime):Bi(s);return o.isEqual(ft.min())&&(o=Bi(s)),new Sk(o,i.transformResults||[])}(n,e))):[]}function Bk(t,e){return{documents:[cS(t,e.path)]}}function Uk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cS(t,i);const s=function(u){if(u.length!==0)return pS(Ss.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(v){return{field:uu(v.field),direction:Hk(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Z0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function zk(t){let e=Fk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const v=dS(m);return v instanceof Ss&&B3(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(v=>function(S){return new $h(cu(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(m){let v;return v=typeof m=="object"?m.value:m,uf(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(m){const v=!!m.before,p=m.values||[];return new vp(p,v)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const v=!m.before,p=m.values||[];return new vp(p,v)}(n.endAt)),uk(e,i,o,s,a,"F",l,u)}function qk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(n.unaryFilter.field);return rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(n.unaryFilter.field);return rr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(n.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(t):t.fieldFilter!==void 0?function(n){return rr.create(cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(r=>dS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ut()}}(n.compositeFilter.op))}(t):ut()}function Hk(t){return Ck[t]}function Wk(t){return Lk[t]}function $k(t){return Rk[t]}function uu(t){return{fieldPath:t.canonicalString()}}function cu(t){return Tr.fromServerFormat(t.fieldPath)}function pS(t){return t instanceof rr?function(n){if(n.op==="=="){if(D5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(R5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(R5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:Wk(n.op),value:n.value}}}(t):t instanceof Ss?function(n){const r=n.getFilters().map(i=>pS(i));return r.length===1?r[0]:{compositeFilter:{op:$k(n.op),filters:r}}}(t):ut()}function Gk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r,i,s=ft.min(),o=ft.min(),a=Cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.ct=e}}function Qk(t){const e=zk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?J0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.un=new Xk}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(qa.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class Xk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new tc(0)}static kn(){return new tc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.changes=new hc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vh(r.mutation,i,Mi.empty(),cr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=xl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jo();const o=gh(),a=function(){return gh()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ya)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),vh(f.mutation,u,f.mutation.getFieldMask(),cr.now())):o.set(u.key,Mi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return a.set(u,new Zk(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gh();let i=new On((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Mi.empty();f=a.applyToLocalView(u,f),r.set(l,f);const m=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,m=Q3();f.forEach(v=>{if(!s.has(v)){const p=tS(n.get(v),r.get(v));p!==null&&m.set(v,p),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(xl());let a=-1,l=s;return o.next(u=>Ce.forEach(u,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?Ce.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ft())).next(f=>({batchId:a,changes:K3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=rh();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const u=function(m,v){return new cc(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,v)=>{o=o.insert(m,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,yr.newInvalidDocument(f)))});let a=rh();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&vh(f.mutation,u,Mi.empty(),cr.now()),tm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Qk(i.bundledQuery),readTime:Bi(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.overlays=new On(rt.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=xl(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=xl(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=xl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ik(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.sessionToken=Cr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.Tr=new kr(mr.Er),this.dr=new kr(mr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new rt(new fn([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new rt(new fn([])),r=new mr(n,e),i=new mr(n,e+1);let s=Ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return rt.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kr(mr.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(Qt);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new mr(new rt(s),0);let a=new kr(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mr(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.Mr=e,this.docs=function(){return new On(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=jo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||HN(qN(f),r)<=0||(i.has(f.key)||tm(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ut()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oP(this)}getSize(e){return Ce.resolve(this.size)}}class oP extends Jk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.persistence=e,this.Nr=new hc(n=>T2(n),N2),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new D2,this.targetCount=0,this.kr=tc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new E2(0),this.Kr=!1,this.Kr=!0,this.$r=new rP,this.referenceDelegate=e(this),this.Ur=new aP(this),this.indexManager=new Yk,this.remoteDocumentCache=function(i){return new sP(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Kk(n),this.Gr=new tP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new iP(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new uP(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class uP extends $N{constructor(e){super(),this.currentSequenceNumber=e}}class O2{constructor(e){this.persistence=e,this.Jr=new D2,this.Yr=null}static Zr(e){return new O2(e)}get Xr(){if(this.Yr)return this.Yr;throw ut()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ft.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new F2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return g6()?8:GN(Kr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cP;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=Bt.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(Wc()<=Bt.DEBUG&&$e("QueryEngine","Query:",lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=Bt.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(n))):Ce.resolve())}Yi(e,n){if(j5(n))return Ce.resolve(null);let r=Xs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=J0(n,null,"F"),r=Xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,J0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return j5(n)||i.isEqual(ft.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(Wc()<=Bt.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lu(n)),this.rs(e,o,n,zN(i,-1)).next(a=>a))})}ts(e,n){let r=new kr($3(e));return n.forEach((i,s)=>{tm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=Bt.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",lu(n)),this.Ji.getDocumentsMatchingQuery(e,n,qa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Qt),this._s=new hc(s=>T2(s),N2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function dP(t,e,n,r){return new fP(t,e,n,r)}async function gS(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function pP(t,e){const n=bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const m=u.batch,v=m.keys();let p=Ce.resolve();return v.forEach(S=>{p=p.next(()=>f.getEntry(l,S)).next(T=>{const R=u.docVersions.get(S);Gt(R!==null),T.version.compareTo(R)<0&&(m.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),f.addEntry(T)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vS(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function mP(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,m)=>{const v=i.get(m);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let p=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(Cr.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(m,p),function(T,R,w){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(v,p,f)&&a.push(n.Ur.updateTargetData(s,p))});let l=jo(),u=Ft();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(gP(s,o,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(ft.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function gP(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ft.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function vP(t,e){const n=bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yP(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new xa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function n1(t,e,n){const r=bt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lf(o))throw o;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Q5(t,e,n){const r=bt(t);let i=ft.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const m=bt(l),v=m._s.get(f);return v!==void 0?Ce.resolve(m.os.get(v)):m.Ur.getTargetData(u,f)}(r,o,Xs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ft.min(),n?s:Ft())).next(a=>(_P(r,hk(e),a),{documents:a,Ts:s})))}function _P(t,e,n){let r=t.us.get(e)||ft.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Y5{constructor(){this.activeTargetIds=vk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wP{constructor(){this.so=new Y5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Y5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function mg(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="WebChannelConnection";class AP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=mg(),l=this.xo(n,r.toUriEncodedString());$e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(f=>($e("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Xu("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=SP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=mg();return new Promise((o,a)=>{const l=new N3;l.setWithCredentials(!0),l.listenOnce(k3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nd.NO_ERROR:const f=l.getResponseJson();$e(Vr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Nd.TIMEOUT:$e(Vr,`RPC '${e}' ${s} timed out`),a(new Be(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const m=l.getStatus();if($e(Vr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const p=v==null?void 0:v.error;if(p&&p.status&&p.message){const S=function(R){const w=R.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(w)>=0?w:Te.UNKNOWN}(p.status);a(new Be(S,p.message))}else a(new Be(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Be(Te.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e(Vr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);$e(Vr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=mg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L3(),a=C3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");$e(Vr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=o.createWebChannel(f,l);let v=!1,p=!1;const S=new EP({Io:R=>{p?$e(Vr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||($e(Vr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),$e(Vr,`RPC '${e}' stream ${i} sending:`,R),m.send(R))},To:()=>m.close()}),T=(R,w,k)=>{R.listen(w,C=>{try{k(C)}catch(F){setTimeout(()=>{throw F},0)}})};return T(m,nh.EventType.OPEN,()=>{p||($e(Vr,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),T(m,nh.EventType.CLOSE,()=>{p||(p=!0,$e(Vr,`RPC '${e}' stream ${i} transport closed`),S.So())}),T(m,nh.EventType.ERROR,R=>{p||(p=!0,Xu(Vr,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new Be(Te.UNAVAILABLE,"The operation could not be completed")))}),T(m,nh.EventType.MESSAGE,R=>{var w;if(!p){const k=R.data[0];Gt(!!k);const C=k,F=C.error||((w=C[0])===null||w===void 0?void 0:w.error);if(F){$e(Vr,`RPC '${e}' stream ${i} received error:`,F);const J=F.status;let ne=function(I){const L=tr[I];if(L!==void 0)return sS(L)}(J),V=F.message;ne===void 0&&(ne=Te.INTERNAL,V="Unknown error status: "+J+" with message "+F.message),p=!0,S.So(new Be(ne,V)),m.close()}else $e(Vr,`RPC '${e}' stream ${i} received:`,k),S.bo(k)}}),T(a,P3.STAT_EVENT,R=>{R.stat===$0.PROXY?$e(Vr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===$0.NOPROXY&&$e(Vr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return new Dk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new M2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(Mo(n.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Be(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xP extends yS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=jk(this.serializer,e),r=function(s){if(!("targetChange"in s))return ft.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ft.min():o.readTime?Bi(o.readTime):ft.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=t1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Y0(l)?{documents:Bk(s,l)}:{query:Uk(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lS(s,o.resumeToken);const u=Z0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ft.min())>0){a.readTime=wp(s,o.snapshotVersion.toTimestamp());const u=Z0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=qk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=t1(this.serializer),n.removeTarget=e,this.a_(n)}}class IP extends yS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Vk(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=t1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Be(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,e1(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(Te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,e1(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(Te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class NP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mo(n),this.D_=!1):$e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Gl(this)&&($e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=bt(l);u.L_.add(4),await ff(u),u.q_.set("Unknown"),u.L_.delete(4),await am(u)}(this))})}),this.q_=new NP(r,i)}}async function am(t){if(Gl(t))for(const e of t.B_)await e(!0)}async function ff(t){for(const e of t.B_)await e(!1)}function _S(t,e){const n=bt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),U2(n)?B2(n):fc(n).r_()&&V2(n,e))}function j2(t,e){const n=bt(t),r=fc(n);n.N_.delete(e),r.r_()&&wS(n,e),n.N_.size===0&&(r.r_()?r.o_():Gl(n)&&n.q_.set("Unknown"))}function V2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).A_(e)}function wS(t,e){t.Q_.xe(e),fc(t).R_(e)}function B2(t){t.Q_=new Pk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.q_.v_()}function U2(t){return Gl(t)&&!fc(t).n_()&&t.N_.size>0}function Gl(t){return bt(t).L_.size===0}function bS(t){t.Q_=void 0}async function PP(t){t.q_.set("Online")}async function CP(t){t.N_.forEach((e,n)=>{V2(t,e)})}async function LP(t,e){bS(t),U2(t)?(t.q_.M_(e),B2(t)):t.q_.set("Unknown")}async function RP(t,e,n){if(t.q_.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sp(t,r)}else if(e instanceof Cd?t.Q_.Ke(e):e instanceof oS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ft.min()))try{const r=await vS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Cr.EMPTY_BYTE_STRING,f.snapshotVersion)),wS(s,l);const m=new xa(f.target,l,u,f.sequenceNumber);V2(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),await Sp(t,r)}}async function Sp(t,e,n){if(!lf(e))throw e;t.L_.add(1),await ff(t),t.q_.set("Offline"),n||(n=()=>vS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await am(t)})}function SS(t,e){return e().catch(n=>Sp(t,n,e))}async function lm(t){const e=bt(t),n=Wa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;DP(e);)try{const i=await vP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,OP(e,i)}catch(i){await Sp(e,i)}ES(e)&&AS(e)}function DP(t){return Gl(t)&&t.O_.length<10}function OP(t,e){t.O_.push(e);const n=Wa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ES(t){return Gl(t)&&!Wa(t).n_()&&t.O_.length>0}function AS(t){Wa(t).start()}async function FP(t){Wa(t).p_()}async function MP(t){const e=Wa(t);for(const n of t.O_)e.m_(n.mutations)}async function jP(t,e,n){const r=t.O_.shift(),i=C2.from(r,e,n);await SS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lm(t)}async function VP(t,e){e&&Wa(t).V_&&await async function(r,i){if(function(o){return iS(o)&&o!==Te.ABORTED}(i.code)){const s=r.O_.shift();Wa(r).s_(),await SS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lm(r)}}(t,e),ES(t)&&AS(t)}async function J5(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.L_.add(3),await ff(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await am(n)}async function BP(t,e){const n=bt(t);e?(n.L_.delete(2),await am(n)):e||(n.L_.add(2),await ff(n),n.q_.set("Unknown"))}function fc(t){return t.K_||(t.K_=function(n,r,i){const s=bt(n);return s.w_(),new xP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:PP.bind(null,t),Ro:CP.bind(null,t),mo:LP.bind(null,t),d_:RP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),U2(t)?B2(t):t.q_.set("Unknown")):(await t.K_.stop(),bS(t))})),t.K_}function Wa(t){return t.U_||(t.U_=function(n,r,i){const s=bt(n);return s.w_(),new IP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FP.bind(null,t),mo:VP.bind(null,t),f_:MP.bind(null,t),g_:jP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lm(t)):(await t.U_.stop(),t.O_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new z2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q2(t,e){if(Mo("AsyncQueue",`${e}: ${t}`),lf(t))return new Be(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=rh(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.W_=new On(rt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ut():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class nc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nc(e,n,Du.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class zP{constructor(){this.queries=e_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=bt(n),s=i.queries;i.queries=e_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Be(Te.ABORTED,"Firestore shutting down"))}}function e_(){return new hc(t=>W3(t),em)}async function qP(t,e){const n=bt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new UP,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=q2(o,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&H2(n)}async function HP(t,e){const n=bt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WP(t,e){const n=bt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&H2(n)}function $P(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function H2(t){t.Y_.forEach(e=>{e.next()})}var r1,t_;(t_=r1||(r1={})).ea="default",t_.Cache="cache";class GP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==r1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class KP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=$3(e),this.Ra=new Du(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Z5,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const v=i.get(f),p=tm(this.query,m)?m:null,S=!!v&&this.mutatedKeys.has(v.key),T=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;v&&p?v.data.isEqual(p.data)?S!==T&&(r.track({type:3,doc:p}),R=!0):this.ga(v,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),R=!0):v&&!p&&(r.track({type:1,doc:v}),R=!0,(l||u)&&(a=!0)),R&&(p?(o=o.add(p),s=T?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(p,S){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return T(p)-T(S)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new nc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Z5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new IS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new xS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return nc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class QP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YP{constructor(e){this.key=e,this.va=!1}}class XP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hc(a=>W3(a),em),this.Ma=new Map,this.xa=new Set,this.Oa=new On(rt.comparator),this.Na=new Map,this.La=new D2,this.Ba={},this.ka=new Map,this.qa=tc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function JP(t,e,n=!0){const r=LS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await TS(r,e,n,!0),i}async function ZP(t,e){const n=LS(t);await TS(n,e,!0,!1)}async function TS(t,e,n,r){const i=await yP(t.localStore,Xs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await eC(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_S(t.remoteStore,i),a}async function eC(t,e,n,r,i){t.Ka=(m,v,p)=>async function(T,R,w,k){let C=R.view.ma(w);C.ns&&(C=await Q5(T.localStore,R.query,!1).then(({documents:V})=>R.view.ma(V,C)));const F=k&&k.targetChanges.get(R.targetId),J=k&&k.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(C,T.isPrimaryClient,F,J);return r_(T,R.targetId,ne.wa),ne.snapshot}(t,m,v,p);const s=await Q5(t.localStore,e,!0),o=new KP(e,s.Ts),a=o.ma(s.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);r_(t,n,u.wa);const f=new QP(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function tC(t,e,n){const r=bt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!em(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&j2(r.remoteStore,i.targetId),i1(r,i.targetId)}).catch(af)):(i1(r,i.targetId),await n1(r.localStore,i.targetId,!0))}async function nC(t,e){const n=bt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),j2(n.remoteStore,r.targetId))}async function rC(t,e,n){const r=cC(t);try{const i=await function(o,a){const l=bt(o),u=cr.now(),f=a.reduce((p,S)=>p.add(S.key),Ft());let m,v;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=jo(),T=Ft();return l.cs.getEntries(p,f).next(R=>{S=R,S.forEach((w,k)=>{k.isValidDocument()||(T=T.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(R=>{m=R;const w=[];for(const k of a){const C=Ak(k,m.get(k.key).overlayedDocument);C!=null&&w.push(new Ya(k.key,C,M3(C.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(R=>{v=R;const w=R.applyToLocalDocumentSet(m,T);return l.documentOverlayCache.saveOverlays(p,R.batchId,w)})}).then(()=>({batchId:v.batchId,changes:K3(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Qt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await df(r,i.changes),await lm(r.remoteStore)}catch(i){const s=q2(i,"Failed to persist write");n.reject(s)}}async function NS(t,e){const n=bt(t);try{const r=await mP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Gt(o.va):i.removedDocuments.size>0&&(Gt(o.va),o.va=!1))}),await df(n,r,e)}catch(r){await af(r)}}function n_(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=bt(o);l.onlineState=a;let u=!1;l.queries.forEach((f,m)=>{for(const v of m.j_)v.Z_(a)&&(u=!0)}),u&&H2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iC(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(rt.comparator);o=o.insert(s,yr.newNoDocument(s,ft.min()));const a=Ft().add(s),l=new sm(ft.min(),new Map,new On(Qt),o,a);await NS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),W2(r)}else await n1(r.localStore,e,!1).then(()=>i1(r,e,n)).catch(af)}async function sC(t,e){const n=bt(t),r=e.batch.batchId;try{const i=await pP(n.localStore,e);PS(n,r,null),kS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await df(n,i)}catch(i){await af(i)}}async function oC(t,e,n){const r=bt(t);try{const i=await function(o,a){const l=bt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(m=>(Gt(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);PS(r,e,n),kS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await df(r,i)}catch(i){await af(i)}}function kS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PS(t,e,n){const r=bt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||CS(t,r)})}function CS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(j2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),W2(t))}function r_(t,e,n){for(const r of n)r instanceof xS?(t.La.addReference(r.key,e),aC(t,r)):r instanceof IS?($e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||CS(t,r.key)):ut()}function aC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($e("SyncEngine","New document in limbo: "+n),t.xa.add(r),W2(t))}function W2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new rt(fn.fromString(e)),r=t.qa.next();t.Na.set(r,new YP(n)),t.Oa=t.Oa.insert(n,r),_S(t.remoteStore,new xa(Xs(k2(n.path)),r,"TargetPurposeLimboResolution",E2.oe))}}async function df(t,e,n){const r=bt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=F2.Wi(l.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const f=bt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ce.forEach(u,v=>Ce.forEach(v.$i,p=>f.persistence.referenceDelegate.addReference(m,v.targetId,p)).next(()=>Ce.forEach(v.Ui,p=>f.persistence.referenceDelegate.removeReference(m,v.targetId,p)))))}catch(m){if(!lf(m))throw m;$e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const v=m.targetId;if(!m.fromCache){const p=f.os.get(v),S=p.snapshotVersion,T=p.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(v,T)}}}(r.localStore,s))}async function lC(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=await gS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Be(Te.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await df(n,r.hs)}}function uC(t,e){const n=bt(t),r=n.Na.get(e);if(r&&r.va)return Ft().add(r.key);{let i=Ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function LS(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iC.bind(null,e),e.Ca.d_=WP.bind(null,e.eventManager),e.Ca.$a=$P.bind(null,e.eventManager),e}function cC(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oC.bind(null,e),e}class Ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return dP(this.persistence,new hP,e.initialUser,this.serializer)}Ga(e){return new lP(O2.Zr,this.serializer)}Wa(e){return new wP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ep.provider={build:()=>new Ep};class s1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await BP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zP}()}createDatastore(e){const n=om(e.databaseInfo.databaseId),r=function(s){return new AP(s)}(e.databaseInfo);return function(s,o,a,l){return new TP(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kP(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>n_(this.syncEngine,n,0),function(){return X5.D()?new X5:new bP}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const m=new XP(i,s,o,a,l,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=bt(i);$e("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ff(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}s1.provider={build:()=>new s1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Be(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=bt(i),a={documents:s.map(m=>bp(o.serializer,m))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,fn.emptyPath(),a,s.length),u=new Map;l.forEach(m=>{const v=Mk(o.serializer,m);u.set(v.key.toString(),v)});const f=[];return s.forEach(m=>{const v=u.get(m.toString());Gt(!!v),f.push(v)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new im(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=rt.fromPath(r);this.mutations.push(new rS(i,this.precondition(i)))}),await async function(r,i){const s=bt(r),o={writes:i.map(a=>fS(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,fn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ut();n=ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Be(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ft.min())?$r.exists(!1):$r.updateTime(n):$r.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ft.min()))throw new Be(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(n)}return $r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new M2(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new fC(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!uf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!iS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=D3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function i_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mC(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J5(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>J5(e.remoteStore,i)),t._onlineComponents=e}async function mC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xu("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new Ep)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),await vg(t,new Ep);return t._offlineComponents}async function $2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),await i_(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),await i_(t,new s1))),t._onlineComponents}function gC(t){return $2(t).then(e=>e.syncEngine)}function vC(t){return $2(t).then(e=>e.datastore)}async function s_(t){const e=await $2(t),n=e.eventManager;return n.onListen=JP.bind(null,e.syncEngine),n.onUnlisten=tC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e,n){if(!n)throw new Be(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yC(t,e,n,r){if(e===!0&&r===!0)throw new Be(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a_(t){if(!rt.isDocumentKey(t))throw new Be(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l_(t){if(rt.isDocumentKey(t))throw new Be(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut()}function Co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new Be(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RN;switch(r.type){case"firstParty":return new MN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o_.get(n);r&&($e("ComponentProvider","Removing Datastore"),o_.delete(n),r.terminate())}(this),Promise.resolve()}}function _C(t,e,n,r={}){var i;const s=(t=Co(t,cm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Hr.MOCK_USER;else{a=u6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Be(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Hr(u)}t._authCredentials=new DN(new R3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class ii{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Va extends Kl{constructor(e,n,r){super(e,n,k2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new rt(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function rc(t,e,...n){if(t=Zn(t),DS("collection","path",e),t instanceof cm){const r=fn.fromString(e,...n);return l_(r),new Va(t,null,r)}{if(!(t instanceof ii||t instanceof Va))throw new Be(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return l_(r),new Va(t.firestore,null,r)}}function xo(t,e,...n){if(t=Zn(t),arguments.length===1&&(e=D3.newId()),DS("doc","path",e),t instanceof cm){const r=fn.fromString(e,...n);return a_(r),new ii(t,null,new rt(r))}{if(!(t instanceof ii||t instanceof Va))throw new Be(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return a_(r),new ii(t.firestore,t instanceof Va?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new M2(this,"async_queue_retry"),this.Vu=()=>{const r=gg();r&&$e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ja;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lf(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ut()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function h_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Vl extends cm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new c_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c_(e),this._firestoreClient=void 0,await e}}}function wC(t,e){const n=typeof t=="object"?t:A3(),r=typeof t=="string"?t:"(default)",i=b2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a6("firestore");s&&_C(i,...s)}return i}function G2(t){if(t._terminated)throw new Be(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bC(t),t._firestoreClient}function bC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new YN(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,RS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new pC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(Cr.fromBase64String(e))}catch(n){throw new Be(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^__.*__$/;class EC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new cf(e,this.data,n,this.fieldTransforms)}}class OS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class X2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new X2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ap(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(FS(this.Cu)&&SC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||om(e)}Qu(e,n,r,i=!1){return new X2({Cu:e,methodName:n,qu:r,path:Tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new AC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MS(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);J2("Data must be an object, but it was:",o,r);const a=BS(r,o);let l,u;if(s.merge)l=new Mi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const v=o1(e,m,n);if(!o.contains(v))throw new Be(Te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zS(f,v)||f.push(v)}l=new Mi(f),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new EC(new ni(a),l,u)}class fm extends K2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}function jS(t,e,n,r){const i=t.Qu(1,e,n);J2("Data must be an object, but it was:",i,r);const s=[],o=ni.empty();$l(r,(l,u)=>{const f=Z2(e,l,n);u=Zn(u);const m=i.Nu(f);if(u instanceof fm)s.push(f);else{const v=mf(u,m);v!=null&&(s.push(f),o.set(f,v))}});const a=new Mi(s);return new OS(o,a,i.fieldTransforms)}function VS(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[o1(e,r,n)],l=[i];if(s.length%2!=0)throw new Be(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(o1(e,s[v])),l.push(s[v+1]);const u=[],f=ni.empty();for(let v=a.length-1;v>=0;--v)if(!zS(u,a[v])){const p=a[v];let S=l[v];S=Zn(S);const T=o.Nu(p);if(S instanceof fm)u.push(p);else{const R=mf(S,T);R!=null&&(u.push(p),f.set(p,R))}}const m=new Mi(u);return new OS(f,m,o.fieldTransforms)}function xC(t,e,n,r=!1){return mf(n,t.Qu(r?4:3,e))}function mf(t,e){if(US(t=Zn(t)))return J2("Unsupported field value:",e,t),BS(t,e);if(t instanceof K2)return function(r,i){if(!FS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mf(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cr.fromDate(r);return{timestampValue:wp(i.serializer,s)}}if(r instanceof cr){const s=new cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,s)}}if(r instanceof Q2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:lS(i.serializer,r._byteString)};if(r instanceof ii){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Y2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return P2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${um(r)}`)}(t,e)}function BS(t,e){const n={};return O3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,(r,i)=>{const s=mf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function US(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof Q2||t instanceof Bl||t instanceof ii||t instanceof K2||t instanceof Y2)}function J2(t,e,n){if(!US(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=um(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function o1(t,e,n){if((e=Zn(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Z2(t,e);throw Ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const IC=new RegExp("[~\\*/\\[\\]]");function Z2(t,e,n){if(e.search(IC)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ap(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Be(Te.INVALID_ARGUMENT,a+t+l)}function zS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TC extends xp{data(){return super.data()}}function dm(t,e){return typeof e=="string"?Z2(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class qS extends ev{}function HS(t,e,...n){let r=[];e instanceof ev&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof tv).length,a=s.filter(l=>l instanceof pm).length;if(o>1||o>0&&a>0)throw new Be(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class pm extends qS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pm(e,n,r)}_apply(e){const n=this._parse(e);return WS(e._query,n),new Kl(e.firestore,e.converter,X0(e._query,n))}_parse(e){const n=hm(e.firestore);return function(s,o,a,l,u,f,m){let v;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Be(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){d_(m,f);const p=[];for(const S of m)p.push(f_(l,s,S));v={arrayValue:{values:p}}}else v=f_(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||d_(m,f),v=xC(a,o,m,f==="in"||f==="not-in");return rr.create(u,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yg(t,e,n){const r=e,i=dm("where",t);return pm._create(i,r,n)}class tv extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)WS(o,l),o=X0(o,l)}(e._query,n),new Kl(e.firestore,e.converter,X0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nv extends qS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Be(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Be(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $h(s,o)}(e._query,this._field,this._direction);return new Kl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function a1(t,e="asc"){const n=e,r=dm("orderBy",t);return nv._create(r,n)}function f_(t,e,n){if(typeof(n=Zn(n))=="string"){if(n==="")throw new Be(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H3(e)&&n.indexOf("/")!==-1)throw new Be(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fn.fromString(n));if(!rt.isDocumentKey(r))throw new Be(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L5(t,new rt(r))}if(n instanceof ii)return L5(t,n._key);throw new Be(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function d_(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Be(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $S{convertValue(e,n="none"){switch(jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ut()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $l(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Kn(o.doubleValue));return new Y2(s)}convertGeoPoint(e){return new Q2(Kn(e.latitude),Kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=Ha(e);return new cr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fn.fromString(e);Gt(mS(r));const i=new Hh(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||Mo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kC extends $S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rv extends xp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ld extends rv{data(e={}){return super.data(e)}}class PC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ld(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ld(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ld(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:CC(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}class iv extends $S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}function sv(t,e,n,...r){t=Co(t,ii);const i=Co(t.firestore,Vl),s=hm(i);let o;return o=typeof(e=Zn(e))=="string"||e instanceof pf?VS(s,"updateDoc",t._key,e,n,r):jS(s,"updateDoc",t._key,e),av(i,[o.toMutation(t._key,$r.exists(!0))])}function ov(t){return av(Co(t.firestore,Vl),[new im(t._key,$r.none())])}function KS(t,e){const n=Co(t.firestore,Vl),r=xo(t),i=GS(t.converter,e);return av(n,[MS(hm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function QS(t,...e){var n,r,i;t=Zn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||h_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(h_(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,u,f;if(t instanceof ii)u=Co(t.firestore,Vl),f=k2(t._key.path),l={next:m=>{e[o]&&e[o](LC(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Co(t,Kl);u=Co(m.firestore,Vl),f=m._query;const v=new iv(u);l={next:p=>{e[o]&&e[o](new PC(u,v,m,p))},error:e[o+1],complete:e[o+2]},NC(t._query)}return function(v,p,S,T){const R=new hC(T),w=new GP(p,R,S);return v.asyncQueue.enqueueAndForget(async()=>qP(await s_(v),w)),()=>{R.Za(),v.asyncQueue.enqueueAndForget(async()=>HP(await s_(v),w))}}(G2(u),f,a,l)}function av(t,e){return function(r,i){const s=new ja;return r.asyncQueue.enqueueAndForget(async()=>rC(await gC(r),i,s)),s.promise}(G2(t),e)}function LC(t,e,n){const r=n.docs.get(e._key),i=new iv(t);return new rv(t,i,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={maxAttempts:5};function $c(t,e){if((t=Zn(t)).firestore!==e)throw new Be(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=hm(n)}get(n){const r=$c(n,this._firestore),i=new kC(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ut();const o=s[0];if(o.isFoundDocument())return new xp(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new xp(this._firestore,i,r._key,null,r.converter);throw ut()})}set(n,r,i){const s=$c(n,this._firestore),o=GS(s.converter,r,i),a=MS(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=$c(n,this._firestore);let a;return a=typeof(r=Zn(r))=="string"||r instanceof pf?VS(this._dataReader,"Transaction.update",o._key,r,i,s):jS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=$c(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$c(e,this._firestore),r=new iv(this._firestore);return super.get(e).then(i=>new rv(this._firestore,r,n._key,i._document,new xu(!1,!1),n.converter))}}function OC(t,e,n){t=Co(t,Vl);const r=Object.assign(Object.assign({},RC),n);return function(s){if(s.maxAttempts<1)throw new Be(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new ja;return s.asyncQueue.enqueueAndForget(async()=>{const u=await vC(s);new dC(s.asyncQueue,u,a,o,l).au()}),l.promise}(G2(t),i=>e(new DC(t,i)),r)}(function(e,n=!0){(function(i){uc=i})(lc),Yu(new Ol("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vl(new ON(r.getProvider("auth-internal")),new VN(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Be(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ma(T5,"4.7.3",e),Ma(T5,"4.7.3","esm2017")})();function lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FC=YS,XS=new sf("auth","Firebase",YS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new _2("@firebase/auth");function MC(t,...e){Ip.logLevel<=Bt.WARN&&Ip.warn(`Auth (${lc}): ${t}`,...e)}function Rd(t,...e){Ip.logLevel<=Bt.ERROR&&Ip.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw uv(t,...e)}function Js(t,...e){return uv(t,...e)}function JS(t,e,n){const r=Object.assign(Object.assign({},FC()),{[e]:n});return new sf("auth","Firebase",r).create(e,{appName:t.name})}function Ba(t){return JS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XS.create(t,...e)}function dt(t,e,...n){if(!t)throw uv(e,...n)}function Io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function Vo(t,e){t||Io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jC(){return p_()==="http:"||p_()==="https:"}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jC()||d6()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vo(n>e,"Short delay should be less than long delay!"),this.isMobile=c6()||p6()}get(){return VC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new gf(3e4,6e4);function Ql(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xa(t,e,n,r,i={}){return eE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=of(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return f6()||(u.referrerPolicy="no-referrer"),ZS.fetch()(tE(t,t.config.apiHost,n,a),u)})}async function eE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UC),e);try{const i=new HC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JS(t,f,u);Es(t,f)}}catch(i){if(i instanceof zo)throw i;Es(t,"network-request-failed",{message:String(i)})}}async function mm(t,e,n,r,i={}){const s=await Xa(t,e,n,r,i);return"mfaPendingCredential"in s&&Es(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cv(t.config,i):`${t.config.apiScheme}://${i}`}function qC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),zC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Js(t,e,r);return i.customData._tokenResponse=n,i}function m_(t){return t!==void 0&&t.enterprise!==void 0}class WC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $C(t,e){return Xa(t,"GET","/v2/recaptchaConfig",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t,e){return Xa(t,"POST","/v1/accounts:delete",e)}async function nE(t,e){return Xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(t,e=!1){const n=Zn(t),r=await n.getIdToken(e),i=hv(r);dt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(_g(i.auth_time)),issuedAtTime:_h(_g(i.iat)),expirationTime:_h(_g(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _g(t){return Number(t)*1e3}function hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const i=v3(n);return i?JSON.parse(i):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g_(t){const e=hv(t);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zo&&QC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qh(t,nE(n,{idToken:r}));dt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rE(s.providerUserInfo):[],a=JC(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new u1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function XC(t){const e=Zn(t);await Tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rE(t){return t.map(e=>{var{providerId:n}=e,r=lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(t,e){const n=await eE(t,{},async()=>{const r=of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eL(t,e){return Xa(t,"POST","/v2/accounts:revokeToken",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){dt(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ou;return r&&(dt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(dt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(dt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e){dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new u1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qh(this,this.stsTokenManager.getToken(this.auth,e));return dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KC(this,e)}reload(){return XC(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ao(this.auth.app))return Promise.reject(Ba(this.auth));const e=await this.getIdToken();return await Qh(this,GC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:C,emailVerified:F,isAnonymous:J,providerData:ne,stsTokenManager:V}=n;dt(C&&V,e,"internal-error");const A=Ou.fromJSON(this.name,V);dt(typeof C=="string",e,"internal-error"),fa(m,e.name),fa(v,e.name),dt(typeof F=="boolean",e,"internal-error"),dt(typeof J=="boolean",e,"internal-error"),fa(p,e.name),fa(S,e.name),fa(T,e.name),fa(R,e.name),fa(w,e.name),fa(k,e.name);const I=new To({uid:C,auth:e,email:v,emailVerified:F,displayName:m,isAnonymous:J,photoURL:S,phoneNumber:p,tenantId:T,stsTokenManager:A,createdAt:w,lastLoginAt:k});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(L=>Object.assign({},L))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ou;i.updateFromServerResponse(n);const s=new To({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];dt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ou;a.updateFromIdToken(r);const l=new To({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new u1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function No(t){Vo(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?(Vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iE.type="NONE";const y_=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?To._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fu(No(y_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||No(y_);const o=Dd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const m=To._fromJSON(e,f);u!==s&&(a=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(hE(e))return"Webos";if(oE(e))return"Safari";if((e.includes("chrome/")||aE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sE(t=Kr()){return/firefox\//i.test(t)}function oE(t=Kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aE(t=Kr()){return/crios\//i.test(t)}function lE(t=Kr()){return/iemobile/i.test(t)}function uE(t=Kr()){return/android/i.test(t)}function cE(t=Kr()){return/blackberry/i.test(t)}function hE(t=Kr()){return/webos/i.test(t)}function fv(t=Kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tL(t=Kr()){var e;return fv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nL(){return m6()&&document.documentMode===10}function fE(t=Kr()){return fv(t)||uE(t)||hE(t)||cE(t)||/windows phone/i.test(t)||lE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e=[]){let n;switch(t){case"Browser":n=__(Kr());break;case"Worker":n=`${__(Kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return Xa(t,"GET","/v2/passwordPolicy",Ql(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=6;class oL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new rL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nE(this,{idToken:e}),r=await To._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ao(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ao(this.app))return Promise.reject(Ba(this));const n=e?Zn(e):null;return n&&dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ao(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ao(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(No(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iL(this),n=new oL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&No(e)||this._popupRedirectResolver;dt(n,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[No(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dc(t){return Zn(t)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=E6(n=>this.observer=n)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lL(t){gm=t}function pE(t){return gm.loadJS(t)}function uL(){return gm.recaptchaEnterpriseScript}function cL(){return gm.gapiScript}function hL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fL="recaptcha-enterprise",dL="NO_RECAPTCHA";class pL{constructor(e){this.type=fL,this.auth=dc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{$C(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new WC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;m_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(dL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&m_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uL();l.length!==0&&(l+=a),pE(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function b_(t,e,n,r=!1){const i=new pL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function S_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await b_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await b_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){const n=b2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(pp(s,e??{}))return i;Es(i,"already-initialized")}return n.initialize({options:e})}function gL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vL(t,e,n){const r=dc(t);dt(r._canInitEmulator,r,"emulator-config-failed"),dt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mE(e),{host:o,port:a}=yL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),_L()}function mE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yL(t){const e=mE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:E_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:E_(o)}}}function E_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _L(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,n){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}async function wL(t,e){return Xa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){return mm(t,"POST","/v1/accounts:signInWithPassword",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){return mm(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}async function EL(t,e){return mm(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends dv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,n,"signInWithPassword",bL);case"emailLink":return SL(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,r,"signUpPassword",wL);case"emailLink":return EL(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t,e){return mm(t,"POST","/v1/accounts:signInWithIdp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="http://localhost";class Ul extends dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ul(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mu(e,n)}buildRequest(){const e={requestUri:AL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=of(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IL(t){const e=eh(th(t)).link,n=e?eh(th(e)).deep_link_id:null,r=eh(th(t)).deep_link_id;return(r?eh(th(r)).link:null)||r||n||e||t}class pv{constructor(e){var n,r,i,s,o,a;const l=eh(th(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,m=xL((i=l.mode)!==null&&i!==void 0?i:null);dt(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=IL(e);try{return new pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,n){return Yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pv.parseLink(n);return dt(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends vf{constructor(){super("facebook.com")}static credential(e){return Ul._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com";_a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ul._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wa.credential(n,r)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends vf{constructor(){super("github.com")}static credential(e){return Ul._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends vf{constructor(){super("twitter.com")}static credential(e,n){return Ul._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await To._fromIdTokenResponse(e,r,i),o=A_(r);return new ic({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A_(r);return new ic({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends zo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Np.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Np(e,n,r,i)}}function vE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Np._fromErrorAndOperation(t,s,e,r):s})}async function TL(t,e,n=!1){const r=await Qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e,n=!1){const{auth:r}=t;if(Ao(r.app))return Promise.reject(Ba(r));const i="reauthenticate";try{const s=await Qh(t,vE(r,i,e,t),n);dt(s.idToken,r,"internal-error");const o=hv(s.idToken);dt(o,r,"internal-error");const{sub:a}=o;return dt(t.uid===a,r,"user-mismatch"),ic._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(t,e,n=!1){if(Ao(t.app))return Promise.reject(Ba(t));const r="signIn",i=await vE(t,r,e),s=await ic._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kL(t,e){return yE(dc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t){const e=dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CL(t,e,n){return Ao(t.app)?Promise.reject(Ba(t)):kL(Zn(t),pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PL(t),r})}function LL(t,e,n,r){return Zn(t).onIdTokenChanged(e,n,r)}function RL(t,e,n){return Zn(t).beforeAuthStateChanged(e,n)}function DL(t,e,n,r){return Zn(t).onAuthStateChanged(e,n,r)}function OL(t){return Zn(t).signOut()}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1e3,ML=10;class wE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ML):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const jL=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bE.type="SESSION";const SE=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await VL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=mv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function UL(t){Zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function zL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HL(){return EE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebaseLocalStorageDb",WL=1,Pp="firebaseLocalStorage",xE="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ym(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function $L(){const t=indexedDB.deleteDatabase(AE);return new yf(t).toPromise()}function c1(){const t=indexedDB.open(AE,WL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:xE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),await $L(),e(await c1()))})})}async function x_(t,e,n){const r=ym(t,!0).put({[xE]:e,value:n});return new yf(r).toPromise()}async function GL(t,e){const n=ym(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function I_(t,e){const n=ym(t,!0).delete(e);return new yf(n).toPromise()}const KL=800,QL=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(HL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zL(),!this.activeServiceWorker)return;this.sender=new BL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c1();return await x_(e,kp,"1"),await I_(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ym(i,!1).getAll();return new yf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const YL=IE;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){return e?No(e):(dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JL(t){return yE(t.auth,new gv(t),t.bypassAuthState)}function ZL(t){const{auth:e,user:n}=t;return dt(n,e,"internal-error"),NL(n,new gv(t),t.bypassAuthState)}async function e8(t){const{auth:e,user:n}=t;return dt(n,e,"internal-error"),TL(n,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JL;case"linkViaPopup":case"linkViaRedirect":return e8;case"reauthViaPopup":case"reauthViaRedirect":return ZL;default:Es(this.auth,"internal-error")}}resolve(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new gf(2e3,1e4);class Iu extends TE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Iu.currentPopupAction&&Iu.currentPopupAction.cancel(),Iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dt(e,this.auth,"internal-error"),e}async onExecution(){Vo(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t8.get())};e()}}Iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="pendingRedirect",Od=new Map;class r8 extends TE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const r=await i8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i8(t,e){const n=a8(e),r=o8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s8(t,e){Od.set(t._key(),e)}function o8(t){return No(t._redirectPersistence)}function a8(t){return Dd(n8,t.config.apiKey,t.name)}async function l8(t,e,n=!1){if(Ao(t.app))return Promise.reject(Ba(t));const r=dc(t),i=XL(r,e),o=await new r8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=10*60*1e3;class c8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u8&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(e))}saveEventToCache(e){this.cachedEventUids.add(T_(e)),this.lastProcessedEventTime=Date.now()}}function T_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e={}){return Xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p8=/^https?/;async function m8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f8(t);for(const n of e)try{if(g8(n))return}catch{}Es(t,"unauthorized-domain")}function g8(t){const e=l1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p8.test(n))return!1;if(d8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new gf(3e4,6e4);function N_(){const t=Zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y8(t){return new Promise((e,n)=>{var r,i,s;function o(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),n(Js(t,"network-request-failed"))},timeout:v8.get()})}if(!((i=(r=Zs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zs().gapi)===null||s===void 0)&&s.load)o();else{const a=hL("iframefcb");return Zs()[a]=()=>{gapi.load?o():n(Js(t,"network-request-failed"))},pE(`${cL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function _8(t){return Fd=Fd||y8(t),Fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=new gf(5e3,15e3),b8="__/auth/iframe",S8="emulator/auth/iframe",E8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x8(t){const e=t.config;dt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,S8):`https://${t.config.authDomain}/${b8}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=A8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${of(r).slice(1)}`}async function I8(t){const e=await _8(t),n=Zs().gapi;return dt(n,t,"internal-error"),e.open({where:document.body,url:x8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Js(t,"network-request-failed"),a=Zs().setTimeout(()=>{s(o)},w8.get());function l(){Zs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N8=500,k8=600,P8="_blank",C8="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L8(t,e,n,r=N8,i=k8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},T8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kr().toLowerCase();n&&(a=aE(u)?P8:n),sE(u)&&(e=e||C8,l.scrollbars="yes");const f=Object.entries(l).reduce((v,[p,S])=>`${v}${p}=${S},`,"");if(tL(u)&&a!=="_self")return R8(e||"",a),new k_(null);const m=window.open(e||"",a,f);dt(m,t,"popup-blocked");try{m.focus()}catch{}return new k_(m)}function R8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="__/auth/handler",O8="emulator/auth/handler",F8=encodeURIComponent("fac");async function P_(t,e,n,r,i,s){dt(t.config.authDomain,t,"auth-domain-config-required"),dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof gE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",S6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof vf){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${F8}=${encodeURIComponent(l)}`:"";return`${M8(t)}?${of(a).slice(1)}${u}`}function M8({config:t}){return t.emulator?cv(t,O8):`https://${t.authDomain}/${D8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="webStorageSupport";class j8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=l8,this._overrideRedirectResult=s8}async _openPopup(e,n,r,i){var s;Vo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await P_(e,n,r,l1(),i);return L8(e,o,mv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await P_(e,n,r,l1(),i);return UL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I8(e),r=new c8(e);return n.register("authEvent",i=>(dt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wg,{type:wg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wg];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fE()||oE()||fv()}}const V8=j8;var C_="@firebase/auth",L_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z8(t){Yu(new Ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;dt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(t)},u=new aL(r,i,s,l);return gL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new Ol("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new B8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(C_,L_,U8(t)),Ma(C_,L_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=5*60,H8=w3("authIdTokenMaxAge")||q8;let R_=null;const W8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H8)return;const i=n==null?void 0:n.token;R_!==i&&(R_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $8(t=A3()){const e=b2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mL(t,{popupRedirectResolver:V8,persistence:[YL,jL,SE]}),r=w3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=W8(s.toString());RL(n,o,()=>o(n.currentUser)),LL(n,a=>o(a))}}const i=y3("auth");return i&&vL(n,`http://${i}`),n}function G8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Js("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",G8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z8("Browser");var K8="firebase",Q8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(K8,Q8,"app");const Y8={apiKey:"AIzaSyB0C2ecPKLnbIMzWuj9LHcZa_fa9c47GzM",authDomain:"landbys-cup-2288f.firebaseapp.com",projectId:"landbys-cup-2288f",storageBucket:"landbys-cup-2288f.appspot.com",messagingSenderId:"your_sender_id",appId:"your_app_id"},kE=E3(Y8),pi=wC(kE),vv=$8(kE);function yv(){const[t,e]=wt.useState(null);return wt.useEffect(()=>{const n=DL(vv,r=>{e(r)});return()=>n()},[]),t}const D_=new Map,od=new Map;function bg(t,e=[],n=!0,r=null,i=5*60*1e3){const[s,o]=wt.useState([]),[a,l]=wt.useState(!0),[u,f]=wt.useState(null),m=wt.useRef(),v=r||`${t}_${JSON.stringify(e)}`,p=wt.useMemo(()=>e,[e.length,e.map(S=>S.toString()).join(",")]);return wt.useEffect(()=>{if(!n){o([]),l(!1),f(null);return}const S=D_.get(v);if(S&&Date.now()-S.timestamp<i){o(S.data),l(!1),f(null);return}const T=od.get(v);if(T)return T.subscribers.add(o),o(T.currentData),l(!1),()=>{T.subscribers.delete(o),T.subscribers.size===0&&(T.unsubscribe(),od.delete(v))};l(!0),f(null);let R;p.length>0?R=HS(rc(pi,t),...p):R=rc(pi,t);const w=new Set([o]);let k=[];const C=QS(R,F=>{const J=F.docs.map(ne=>({id:ne.id,...ne.data()}));k=J,D_.set(v,{data:J,timestamp:Date.now()}),w.forEach(ne=>{ne(J)}),l(!1),f(null)},F=>{console.error(`Error loading ${t}:`,F),f(F),l(!1),w.forEach(J=>{})});return od.set(v,{unsubscribe:C,subscribers:w,currentData:k}),m.current=()=>{w.delete(o),w.size===0&&(C(),od.delete(v))},m.current},[t,p,n,v,i]),{data:s,loading:a,error:u}}const PE=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),H.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),H.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),H.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),X8=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("circle",{cx:"12",cy:"12",r:"10"}),H.jsx("circle",{cx:"12",cy:"12",r:"6"}),H.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),CE=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),LE=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),H.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),H.jsx("path",{d:"M4 22h16"}),H.jsx("path",{d:"M10 14.66V17c0 .55.47.98.97 1.21C12.04 18.75 14 20 16 20s4-1.25 5.03-1.79c.5-.23.97-.66.97-1.21v-2.34"}),H.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),wh=({className:t="w-5 h-5"})=>H.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),RE=({className:t="w-5 h-5"})=>H.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[H.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),H.jsx("circle",{cx:"9",cy:"7",r:"4"}),H.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),H.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});function J8({onLoginClick:t}){const e=yv(),n=async()=>{try{await OL(vv)}catch(r){alert(r.message)}};return H.jsx("header",{className:"w-full py-4 bg-primary-800 shadow-sm sticky top-0 z-10 border-b border-primary-700",children:H.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[H.jsxs("h1",{className:"text-lg md:text-2xl font-semibold text-white tracking-tight flex items-center gap-2 md:gap-3",children:[H.jsx(X8,{className:"w-7 h-7 md:w-8 md:h-8 text-amber-400"}),"Landbys Cup"]}),H.jsx("div",{className:"text-primary-200 text-sm",children:e?H.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[H.jsx("span",{className:"text-primary-200 text-xs sm:text-sm truncate",children:e.email||e.displayName}),H.jsx("button",{onClick:n,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md font-medium text-sm transition-colors flex-shrink-0",children:"Logga ut"})]}):H.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[H.jsx("span",{className:"text-primary-300 text-xs sm:text-sm",children:"Ej inloggad"}),H.jsx("button",{onClick:t,className:"bg-primary-600 hover:bg-primary-700 text-white px-3 py-1 rounded-md font-medium text-sm transition-colors flex-shrink-0",children:"Logga in"})]})})]})})}function Z8({onLoginSuccess:t,onClose:e}){const[n,r]=wt.useState(""),[i,s]=wt.useState(""),o=yv(),a=async()=>{try{await CL(vv,n,i),t&&t()}catch(l){alert(l.message)}};return o?null:H.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm max-w-md mx-auto mt-8 border border-primary-200 relative",children:[e&&H.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-xl font-bold",children:""}),H.jsx("h2",{className:"text-lg font-semibold mb-4 text-center text-primary-800",children:"Logga in"}),H.jsx("input",{type:"email",value:n,onChange:l=>r(l.target.value),placeholder:"E-post",className:"border border-primary-300 p-3 w-full mb-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("input",{type:"password",value:i,onChange:l=>s(l.target.value),placeholder:"Lsenord",className:"border border-primary-300 p-3 w-full mb-4 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("button",{onClick:a,className:"w-full bg-primary-700 hover:bg-primary-800 text-white px-4 py-3 rounded-lg font-medium transition-colors",children:"Logga in"})]})}function Gc({active:t,onClick:e,icon:n,children:r}){return H.jsxs("button",{className:`flex-1 min-w-[140px] px-4 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all duration-200 border ${t?"bg-primary-700 text-white border-primary-700 shadow-sm":"bg-primary-50 text-primary-700 border-primary-200 hover:bg-primary-100 hover:border-primary-300"}`,onClick:e,children:[H.jsx("span",{className:"flex-shrink-0",children:n}),H.jsx("span",{children:r})]})}function eR({competitions:t,user:e}){const[n,r]=wt.useState(""),[i,s]=wt.useState(""),[o,a]=wt.useState([]),[l,u]=wt.useState(null),[f,m]=wt.useState(""),[v,p]=wt.useState(""),[S,T]=wt.useState([]),R=[1,2,3,4,5,6,7];function w(A){a(I=>I.includes(A)?I.filter(L=>L!==A):I.length<3?[...I,A]:I)}function k(A){T(I=>I.includes(A)?I.filter(L=>L!==A):I.length<3?[...I,A]:I)}const C=async()=>{if(!e)return alert("Du mste vara inloggad!");if(!n||!i||o.length===0)return alert("Fyll i namn, datum och minst 1 skiljemlsstation!");await KS(rc(pi,"competitions"),{name:n,date:i,skiljemal:o}),r(""),s(""),a([])},F=A=>{u(A.id),m(A.name),p(A.date),T(A.skiljemal||[])},J=async()=>{if(!e)return alert("Du mste vara inloggad!");if(!f||!v||S.length===0)return alert("Fyll i namn, datum och minst 1 skiljemlsstation!");await sv(xo(pi,"competitions",l),{name:f,date:v,skiljemal:S}),u(null),m(""),p(""),T([])},ne=()=>{u(null),m(""),p(""),T([])},V=async A=>{if(!e)return alert("Du mste vara inloggad!");window.confirm("Ta bort deltvlingen?")&&await ov(xo(pi,"competitions",A))};return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(PE,{className:"w-6 h-6"}),"Deltvlingar"]}),H.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[H.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Namn",className:"border border-primary-300 p-3 rounded-lg flex-1 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("input",{type:"date",value:i,onChange:A=>s(A.target.value),className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsxs("div",{className:"flex gap-3 items-center mb-2",children:[H.jsx("span",{className:"font-medium text-primary-700",children:"Skiljeml:"}),R.map(A=>H.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[H.jsx("input",{type:"checkbox",checked:o.includes(A),onChange:()=>w(A),disabled:!o.includes(A)&&o.length>=3,className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"}),H.jsxs("span",{className:"text-primary-700",children:["St ",A]})]},A)),H.jsx("span",{className:"text-xs text-primary-500 ml-2",children:"(max 3 st)"})]}),H.jsx("button",{onClick:C,className:`bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors shadow-sm ${e?"":"opacity-50 cursor-not-allowed"}`,disabled:!e,children:"Lgg till"})]}),!e&&H.jsx("p",{className:"text-red-600 text-sm mb-4 bg-red-50 p-3 rounded-lg border border-red-200",children:"Logga in fr att lgga till/ndra/tar bort deltvlingar."}),H.jsx("div",{className:"space-y-1",children:t.map(A=>H.jsx("div",{className:"py-4 px-4 bg-primary-50 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center justify-between gap-3",children:l===A.id?H.jsxs(H.Fragment,{children:[H.jsx("input",{value:f,onChange:I=>m(I.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsx("input",{type:"date",value:v,onChange:I=>p(I.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[H.jsx("span",{className:"font-medium text-primary-700",children:"Skiljeml:"}),R.map(I=>H.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[H.jsx("input",{type:"checkbox",checked:S.includes(I),onChange:()=>k(I),disabled:!S.includes(I)&&S.length>=3,className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"}),H.jsxs("span",{className:"text-primary-700",children:["St ",I]})]},I)),H.jsx("span",{className:"text-xs text-primary-500 ml-2",children:"(max 3 st)"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:J,disabled:!e,className:`bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Spara"}),H.jsx("button",{onClick:ne,className:"bg-primary-200 hover:bg-primary-300 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}):H.jsxs(H.Fragment,{children:[H.jsx("span",{className:"font-medium flex-1 text-primary-800",children:A.name}),H.jsx("span",{className:"text-primary-600 flex-1",children:A.date}),H.jsxs("span",{className:"flex-1 text-primary-700 text-sm",children:["Skiljeml: ",A.skiljemal?A.skiljemal.map(I=>`St ${I}`).join(", "):""]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:()=>F(A),disabled:!e,className:`bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"ndra"}),H.jsx("button",{onClick:()=>V(A.id),disabled:!e,className:`bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Ta bort"})]})]})},A.id))})]})}function tR({shooters:t,user:e}){const[n,r]=wt.useState(""),i=t.filter(L=>L.name.toLowerCase().includes(n.toLowerCase())||L.club.toLowerCase().includes(n.toLowerCase())||String(L.startNumber).includes(n)),[s,o]=wt.useState(""),[a,l]=wt.useState(""),[u,f]=wt.useState("ppen"),[m,v]=wt.useState(null),[p,S]=wt.useState(null),[T,R]=wt.useState(""),[w,k]=wt.useState(""),[C,F]=wt.useState("ppen"),J=async()=>{if(!(!s||!a))try{let L;const E=s;await OC(pi,async P=>{const x=xo(pi,"counters","shooter"),Q=await P.get(x);if(!Q.exists())throw new Error("Shooter counter document does not exist!");L=Q.data().currentNumber+1;const ae=xo(rc(pi,"shooters"));P.set(ae,{name:E,club:a,klass:u,startNumber:L}),P.update(x,{currentNumber:L})}),v({name:E,startNumber:L}),setTimeout(()=>v(null),5e3),o(""),l("")}catch(L){console.error("Transaction failed: ",L),alert("Kunde inte lgga till skytt, frsk igen.")}},ne=L=>{S(L.id),R(L.name),k(L.club),F(L.klass)},V=async()=>{if(!e)return alert("Du mste vara inloggad!");!T||!w||(await sv(xo(pi,"shooters",p),{name:T,club:w,klass:C}),S(null),R(""),k(""),F("ppen"))},A=()=>{S(null),R(""),k(""),F("ppen")},I=async L=>{if(!e)return alert("Du mste vara inloggad!");window.confirm("Ta bort skytten?")&&await ov(xo(pi,"shooters",L))};return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(RE,{className:"w-6 h-6"}),"Registrera ny skytt"]}),m&&H.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded-lg relative mb-4 shadow-sm",role:"alert",children:[H.jsx("strong",{className:"font-semibold",children:"Ny skytt registrerad:"}),H.jsxs("span",{className:"block sm:inline ml-2",children:["Namn: ",m.name,", Startnummer: ",m.startNumber]}),H.jsx("button",{onClick:()=>v(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:H.jsxs("svg",{className:"fill-current h-6 w-6 text-green-600",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[H.jsx("title",{children:"Close"}),H.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[H.jsx("input",{value:s,onChange:L=>o(L.target.value),placeholder:"Namn",className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("input",{value:a,onChange:L=>l(L.target.value),placeholder:"Ort",className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsxs("select",{value:u,onChange:L=>f(L.target.value),className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[H.jsx("option",{children:"ppen"}),H.jsx("option",{children:"dam"}),H.jsx("option",{children:"veteran"}),H.jsx("option",{children:"ungdom"}),H.jsx("option",{children:"junior med std"})]}),H.jsx("button",{onClick:J,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors shadow-sm",children:"Lgg till"})]}),!e&&H.jsx("p",{className:"text-yellow-600 text-sm mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:"Logga in fr att kunna ndra eller ta bort skyttar."}),H.jsx("input",{value:n,onChange:L=>r(L.target.value),placeholder:"Sk skytt, ort eller startnummer...",className:"border border-primary-300 p-3 rounded-lg w-full mb-6 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsx("div",{className:"space-y-1",children:i.map(L=>H.jsx("div",{className:"py-4 px-4 bg-primary-50 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center justify-between gap-3",children:p===L.id?H.jsxs(H.Fragment,{children:[H.jsx("input",{value:T,onChange:E=>R(E.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsx("input",{value:w,onChange:E=>k(E.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),H.jsxs("select",{value:C,onChange:E=>F(E.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0",children:[H.jsx("option",{children:"ppen"}),H.jsx("option",{children:"dam"}),H.jsx("option",{children:"veteran"}),H.jsx("option",{children:"ungdom"}),H.jsx("option",{children:"junior med std"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:V,disabled:!e,className:`bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Spara"}),H.jsx("button",{onClick:A,className:"bg-primary-200 hover:bg-primary-300 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}):H.jsxs(H.Fragment,{children:[H.jsxs("span",{className:"font-semibold text-primary-700 bg-primary-100 px-3 py-1 rounded-full text-sm",children:["#",L.startNumber]}),H.jsxs("span",{className:"flex-1 font-medium text-primary-800",children:[L.name," ",H.jsxs("span",{className:"text-primary-600 font-normal",children:["(",L.club,")"]})]}),H.jsx("span",{className:"bg-primary-200 text-primary-800 px-3 py-1 rounded-full text-sm font-medium",children:L.klass}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:()=>ne(L),disabled:!e,className:`bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"ndra"}),H.jsx("button",{onClick:()=>I(L.id),disabled:!e,className:`bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Ta bort"})]})]})},L.id))})]})}function nR({shooters:t,competitions:e,user:n}){const[r,i]=wt.useState(""),[s,o]=wt.useState(1),[a,l]=wt.useState(""),[u,f]=wt.useState([]),[m,v]=wt.useState(""),[p,S]=wt.useState([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}]),[T,R]=wt.useState(null),[w,k]=wt.useState([]),[C,F]=wt.useState(!1);wt.useEffect(()=>{if(!r||!m||!s){k([]),F(!1);return}F(!0);const x=HS(rc(pi,"scores"),yg("competitionId","==",r),yg("shooterId","==",m),yg("station","==",Number(s)),a1("__name__")),Q=QS(x,ae=>{const me=ae.docs.map(ge=>({id:ge.id,...ge.data()}));k(me),F(!1)},ae=>{console.error("Error loading scores:",ae),F(!1)});return()=>Q()},[r,m,s]);const J=wt.useMemo(()=>{if(!a.trim())return[];const x=a.toLowerCase();return t.filter(Q=>Q.name.toLowerCase().includes(x)||String(Q.startNumber).includes(x)||Q.club.toLowerCase().includes(x)).slice(0,10)},[a,t]);wt.useEffect(()=>{f(J)},[J]);const ne=x=>{v(x.id),l(`#${x.startNumber} ${x.name}`),f([]),T&&A()},V=x=>{R(x.id);const Q=x.shots&&x.shots.length===5?x.shots.map(me=>({value:me.value||0,femetta:!!me.femetta})):[{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}];S(Q),i(x.competitionId),o(x.station),v(x.shooterId);const ae=t.find(me=>me.id===x.shooterId);ae&&l(`#${ae.startNumber} ${ae.name}`)},A=()=>{R(null),S([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}])},I=async x=>{if(!n)return alert("Du mste vara inloggad!");if(window.confirm("r du sker p att du vill radera denna registrering? Detta gr inte att ngra."))try{await ov(xo(pi,"scores",x)),T===x&&A()}catch(ae){console.error("Error deleting score:",ae),alert("Kunde inte radera registreringen, frsk igen.")}},L=async()=>{if(!n)return alert("Du mste vara inloggad!");if(!r||!m)return alert("Vlj tvling och skytt frst.");const x=p.reduce((ae,me)=>ae+(Number(me.value)||0),0),Q=p.filter(ae=>ae.femetta&&(ae.value===5||ae.value===10)).length;try{T?(await sv(xo(pi,"scores",T),{competitionId:r,shooterId:m,station:s,shots:p,total:x,femettor:Q,updatedAt:new Date().toISOString()}),R(null)):await KS(rc(pi,"scores"),{competitionId:r,shooterId:m,station:s,shots:p,total:x,femettor:Q,createdAt:new Date().toISOString(),createdBy:n.uid}),S([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}]),v(""),l(""),f([])}catch(ae){console.error("Error saving score:",ae),alert("Kunde inte spara pong, frsk igen.")}},E=wt.useMemo(()=>w.reduce((x,Q)=>x+(Q.total||0),0),[w]),P=Array.from({length:7},(x,Q)=>Q+1);return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(CE,{className:"w-6 h-6"}),"Registrera pong"]}),H.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Tvling:"}),H.jsxs("select",{value:r,onChange:x=>{i(x.target.value),v(""),l("")},className:"border border-primary-300 p-3 rounded-lg w-full focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[H.jsx("option",{value:"",children:"Vlj tvling"}),e.map(x=>H.jsx("option",{value:x.id,children:x.name},x.id))]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Station:"}),H.jsx("select",{value:s,onChange:x=>{o(Number(x.target.value)),T&&A()},className:"border border-primary-300 p-3 rounded-lg w-40 min-w-[120px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:P.map(x=>H.jsxs("option",{value:x,children:["Station ",x]},x))})]}),H.jsxs("div",{className:"flex flex-col flex-1 relative",children:[H.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Sk skytt:"}),H.jsx("input",{type:"text",value:a,onChange:x=>{l(x.target.value),v(""),T&&A()},placeholder:"Namn, startnummer eller klubb",className:"border border-primary-300 p-3 rounded-lg mb-1 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",autoComplete:"off"}),u.length>0&&H.jsx("ul",{className:"absolute z-10 bg-white border border-primary-200 rounded-lg shadow-lg max-h-40 overflow-auto w-full top-full mt-1",children:u.map(x=>H.jsxs("li",{className:"px-4 py-3 hover:bg-primary-50 cursor-pointer border-b border-primary-100 last:border-b-0",onClick:()=>ne(x),children:[H.jsxs("span",{className:"font-medium text-primary-800",children:["#",x.startNumber," ",x.name]}),H.jsxs("span",{className:"text-primary-600 ml-2",children:["(",x.club,")"]}),H.jsx("span",{className:"text-xs text-primary-500 ml-2",children:x.klass})]},x.id))})]})]}),r&&m&&s&&w.length>0&&H.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:H.jsxs("div",{className:"text-sm text-blue-700",children:[H.jsx("strong",{children:"Nuvarande total fr denna station:"})," ",E," pong (",w.length," registreringar)"]})}),H.jsx("div",{className:"flex gap-3 mb-6 justify-center bg-primary-50 p-6 rounded-lg border border-primary-200",children:p.map((x,Q)=>H.jsxs("div",{className:"flex flex-col items-center",children:[H.jsx("input",{type:"number",min:"0",max:"10",value:x.value===0?"":x.value,onChange:ae=>{const me=[...p];me[Q].value=ae.target.value===""?0:Number(ae.target.value),S(me)},placeholder:"0",className:"border border-primary-300 p-3 rounded-lg w-16 text-center font-semibold text-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),H.jsxs("label",{className:"text-sm mt-2 text-primary-700 flex items-center gap-1",children:[H.jsx("input",{type:"checkbox",checked:x.femetta||!1,onChange:ae=>{const me=[...p];me[Q].femetta=ae.target.checked,S(me)},className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"})," 5/10"]})]},Q))}),H.jsxs("div",{className:"text-lg font-semibold text-primary-800 mb-6 text-center bg-white p-4 rounded-lg border border-primary-200",children:["Summa: ",H.jsxs("span",{className:"text-primary-700",children:[p.reduce((x,Q)=>x+(Number(Q.value)||0),0)," pong"]}),", 5/10or: ",H.jsx("span",{className:"text-primary-700",children:p.filter(x=>x.femetta&&(x.value===5||x.value===10)).length})]}),H.jsxs("div",{className:"text-center mb-4",children:[H.jsx("button",{onClick:L,className:`bg-primary-700 hover:bg-primary-800 text-white px-8 py-3 rounded-lg font-medium shadow-sm transition-colors ${!n||!m?"opacity-50 cursor-not-allowed":""}`,disabled:!n||!m,children:T?"Uppdatera pong":"Spara pong"}),T&&H.jsx("button",{onClick:A,className:"ml-4 bg-primary-200 hover:bg-primary-300 text-primary-700 px-4 py-3 rounded-lg font-medium transition-colors",children:"Avbryt"})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("h3",{className:"text-md font-semibold mb-2",children:"Registrerade skott"}),C?H.jsxs("div",{className:"flex items-center justify-center py-4",children:[H.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-700"}),H.jsx("span",{className:"ml-2 text-primary-700",children:"Laddar..."})]}):!r||!m||!s?H.jsx("p",{className:"text-sm text-primary-600",children:"Vlj tvling och skytt fr att se tidigare registreringar."}):w.length===0?H.jsx("p",{className:"text-sm text-primary-600",children:"Inga registreringar hittades fr denna kombination."}):H.jsx("div",{className:"space-y-2",children:w.map((x,Q)=>H.jsxs("div",{className:"bg-primary-50 p-3 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[H.jsxs("div",{children:[H.jsxs("div",{className:"text-sm text-primary-700 font-medium mb-1",children:["Skott #",Q+1,":"]}),H.jsxs("div",{className:"flex gap-3 items-center",children:[(x.shots||[]).map((ae,me)=>H.jsxs("div",{className:"text-sm font-mono px-2 py-1 bg-white border border-primary-200 rounded",children:[String(ae.value||0),ae.femetta?"":""]},me)),H.jsxs("div",{className:"text-sm text-primary-700 ml-3",children:["Summa: ",H.jsx("span",{className:"font-semibold",children:x.total||0})]}),H.jsxs("div",{className:"text-sm text-primary-700 ml-3",children:["5/10or: ",H.jsx("span",{className:"font-semibold",children:x.femettor||0})]}),x.createdAt&&H.jsx("div",{className:"text-xs text-primary-500 ml-3",children:new Date(x.createdAt).toLocaleString("sv-SE")})]})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:()=>V(x),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg font-medium transition-colors",children:"ndra"}),H.jsx("button",{onClick:()=>I(x.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg font-medium transition-colors",children:"Ta bort"})]})]},x.id))})]}),!n&&H.jsx("p",{className:"text-red-600 text-sm mt-4 bg-red-50 p-3 rounded-lg border border-red-200 text-center",children:"Logga in fr att registrera pong."})]})}const rR="modulepreload",iR=function(t){return"/landbyscup/"+t},O_={},Sg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=iR(l),l in O_)return;O_[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":rR,u||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}var As=Uint8Array,ji=Uint16Array,_v=Int32Array,wv=new As([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bv=new As([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),F_=new As([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DE=function(t,e){for(var n=new ji(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new _v(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},OE=DE(wv,2),sR=OE.b,h1=OE.r;sR[28]=258,h1[258]=28;var oR=DE(bv,0),M_=oR.r,f1=new ji(32768);for(var bn=0;bn<32768;++bn){var da=(bn&43690)>>1|(bn&21845)<<1;da=(da&52428)>>2|(da&13107)<<2,da=(da&61680)>>4|(da&3855)<<4,f1[bn]=((da&65280)>>8|(da&255)<<8)>>1}var bh=function(t,e,n){for(var r=t.length,i=0,s=new ji(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ji(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ji(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],m=o[t[i]-1]++<<f,v=m|(1<<f)-1;m<=v;++m)a[f1[m]>>l]=u}else for(a=new ji(r),i=0;i<r;++i)t[i]&&(a[i]=f1[o[t[i]-1]++]>>15-t[i]);return a},zl=new As(288);for(var bn=0;bn<144;++bn)zl[bn]=8;for(var bn=144;bn<256;++bn)zl[bn]=9;for(var bn=256;bn<280;++bn)zl[bn]=7;for(var bn=280;bn<288;++bn)zl[bn]=8;var Cp=new As(32);for(var bn=0;bn<32;++bn)Cp[bn]=5;var aR=bh(zl,9,0),lR=bh(Cp,5,0),FE=function(t){return(t+7)/8|0},uR=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new As(t.subarray(e,n))},vo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Kc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Eg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:jE,l:0};if(i==1){var o=new As(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(J,ne){return J.f-ne.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,f=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[u].f<n[m].f?u++:m++],l=n[u!=f&&n[u].f<n[m].f?u++:m++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new ji(v+1),S=d1(n[f-1],p,0);if(S>e){var r=0,T=0,R=S-e,w=1<<R;for(s.sort(function(ne,V){return p[V.s]-p[ne.s]||ne.f-V.f});r<i;++r){var k=s[r].s;if(p[k]>e)T+=w-(1<<S-p[k]),p[k]=e;else break}for(T>>=R;T>0;){var C=s[r].s;p[C]<e?T-=1<<e-p[C]++-1:++r}for(;r>=0&&T;--r){var F=s[r].s;p[F]==e&&(--p[F],++T)}S=e}return{t:new As(p),l:S}},d1=function(t,e,n){return t.s==-1?Math.max(d1(t.l,e,n+1),d1(t.r,e,n+1)):e[t.s]=n},j_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ji(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Qc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},ME=function(t,e,n){var r=n.length,i=FE(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},V_=function(t,e,n,r,i,s,o,a,l,u,f){vo(e,f++,n),++i[256];for(var m=Eg(i,15),v=m.t,p=m.l,S=Eg(s,15),T=S.t,R=S.l,w=j_(v),k=w.c,C=w.n,F=j_(T),J=F.c,ne=F.n,V=new ji(19),A=0;A<k.length;++A)++V[k[A]&31];for(var A=0;A<J.length;++A)++V[J[A]&31];for(var I=Eg(V,7),L=I.t,E=I.l,P=19;P>4&&!L[F_[P-1]];--P);var x=u+5<<3,Q=Qc(i,zl)+Qc(s,Cp)+o,ae=Qc(i,v)+Qc(s,T)+o+14+3*P+Qc(V,L)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&x<=Q&&x<=ae)return ME(e,f,t.subarray(l,l+u));var me,ge,Z,ue;if(vo(e,f,1+(ae<Q)),f+=2,ae<Q){me=bh(v,p,0),ge=v,Z=bh(T,R,0),ue=T;var be=bh(L,E,0);vo(e,f,C-257),vo(e,f+5,ne-1),vo(e,f+10,P-4),f+=14;for(var A=0;A<P;++A)vo(e,f+3*A,L[F_[A]]);f+=3*P;for(var we=[k,J],M=0;M<2;++M)for(var W=we[M],A=0;A<W.length;++A){var X=W[A]&31;vo(e,f,be[X]),f+=L[X],X>15&&(vo(e,f,W[A]>>5&127),f+=W[A]>>12)}}else me=aR,ge=zl,Z=lR,ue=Cp;for(var A=0;A<a;++A){var te=r[A];if(te>255){var X=te>>18&31;Kc(e,f,me[X+257]),f+=ge[X+257],X>7&&(vo(e,f,te>>23&31),f+=wv[X]);var se=te&31;Kc(e,f,Z[se]),f+=ue[se],se>3&&(Kc(e,f,te>>5&8191),f+=bv[se])}else Kc(e,f,me[te]),f+=ge[te]}return Kc(e,f,me[256]),f+ge[256]},cR=new _v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jE=new As(0),hR=function(t,e,n,r,i,s){var o=s.z||t.length,a=new As(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var m=cR[e-1],v=m>>13,p=m&8191,S=(1<<n)-1,T=s.p||new ji(32768),R=s.h||new ji(S+1),w=Math.ceil(n/3),k=2*w,C=function(_e){return(t[_e]^t[_e+1]<<w^t[_e+2]<<k)&S},F=new _v(25e3),J=new ji(288),ne=new ji(32),V=0,A=0,I=s.i||0,L=0,E=s.w||0,P=0;I+2<o;++I){var x=C(I),Q=I&32767,ae=R[x];if(T[Q]=ae,R[x]=Q,E<=I){var me=o-I;if((V>7e3||L>24576)&&(me>423||!u)){f=V_(t,l,0,F,J,ne,A,L,P,I-P,f),L=V=A=0,P=I;for(var ge=0;ge<286;++ge)J[ge]=0;for(var ge=0;ge<30;++ge)ne[ge]=0}var Z=2,ue=0,be=p,we=Q-ae&32767;if(me>2&&x==C(I-we))for(var M=Math.min(v,me)-1,W=Math.min(32767,I),X=Math.min(258,me);we<=W&&--be&&Q!=ae;){if(t[I+Z]==t[I+Z-we]){for(var te=0;te<X&&t[I+te]==t[I+te-we];++te);if(te>Z){if(Z=te,ue=we,te>M)break;for(var se=Math.min(we,te-2),he=0,ge=0;ge<se;++ge){var ye=I-we+ge&32767,ve=T[ye],xe=ye-ve&32767;xe>he&&(he=xe,ae=ye)}}}Q=ae,ae=T[Q],we+=Q-ae&32767}if(ue){F[L++]=268435456|h1[Z]<<18|M_[ue];var Pe=h1[Z]&31,Me=M_[ue]&31;A+=wv[Pe]+bv[Me],++J[257+Pe],++ne[Me],E=I+Z,++V}else F[L++]=t[I],++J[t[I]]}}for(I=Math.max(I,E);I<o;++I)F[L++]=t[I],++J[t[I]];f=V_(t,l,u,F,J,ne,A,L,P,I-P,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=R,s.p=T,s.i=I,s.w=E)}else{for(var I=s.w||0;I<o+u;I+=65535){var Ve=I+65535;Ve>=o&&(l[f/8|0]=u,Ve=o),f=ME(l,f+1,t.subarray(I,Ve))}s.i=o}return uR(a,0,r+FE(f)+i)},VE=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},fR=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new As(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return hR(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},BE=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},dR=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=VE();i.p(e.dictionary),BE(t,2,i.d())}};function p1(t,e){e||(e={});var n=VE();n.p(t);var r=fR(t,e,e.dictionary?6:2,4);return dR(r,e),BE(r,r.length-4,n.d()),r}var pR=typeof TextDecoder<"u"&&new TextDecoder,mR=0;try{pR.decode(jE,{stream:!0}),mR=1}catch{}function gR(t){if(Array.isArray(t))return t}function vR(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yR(t,e){if(t){if(typeof t=="string")return B_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B_(t,e):void 0}}function _R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_(t,e){return gR(t)||vR(t,e)||yR(t,e)||_R()}function z_(t,e="utf8"){return new TextDecoder(e).decode(t)}const wR=new TextEncoder;function bR(t){return wR.encode(t)}const SR=1024*8,ER=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ag={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Sv{constructor(e=SR,n={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Sv)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Ag[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===ER&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new Ag[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new Ag[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return z_(this.readBytes(e))}decodeText(e=1,n="utf8"){return z_(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(bR(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mc(t){let e=t.length;for(;--e>=0;)t[e]=0}const AR=3,xR=258,UE=29,IR=256,TR=IR+1+UE,zE=30,NR=512,kR=new Array((TR+2)*2);mc(kR);const PR=new Array(zE*2);mc(PR);const CR=new Array(NR);mc(CR);const LR=new Array(xR-AR+1);mc(LR);const RR=new Array(UE);mc(RR);const DR=new Array(zE);mc(DR);const OR=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var m1=OR;const FR=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},MR=new Uint32Array(FR()),jR=(t,e,n,r)=>{const i=MR,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Hs=jR,g1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VR=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var BR=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)VR(n,r)&&(t[r]=n[r])}}return t},UR=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},HE={assign:BR,flattenChunks:UR};let WE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{WE=!1}const Xh=new Uint8Array(256);for(let t=0;t<256;t++)Xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xh[254]=Xh[254]=1;var zR=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const qR=(t,e)=>{if(e<65534&&t.subarray&&WE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var HR=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Xh[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return qR(s,i)},WR=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Xh[t[n]]>e?n:e},v1={string2buf:zR,buf2string:HR,utf8border:WR};function $R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var GR=$R;const ad=16209,KR=16191;var QR=function(e,n){let r,i,s,o,a,l,u,f,m,v,p,S,T,R,w,k,C,F,J,ne,V,A,I,L;const E=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),s=e.next_out,L=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=E.dmax,u=E.wsize,f=E.whave,m=E.wnext,v=E.window,p=E.hold,S=E.bits,T=E.lencode,R=E.distcode,w=(1<<E.lenbits)-1,k=(1<<E.distbits)-1;e:do{S<15&&(p+=I[r++]<<S,S+=8,p+=I[r++]<<S,S+=8),C=T[p&w];t:for(;;){if(F=C>>>24,p>>>=F,S-=F,F=C>>>16&255,F===0)L[s++]=C&65535;else if(F&16){J=C&65535,F&=15,F&&(S<F&&(p+=I[r++]<<S,S+=8),J+=p&(1<<F)-1,p>>>=F,S-=F),S<15&&(p+=I[r++]<<S,S+=8,p+=I[r++]<<S,S+=8),C=R[p&k];n:for(;;){if(F=C>>>24,p>>>=F,S-=F,F=C>>>16&255,F&16){if(ne=C&65535,F&=15,S<F&&(p+=I[r++]<<S,S+=8,S<F&&(p+=I[r++]<<S,S+=8)),ne+=p&(1<<F)-1,ne>l){e.msg="invalid distance too far back",E.mode=ad;break e}if(p>>>=F,S-=F,F=s-o,ne>F){if(F=ne-F,F>f&&E.sane){e.msg="invalid distance too far back",E.mode=ad;break e}if(V=0,A=v,m===0){if(V+=u-F,F<J){J-=F;do L[s++]=v[V++];while(--F);V=s-ne,A=L}}else if(m<F){if(V+=u+m-F,F-=m,F<J){J-=F;do L[s++]=v[V++];while(--F);if(V=0,m<J){F=m,J-=F;do L[s++]=v[V++];while(--F);V=s-ne,A=L}}}else if(V+=m-F,F<J){J-=F;do L[s++]=v[V++];while(--F);V=s-ne,A=L}for(;J>2;)L[s++]=A[V++],L[s++]=A[V++],L[s++]=A[V++],J-=3;J&&(L[s++]=A[V++],J>1&&(L[s++]=A[V++]))}else{V=s-ne;do L[s++]=L[V++],L[s++]=L[V++],L[s++]=L[V++],J-=3;while(J>2);J&&(L[s++]=L[V++],J>1&&(L[s++]=L[V++]))}}else if(F&64){e.msg="invalid distance code",E.mode=ad;break e}else{C=R[(C&65535)+(p&(1<<F)-1)];continue n}break}}else if(F&64)if(F&32){E.mode=KR;break e}else{e.msg="invalid literal/length code",E.mode=ad;break e}else{C=T[(C&65535)+(p&(1<<F)-1)];continue t}break}}while(r<i&&s<a);J=S>>3,r-=J,S-=J<<3,p&=(1<<S)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),E.hold=p,E.bits=S};const su=15,q_=852,H_=592,W_=0,xg=1,$_=2,YR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),XR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),JR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ZR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),e7=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,f=0,m=0,v=0,p=0,S=0,T=0,R=0,w=0,k=0,C,F,J,ne,V,A=null,I;const L=new Uint16Array(su+1),E=new Uint16Array(su+1);let P=null,x,Q,ae;for(u=0;u<=su;u++)L[u]=0;for(f=0;f<r;f++)L[e[n+f]]++;for(p=l,v=su;v>=1&&L[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<v&&L[m]===0;m++);for(p<m&&(p=m),R=1,u=1;u<=su;u++)if(R<<=1,R-=L[u],R<0)return-1;if(R>0&&(t===W_||v!==1))return-1;for(E[1]=0,u=1;u<su;u++)E[u+1]=E[u]+L[u];for(f=0;f<r;f++)e[n+f]!==0&&(o[E[e[n+f]]++]=f);if(t===W_?(A=P=o,I=20):t===xg?(A=YR,P=XR,I=257):(A=JR,P=ZR,I=0),k=0,f=0,u=m,V=s,S=p,T=0,J=-1,w=1<<p,ne=w-1,t===xg&&w>q_||t===$_&&w>H_)return 1;for(;;){x=u-T,o[f]+1<I?(Q=0,ae=o[f]):o[f]>=I?(Q=P[o[f]-I],ae=A[o[f]-I]):(Q=96,ae=0),C=1<<u-T,F=1<<S,m=F;do F-=C,i[V+(k>>T)+F]=x<<24|Q<<16|ae|0;while(F!==0);for(C=1<<u-1;k&C;)C>>=1;if(C!==0?(k&=C-1,k+=C):k=0,f++,--L[u]===0){if(u===v)break;u=e[n+o[f]]}if(u>p&&(k&ne)!==J){for(T===0&&(T=p),V+=m,S=u-T,R=1<<S;S+T<v&&(R-=L[S+T],!(R<=0));)S++,R<<=1;if(w+=1<<S,t===xg&&w>q_||t===$_&&w>H_)return 1;J=k&ne,i[J]=p<<24|S<<16|V-s|0}}return k!==0&&(i[V+k]=u-T<<24|64<<16|0),a.bits=p,0};var Sh=e7;const t7=0,$E=1,GE=2,{Z_FINISH:G_,Z_BLOCK:n7,Z_TREES:ld,Z_OK:ql,Z_STREAM_END:r7,Z_NEED_DICT:i7,Z_STREAM_ERROR:is,Z_DATA_ERROR:KE,Z_MEM_ERROR:QE,Z_BUF_ERROR:s7,Z_DEFLATED:K_}=qE,_m=16180,Q_=16181,Y_=16182,X_=16183,J_=16184,Z_=16185,ew=16186,tw=16187,nw=16188,rw=16189,Lp=16190,yo=16191,Ig=16192,iw=16193,Tg=16194,sw=16195,ow=16196,aw=16197,lw=16198,ud=16199,cd=16200,uw=16201,cw=16202,hw=16203,fw=16204,dw=16205,Ng=16206,pw=16207,mw=16208,In=16209,YE=16210,XE=16211,o7=852,a7=592,l7=15,u7=l7,gw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function c7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<_m||e.mode>XE?1:0},JE=t=>{if(Yl(t))return is;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=_m,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(o7),e.distcode=e.distdyn=new Int32Array(a7),e.sane=1,e.back=-1,ql},ZE=t=>{if(Yl(t))return is;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,JE(t)},eA=(t,e)=>{let n;if(Yl(t))return is;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?is:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ZE(t))},tA=(t,e)=>{if(!t)return is;const n=new c7;t.state=n,n.strm=t,n.window=null,n.mode=_m;const r=eA(t,e);return r!==ql&&(t.state=null),r},h7=t=>tA(t,u7);let vw=!0,kg,Pg;const f7=t=>{if(vw){kg=new Int32Array(512),Pg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Sh($E,t.lens,0,288,kg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Sh(GE,t.lens,0,32,Pg,0,t.work,{bits:5}),vw=!1}t.lencode=kg,t.lenbits=9,t.distcode=Pg,t.distbits=5},nA=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},d7=(t,e)=>{let n,r,i,s,o,a,l,u,f,m,v,p,S,T,R=0,w,k,C,F,J,ne,V,A;const I=new Uint8Array(4);let L,E;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yl(t)||!t.output||!t.input&&t.avail_in!==0)return is;n=t.state,n.mode===yo&&(n.mode=Ig),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,m=a,v=l,A=ql;e:for(;;)switch(n.mode){case _m:if(n.wrap===0){n.mode=Ig;break}for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=u&255,I[1]=u>>>8&255,n.check=Hs(n.check,I,2,0),u=0,f=0,n.mode=Q_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=In;break}if((u&15)!==K_){t.msg="unknown compression method",n.mode=In;break}if(u>>>=4,f-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=In;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?rw:yo,u=0,f=0;break;case Q_:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==K_){t.msg="unknown compression method",n.mode=In;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=In;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Hs(n.check,I,2,0)),u=0,f=0,n.mode=Y_;case Y_:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,n.check=Hs(n.check,I,4,0)),u=0,f=0,n.mode=X_;case X_:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Hs(n.check,I,2,0)),u=0,f=0,n.mode=J_;case J_:if(n.flags&1024){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Hs(n.check,I,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=Z_;case Z_:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),V)),n.flags&512&&n.wrap&4&&(n.check=Hs(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=ew;case ew:if(n.flags&2048){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Hs(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=tw;case tw:if(n.flags&4096){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Hs(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=nw;case nw:if(n.flags&512){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=In;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=yo;break;case rw:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}t.adler=n.check=gw(u),u=0,f=0,n.mode=Lp;case Lp:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,i7;t.adler=n.check=1,n.mode=yo;case yo:if(e===n7||e===ld)break e;case Ig:if(n.last){u>>>=f&7,f-=f&7,n.mode=Ng;break}for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=iw;break;case 1:if(f7(n),n.mode=ud,e===ld){u>>>=2,f-=2;break e}break;case 2:n.mode=ow;break;case 3:t.msg="invalid block type",n.mode=In}u>>>=2,f-=2;break;case iw:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=In;break}if(n.length=u&65535,u=0,f=0,n.mode=Tg,e===ld)break e;case Tg:n.mode=sw;case sw:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=yo;break;case ow:for(;f<14;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=In;break}n.have=0,n.mode=aw;case aw:for(;n.have<n.ncode;){for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.lens[P[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},A=Sh(t7,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,A){t.msg="invalid code lengths set",n.mode=In;break}n.have=0,n.mode=lw;case lw:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[u&(1<<n.lenbits)-1],w=R>>>24,k=R>>>16&255,C=R&65535,!(w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(C<16)u>>>=w,f-=w,n.lens[n.have++]=C;else{if(C===16){for(E=w+2;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(u>>>=w,f-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=In;break}V=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(C===17){for(E=w+3;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=w,f-=w,V=0,p=3+(u&7),u>>>=3,f-=3}else{for(E=w+7;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=w,f-=w,V=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=In;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===In)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=In;break}if(n.lenbits=9,L={bits:n.lenbits},A=Sh($E,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,A){t.msg="invalid literal/lengths set",n.mode=In;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},A=Sh(GE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,A){t.msg="invalid distances set",n.mode=In;break}if(n.mode=ud,e===ld)break e;case ud:n.mode=cd;case cd:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,QR(t,v),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,n.mode===yo&&(n.back=-1);break}for(n.back=0;R=n.lencode[u&(1<<n.lenbits)-1],w=R>>>24,k=R>>>16&255,C=R&65535,!(w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(k&&!(k&240)){for(F=w,J=k,ne=C;R=n.lencode[ne+((u&(1<<F+J)-1)>>F)],w=R>>>24,k=R>>>16&255,C=R&65535,!(F+w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=F,f-=F,n.back+=F}if(u>>>=w,f-=w,n.back+=w,n.length=C,k===0){n.mode=dw;break}if(k&32){n.back=-1,n.mode=yo;break}if(k&64){t.msg="invalid literal/length code",n.mode=In;break}n.extra=k&15,n.mode=uw;case uw:if(n.extra){for(E=n.extra;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=cw;case cw:for(;R=n.distcode[u&(1<<n.distbits)-1],w=R>>>24,k=R>>>16&255,C=R&65535,!(w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(!(k&240)){for(F=w,J=k,ne=C;R=n.distcode[ne+((u&(1<<F+J)-1)>>F)],w=R>>>24,k=R>>>16&255,C=R&65535,!(F+w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=F,f-=F,n.back+=F}if(u>>>=w,f-=w,n.back+=w,k&64){t.msg="invalid distance code",n.mode=In;break}n.offset=C,n.extra=k&15,n.mode=hw;case hw:if(n.extra){for(E=n.extra;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=In;break}n.mode=fw;case fw:if(l===0)break e;if(p=v-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=In;break}p>n.wnext?(p-=n.wnext,S=n.wsize-p):S=n.wnext-p,p>n.length&&(p=n.length),T=n.window}else T=i,S=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=T[S++];while(--p);n.length===0&&(n.mode=cd);break;case dw:if(l===0)break e;i[o++]=n.length,l--,n.mode=cd;break;case Ng:if(n.wrap){for(;f<32;){if(a===0)break e;a--,u|=r[s++]<<f,f+=8}if(v-=l,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Hs(n.check,i,v,o-v):m1(n.check,i,v,o-v)),v=l,n.wrap&4&&(n.flags?u:gw(u))!==n.check){t.msg="incorrect data check",n.mode=In;break}u=0,f=0}n.mode=pw;case pw:if(n.wrap&&n.flags){for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=In;break}u=0,f=0}n.mode=mw;case mw:A=r7;break e;case In:A=KE;break e;case YE:return QE;case XE:default:return is}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,(n.wsize||v!==t.avail_out&&n.mode<In&&(n.mode<Ng||e!==G_))&&nA(t,t.output,t.next_out,v-t.avail_out),m-=t.avail_in,v-=t.avail_out,t.total_in+=m,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Hs(n.check,i,v,t.next_out-v):m1(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===yo?128:0)+(n.mode===ud||n.mode===Tg?256:0),(m===0&&v===0||e===G_)&&A===ql&&(A=s7),A},p7=t=>{if(Yl(t))return is;let e=t.state;return e.window&&(e.window=null),t.state=null,ql},m7=(t,e)=>{if(Yl(t))return is;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,ql):is},g7=(t,e)=>{const n=e.length;let r,i,s;return Yl(t)||(r=t.state,r.wrap!==0&&r.mode!==Lp)?is:r.mode===Lp&&(i=1,i=m1(i,e,n,0),i!==r.check)?KE:(s=nA(t,e,n,n),s?(r.mode=YE,QE):(r.havedict=1,ql))};var v7=ZE,y7=eA,_7=JE,w7=h7,b7=tA,S7=d7,E7=p7,A7=m7,x7=g7,I7="pako inflate (from Nodeca project)",bo={inflateReset:v7,inflateReset2:y7,inflateResetKeep:_7,inflateInit:w7,inflateInit2:b7,inflate:S7,inflateEnd:E7,inflateGetHeader:A7,inflateSetDictionary:x7,inflateInfo:I7};function T7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var N7=T7;const rA=Object.prototype.toString,{Z_NO_FLUSH:k7,Z_FINISH:P7,Z_OK:Jh,Z_STREAM_END:Cg,Z_NEED_DICT:Lg,Z_STREAM_ERROR:C7,Z_DATA_ERROR:yw,Z_MEM_ERROR:L7}=qE;function _f(t){this.options=HE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GR,this.strm.avail_out=0;let n=bo.inflateInit2(this.strm,e.windowBits);if(n!==Jh)throw new Error(g1[n]);if(this.header=new N7,bo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=v1.string2buf(e.dictionary):rA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=bo.inflateSetDictionary(this.strm,e.dictionary),n!==Jh)))throw new Error(g1[n])}_f.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?P7:k7,rA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=bo.inflate(n,o),s===Lg&&i&&(s=bo.inflateSetDictionary(n,i),s===Jh?s=bo.inflate(n,o):s===yw&&(s=Lg));n.avail_in>0&&s===Cg&&n.state.wrap>0&&t[n.next_in]!==0;)bo.inflateReset(n),s=bo.inflate(n,o);switch(s){case C7:case yw:case Lg:case L7:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Cg))if(this.options.to==="string"){let l=v1.utf8border(n.output,n.next_out),u=n.next_out-l,f=v1.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Jh&&a===0)){if(s===Cg)return s=bo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_f.prototype.onData=function(t){this.chunks.push(t)};_f.prototype.onEnd=function(t){t===Jh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=HE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function R7(t,e){const n=new _f(e);if(n.push(t),n.err)throw n.msg||g1[n.err];return n.result}var D7=_f,O7=R7,F7={Inflate:D7,inflate:O7};const{Inflate:M7,inflate:j7}=F7;var _w=M7,V7=j7;const iA=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;iA[t]=e}const ww=4294967295;function B7(t,e,n){let r=t;for(let i=0;i<n;i++)r=iA[(r^e[i])&255]^r>>>8;return r}function U7(t,e){return(B7(ww,t,e)^ww)>>>0}function bw(t,e,n){const r=t.readUint32(),i=U7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function sA(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function oA(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function aA(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function lA(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function uA(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+z7(e[s-i],n[s],n[s-i])&255}}function z7(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function q7(t,e,n,r,i,s){switch(t){case 0:sA(e,n,i);break;case 1:oA(e,n,i,s);break;case 2:aA(e,n,r,i);break;case 3:lA(e,n,r,i,s);break;case 4:uA(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const H7=new Uint16Array([255]),W7=new Uint8Array(H7.buffer),$7=W7[0]===255;function G7(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let f=0;f<7;f++){const m=o[f],v=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(v<=0||p<=0)continue;const S=v*a,T=new Uint8Array(S);for(let R=0;R<p;R++){const w=e[u++],k=e.subarray(u,u+S);u+=S;const C=new Uint8Array(S);q7(w,k,C,T,S,a),T.set(C);for(let F=0;F<v;F++){const J=m.x+F*m.xStep,ne=m.y+R*m.yStep;if(!(J>=n||ne>=r))for(let V=0;V<a;V++)l[(ne*n+J)*a+V]=C[F*a+V]}}}if(s===16){const f=new Uint16Array(l.buffer);if($7)for(let m=0;m<f.length;m++)f[m]=K7(f[m]);return f}else return l}function K7(t){return(t&255)<<8|t>>8&255}const Q7=new Uint16Array([255]),Y7=new Uint8Array(Q7.buffer),X7=Y7[0]===255,J7=new Uint8Array(0);function Sw(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=J7,f=0,m,v;for(let p=0;p<r;p++){switch(m=e.subarray(f+1,f+1+a),v=l.subarray(p*a,(p+1)*a),e[f]){case 0:sA(m,v,a);break;case 1:oA(m,v,a,o);break;case 2:aA(m,v,u,a);break;case 3:lA(m,v,u,a,o);break;case 4:uA(m,v,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=v,f+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(X7)for(let S=0;S<p.length;S++)p[S]=Z7(p[S]);return p}else return l}function Z7(t){return(t&255)<<8|t>>8&255}const Md=Uint8Array.of(137,80,78,71,13,10,26,10);function Ew(t){if(!eD(t.readBytes(Md.length)))throw new Error("wrong PNG signature")}function eD(t){if(t.length<Md.length)return!1;for(let e=0;e<Md.length;e++)if(t[e]!==Md[e])return!1;return!0}const tD="tEXt",nD=0,cA=new TextDecoder("latin1");function rD(t){if(sD(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const iD=/^[\u0000-\u00FF]*$/;function sD(t){if(!iD.test(t))throw new Error("invalid latin1 text")}function oD(t,e,n){const r=hA(e);t[r]=aD(e,n-r.length-1)}function hA(t){for(t.mark();t.readByte()!==nD;);const e=t.offset;t.reset();const n=cA.decode(t.readBytes(e-t.offset-1));return t.skip(1),rD(n),n}function aD(t,e){return cA.decode(t.readBytes(e))}const Di={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rg={UNKNOWN:-1,DEFLATE:0},Aw={UNKNOWN:-1,ADAPTIVE:0},Dg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hd={NONE:0,BACKGROUND:1,PREVIOUS:2},Og={SOURCE:0,OVER:1};class lD extends Sv{constructor(n,r={}){super(n);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new _w,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rg.UNKNOWN,this._filterMethod=Aw.UNKNOWN,this._interlaceMethod=Dg.UNKNOWN,this._colorType=Di.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ew(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Ew(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case tD:oD(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?bw(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?bw(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=uD(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Di.GREYSCALE:i=1;break;case Di.TRUECOLOUR:i=3;break;case Di.INDEXED_COLOUR:i=1;break;case Di.GREYSCALE_ALPHA:i=2;break;case Di.TRUECOLOUR_ALPHA:i=4;break;case Di.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Di.GREYSCALE:case Di.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Di.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Di.UNKNOWN:case Di.GREYSCALE_ALPHA:case Di.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=hA(this),i=this.readUint8();if(i!==Rg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:V7(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Sw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case hd.NONE:break;case hd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case hd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Og.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++)n.data[l+f]=r.data[u+f]}break;case Og.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++){const m=r.data[u+this._png.channels-1]/i,v=f%(this._png.channels-1)===0?1:r.data[u+f],p=Math.floor(m*v+(1-m)*n.data[l+f]);n.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Aw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Dg.NO_INTERLACE)this._png.data=Sw({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Dg.ADAM7)this._png.data=G7({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hd.NONE,blendOp:Og.SOURCE,data:n}),this._inflator=new _w,this._writingDataChunks=!1}}function uD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var xw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(xw||(xw={}));function cD(t,e){return new lD(t,e).decode()}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Fg(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var hn={log:Fg,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):Fg.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):Fg(t))}};function Mg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){wl(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function Iw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wl=vt.saveAs||((typeof window>"u"?"undefined":on(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Iw(i.href)?Mg(t,e,n):fd(i,i.target="_blank"):fd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){fd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Iw(t))Mg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){fd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:on(s)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Mg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":on(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fA(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var jd=vt.atob.bind(vt),Tw=vt.btoa.bind(vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Br(n,r,i,s,e[0],7,-680876936),s=Br(s,n,r,i,e[1],12,-389564586),i=Br(i,s,n,r,e[2],17,606105819),r=Br(r,i,s,n,e[3],22,-1044525330),n=Br(n,r,i,s,e[4],7,-176418897),s=Br(s,n,r,i,e[5],12,1200080426),i=Br(i,s,n,r,e[6],17,-1473231341),r=Br(r,i,s,n,e[7],22,-45705983),n=Br(n,r,i,s,e[8],7,1770035416),s=Br(s,n,r,i,e[9],12,-1958414417),i=Br(i,s,n,r,e[10],17,-42063),r=Br(r,i,s,n,e[11],22,-1990404162),n=Br(n,r,i,s,e[12],7,1804603682),s=Br(s,n,r,i,e[13],12,-40341101),i=Br(i,s,n,r,e[14],17,-1502002290),n=Ur(n,r=Br(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ur(s,n,r,i,e[6],9,-1069501632),i=Ur(i,s,n,r,e[11],14,643717713),r=Ur(r,i,s,n,e[0],20,-373897302),n=Ur(n,r,i,s,e[5],5,-701558691),s=Ur(s,n,r,i,e[10],9,38016083),i=Ur(i,s,n,r,e[15],14,-660478335),r=Ur(r,i,s,n,e[4],20,-405537848),n=Ur(n,r,i,s,e[9],5,568446438),s=Ur(s,n,r,i,e[14],9,-1019803690),i=Ur(i,s,n,r,e[3],14,-187363961),r=Ur(r,i,s,n,e[8],20,1163531501),n=Ur(n,r,i,s,e[13],5,-1444681467),s=Ur(s,n,r,i,e[2],9,-51403784),i=Ur(i,s,n,r,e[7],14,1735328473),n=zr(n,r=Ur(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=zr(s,n,r,i,e[8],11,-2022574463),i=zr(i,s,n,r,e[11],16,1839030562),r=zr(r,i,s,n,e[14],23,-35309556),n=zr(n,r,i,s,e[1],4,-1530992060),s=zr(s,n,r,i,e[4],11,1272893353),i=zr(i,s,n,r,e[7],16,-155497632),r=zr(r,i,s,n,e[10],23,-1094730640),n=zr(n,r,i,s,e[13],4,681279174),s=zr(s,n,r,i,e[0],11,-358537222),i=zr(i,s,n,r,e[3],16,-722521979),r=zr(r,i,s,n,e[6],23,76029189),n=zr(n,r,i,s,e[9],4,-640364487),s=zr(s,n,r,i,e[12],11,-421815835),i=zr(i,s,n,r,e[15],16,530742520),n=qr(n,r=zr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qr(s,n,r,i,e[7],10,1126891415),i=qr(i,s,n,r,e[14],15,-1416354905),r=qr(r,i,s,n,e[5],21,-57434055),n=qr(n,r,i,s,e[12],6,1700485571),s=qr(s,n,r,i,e[3],10,-1894986606),i=qr(i,s,n,r,e[10],15,-1051523),r=qr(r,i,s,n,e[1],21,-2054922799),n=qr(n,r,i,s,e[8],6,1873313359),s=qr(s,n,r,i,e[15],10,-30611744),i=qr(i,s,n,r,e[6],15,-1560198380),r=qr(r,i,s,n,e[13],21,1309151649),n=qr(n,r,i,s,e[4],6,-145523070),s=qr(s,n,r,i,e[11],10,-1120210379),i=qr(i,s,n,r,e[2],15,718787259),r=qr(r,i,s,n,e[9],21,-343485551),t[0]=Ia(n,t[0]),t[1]=Ia(r,t[1]),t[2]=Ia(i,t[2]),t[3]=Ia(s,t[3])}function wm(t,e,n,r,i,s){return e=Ia(Ia(e,t),Ia(r,s)),Ia(e<<i|e>>>32-i,n)}function Br(t,e,n,r,i,s,o){return wm(e&n|~e&r,t,e,i,s,o)}function Ur(t,e,n,r,i,s,o){return wm(e&r|n&~r,t,e,i,s,o)}function zr(t,e,n,r,i,s,o){return wm(e^n^r,t,e,i,s,o)}function qr(t,e,n,r,i,s,o){return wm(n^(e|~r),t,e,i,s,o)}function dA(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)jg(r,hD(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(jg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,jg(r,i),r}function hD(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Nw="0123456789abcdef".split("");function fD(t){for(var e="",n=0;n<4;n++)e+=Nw[t>>8*n+4&15]+Nw[t>>8*n&15];return e}function dD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function y1(t){return dA(t).map(dD).join("")}var pD=function(t){for(var e=0;e<t.length;e++)t[e]=fD(t[e]);return t.join("")}(dA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ia(t,e){if(pD){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var f=a[l];u=(u+f+o.charCodeAt(l))%256,a[l]=a[u],a[u]=f}n=t,r=a}else a=r;var m=e.length,v=0,p=0,S="";for(l=0;l<m;l++)p=(p+(f=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=f,o=a[(a[v]+a[p])%256],S+=String.fromCharCode(e.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kw={print:4,modify:8,copy:16,"annot-forms":32};function hu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(kw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=kw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=y1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_1(this.encryptionKey,this.padding)}function fu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Pw(t){if(on(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){vt.console&&hn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rp(t){if(!(this instanceof Rp))return new Rp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function pA(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bl(t,e,n,r,i){if(!(this instanceof bl))return new bl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,pA.call(this,r,i)}function Tu(t,e,n,r,i){if(!(this instanceof Tu))return new Tu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,pA.call(this,r,i)}function Je(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",f=null;on(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=Pw;var S="1.3",T=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(g){S=g};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return R};var w=p.__private__.getPageFormat=function(g){return R[g]};i=i||"a4";var k="compat",C="advanced",F=k;function J(){this.saveGraphicsState(),Y(new st(lt,0,0,-lt,0,Ki()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),u="n",F=C}function ne(){this.restoreGraphicsState(),u="S",F=k}var V=p.__private__.combineFontStyleAndFontWeight=function(g,D){if(g=="bold"&&D=="normal"||g=="bold"&&D==400||g=="normal"&&D=="italic"||g=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(g=D==400||D==="normal"?g==="italic"?"italic":"normal":D!=700&&D!=="bold"||g!=="normal"?(D==700?"bold":D)+""+g:"bold"),g};p.advancedAPI=function(g){var D=F===k;return D&&J.call(this),typeof g!="function"||(g(this),D&&ne.call(this)),this},p.compatAPI=function(g){var D=F===C;return D&&ne.call(this),typeof g!="function"||(g(this),D&&J.call(this)),this},p.isAdvancedAPI=function(){return F===C};var A,I=function(g){if(F!==C)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=p.roundToPrecision=p.__private__.roundToPrecision=function(g,D){var $=e||D;if(isNaN(g)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed($).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return L(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return L(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return L(g,16)};var E=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return L(g,2)},P=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return L(g,3)},x=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return F===k?g*lt:F===C?g:void 0},Q=function(g){return x(function(D){return F===k?Ki()-D:F===C?D:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var ae,me="00000000000000000000000000000000",ge=p.__private__.getFileId=function(){return me},Z=p.__private__.setFileId=function(g){return me=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(en=new hu(f.userPermissions,f.userPassword,f.ownerPassword,me)),me};p.setFileId=function(g){return Z(g),this},p.getFileId=function(){return ge()};var ue=p.__private__.convertDateToPDFDate=function(g){var D=g.getTimezoneOffset(),$=D<0?"+":"-",ee=Math.floor(Math.abs(D/60)),oe=Math.abs(D%60),Ee=[$,X(ee),"'",X(oe),"'"].join("");return["D:",g.getFullYear(),X(g.getMonth()+1),X(g.getDate()),X(g.getHours()),X(g.getMinutes()),X(g.getSeconds()),Ee].join("")},be=p.__private__.convertPDFDateToDate=function(g){var D=parseInt(g.substr(2,4),10),$=parseInt(g.substr(6,2),10)-1,ee=parseInt(g.substr(8,2),10),oe=parseInt(g.substr(10,2),10),Ee=parseInt(g.substr(12,2),10),Ne=parseInt(g.substr(14,2),10);return new Date(D,$,ee,oe,Ee,Ne,0)},we=p.__private__.setCreationDate=function(g){var D;if(g===void 0&&(g=new Date),g instanceof Date)D=ue(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=g}return ae=D},M=p.__private__.getCreationDate=function(g){var D=ae;return g==="jsDate"&&(D=be(ae)),D};p.setCreationDate=function(g){return we(g),this},p.getCreationDate=function(g){return M(g)};var W,X=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},te=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},se=0,he=[],ye=[],ve=0,xe=[],Pe=[],Me=!1,Ve=ye;p.__private__.setCustomOutputDestination=function(g){Me=!0,Ve=g};var _e=function(g){Me||(Ve=g)};p.__private__.resetCustomOutputDestination=function(){Me=!1,Ve=ye};var Y=p.__private__.out=function(g){return g=g.toString(),ve+=g.length+1,Ve.push(g),Ve},kt=p.__private__.write=function(g){return Y(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},St=p.__private__.getArrayBuffer=function(g){for(var D=g.length,$=new ArrayBuffer(D),ee=new Uint8Array($);D--;)ee[D]=g.charCodeAt(D);return $},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=F===C?g/lt:g,this};var Ye,je=p.__private__.getFontSize=p.getFontSize=function(){return F===k?Re:Re*lt},Et=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return Et=g,this},p.__private__.getR2L=p.getR2L=function(){return Et};var Ze,Mt=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ye=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ye=g}else Ye=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ye};var yt,Xe=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ze=g};p.__private__.getPageMode=function(){return Ze};var At=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');yt=g};p.__private__.getLayoutMode=function(){return yt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,D,$){return Mt(g),At(D),Xe($),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(pt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[g]},p.__private__.getDocumentProperties=function(){return pt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var D in pt)pt.hasOwnProperty(D)&&g[D]&&(pt[D]=g[D]);return this},p.__private__.setDocumentProperty=function(g,D){if(Object.keys(pt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[g]=D};var et,lt,nt,Kt,Ut,Ge={},mt={},Zt=[],ot={},Pt={},_t={},En={},vn=null,Yt=0,ct=[],Lt=new Pw(p),Ts=t.hotfixes||[],zn={},Hi={},Lr=[],st=function g(D,$,ee,oe,Ee,Ne){if(!(this instanceof g))return new g(D,$,ee,oe,Ee,Ne);isNaN(D)&&(D=1),isNaN($)&&($=0),isNaN(ee)&&(ee=0),isNaN(oe)&&(oe=1),isNaN(Ee)&&(Ee=0),isNaN(Ne)&&(Ne=0),this._matrix=[D,$,ee,oe,Ee,Ne]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(g)},st.prototype.multiply=function(g){var D=g.sx*this.sx+g.shy*this.shx,$=g.sx*this.shy+g.shy*this.sy,ee=g.shx*this.sx+g.sy*this.shx,oe=g.shx*this.shy+g.sy*this.sy,Ee=g.tx*this.sx+g.ty*this.shx+this.tx,Ne=g.tx*this.shy+g.ty*this.sy+this.ty;return new st(D,$,ee,oe,Ee,Ne)},st.prototype.decompose=function(){var g=this.sx,D=this.shy,$=this.shx,ee=this.sy,oe=this.tx,Ee=this.ty,Ne=Math.sqrt(g*g+D*D),Ue=(g/=Ne)*$+(D/=Ne)*ee;$-=g*Ue,ee-=D*Ue;var We=Math.sqrt($*$+ee*ee);return Ue/=We,g*(ee/=We)<D*($/=We)&&(g=-g,D=-D,Ue=-Ue,Ne=-Ne),{scale:new st(Ne,0,0,We,0,0),translate:new st(1,0,0,1,oe,Ee),rotate:new st(g,D,-D,g,0,0),skew:new st(1,0,Ue,1,0,0)}},st.prototype.toString=function(g){return this.join(" ")},st.prototype.inversed=function(){var g=this.sx,D=this.shy,$=this.shx,ee=this.sy,oe=this.tx,Ee=this.ty,Ne=1/(g*ee-D*$),Ue=ee*Ne,We=-D*Ne,at=-$*Ne,gt=g*Ne;return new st(Ue,We,at,gt,-Ue*oe-at*Ee,-We*oe-gt*Ee)},st.prototype.applyToPoint=function(g){var D=g.x*this.sx+g.y*this.shx+this.tx,$=g.x*this.shy+g.y*this.sy+this.ty;return new Ms(D,$)},st.prototype.applyToRectangle=function(g){var D=this.applyToPoint(g),$=this.applyToPoint(new Ms(g.x+g.w,g.y+g.h));return new Yo(D.x,D.y,$.x-D.x,$.y-D.y)},st.prototype.clone=function(){var g=this.sx,D=this.shy,$=this.shx,ee=this.sy,oe=this.tx,Ee=this.ty;return new st(g,D,$,ee,oe,Ee)},p.Matrix=st;var yn=p.matrixMult=function(g,D){return D.multiply(g)},Wi=new st(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Wi;var hr=function(g,D){if(!Pt[g]){var $=(D instanceof bl?"Sh":"P")+(Object.keys(ot).length+1).toString(10);D.id=$,Pt[g]=$,ot[$]=D,Lt.publish("addPattern",D)}};p.ShadingPattern=bl,p.TilingPattern=Tu,p.addShadingPattern=function(g,D){return I("addShadingPattern()"),hr(g,D),this},p.beginTilingPattern=function(g){I("beginTilingPattern()"),js(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,D){I("endTilingPattern()"),D.stream=Pe[W].join(`
`),hr(g,D),Lt.publish("endTilingPattern",D),Lr.pop().restore()};var fr,An=p.__private__.newObject=function(){var g=er();return xn(g,!0),g},er=p.__private__.newObjectDeferred=function(){return se++,he[se]=function(){return ve},se},xn=function(g,D){return D=typeof D=="boolean"&&D,he[g]=ve,D&&Y(g+" 0 obj"),g},no=p.__private__.newAdditionalObject=function(){var g={objId:er(),content:""};return xe.push(g),g},Ns=er(),Rr=er(),wi=p.__private__.decodeColorString=function(g){var D=g.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var $=parseFloat(D[0]);D=[$,$,$,"r"]}for(var ee="#",oe=0;oe<3;oe++)ee+=("0"+Math.floor(255*parseFloat(D[oe])).toString(16)).slice(-2);return ee},Qr=p.__private__.encodeColorString=function(g){var D;typeof g=="string"&&(g={ch1:g});var $=g.ch1,ee=g.ch2,oe=g.ch3,Ee=g.ch4,Ne=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Ue=new fA($);if(Ue.ok)$=Ue.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var We=parseInt($.substr(1),16);$=We>>16&255,ee=We>>8&255,oe=255&We}if(ee===void 0||Ee===void 0&&$===ee&&ee===oe)D=typeof $=="string"?$+" "+Ne[0]:g.precision===2?E($/255)+" "+Ne[0]:P($/255)+" "+Ne[0];else if(Ee===void 0||on(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Ne[1]].join(" ");D=typeof $=="string"?[$,ee,oe,Ne[1]].join(" "):g.precision===2?[E($/255),E(ee/255),E(oe/255),Ne[1]].join(" "):[P($/255),P(ee/255),P(oe/255),Ne[1]].join(" ")}else D=typeof $=="string"?[$,ee,oe,Ee,Ne[2]].join(" "):g.precision===2?[E($),E(ee),E(oe),E(Ee),Ne[2]].join(" "):[P($),P(ee),P(oe),P(Ee),Ne[2]].join(" ");return D},Dr=p.__private__.getFilters=function(){return o},qn=p.__private__.putStream=function(g){var D=(g=g||{}).data||"",$=g.filters||Dr(),ee=g.alreadyAppliedFilters||[],oe=g.addLength1||!1,Ee=D.length,Ne=g.objectId,Ue=function(Fn){return Fn};if(f!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ue=en.encryptor(Ne,0));var We={};$===!0&&($=["FlateEncode"]);var at=g.additionalKeyValues||[],gt=(We=Je.API.processDataByFilters!==void 0?Je.API.processDataByFilters(D,$):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(We.data.length!==0&&(at.push({key:"Length",value:We.data.length}),oe===!0&&at.push({key:"Length1",value:Ee})),gt.length!=0)if(gt.split("/").length-1==1)at.push({key:"Filter",value:gt});else{at.push({key:"Filter",value:"["+gt+"]"});for(var zt=0;zt<at.length;zt+=1)if(at[zt].key==="DecodeParms"){for(var Xt=[],kn=0;kn<We.reverseChain.split("/").length-1;kn+=1)Xt.push("null");Xt.push(at[zt].value),at[zt].value="["+Xt.join(" ")+"]"}}Y("<<");for(var tn=0;tn<at.length;tn++)Y("/"+at[tn].key+" "+at[tn].value);Y(">>"),We.data.length!==0&&(Y("stream"),Y(Ue(We.data)),Y("endstream"))},ks=p.__private__.putPage=function(g){var D=g.number,$=g.data,ee=g.objId,oe=g.contentsObjId;xn(ee,!0),Y("<</Type /Page"),Y("/Parent "+g.rootDictionaryObjId+" 0 R"),Y("/Resources "+g.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(A(g.mediaBox.bottomLeftX))+" "+parseFloat(A(g.mediaBox.bottomLeftY))+" "+A(g.mediaBox.topRightX)+" "+A(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&Y("/CropBox ["+A(g.cropBox.bottomLeftX)+" "+A(g.cropBox.bottomLeftY)+" "+A(g.cropBox.topRightX)+" "+A(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&Y("/BleedBox ["+A(g.bleedBox.bottomLeftX)+" "+A(g.bleedBox.bottomLeftY)+" "+A(g.bleedBox.topRightX)+" "+A(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&Y("/TrimBox ["+A(g.trimBox.bottomLeftX)+" "+A(g.trimBox.bottomLeftY)+" "+A(g.trimBox.topRightX)+" "+A(g.trimBox.topRightY)+"]"),g.artBox!==null&&Y("/ArtBox ["+A(g.artBox.bottomLeftX)+" "+A(g.artBox.bottomLeftY)+" "+A(g.artBox.topRightX)+" "+A(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&Y("/UserUnit "+g.userUnit),Lt.publish("putPage",{objId:ee,pageContext:ct[D],pageNumber:D,page:$}),Y("/Contents "+oe+" 0 R"),Y(">>"),Y("endobj");var Ee=$.join(`
`);return F===C&&(Ee+=`
Q`),xn(oe,!0),qn({data:Ee,filters:Dr(),objectId:oe}),Y("endobj"),ee},bi=p.__private__.putPages=function(){var g,D,$=[];for(g=1;g<=Yt;g++)ct[g].objId=er(),ct[g].contentsObjId=er();for(g=1;g<=Yt;g++)$.push(ks({number:g,data:Pe[g],objId:ct[g].objId,contentsObjId:ct[g].contentsObjId,mediaBox:ct[g].mediaBox,cropBox:ct[g].cropBox,bleedBox:ct[g].bleedBox,trimBox:ct[g].trimBox,artBox:ct[g].artBox,userUnit:ct[g].userUnit,rootDictionaryObjId:Ns,resourceDictionaryObjId:Rr}));xn(Ns,!0),Y("<</Type /Pages");var ee="/Kids [";for(D=0;D<Yt;D++)ee+=$[D]+" 0 R ";Y(ee+"]"),Y("/Count "+Yt),Y(">>"),Y("endobj"),Lt.publish("postPutPages")},ss=function(g){Lt.publish("putFont",{font:g,out:Y,newObject:An,putStream:qn}),g.isAlreadyPutted!==!0&&(g.objectNumber=An(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+fu(g.postScriptName)),Y("/Subtype /Type1"),typeof g.encoding=="string"&&Y("/Encoding /"+g.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Ps=function(g){g.objectNumber=An();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[A(g.x),A(g.y),A(g.x+g.width),A(g.y+g.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var $=g.pages[1].join(`
`);qn({data:$,additionalKeyValues:D,objectId:g.objectNumber}),Y("endobj")},ro=function(g,D){D||(D=21);var $=An(),ee=function(Ne,Ue){var We,at=[],gt=1/(Ue-1);for(We=0;We<1;We+=gt)at.push(We);if(at.push(1),Ne[0].offset!=0){var zt={offset:0,color:Ne[0].color};Ne.unshift(zt)}if(Ne[Ne.length-1].offset!=1){var Xt={offset:1,color:Ne[Ne.length-1].color};Ne.push(Xt)}for(var kn="",tn=0,Fn=0;Fn<at.length;Fn++){for(We=at[Fn];We>Ne[tn+1].offset;)tn++;var Pn=Ne[tn].offset,Mn=(We-Pn)/(Ne[tn+1].offset-Pn),dn=Ne[tn].color,wr=Ne[tn+1].color;kn+=te(Math.round((1-Mn)*dn[0]+Mn*wr[0]).toString(16))+te(Math.round((1-Mn)*dn[1]+Mn*wr[1]).toString(16))+te(Math.round((1-Mn)*dn[2]+Mn*wr[2]).toString(16))}return kn.trim()}(g.colors,D),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+D+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:ee,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),Y("endobj"),g.objectNumber=An(),Y("<< /ShadingType "+g.type),Y("/ColorSpace /DeviceRGB");var Ee="/Coords ["+A(parseFloat(g.coords[0]))+" "+A(parseFloat(g.coords[1]))+" ";g.type===2?Ee+=A(parseFloat(g.coords[2]))+" "+A(parseFloat(g.coords[3])):Ee+=A(parseFloat(g.coords[2]))+" "+A(parseFloat(g.coords[3]))+" "+A(parseFloat(g.coords[4]))+" "+A(parseFloat(g.coords[5])),Y(Ee+="]"),g.matrix&&Y("/Matrix ["+g.matrix.toString()+"]"),Y("/Function "+$+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},io=function(g,D){var $=er(),ee=An();D.push({resourcesOid:$,objectOid:ee}),g.objectNumber=ee;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+g.boundingBox.map(A).join(" ")+"]"}),oe.push({key:"XStep",value:A(g.xStep)}),oe.push({key:"YStep",value:A(g.yStep)}),oe.push({key:"Resources",value:$+" 0 R"}),g.matrix&&oe.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),qn({data:g.stream,additionalKeyValues:oe,objectId:g.objectNumber}),Y("endobj")},gc=function(g){for(var D in g.objectNumber=An(),Y("<<"),g)switch(D){case"opacity":Y("/ca "+E(g[D]));break;case"stroke-opacity":Y("/CA "+E(g[D]))}Y(">>"),Y("endobj")},Cs=function(g){xn(g.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in Y("/Font <<"),Ge)Ge.hasOwnProperty(D)&&(m===!1||m===!0&&v.hasOwnProperty(D))&&Y("/"+D+" "+Ge[D].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ot).length>0){for(var D in Y("/Shading <<"),ot)ot.hasOwnProperty(D)&&ot[D]instanceof bl&&ot[D].objectNumber>=0&&Y("/"+D+" "+ot[D].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Y(">>")}}(),function(D){if(Object.keys(ot).length>0){for(var $ in Y("/Pattern <<"),ot)ot.hasOwnProperty($)&&ot[$]instanceof p.TilingPattern&&ot[$].objectNumber>=0&&ot[$].objectNumber<D&&Y("/"+$+" "+ot[$].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Y(">>")}}(g.objectOid),function(){if(Object.keys(_t).length>0){var D;for(D in Y("/ExtGState <<"),_t)_t.hasOwnProperty(D)&&_t[D].objectNumber>=0&&Y("/"+D+" "+_t[D].objectNumber+" 0 R");Lt.publish("putGStateDict"),Y(">>")}}(),function(){for(var D in Y("/XObject <<"),zn)zn.hasOwnProperty(D)&&zn[D].objectNumber>=0&&Y("/"+D+" "+zn[D].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Ja=function(g){mt[g.fontName]=mt[g.fontName]||{},mt[g.fontName][g.fontStyle]=g.id},qo=function(g,D,$,ee,oe){var Ee={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:g,fontName:D,fontStyle:$,encoding:ee,isStandardFont:oe||!1,metadata:{}};return Lt.publish("addFont",{font:Ee,instance:this}),Ge[Ee.id]=Ee,Ja(Ee),Ee.id},dr=p.__private__.pdfEscape=p.pdfEscape=function(g,D){return function($,ee){var oe,Ee,Ne,Ue,We,at,gt,zt,Xt;if(Ne=(ee=ee||{}).sourceEncoding||"Unicode",We=ee.outputEncoding,(ee.autoencode||We)&&Ge[et].metadata&&Ge[et].metadata[Ne]&&Ge[et].metadata[Ne].encoding&&(Ue=Ge[et].metadata[Ne].encoding,!We&&Ge[et].encoding&&(We=Ge[et].encoding),!We&&Ue.codePages&&(We=Ue.codePages[0]),typeof We=="string"&&(We=Ue[We]),We)){for(gt=!1,at=[],oe=0,Ee=$.length;oe<Ee;oe++)(zt=We[$.charCodeAt(oe)])?at.push(String.fromCharCode(zt)):at.push($[oe]),at[oe].charCodeAt(0)>>8&&(gt=!0);$=at.join("")}for(oe=$.length;gt===void 0&&oe!==0;)$.charCodeAt(oe-1)>>8&&(gt=!0),oe--;if(!gt)return $;for(at=ee.noBOM?[]:[254,255],oe=0,Ee=$.length;oe<Ee;oe++){if((Xt=(zt=$.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Xt),at.push(zt-(Xt<<8))}return String.fromCharCode.apply(void 0,at)}(g,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Si=p.__private__.beginPage=function(g){Pe[++Yt]=[],ct[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},el(Yt),_e(Pe[W])},Ho=function(g,D){var $,ee,oe;switch(n=D||n,typeof g=="string"&&($=w(g.toLowerCase()),Array.isArray($)&&(ee=$[0],oe=$[1])),Array.isArray(g)&&(ee=g[0]*lt,oe=g[1]*lt),isNaN(ee)&&(ee=i[0],oe=i[1]),(ee>14400||oe>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),oe=Math.min(14400,oe)),i=[ee,oe],n.substr(0,1)){case"l":oe>ee&&(i=[oe,ee]);break;case"p":ee>oe&&(i=[oe,ee])}Si(i),Fs(Go),Y(ls),ln!==0&&Y(ln+" J"),ll!==0&&Y(ll+" j"),Lt.publish("addPage",{pageNumber:Yt})},Za=function(g){g>0&&g<=Yt&&(Pe.splice(g,1),ct.splice(g,1),Yt--,W>Yt&&(W=Yt),this.setPage(W))},el=function(g){g>0&&g<=Yt&&(W=g)},tl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},nl=function(g,D,$){var ee,oe=void 0;return $=$||{},g=g!==void 0?g:Ge[et].fontName,D=D!==void 0?D:Ge[et].fontStyle,ee=g.toLowerCase(),mt[ee]!==void 0&&mt[ee][D]!==void 0?oe=mt[ee][D]:mt[g]!==void 0&&mt[g][D]!==void 0?oe=mt[g][D]:$.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+g+"', '"+D+"'. Refer to getFontList() for available fonts."),oe||$.noFallback||(oe=mt.times[D])==null&&(oe=mt.times.normal),oe},Ls=p.__private__.putInfo=function(){var g=An(),D=function(ee){return ee};for(var $ in f!==null&&(D=en.encryptor(g,0)),Y("<<"),Y("/Producer ("+dr(D("jsPDF "+Je.version))+")"),pt)pt.hasOwnProperty($)&&pt[$]&&Y("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+dr(D(pt[$]))+")");Y("/CreationDate ("+dr(D(ae))+")"),Y(">>"),Y("endobj")},rl=p.__private__.putCatalog=function(g){var D=(g=g||{}).rootDictionaryObjId||Ns;switch(An(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+D+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+Ye;$.substr($.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+E(Ye)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Ze&&Y("/PageMode /"+Ze),Lt.publish("putCatalog"),Y(">>"),Y("endobj")},Nn=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(se+1)),Y("/Root "+se+" 0 R"),Y("/Info "+(se-1)+" 0 R"),f!==null&&Y("/Encrypt "+en.oid+" 0 R"),Y("/ID [ <"+me+"> <"+me+"> ]"),Y(">>")},il=p.__private__.putHeader=function(){Y("%PDF-"+S),Y("%")},Jl=p.__private__.putXRef=function(){var g="0000000000";Y("xref"),Y("0 "+(se+1)),Y("0000000000 65535 f ");for(var D=1;D<=se;D++)typeof he[D]=="function"?Y((g+he[D]()).slice(-10)+" 00000 n "):he[D]!==void 0?Y((g+he[D]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},os=p.__private__.buildDocument=function(){var g;se=0,ve=0,ye=[],he=[],xe=[],Ns=er(),Rr=er(),_e(ye),Lt.publish("buildDocument"),il(),bi(),function(){Lt.publish("putAdditionalObjects");for(var $=0;$<xe.length;$++){var ee=xe[$];xn(ee.objId,!0),Y(ee.content),Y("endobj")}Lt.publish("postPutAdditionalObjects")}(),g=[],function(){for(var $ in Ge)Ge.hasOwnProperty($)&&(m===!1||m===!0&&v.hasOwnProperty($))&&ss(Ge[$])}(),function(){var $;for($ in _t)_t.hasOwnProperty($)&&gc(_t[$])}(),function(){for(var $ in zn)zn.hasOwnProperty($)&&Ps(zn[$])}(),function($){var ee;for(ee in ot)ot.hasOwnProperty(ee)&&(ot[ee]instanceof bl?ro(ot[ee]):ot[ee]instanceof Tu&&io(ot[ee],$))}(g),Lt.publish("putResources"),g.forEach(Cs),Cs({resourcesOid:Rr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),f!==null&&(en.oid=An(),Y("<<"),Y("/Filter /Standard"),Y("/V "+en.v),Y("/R "+en.r),Y("/U <"+en.toHexString(en.U)+">"),Y("/O <"+en.toHexString(en.O)+">"),Y("/P "+en.P),Y(">>"),Y("endobj")),Ls(),rl();var D=ve;return Jl(),Nn(),Y("startxref"),Y(""+D),Y("%%EOF"),_e(Pe[W]),ye.join(`
`)},Rs=p.__private__.getBlob=function(g){return new Blob([St(g)],{type:"application/pdf"})},ai=p.output=p.__private__.output=(fr=function(g,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",g){case void 0:return os();case"save":p.save(D.filename);break;case"arraybuffer":return St(os());case"blob":return Rs(os());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Rs(os()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",ee=os();try{$=Tw(ee)}catch{$=Tw(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+D.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(oe=D.pdfObjectUrl,Ee="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Ue=vt.open();return Ue!==null&&Ue.document.write(Ne),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',at=vt.open();if(at!==null){at.document.write(We);var gt=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=D.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Xt=vt.open();if(Xt!==null&&(Xt.document.write(zt),Xt.document.title=D.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",D);default:return null}},fr.foo=function(){try{return fr.apply(this,arguments)}catch($){var g=$.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var D="Error in function "+g.split(`
`)[0].split("<")[0]+": "+$.message;if(!vt.console)throw new Error(D);vt.console.error(D,$),vt.alert&&alert(D)}},fr.foo.bar=fr,fr.foo),so=function(g){return Array.isArray(Ts)===!0&&Ts.indexOf(g)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=so("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var en=null;we(),Z();var Yr=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[g].objId,pageNumber:g,pageContext:ct[g]}},Wo=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ct)if(ct[D].objId===g)break;return Yr(D)},$o=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ct[W].objId,pageNumber:W,pageContext:ct[W]}};p.addPage=function(){return Ho.apply(this,arguments),this},p.setPage=function(){return el.apply(this,arguments),_e.call(this,Pe[W]),this},p.insertPage=function(g){return this.addPage(),this.movePage(W,g),this},p.movePage=function(g,D){var $,ee;if(g>D){$=Pe[g],ee=ct[g];for(var oe=g;oe>D;oe--)Pe[oe]=Pe[oe-1],ct[oe]=ct[oe-1];Pe[D]=$,ct[D]=ee,this.setPage(D)}else if(g<D){$=Pe[g],ee=ct[g];for(var Ee=g;Ee<D;Ee++)Pe[Ee]=Pe[Ee+1],ct[Ee]=ct[Ee+1];Pe[D]=$,ct[D]=ee,this.setPage(D)}return this},p.deletePage=function(){return Za.apply(this,arguments),this},p.__private__.text=p.text=function(g,D,$,ee,oe){var Ee,Ne,Ue,We,at,gt,zt,Xt,kn,tn=(ee=ee||{}).scope||this;if(typeof g=="number"&&typeof D=="number"&&(typeof $=="string"||Array.isArray($))){var Fn=$;$=D,D=g,g=Fn}if(arguments[3]instanceof st==0?(Ue=arguments[4],We=arguments[5],on(zt=arguments[3])==="object"&&zt!==null||(typeof Ue=="string"&&(We=Ue,Ue=null),typeof zt=="string"&&(We=zt,zt=null),typeof zt=="number"&&(Ue=zt,zt=null),ee={flags:zt,angle:Ue,align:We})):(I("The transform parameter of text() with a Matrix value"),kn=oe),isNaN(D)||isNaN($)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return tn;var Pn,Mn="",dn=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Os,wr=tn.internal.scaleFactor;function fl(Jt){return Jt=Jt.split("	").join(Array(ee.TabLen||9).join(" ")),dr(Jt,zt)}function Ai(Jt){for(var un,Wn=Jt.concat(),ir=[],fo=Wn.length;fo--;)typeof(un=Wn.shift())=="string"?ir.push(un):Array.isArray(Jt)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?ir.push(un[0]):ir.push([un[0],un[1],un[2]]);return ir}function h(Jt,un){var Wn;if(typeof Jt=="string")Wn=un(Jt)[0];else if(Array.isArray(Jt)){for(var ir,fo,Pc=Jt.concat(),nu=[],bf=Pc.length;bf--;)typeof(ir=Pc.shift())=="string"?nu.push(un(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(fo=un(ir[0],ir[1],ir[2]),nu.push([fo[0],fo[1],fo[2]]));Wn=nu}return Wn}var _=!1,N=!0;if(typeof g=="string")_=!0;else if(Array.isArray(g)){var z=g.concat();Ne=[];for(var le,pe=z.length;pe--;)(typeof(le=z.shift())!="string"||Array.isArray(le)&&typeof le[0]!="string")&&(N=!1);_=N}if(_===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Oe=Re/tn.internal.scaleFactor,jt=Oe*(dn-1);switch(ee.baseline){case"bottom":$-=jt;break;case"top":$+=Oe-jt;break;case"hanging":$+=Oe-2*jt;break;case"middle":$+=Oe/2-jt}if((gt=ee.maxWidth||0)>0&&(typeof g=="string"?g=tn.splitTextToSize(g,gt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Jt,un){return Jt.concat(tn.splitTextToSize(un,gt))},[]))),Ee={text:g,x:D,y:$,options:ee,mutex:{pdfEscape:dr,activeFontKey:et,fonts:Ge,activeFontSize:Re}},Lt.publish("preProcessText",Ee),g=Ee.text,Ue=(ee=Ee.options).angle,kn instanceof st==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,ee.rotationDirection===0&&(Ue=-Ue),F===C&&(Ue=-Ue);var Cn=Math.cos(Ue),Rt=Math.sin(Ue);kn=new st(Cn,Rt,-Rt,Cn,0,0)}else Ue&&Ue instanceof st&&(kn=Ue);F!==C||kn||(kn=Wi),(at=ee.charSpace||lo)!==void 0&&(Mn+=A(x(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=ee.horizontalScale)!==void 0&&(Mn+=A(100*Xt)+` Tz
`),ee.lang;var Ct=-1,pn=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,xi=tn.internal.getCurrentPageInfo().pageContext;switch(pn){case 0:case!1:case"fill":Ct=0;break;case 1:case!0:case"stroke":Ct=1;break;case 2:case"fillThenStroke":Ct=2;break;case 3:case"invisible":Ct=3;break;case 4:case"fillAndAddForClipping":Ct=4;break;case 5:case"strokeAndAddPathForClipping":Ct=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ct=6;break;case 7:case"addToPathForClipping":Ct=7}var Or=xi.usedRenderingMode!==void 0?xi.usedRenderingMode:-1;Ct!==-1?Mn+=Ct+` Tr
`:Or!==-1&&(Mn+=`0 Tr
`),Ct!==-1&&(xi.usedRenderingMode=Ct),We=ee.align||"left";var br,cs=Re*dn,Ec=tn.internal.pageSize.getWidth(),Ac=Ge[et];at=ee.charSpace||lo,gt=ee.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Jo=[],dl=function(Jt){return tn.getStringUnitWidth(Jt,{font:Ac,charSpace:at,fontSize:Re,doKerning:!1})*Re/wr};if(Object.prototype.toString.call(g)==="[object Array]"){var Ii;Ne=Ai(g),We!=="left"&&(br=Ne.map(dl));var Ti,Zo=0;if(We==="right"){D-=br[0],g=[],pe=Ne.length;for(var ho=0;ho<pe;ho++)ho===0?(Ti=pr(D),Ii=as($)):(Ti=x(Zo-br[ho]),Ii=-cs),g.push([Ne[ho],Ti,Ii]),Zo=br[ho]}else if(We==="center"){D-=br[0]/2,g=[],pe=Ne.length;for(var ea=0;ea<pe;ea++)ea===0?(Ti=pr(D),Ii=as($)):(Ti=x((Zo-br[ea])/2),Ii=-cs),g.push([Ne[ea],Ti,Ii]),Zo=br[ea]}else if(We==="left"){g=[],pe=Ne.length;for(var xc=0;xc<pe;xc++)g.push(Ne[xc])}else if(We==="justify"&&Ac.encoding==="Identity-H"){g=[],pe=Ne.length,gt=gt!==0?gt:Ec;for(var tu=0,Hn=0;Hn<pe;Hn++)if(Ii=Hn===0?as($):-cs,Ti=Hn===0?pr(D):tu,Hn<pe-1){var wf=x((gt-br[Hn])/(Ne[Hn].split(" ").length-1)),Bs=Ne[Hn].split(" ");g.push([Bs[0]+" ",Ti,Ii]),tu=0;for(var Us=1;Us<Bs.length;Us++){var Ic=(dl(Bs[Us-1]+" "+Bs[Us])-dl(Bs[Us]))*wr+wf;Us==Bs.length-1?g.push([Bs[Us],Ic,0]):g.push([Bs[Us]+" ",Ic,0]),tu-=Ic}}else g.push([Ne[Hn],Ti,Ii]);g.push(["",tu,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],pe=Ne.length,gt=gt!==0?gt:Ec,Hn=0;Hn<pe;Hn++){Ii=Hn===0?as($):-cs,Ti=Hn===0?pr(D):0;var Tc=Ne[Hn].split(" ").length-1,Nc=Tc>0?(gt-br[Hn])/Tc:0;Hn<pe-1?Jo.push(A(x(Nc))):Jo.push(0),g.push([Ne[Hn],Ti,Ii])}}}(typeof ee.R2L=="boolean"?ee.R2L:Et)===!0&&(g=h(g,function(Jt,un,Wn){return[Jt.split("").reverse().join(""),un,Wn]})),Ee={text:g,x:D,y:$,options:ee,mutex:{pdfEscape:dr,activeFontKey:et,fonts:Ge,activeFontSize:Re}},Lt.publish("postProcessText",Ee),g=Ee.text,Pn=Ee.mutex.isHex||!1;var kc=Ge[et].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(g=h(g,function(Jt,un,Wn){return[fl(Jt),un,Wn]})),Ne=Ai(g),g=[];for(var ta,na,ra,pl=Array.isArray(Ne[0])?1:0,ia="",ml=function(Jt,un,Wn){var ir="";return Wn instanceof st?(Wn=typeof ee.angle=="number"?yn(Wn,new st(1,0,0,1,Jt,un)):yn(new st(1,0,0,1,Jt,un),Wn),F===C&&(Wn=yn(new st(1,0,0,-1,0,0),Wn)),ir=Wn.join(" ")+` Tm
`):ir=A(Jt)+" "+A(un)+` Td
`,ir},Qi=0;Qi<Ne.length;Qi++){switch(ia="",pl){case 1:ra=(Pn?"<":"(")+Ne[Qi][0]+(Pn?">":")"),ta=parseFloat(Ne[Qi][1]),na=parseFloat(Ne[Qi][2]);break;case 0:ra=(Pn?"<":"(")+Ne[Qi]+(Pn?">":")"),ta=pr(D),na=as($)}Jo!==void 0&&Jo[Qi]!==void 0&&(ia=Jo[Qi]+` Tw
`),Qi===0?g.push(ia+ml(ta,na,kn)+ra):pl===0?g.push(ia+ra):pl===1&&g.push(ia+ml(ta,na,kn)+ra)}g=pl===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var zs=`BT
/`;return zs+=et+" "+Re+` Tf
`,zs+=A(Re*dn)+` TL
`,zs+=Ei+`
`,zs+=Mn,zs+=g,Y(zs+="ET"),v[et]=!0,tn};var Zl=p.__private__.clip=p.clip=function(g){return Y(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Zl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var Ot=p.__private__.isValidStyle=function(g){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ot(g)&&(u=g),this};var oo=p.__private__.getStyle=p.getStyle=function(g){var D=u;switch(g){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=g}return D},Ds=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(g){return li("f",g),this},p.fillEvenOdd=function(g){return li("f*",g),this},p.fillStroke=function(g){return li("B",g),this},p.fillStrokeEvenOdd=function(g){return li("B*",g),this};var li=function(g,D){on(D)==="object"?vc(D,g):Y(g)},sl=function(g){g===null||F===C&&g===void 0||(g=oo(g),Y(g))};function eu(g,D,$,ee,oe){var Ee=new Tu(D||this.boundingBox,$||this.xStep,ee||this.yStep,this.gState,oe||this.matrix);Ee.stream=this.stream;var Ne=g+"$$"+this.cloneIndex+++"$$";return hr(Ne,Ee),Ee}var vc=function(g,D){var $=Pt[g.key],ee=ot[$];if(ee instanceof bl)Y("q"),Y(yc(D)),ee.gState&&p.setGState(ee.gState),Y(g.matrix.toString()+" cm"),Y("/"+$+" sh"),Y("Q");else if(ee instanceof Tu){var oe=new st(1,0,0,-1,0,Ki());g.matrix&&(oe=oe.multiply(g.matrix||Wi),$=eu.call(ee,g.key,g.boundingBox,g.xStep,g.yStep,oe).id),Y("q"),Y("/Pattern cs"),Y("/"+$+" scn"),ee.gState&&p.setGState(ee.gState),Y(D),Y("Q")}},yc=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ol=p.moveTo=function(g,D){return Y(A(x(g))+" "+A(Q(D))+" m"),this},ao=p.lineTo=function(g,D){return Y(A(x(g))+" "+A(Q(D))+" l"),this},ui=p.curveTo=function(g,D,$,ee,oe,Ee){return Y([A(x(g)),A(Q(D)),A(x($)),A(Q(ee)),A(x(oe)),A(Q(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,D,$,ee,oe){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.line");return F===k?this.lines([[$-g,ee-D]],g,D,[1,1],oe||"S"):this.lines([[$-g,ee-D]],g,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,D,$,ee,oe,Ee){var Ne,Ue,We,at,gt,zt,Xt,kn,tn,Fn,Pn,Mn;if(typeof g=="number"&&(Mn=$,$=D,D=g,g=Mn),ee=ee||[1,1],Ee=Ee||!1,isNaN(D)||isNaN($)||!Array.isArray(g)||!Array.isArray(ee)||!Ot(oe)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ol(D,$),Ne=ee[0],Ue=ee[1],at=g.length,Fn=D,Pn=$,We=0;We<at;We++)(gt=g[We]).length===2?(Fn=gt[0]*Ne+Fn,Pn=gt[1]*Ue+Pn,ao(Fn,Pn)):(zt=gt[0]*Ne+Fn,Xt=gt[1]*Ue+Pn,kn=gt[2]*Ne+Fn,tn=gt[3]*Ue+Pn,Fn=gt[4]*Ne+Fn,Pn=gt[5]*Ue+Pn,ui(zt,Xt,kn,tn,Fn,Pn));return Ee&&Ds(),sl(oe),this},p.path=function(g){for(var D=0;D<g.length;D++){var $=g[D],ee=$.c;switch($.op){case"m":ol(ee[0],ee[1]);break;case"l":ao(ee[0],ee[1]);break;case"c":ui.apply(this,ee);break;case"h":Ds()}}return this},p.__private__.rect=p.rect=function(g,D,$,ee,oe){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return F===k&&(ee=-ee),Y([A(x(g)),A(Q(D)),A(x($)),A(x(ee)),"re"].join(" ")),sl(oe),this},p.__private__.triangle=p.triangle=function(g,D,$,ee,oe,Ee,Ne){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||isNaN(oe)||isNaN(Ee)||!Ot(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-g,ee-D],[oe-$,Ee-ee],[g-oe,D-Ee]],g,D,[1,1],Ne,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,D,$,ee,oe,Ee,Ne){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||isNaN(oe)||isNaN(Ee)||!Ot(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*$),Ee=Math.min(Ee,.5*ee),this.lines([[$-2*oe,0],[oe*Ue,0,oe,Ee-Ee*Ue,oe,Ee],[0,ee-2*Ee],[0,Ee*Ue,-oe*Ue,Ee,-oe,Ee],[2*oe-$,0],[-oe*Ue,0,-oe,-Ee*Ue,-oe,-Ee],[0,2*Ee-ee],[0,-Ee*Ue,oe*Ue,-Ee,oe,-Ee]],g+oe,D,[1,1],Ne,!0),this},p.__private__.ellipse=p.ellipse=function(g,D,$,ee,oe){if(isNaN(g)||isNaN(D)||isNaN($)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*$,Ne=4/3*(Math.SQRT2-1)*ee;return ol(g+$,D),ui(g+$,D-Ne,g+Ee,D-ee,g,D-ee),ui(g-Ee,D-ee,g-$,D-Ne,g-$,D),ui(g-$,D+Ne,g-Ee,D+ee,g,D+ee),ui(g+Ee,D+ee,g+$,D+Ne,g+$,D),sl(oe),this},p.__private__.circle=p.circle=function(g,D,$,ee){if(isNaN(g)||isNaN(D)||isNaN($)||!Ot(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,D,$,$,ee)},p.setFont=function(g,D,$){return $&&(D=V(D,$)),et=nl(g,D,{disableWarning:!1}),this};var $i=p.__private__.getFont=p.getFont=function(){return Ge[nl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,D,$={};for(g in mt)if(mt.hasOwnProperty(g))for(D in $[g]=[],mt[g])mt[g].hasOwnProperty(D)&&$[g].push(D);return $},p.addFont=function(g,D,$,ee,oe){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&($=V($,ee)),qo.call(this,g,D,$,oe=oe||"Identity-H")};var Os,Go=t.lineWidth||.200025,ht=p.__private__.getLineWidth=p.getLineWidth=function(){return Go},Fs=p.__private__.setLineWidth=p.setLineWidth=function(g){return Go=g,Y(A(x(g))+" w"),this};p.__private__.setLineDash=Je.API.setLineDash=Je.API.setLineDashPattern=function(g,D){if(g=g||[],D=D||0,isNaN(D)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function($){return A(x($))}).join(" "),D=A(x(D)),Y("["+g+"] "+D+" d"),this};var _c=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Os};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Os};var wc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Os=g),this},bc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Os};wc(t.lineHeight);var pr=p.__private__.getHorizontalCoordinate=function(g){return x(g)},as=p.__private__.getVerticalCoordinate=function(g){return F===C?g:ct[W].mediaBox.topRightY-ct[W].mediaBox.bottomLeftY-x(g)},Sc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return A(pr(g))},Ko=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return A(as(g))},ls=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return wi(ls)},p.__private__.setStrokeColor=p.setDrawColor=function(g,D,$,ee){return ls=Qr({ch1:g,ch2:D,ch3:$,ch4:ee,pdfColorType:"draw",precision:2}),Y(ls),this};var Qo=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return wi(Qo)},p.__private__.setFillColor=p.setFillColor=function(g,D,$,ee){return Qo=Qr({ch1:g,ch2:D,ch3:$,ch4:ee,pdfColorType:"fill",precision:2}),Y(Qo),this};var Ei=t.textColor||"0 g",Gi=p.__private__.getTextColor=p.getTextColor=function(){return wi(Ei)};p.__private__.setTextColor=p.setTextColor=function(g,D,$,ee){return Ei=Qr({ch1:g,ch2:D,ch3:$,ch4:ee,pdfColorType:"text",precision:3}),this};var lo=t.charSpace,al=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(lo||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lo=g,this};var ln=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var D=p.CapJoinStyles[g];if(D===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ln=D,Y(D+" J"),this};var ll=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var D=p.CapJoinStyles[g];if(D===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=D,Y(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(A(x(g))+" M"),this},p.GState=Rp,p.setGState=function(g){(g=typeof g=="string"?_t[En[g]]:uo(null,g)).equals(vn)||(Y("/"+g.id+" gs"),vn=g)};var uo=function(g,D){if(!g||!En[g]){var $=!1;for(var ee in _t)if(_t.hasOwnProperty(ee)&&_t[ee].equals(D)){$=!0;break}if($)D=_t[ee];else{var oe="GS"+(Object.keys(_t).length+1).toString(10);_t[oe]=D,D.id=oe}return g&&(En[g]=D.id),Lt.publish("addGState",D),D}};p.addGState=function(g,D){return uo(g,D),this},p.saveGraphicsState=function(){return Y("q"),Zt.push({key:et,size:Re,color:Ei}),this},p.restoreGraphicsState=function(){Y("Q");var g=Zt.pop();return et=g.key,Re=g.size,Ei=g.color,vn=null,this},p.setCurrentTransformationMatrix=function(g){return Y(g.toString()+" cm"),this},p.comment=function(g){return Y("#"+g),this};var Ms=function(g,D){var $=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(Ee){isNaN(Ee)||($=parseFloat(Ee))}});var ee=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Ee){isNaN(Ee)||(ee=parseFloat(Ee))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(Ee){oe=Ee.toString()}}),this},Yo=function(g,D,$,ee){Ms.call(this,g,D),this.type="rect";var oe=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ne){isNaN(Ne)||(oe=parseFloat(Ne))}});var Ee=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Ne){isNaN(Ne)||(Ee=parseFloat(Ne))}}),this},co=function(){this.page=Yt,this.currentPage=W,this.pages=Pe.slice(0),this.pagesContext=ct.slice(0),this.x=nt,this.y=Kt,this.matrix=Ut,this.width=ci(W),this.height=us(W),this.outputDestination=Ve,this.id="",this.objectNumber=-1};co.prototype.restore=function(){Yt=this.page,W=this.currentPage,ct=this.pagesContext,Pe=this.pages,nt=this.x,Kt=this.y,Ut=this.matrix,ul(W,this.width),Xr(W,this.height),Ve=this.outputDestination};var js=function(g,D,$,ee,oe){Lr.push(new co),Yt=W=0,Pe=[],nt=g,Kt=D,Ut=oe,Si([$,ee])};for(var Vs in p.beginFormObject=function(g,D,$,ee,oe){return js(g,D,$,ee,oe),this},p.endFormObject=function(g){return function(D){if(Hi[D])Lr.pop().restore();else{var $=new co,ee="Xo"+(Object.keys(zn).length+1).toString(10);$.id=ee,Hi[D]=ee,zn[ee]=$,Lt.publish("addFormObject",$),Lr.pop().restore()}}(g),this},p.doFormObject=function(g,D){var $=zn[Hi[g]];return Y("q"),Y(D.toString()+" cm"),Y("/"+$.id+" Do"),Y("Q"),this},p.getFormObject=function(g){var D=zn[Hi[g]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(g,D){return g=g||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(wl(Rs(os()),g),typeof wl.unload=="function"&&vt.setTimeout&&setTimeout(wl.unload,911),this):new Promise(function($,ee){try{var oe=wl(Rs(os()),g);typeof wl.unload=="function"&&vt.setTimeout&&setTimeout(wl.unload,911),$(oe)}catch(Ee){ee(Ee.message)}})},Je.API)Je.API.hasOwnProperty(Vs)&&(Vs==="events"&&Je.API.events.length?function(g,D){var $,ee,oe;for(oe=D.length-1;oe!==-1;oe--)$=D[oe][0],ee=D[oe][1],g.subscribe.apply(g,[$].concat(typeof ee=="function"?[ee]:ee))}(Lt,Je.API.events):p[Vs]=Je.API[Vs]);function ci(g){return ct[g].mediaBox.topRightX-ct[g].mediaBox.bottomLeftX}function ul(g,D){ct[g].mediaBox.topRightX=D+ct[g].mediaBox.bottomLeftX}function us(g){return ct[g].mediaBox.topRightY-ct[g].mediaBox.bottomLeftY}function Xr(g,D){ct[g].mediaBox.topRightY=D+ct[g].mediaBox.bottomLeftY}var cl=p.getPageWidth=function(g){return ci(g=g||W)/lt},Xo=p.setPageWidth=function(g,D){ul(g,D*lt)},Ki=p.getPageHeight=function(g){return us(g=g||W)/lt},hl=p.setPageHeight=function(g,D){Xr(g,D*lt)};return p.internal={pdfEscape:dr,getStyle:oo,getFont:$i,getFontSize:je,getCharSpace:al,getTextColor:Gi,getLineHeight:_c,getLineHeightFactor:bc,getLineWidth:ht,write:kt,getHorizontalCoordinate:pr,getVerticalCoordinate:as,getCoordinateString:Sc,getVerticalCoordinateString:Ko,collections:{},newObject:An,newAdditionalObject:no,newObjectDeferred:er,newObjectDeferredBegin:xn,getFilters:Dr,putStream:qn,events:Lt,scaleFactor:lt,pageSize:{getWidth:function(){return cl(W)},setWidth:function(g){Xo(W,g)},getHeight:function(){return Ki(W)},setHeight:function(g){hl(W,g)}},encryptionOptions:f,encryption:en,getEncryptor:function(g){return f!==null?en.encryptor(g,0):function(D){return D}},output:ai,getNumberOfPages:tl,pages:Pe,out:Y,f2:E,f3:P,getPageInfo:Yr,getPageInfoByObjId:Wo,getCurrentPageInfo:$o,getPDFVersion:T,Point:Ms,Rectangle:Yo,Matrix:st,hasHotfix:so},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return cl(W)},set:function(g){Xo(W,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ki(W)},set:function(g){hl(W,g)},enumerable:!0,configurable:!0}),(function(g){for(var D=0,$=it.length;D<$;D++){var ee=qo.call(this,g[D][0],g[D][1],g[D][2],it[D][3],!0);m===!1&&(v[ee]=!0);var oe=g[D][0].split("-");Ja({id:ee,fontName:oe[0],fontStyle:oe[1]||""})}Lt.publish("addFonts",{fonts:Ge,dictionary:mt})}).call(p,it),et="F1",Ho(i,n),Lt.publish("initialized"),p}hu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},hu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},hu.prototype.processOwnerPassword=function(t,e){return _1(y1(e).substr(0,5),t)},hu.prototype.encryptor=function(t,e){var n=y1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return _1(n,r)}},Rp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||on(t)!==on(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Je.API={events:[]},Je.version="3.0.3";var Bn=Je.API,Ev=1,Xl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xt=function(t){return t.toFixed(2)},pa=function(t){return t.toFixed(5)};Bn.__acroform__={};var _i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Cw=function(t){return t*Ev},Ws=function(t){var e=new gA,n=He.internal.getHeight(t)||0,r=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(xt(r)),Number(xt(n))],e},mD=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},gD=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},vD=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yn=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vD(t,e-1)},Xn=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mD(t,e-1)},Jn=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gD(t,e-1)},yD=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(xt(l.lowerLeft_X)),Number(xt(l.lowerLeft_Y)),Number(xt(l.upperRight_X)),Number(xt(l.upperRight_Y))]},_D=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=w1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ws(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},w1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=He.internal.getHeight(t)||0;o=o<0?-o:o;var a=He.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,P,x){if(E+1<i.length){var Q=P+" "+i[E+1][0];return dd(Q,t,x).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=dd("3",t,s).height,v=t.multiline?o-s:(o-m)/2,p=v+=2,S=0,T=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+dd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",k=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var F=!1;if(i[C].length!==1&&R!==i[C].length-1){if((m+2)*(k+2)+2>o)continue e;w+=i[C][R],F=!0,T=C,C--}else{w=(w+=i[C][R]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var J=parseInt(C),ne=l(J,w,s),V=C>=i.length-1;if(ne&&!V){w+=" ",R=0;continue}if(ne||V){if(V)T=J;else if(t.multiline&&(m+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(k+2)+2>o)continue e;T=J}}for(var A="",I=S;I<=T;I++){var L=i[I];if(t.multiline){if(I===T){A+=L[R]+" ",R=(R+1)%L.length;continue}if(I===S){A+=L[L.length-1]+" ";continue}}A+=L[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,f=dd(A,t,s).width,t.textAlign){case"right":u=a-f-2;break;case"center":u=(a-f)/2;break;default:u=2}e+=xt(u)+" "+xt(p)+` Td
`,e+="("+Xl(A)+`) Tj
`,e+=-xt(u)+` 0 Td
`,p=-(s+2),f=0,S=F?T:T+1,k++,w=""}break}return r.text=e,r.fontSize=s,r},dd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},wD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bD=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},SD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(wD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ev=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new vA,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&bD(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=yD(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=He.createDefaultAppearanceStream(a),on(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=_D(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var m="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var S=p[o];typeof S=="function"&&(S=S.call(i,a)),m+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(i,a)),m+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(T,R){for(var w in T)if(T.hasOwnProperty(w)){var k=w,C=T[w];R.internal.newObjectDeferredBegin(C.objId,!0),on(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete T[k]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},mA=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),on(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Xl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Xl(r(t))+")"},Ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ks.prototype.toString=function(){return this.objId+" 0 R"},Ks.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ks.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:mA(i,this.objId,this.scope)}):i instanceof Ks?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var gA=function(){Ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};_i(gA,Ks);var vA=function(){Ks.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xl(n(t))+")"}},set:function(n){t=n}})};_i(vA,Ks);var xs=function t(){Ks.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(w){w?this.F=Xn(e,3):this.F=Jn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Dp)return;s="FieldObject"+t.FieldNum++}var w=function(k){return k};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Xl(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Ev:u},set:function(w){u=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Dp||this instanceof kl))return Vg(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof vr==0?Vg(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof vr==0?w.substr(0,1)==="("?ou(w.substr(1,w.length-2)):ou(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?ou(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof vr==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof vr==0?Vg(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof vr==0?w.substr(0,1)==="("?ou(w.substr(1,w.length-2)):ou(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?ou(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof vr==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(w){w=!!w,T=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(w){S=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(w){w?this.Ff=Xn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(w){w?this.Ff=Xn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(w){w?this.Ff=Xn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');R=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(R){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};_i(xs,Ks);var ju=function(){xs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mA(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Xn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Xn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Xn(this.Ff,20),e.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Xn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Xn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};_i(ju,xs);var Vu=function(){ju.call(this),this.fontName="helvetica",this.combo=!1};_i(Vu,ju);var Bu=function(){Vu.call(this),this.combo=!0};_i(Bu,Vu);var Vd=function(){Bu.call(this),this.edit=!0};_i(Vd,Bu);var vr=function(){xs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Xn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Xn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Xn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){on(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};_i(vr,xs);var Bd=function(){vr.call(this),this.pushButton=!0};_i(Bd,vr);var Uu=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_i(Uu,vr);var Dp=function(){var t,e;xs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Xl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){on(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_i(Dp,xs),Uu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Uu.prototype.createOption=function(t){var e=new Dp;return e.Parent=this,e.optionName=t,this.Kids.push(e),ED.call(this.scope,e),e};var Ud=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};_i(Ud,vr);var kl=function(){xs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Xn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Xn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Xn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Xn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_i(kl,xs);var zd=function(){kl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Xn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};_i(zd,kl);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=w1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+xt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=He.internal.getHeight(t),o=He.internal.getWidth(t),a=w1(t,t.caption);return i.push("1 g"),i.push("0 0 "+xt(o)+" "+xt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xt(o-1)+" "+xt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+xt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=He.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+pa(He.internal.getWidth(t)/2)+" "+pa(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5)),o=Number((r*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pa(He.internal.getWidth(t)/2)+" "+pa(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+pa(He.internal.getWidth(t)/2)+" "+pa(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pa(He.internal.getWidth(t)/2)+" "+pa(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+xt(He.internal.getWidth(t)-2)+" "+xt(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(xt(r.x1.x)+" "+xt(r.x1.y)+" m"),n.push(xt(r.x2.x)+" "+xt(r.x2.y)+" l"),n.push(xt(r.x4.x)+" "+xt(r.x4.y)+" m"),n.push(xt(r.x3.x)+" "+xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=He.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xt(He.internal.getWidth(t)-2)+" "+xt(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(xt(n.x1.x)+" "+xt(n.x1.y)+" m"),r.push(xt(n.x2.x)+" "+xt(n.x2.y)+" l"),r.push(xt(n.x4.x)+" "+xt(n.x4.y)+" m"),r.push(xt(n.x3.x)+" "+xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(He.internal.getWidth(t))+" "+xt(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),n=He.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},He.internal.getWidth=function(t){var e=0;return on(t)==="object"&&(e=Cw(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return on(t)==="object"&&(e=Cw(t.Rect[3])),e};var ED=Bn.addField=function(t){if(SD(this,t),!(t instanceof xs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=ju,Bn.AcroFormListBox=Vu,Bn.AcroFormComboBox=Bu,Bn.AcroFormEditBox=Vd,Bn.AcroFormButton=vr,Bn.AcroFormPushButton=Bd,Bn.AcroFormRadioButton=Uu,Bn.AcroFormCheckBox=Ud,Bn.AcroFormTextField=kl,Bn.AcroFormPasswordField=zd,Bn.AcroFormAppearance=He,Bn.AcroForm={ChoiceField:ju,ListBox:Vu,ComboBox:Bu,EditBox:Vd,Button:vr,PushButton:Bd,RadioButton:Uu,CheckBox:Ud,TextField:kl,PasswordField:zd,Appearance:He},Je.AcroForm={ChoiceField:ju,ListBox:Vu,ComboBox:Bu,EditBox:Vd,Button:vr,PushButton:Bd,RadioButton:Uu,CheckBox:Ud,TextField:kl,PasswordField:zd,Appearance:He};Je.AcroForm;function yA(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,P){var x,Q,ae,me,ge,Z=n;if((P=P||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(ne(E))for(ge in r)for(ae=r[ge],x=0;x<ae.length;x+=1){for(me=!0,Q=0;Q<ae[x].length;Q+=1)if(ae[x][Q]!==void 0&&ae[x][Q]!==E[Q]){me=!1;break}if(me===!0){Z=ge;break}}else for(ge in r)for(ae=r[ge],x=0;x<ae.length;x+=1){for(me=!0,Q=0;Q<ae[x].length;Q+=1)if(ae[x][Q]!==void 0&&ae[x][Q]!==E.charCodeAt(Q)){me=!1;break}if(me===!0){Z=ge;break}}return Z===n&&P!==n&&(Z=P),Z},s=function E(P){for(var x=this.internal.write,Q=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:P.width}),me.push({key:"Height",value:P.height}),P.colorSpace===w.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===w.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var ge="",Z=0,ue=P.transparency.length;Z<ue;Z++)ge+=P.transparency[Z]+" "+P.transparency[Z]+" ";me.push({key:"Mask",value:"["+ge+"]"})}P.sMask!==void 0&&me.push({key:"SMask",value:P.objectId+1+" 0 R"});var be=P.filter!==void 0?["/"+P.filter]:void 0;if(Q({data:P.data,additionalKeyValues:me,alreadyAppliedFilters:be,objectId:P.objectId}),x("endobj"),"sMask"in P&&P.sMask!==void 0){var we,M=(we=P.sMaskBitsPerComponent)!==null&&we!==void 0?we:P.bitsPerComponent,W={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:P.sMask};"filter"in P&&(W.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(P.width),W.filter=P.filter),E.call(this,W)}if(P.colorSpace===w.INDEXED){var X=this.internal.newObject();Q({data:A(new Uint8Array(P.palette)),objectId:X}),x("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var P in E)s.call(this,E[P])},a=function(){var E,P=this.internal.collections[e+"images"],x=this.internal.write;for(var Q in P)x("/I"+(E=P[Q]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(E){return typeof t["process"+E.toUpperCase()]=="function"},v=function(E){return on(E)==="object"&&E.nodeType===1},p=function(E,P){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var x=""+E.getAttribute("src");if(x.indexOf("data:image/")===0)return jd(unescape(x).split("base64,").pop());var Q=t.loadFile(x,!0);if(Q!==void 0)return Q}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ae;switch(P){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return jd(E.toDataURL(ae,1).split("base64,").pop())}},S=function(E){var P=this.internal.collections[e+"images"];if(P){for(var x in P)if(E===P[x].alias)return P[x]}},T=function(E,P,x){return E||P||(E=-96,P=-96),E<0&&(E=-1*x.width*72/E/this.internal.scaleFactor),P<0&&(P=-1*x.height*72/P/this.internal.scaleFactor),E===0&&(E=P*x.width/x.height),P===0&&(P=E*x.height/x.width),[E,P]},R=function(E,P,x,Q,ae,me){var ge=T.call(this,x,Q,ae),Z=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,be=u.call(this);if(x=ge[0],Q=ge[1],be[ae.index]=ae,me){me*=Math.PI/180;var we=Math.cos(me),M=Math.sin(me),W=function(te){return te.toFixed(4)},X=[W(we),W(M),W(-1*M),W(we),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,Z(E),ue(P+Q),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Z(x),"0","0",Z(Q),"0","0","cm"].join(" "))):this.internal.write([Z(x),"0","0",Z(Q),Z(E),ue(P+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(E){var P,x,Q=0;if(typeof E=="string")for(x=E.length,P=0;P<x;P++)Q=(Q<<5)-Q+E.charCodeAt(P),Q|=0;else if(ne(E))for(x=E.byteLength/2,P=0;P<x;P++)Q=(Q<<5)-Q+E[P],Q|=0;return Q},F=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var P=!0;return E.length===0&&(P=!1),E.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(P=!1),P},J=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var P=E.indexOf(",");return P<0?null:E.substring(0,P).trim().endsWith("base64")?E.substring(P+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var ne=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(E){for(var P=E.length,x=new Uint8Array(P),Q=0;Q<P;Q++)x[Q]=E.charCodeAt(Q);return x},A=t.__addimage__.arrayBufferToBinaryString=function(E){for(var P="",x=ne(E)?E:new Uint8Array(E),Q=0;Q<x.length;Q+=8192)P+=String.fromCharCode.apply(null,x.subarray(Q,Q+8192));return P};t.addImage=function(){var E,P,x,Q,ae,me,ge,Z,ue;if(typeof arguments[1]=="number"?(P=n,x=arguments[1],Q=arguments[2],ae=arguments[3],me=arguments[4],ge=arguments[5],Z=arguments[6],ue=arguments[7]):(P=arguments[1],x=arguments[2],Q=arguments[3],ae=arguments[4],me=arguments[5],ge=arguments[6],Z=arguments[7],ue=arguments[8]),on(E=arguments[0])==="object"&&!v(E)&&"imageData"in E){var be=E;E=be.imageData,P=be.format||P||n,x=be.x||x||0,Q=be.y||Q||0,ae=be.w||be.width||ae,me=be.h||be.height||me,ge=be.alias||ge,Z=be.compression||Z,ue=be.rotation||be.angle||ue}var we=this.internal.getFilters();if(Z===void 0&&we.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(x)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=I.call(this,E,P,ge,Z);return R.call(this,x,Q,ae,me,M,ue),this};var I=function(E,P,x,Q){var ae,me,ge;if(typeof E=="string"&&i(E)===n){E=unescape(E);var Z=L(E,!1);(Z!==""||(Z=t.loadFile(E,!0))!==void 0)&&(E=Z)}if(v(E)&&(E=p(E,P)),P=i(E,P),!m(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ge=x)==null||ge.length===0)&&(x=function(ue){return typeof ue=="string"||ne(ue)?C(ue):ne(ue.data)?C(ue.data):null}(E)),(ae=S.call(this,x))||(E instanceof Uint8Array||P==="RGBA"||(me=E,E=V(E)),ae=this["process"+P.toUpperCase()](E,f.call(this),x,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:k.NONE}(Q),me)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},L=t.__addimage__.convertBase64ToBinaryString=function(E,P){P=typeof P!="boolean"||P;var x,Q="";if(typeof E=="string"){var ae;x=(ae=J(E))!==null&&ae!==void 0?ae:E;try{Q=jd(x)}catch(me){if(P)throw F(x)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};t.getImageProperties=function(E){var P,x,Q="";if(v(E)&&(E=p(E)),typeof E=="string"&&i(E)===n&&((Q=L(E,!1))===""&&(Q=t.loadFile(E)||""),E=Q),x=i(E),!m(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(E instanceof Uint8Array||(E=V(E)),!(P=this["process"+x.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=x,P}})(Je.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Je.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(T.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(k))+") >>",T.content=s;var C=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(T.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ne=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(u*f)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Je.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},a=t.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(T){var R=0,w=n,k="",C=0;for(R=0;R<T.length;R+=1)w[T.charCodeAt(R)]!==void 0?(C++,typeof(w=w[T.charCodeAt(R)])=="number"&&(k+=String.fromCharCode(w),w=n,C=0),R===T.length-1&&(w=n,k+=T.charAt(R-(C-1)),R-=C-1,C=0)):(w=n,k+=T.charAt(R-C),R-=C,C=0);return k};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(T,R,w){return o(T)?s(T)===!1?-1:!u(T)||!o(R)&&!o(w)||!o(w)&&a(R)||a(T)&&!o(R)||a(T)&&l(R)||a(T)&&a(R)?0:f(T)&&o(R)&&!a(R)&&o(w)&&u(w)?3:a(T)||!o(w)?1:2:-1},p=function(T){var R=0,w=0,k=0,C="",F="",J="",ne=(T=T||"").split("\\s+"),V=[];for(R=0;R<ne.length;R+=1){for(V.push(""),w=0;w<ne[R].length;w+=1)C=ne[R][w],F=ne[R][w-1],J=ne[R][w+1],o(C)?(k=v(C,F,J),V[R]+=k!==-1?String.fromCharCode(e[C.charCodeAt(0)][k]):C):V[R]+=C;V[R]=m(V[R])}return V.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var T,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(R)){var k=0;for(w=[],k=0;k<R.length;k+=1)Array.isArray(R[k])?w.push([p(R[k][0]),R[k][1],R[k][2]]):w.push([p(R[k])]);T=w}else T=p(R);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",S])}(Je.API),Je.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Je.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(T){l=T}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(T){u=T}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(T){m=T}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(T){v=T}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(T){S=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,S=0,T=0,R=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,F){return C.concat(R.splitTextToSize(F,w))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)p<(T=this.getStringUnitWidth(l[k],{font:m})*f)&&(p=T);return p!==0&&(S=l.length),{w:p/=v,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,m,v){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,S,T,R,w=[],k=[],C=[],F={},J={},ne=[],V=[],A=(v=v||{}).autoSize||!1,I=v.printHeaders!==!1,L=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,E=v.margins||Object.assign({width:this.getPageWidth()},e),P=typeof v.padding=="number"?v.padding:3,x=v.headerBackgroundColor||"#c8c8c8",Q=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=Q,this.setFontSize(L),m==null)k=w=Object.keys(f[0]),C=w.map(function(){return"left"});else if(Array.isArray(m)&&on(m[0])==="object")for(w=m.map(function(be){return be.name}),k=m.map(function(be){return be.prompt||be.name||""}),C=m.map(function(be){return be.align||"left"}),p=0;p<m.length;p+=1)J[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(k=w=m,C=w.map(function(){return"left"}));if(A||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(F[R=w[p]]=f.map(function(be){return be[R]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=F[R],this.setFont(void 0,"normal"),T=0;T<S.length;T+=1)ne.push(this.getTextDimensions(S[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[R]=Math.max.apply(null,ne)+P+P,ne=[]}if(I){var ae={};for(p=0;p<w.length;p+=1)ae[w[p]]={},ae[w[p]].text=k[p],ae[w[p]].align=C[p];var me=a.call(this,ae,J);V=w.map(function(be){return new s(l,u,J[be],me,ae[be].text,void 0,ae[be].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ge=m.reduce(function(be,we){return be[we.name]=we.align,be},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var Z=a.call(this,f[p],J);for(T=0;T<w.length;T+=1){var ue=f[p][w[T]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:T,data:ue},this),o.call(this,new s(l,u,J[w[T]],Z,ue,p+2,ge[w[T]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var S=l[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+f+f},this).reduce(function(p,S){return Math.max(p,S)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(Je.API);var _A={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b1=yA(wA),bA=[100,200,300,400,500,600,700,800,900],AD=yA(bA);function Bg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return _A[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof b1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Lw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var xD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Dw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Ow(t){return t.trimLeft()}function ID(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function TD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var pd,Fw,Mw,au,md,jw,Vw,Bw,Ug=["times"];function Uw(t,e,n,r,i){var s=4,o=qw;switch(i){case Je.API.image_compression.FAST:s=1,o=zw;break;case Je.API.image_compression.MEDIUM:s=6,o=Hw;break;case Je.API.image_compression.SLOW:s=9,o=Ww}t=function(l,u,f,m){for(var v,p=l.length/u,S=new Uint8Array(l.length+p),T=[ND,zw,qw,Hw,Ww],R=0;R<p;R+=1){var w=R*u,k=l.subarray(w,w+u);if(m)S.set(m(k,f,v),w+R);else{for(var C=T.length,F=[],J=0;J<C;J+=1)F[J]=T[J](k,f,v);var ne=PD(F.concat());S.set(F[ne],w+R)}v=k}return S}(t,e,Math.ceil(n*r/8),o);var a=p1(t,{level:s});return Je.API.__addimage__.arrayBufferToBinaryString(a)}function ND(t){var e=Array.apply([],t);return e.unshift(0),e}function zw(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function qw(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function Hw(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function Ww(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=kD(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function kD(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function PD(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function zg(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return SA(t,i)>>s&o}function $w(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var v=m>>8&255;u.setUint8(f,v)}})(t,s,SA(t,s)&~(a<<o)&65535|l)}function SA(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function CD(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,f=[],m=0,v=null,p=0,S=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],1&T||(v=null),p=T>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,F=t[e++],J=F>>6&1,ne=1<<1+(7&F),V=a,A=l,I=!1;F>>7&&(I=!0,V=e,A=ne,e+=3*ne);var L=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}f.push({x:R,y:w,width:k,height:C,has_local_palette:I,palette_offset:V,palette_size:A,data_offset:L,data_length:e-L,transparent_index:v,interlaced:!!J,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(P){if(P<0||P>=f.length)throw new Error("Frame index out of range.");return f[P]},this.decodeAndBlitFrameBGRA=function(P,x){var Q=this.frameInfo(P),ae=Q.width*Q.height,me=new Uint8Array(ae);Gw(t,Q.data_offset,me,ae);var ge=Q.palette_offset,Z=Q.transparent_index;Z===null&&(Z=256);var ue=Q.width,be=n-ue,we=ue,M=4*(Q.y*n+Q.x),W=4*((Q.y+Q.height)*n+Q.x),X=M,te=4*be;Q.interlaced===!0&&(te+=4*n*7);for(var se=8,he=0,ye=me.length;he<ye;++he){var ve=me[he];if(we===0&&(we=ue,(X+=te)>=W&&(te=4*be+4*n*(se-1),X=M+(ue+be)*(se<<1),se>>=1)),ve===Z)X+=4;else{var xe=t[ge+3*ve],Pe=t[ge+3*ve+1],Me=t[ge+3*ve+2];x[X++]=Me,x[X++]=Pe,x[X++]=xe,x[X++]=255}--we}},this.decodeAndBlitFrameRGBA=function(P,x){var Q=this.frameInfo(P),ae=Q.width*Q.height,me=new Uint8Array(ae);Gw(t,Q.data_offset,me,ae);var ge=Q.palette_offset,Z=Q.transparent_index;Z===null&&(Z=256);var ue=Q.width,be=n-ue,we=ue,M=4*(Q.y*n+Q.x),W=4*((Q.y+Q.height)*n+Q.x),X=M,te=4*be;Q.interlaced===!0&&(te+=4*n*7);for(var se=8,he=0,ye=me.length;he<ye;++he){var ve=me[he];if(we===0&&(we=ue,(X+=te)>=W&&(te=4*be+4*n*(se-1),X=M+(ue+be)*(se<<1),se>>=1)),ve===Z)X+=4;else{var xe=t[ge+3*ve],Pe=t[ge+3*ve+1],Me=t[ge+3*ve+2];x[X++]=xe,x[X++]=Pe,x[X++]=Me,x[X++]=255}--we}}}function Gw(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,f=0,m=0,v=0,p=t[e++],S=new Int32Array(4096),T=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var R=m&u;if(m>>=l,f-=l,R!==s){if(R===o)break;for(var w=R<a?R:T,k=0,C=w;C>s;)C=S[C]>>8,++k;var F=C;if(v+k+(w!==R?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[v++]=F;var J=v+=k;for(w!==R&&(n[v++]=F),C=w;k--;)C=S[C],n[--J]=255&C,C>>=8;T!==null&&a<4096&&(S[a++]=T<<8|F,a>=u+1&&l<12&&(++l,u=u<<1|1)),T=R}else a=o+1,u=(1<<(l=i+1))-1,T=null}return v!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function qg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),S=new Array(64),T=[],R=0,w=7,k=new Array(64),C=new Array(64),F=new Array(64),J=new Array(256),ne=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(M,W){for(var X=0,te=0,se=new Array,he=1;he<=16;he++){for(var ye=1;ye<=M[he];ye++)se[W[te]]=[],se[W[te]][0]=X,se[W[te]][1]=he,te++,X++;X*=2}return se}function ge(M){for(var W=M[0],X=M[1]-1;X>=0;)W&1<<X&&(R|=1<<w),X--,--w<0&&(R==255?(Z(255),Z(0)):Z(R),w=7,R=0)}function Z(M){T.push(M)}function ue(M){Z(M>>8&255),Z(255&M)}function be(M,W,X,te,se){for(var he,ye=se[0],ve=se[240],xe=function(Re,Ye){var je,Et,Ze,Mt,yt,Xe,At,pt,et,lt,nt=0;for(et=0;et<8;++et){je=Re[nt],Et=Re[nt+1],Ze=Re[nt+2],Mt=Re[nt+3],yt=Re[nt+4],Xe=Re[nt+5],At=Re[nt+6];var Kt=je+(pt=Re[nt+7]),Ut=je-pt,Ge=Et+At,mt=Et-At,Zt=Ze+Xe,ot=Ze-Xe,Pt=Mt+yt,_t=Mt-yt,En=Kt+Pt,vn=Kt-Pt,Yt=Ge+Zt,ct=Ge-Zt;Re[nt]=En+Yt,Re[nt+4]=En-Yt;var Lt=.707106781*(ct+vn);Re[nt+2]=vn+Lt,Re[nt+6]=vn-Lt;var Ts=.382683433*((En=_t+ot)-(ct=mt+Ut)),zn=.5411961*En+Ts,Hi=1.306562965*ct+Ts,Lr=.707106781*(Yt=ot+mt),st=Ut+Lr,yn=Ut-Lr;Re[nt+5]=yn+zn,Re[nt+3]=yn-zn,Re[nt+1]=st+Hi,Re[nt+7]=st-Hi,nt+=8}for(nt=0,et=0;et<8;++et){je=Re[nt],Et=Re[nt+8],Ze=Re[nt+16],Mt=Re[nt+24],yt=Re[nt+32],Xe=Re[nt+40],At=Re[nt+48];var Wi=je+(pt=Re[nt+56]),hr=je-pt,fr=Et+At,An=Et-At,er=Ze+Xe,xn=Ze-Xe,no=Mt+yt,Ns=Mt-yt,Rr=Wi+no,wi=Wi-no,Qr=fr+er,Dr=fr-er;Re[nt]=Rr+Qr,Re[nt+32]=Rr-Qr;var qn=.707106781*(Dr+wi);Re[nt+16]=wi+qn,Re[nt+48]=wi-qn;var ks=.382683433*((Rr=Ns+xn)-(Dr=An+hr)),bi=.5411961*Rr+ks,ss=1.306562965*Dr+ks,Ps=.707106781*(Qr=xn+An),ro=hr+Ps,io=hr-Ps;Re[nt+40]=io+bi,Re[nt+24]=io-bi,Re[nt+8]=ro+ss,Re[nt+56]=ro-ss,nt++}for(et=0;et<64;++et)lt=Re[et]*Ye[et],p[et]=lt>0?lt+.5|0:lt-.5|0;return p}(M,W),Pe=0;Pe<64;++Pe)S[V[Pe]]=xe[Pe];var Me=S[0]-X;X=S[0],Me==0?ge(te[0]):(ge(te[v[he=32767+Me]]),ge(m[he]));for(var Ve=63;Ve>0&&S[Ve]==0;)Ve--;if(Ve==0)return ge(ye),X;for(var _e,Y=1;Y<=Ve;){for(var kt=Y;S[Y]==0&&Y<=Ve;)++Y;var St=Y-kt;if(St>=16){_e=St>>4;for(var it=1;it<=_e;++it)ge(ve);St&=15}he=32767+S[Y],ge(se[(St<<4)+v[he]]),ge(m[he]),Y++}return Ve!=63&&ge(ye),X}function we(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(W){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var se=o((X[te]*W+50)/100);se=Math.min(Math.max(se,1),255),a[V[te]]=se}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ve=o((he[ye]*W+50)/100);ve=Math.min(Math.max(ve,1),255),l[V[ye]]=ve}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var Ve=0;Ve<8;Ve++)u[Pe]=1/(a[V[Pe]]*xe[Me]*xe[Ve]*8),f[Pe]=1/(l[V[Pe]]*xe[Me]*xe[Ve]*8),Pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,W){W&&we(W),T=new Array,R=0,w=7,ue(65496),ue(65504),ue(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ue(1),ue(1),Z(0),Z(0),function(){ue(65499),ue(132),Z(0);for(var Et=0;Et<64;Et++)Z(a[Et]);Z(1);for(var Ze=0;Ze<64;Ze++)Z(l[Ze])}(),function(Et,Ze){ue(65472),ue(17),Z(8),ue(Ze),ue(Et),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(M.width,M.height),function(){ue(65476),ue(418),Z(0);for(var Et=0;Et<16;Et++)Z(A[Et+1]);for(var Ze=0;Ze<=11;Ze++)Z(I[Ze]);Z(16);for(var Mt=0;Mt<16;Mt++)Z(L[Mt+1]);for(var yt=0;yt<=161;yt++)Z(E[yt]);Z(1);for(var Xe=0;Xe<16;Xe++)Z(P[Xe+1]);for(var At=0;At<=11;At++)Z(x[At]);Z(17);for(var pt=0;pt<16;pt++)Z(Q[pt+1]);for(var et=0;et<=161;et++)Z(ae[et])}(),ue(65498),ue(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var X=0,te=0,se=0;R=0,w=7,this.encode.displayName="_encode_";for(var he,ye,ve,xe,Pe,Me,Ve,_e,Y,kt=M.data,St=M.width,it=M.height,Re=4*St,Ye=0;Ye<it;){for(he=0;he<Re;){for(Pe=Re*Ye+he,Ve=-1,_e=0,Y=0;Y<64;Y++)Me=Pe+(_e=Y>>3)*Re+(Ve=4*(7&Y)),Ye+_e>=it&&(Me-=Re*(Ye+1+_e-it)),he+Ve>=Re&&(Me-=he+Ve-Re+4),ye=kt[Me++],ve=kt[Me++],xe=kt[Me++],k[Y]=(ne[ye]+ne[ve+256|0]+ne[xe+512|0]>>16)-128,C[Y]=(ne[ye+768|0]+ne[ve+1024|0]+ne[xe+1280|0]>>16)-128,F[Y]=(ne[ye+1280|0]+ne[ve+1536|0]+ne[xe+1792|0]>>16)-128;X=be(k,u,X,e,r),te=be(C,f,te,n,i),se=be(F,f,se,n,i),he+=32}Ye+=8}if(w>=0){var je=[];je[1]=w+1,je[0]=(1<<w+1)-1,ge(je)}return ue(65497),new Uint8Array(T)},t=t||50,function(){for(var M=String.fromCharCode,W=0;W<256;W++)J[W]=M(W)}(),e=me(A,I),n=me(P,x),r=me(L,E),i=me(Q,ae),function(){for(var M=1,W=2,X=1;X<=15;X++){for(var te=M;te<W;te++)v[32767+te]=X,m[32767+te]=[],m[32767+te][1]=X,m[32767+te][0]=te;for(var se=-(W-1);se<=-M;se++)v[32767+se]=X,m[32767+se]=[],m[32767+se][1]=X,m[32767+se][0]=W-1+se;M<<=1,W<<=1}}(),function(){for(var M=0;M<256;M++)ne[M]=19595*M,ne[M+256|0]=38470*M,ne[M+512|0]=7471*M+32768,ne[M+768|0]=-11059*M,ne[M+1024|0]=-21709*M,ne[M+1280|0]=32768*M+8421375,ne[M+1536|0]=-27439*M,ne[M+1792|0]=-5329*M}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ms(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kw(t){function e(I){if(!I)throw Error("assert :P")}function n(I,L,E){for(var P=0;4>P;P++)if(I[L+P]!=E.charCodeAt(P))return!0;return!1}function r(I,L,E,P,x){for(var Q=0;Q<x;Q++)I[L+Q]=E[P+Q]}function i(I,L,E,P){for(var x=0;x<P;x++)I[L+x]=E}function s(I){return new Int32Array(I)}function o(I,L){for(var E=[],P=0;P<I;P++)E.push(new L);return E}function a(I,L){var E=[];return function P(x,Q,ae){for(var me=ae[Q],ge=0;ge<me&&(x.push(ae.length>Q+1?[]:new L),!(ae.length<Q+1));ge++)P(x[ge],Q+1,ae)}(E,0,I),E}var l=function(){var I=this;function L(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function E(c,d,y,b,O){e(!(b%y));do c[d+(b-=y)]=O;while(0<b)}function P(c,d,y,b,O){if(e(2328>=O),512>=O)var j=s(512);else if((j=s(O))==null)return 0;return function(B,U,q,G,re,de){var K,ie,ce=U,Se=1<<q,fe=s(16),Ae=s(16);for(e(re!=0),e(G!=null),e(B!=null),e(0<q),ie=0;ie<re;++ie){if(15<G[ie])return 0;++fe[G[ie]]}if(fe[0]==re)return 0;for(Ae[1]=0,K=1;15>K;++K){if(fe[K]>1<<K)return 0;Ae[K+1]=Ae[K]+fe[K]}for(ie=0;ie<re;++ie)K=G[ie],0<G[ie]&&(de[Ae[K]++]=ie);if(Ae[15]==1)return(G=new x).g=0,G.value=de[0],E(B,ce,1,Se,G),Se;var Ie,Le=-1,ke=Se-1,tt=0,qe=1,Tt=1,Ke=1<<q;for(ie=0,K=1,re=2;K<=q;++K,re<<=1){if(qe+=Tt<<=1,0>(Tt-=fe[K]))return 0;for(;0<fe[K];--fe[K])(G=new x).g=K,G.value=de[ie++],E(B,ce+tt,re,Ke,G),tt=L(tt,K)}for(K=q+1,re=2;15>=K;++K,re<<=1){if(qe+=Tt<<=1,0>(Tt-=fe[K]))return 0;for(;0<fe[K];--fe[K]){if(G=new x,(tt&ke)!=Le){for(ce+=Ke,Ie=1<<(Le=K)-q;15>Le&&!(0>=(Ie-=fe[Le]));)++Le,Ie<<=1;Se+=Ke=1<<(Ie=Le-q),B[U+(Le=tt&ke)].g=Ie+q,B[U+Le].value=ce-U-Le}G.g=K-q,G.value=de[ie++],E(B,ce+(tt>>q),re,Ke,G),tt=L(tt,K)}}return qe!=2*Ae[15]-1?0:Se}(c,d,y,b,O,j)}function x(){this.value=this.g=0}function Q(){this.value=this.g=0}function ae(){this.G=o(5,x),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(dl,Q)}function me(c,d,y,b){e(c!=null),e(d!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,ye(c)}function ge(c,d){for(var y=0;0<d--;)y|=xe(c,128)<<d;return y}function Z(c,d){var y=ge(c,d);return ve(c)?-y:y}function ue(c,d,y,b){var O,j=0;for(e(c!=null),e(d!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),O=0;O<b;++O)j+=d[y+O]<<8*O;c.Ra=j,c.bb=b,c.oa=d,c.pa=y}function be(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Zo-8>>>0,++c.bb,c.u-=8;te(c)&&(c.h=1,c.u=0)}function we(c,d){if(e(0<=d),!c.h&&d<=Ti){var y=X(c)&Ii[d];return c.u+=d,be(c),y}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(c){return c.Ra>>>(c.u&Zo-1)>>>0}function te(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Zo}function se(c,d){c.u=d,c.h=te(c)}function he(c){c.u>=ho&&(e(c.u>=ho),be(c))}function ye(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ve(c){return ge(c,1)}function xe(c,d){var y=c.Ca;0>c.b&&ye(c);var b=c.b,O=y*d>>>8,j=(c.I>>>b>O)+0;for(j?(y-=O,c.I-=O+1<<b>>>0):y=O+1,b=y,O=0;256<=b;)O+=8,b>>=8;return b=7^O+ea[b],c.b-=b,c.Ca=(y<<b)-1,j}function Pe(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Me(c,d){return c[d+0]|c[d+1]<<8}function Ve(c,d){return Me(c,d)|c[d+2]<<16}function _e(c,d){return Me(c,d)|Me(c,d+2)<<16}function Y(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function kt(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function it(c,d,y,b){e(y!=null),e(b!=null);var O=y[0],j=b[0];return O==0&&(O=(c*j+d/2)/d),j==0&&(j=(d*O+c/2)/c),0>=O||0>=j?0:(y[0]=O,b[0]=j,1)}function Re(c,d){return c+(1<<d)-1>>>d}function Ye(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function je(c,d){I[d]=function(y,b,O,j,B,U,q){var G;for(G=0;G<B;++G){var re=I[c](U[q+G-1],O,j+G);U[q+G]=Ye(y[b+G],re)}}}function Et(){this.ud=this.hd=this.jd=0}function Ze(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Mt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function yt(c,d){return Mt(c+(c-d+.5>>1))}function Xe(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function At(c,d,y,b,O,j,B){for(b=j[B-1],y=0;y<O;++y)j[B+y]=b=Ye(c[d+y],b)}function pt(c,d,y,b,O){var j;for(j=0;j<y;++j){var B=c[d+j],U=B>>8&255,q=16711935&(q=(q=16711935&B)+((U<<16)+U));b[O+j]=(4278255360&B)+q>>>0}}function et(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function lt(c,d,y,b,O,j){var B;for(B=0;B<b;++B){var U=d[y+B],q=U>>>8,G=U,re=255&(re=(re=U>>>16)+((c.jd<<24>>24)*(q<<24>>24)>>>5));G=255&(G=(G+=(c.hd<<24>>24)*(q<<24>>24)>>>5)+((c.ud<<24>>24)*(re<<24>>24)>>>5)),O[j+B]=(4278255360&U)+(re<<16)+G}}function nt(c,d,y,b,O){I[d]=function(j,B,U,q,G,re,de,K,ie){for(q=de;q<K;++q)for(de=0;de<ie;++de)G[re++]=O(U[b(j[B++])])},I[c]=function(j,B,U,q,G,re,de){var K=8>>j.b,ie=j.Ea,ce=j.K[0],Se=j.w;if(8>K)for(j=(1<<j.b)-1,Se=(1<<K)-1;B<U;++B){var fe,Ae=0;for(fe=0;fe<ie;++fe)fe&j||(Ae=b(q[G++])),re[de++]=O(ce[Ae&Se]),Ae>>=K}else I["VP8LMapColor"+y](q,G,ce,Se,re,de,B,U,ie)}}function Kt(c,d,y,b,O){for(y=d+y;d<y;){var j=c[d++];b[O++]=j>>16&255,b[O++]=j>>8&255,b[O++]=255&j}}function Ut(c,d,y,b,O){for(y=d+y;d<y;){var j=c[d++];b[O++]=j>>16&255,b[O++]=j>>8&255,b[O++]=255&j,b[O++]=j>>24&255}}function Ge(c,d,y,b,O){for(y=d+y;d<y;){var j=(B=c[d++])>>16&240|B>>12&15,B=240&B|B>>28&15;b[O++]=j,b[O++]=B}}function mt(c,d,y,b,O){for(y=d+y;d<y;){var j=(B=c[d++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;b[O++]=j,b[O++]=B}}function Zt(c,d,y,b,O){for(y=d+y;d<y;){var j=c[d++];b[O++]=255&j,b[O++]=j>>8&255,b[O++]=j>>16&255}}function ot(c,d,y,b,O,j){if(j==0)for(y=d+y;d<y;)Pe(b,((j=c[d++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),O+=32;else r(b,O,c,d,y)}function Pt(c,d){I[d][0]=I[c+"0"],I[d][1]=I[c+"1"],I[d][2]=I[c+"2"],I[d][3]=I[c+"3"],I[d][4]=I[c+"4"],I[d][5]=I[c+"5"],I[d][6]=I[c+"6"],I[d][7]=I[c+"7"],I[d][8]=I[c+"8"],I[d][9]=I[c+"9"],I[d][10]=I[c+"10"],I[d][11]=I[c+"11"],I[d][12]=I[c+"12"],I[d][13]=I[c+"13"],I[d][14]=I[c+"0"],I[d][15]=I[c+"0"]}function _t(c){return c==Am||c==xm||c==Tf||c==Im}function En(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new vn,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ts(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function zn(c,d){var y=c.T,b=d.ba.f.RGBA,O=b.eb,j=b.fb+c.ka*b.A,B=Xi[d.ba.S],U=c.y,q=c.O,G=c.f,re=c.N,de=c.ea,K=c.W,ie=d.cc,ce=d.dc,Se=d.Mc,fe=d.Nc,Ae=c.ka,Ie=c.ka+c.T,Le=c.U,ke=Le+1>>1;for(Ae==0?B(U,q,null,null,G,re,de,K,G,re,de,K,O,j,null,null,Le):(B(d.ec,d.fc,U,q,ie,ce,Se,fe,G,re,de,K,O,j-b.A,O,j,Le),++y);Ae+2<Ie;Ae+=2)ie=G,ce=re,Se=de,fe=K,re+=c.Rc,K+=c.Rc,j+=2*b.A,B(U,(q+=2*c.fa)-c.fa,U,q,ie,ce,Se,fe,G,re,de,K,O,j-b.A,O,j,Le);return q+=c.fa,c.j+Ie<c.o?(r(d.ec,d.fc,U,q,Le),r(d.cc,d.dc,G,re,ke),r(d.Mc,d.Nc,de,K,ke),y--):1&Ie||B(U,q,null,null,G,re,de,K,G,re,de,K,O,j+b.A,null,null,Le),y}function Hi(c,d,y){var b=c.F,O=[c.J];if(b!=null){var j=c.U,B=d.ba.S,U=B==If||B==Tf;d=d.ba.f.RGBA;var q=[0],G=c.ka;q[0]=c.T,c.Kb&&(G==0?--q[0]:(--G,O[0]-=c.width),c.j+c.ka+c.T==c.o&&(q[0]=c.o-c.j-G));var re=d.eb;G=d.fb+G*d.A,c=Cv(b,O[0],c.width,j,q,re,G+(U?0:3),d.A),e(y==q),c&&_t(B)&&Cc(re,G,U,j,q,d.A)}return 0}function Lr(c){var d=c.ma,y=d.ba.S,b=11>y,O=y==Af||y==xf||y==If||y==Em||y==12||_t(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ec(d.Oa,c,O?11:12))return 0;if(O&&_t(y)&&fl(),c.da)alert("todo:use_scaling");else{if(b){if(d.Ib=Ts,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=zn,fl()}}else alert("todo:EmitYUV");O&&(d.Jb=Hi,b&&dn())}if(b&&!Gv){for(c=0;256>c;++c)sx[c]=89858*(c-128)+kf>>Nf,lx[c]=-22014*(c-128)+kf,ax[c]=-45773*(c-128),ox[c]=113618*(c-128)+kf>>Nf;for(c=Rc;c<km;++c)d=76283*(c-16)+kf>>Nf,ux[c-Rc]=Ct(d,255),cx[c-Rc]=Ct(d+8>>4,15);Gv=1}return 1}function st(c){var d=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function yn(c){c.ma.memory=null}function Wi(c,d,y,b){return we(c,8)!=47?0:(d[0]=we(c,14)+1,y[0]=we(c,14)+1,b[0]=we(c,1),we(c,3)!=0?0:!c.h)}function hr(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+we(d,y)+1}function fr(c,d){return 120<d?d-120:1<=(y=((y=WA[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function An(c,d,y){var b=X(y),O=c[d+=255&b].g-8;return 0<O&&(se(y,y.u+8),b=X(y),d+=c[d].value,d+=b&(1<<O)-1),se(y,y.u+c[d].g),c[d].value}function er(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function xn(c,d,y){var b=c.xc;return e((d=b==0?0:c.vc[c.md*(y>>b)+(d>>b)])<c.Wb),c.Ya[d]}function no(c,d,y,b){var O=c.ab,j=c.c*d,B=c.C;d=B+d;var U=y,q=b;for(b=c.Ta,y=c.Ua;0<O--;){var G=c.gc[O],re=B,de=d,K=U,ie=q,ce=(q=b,U=y,G.Ea);switch(e(re<de),e(de<=G.nc),G.hc){case 2:Hn(K,ie,(de-re)*ce,q,U);break;case 0:var Se=re,fe=de,Ae=q,Ie=U,Le=(Ke=G).Ea;Se==0&&(xc(K,ie,null,null,1,Ae,Ie),At(K,ie+1,0,0,Le-1,Ae,Ie+1),ie+=Le,Ie+=Le,++Se);for(var ke=1<<Ke.b,tt=ke-1,qe=Re(Le,Ke.b),Tt=Ke.K,Ke=Ke.w+(Se>>Ke.b)*qe;Se<fe;){var Vt=Tt,sr=Ke,Nt=1;for(tu(K,ie,Ae,Ie-Le,1,Ae,Ie);Nt<Le;){var Qe=(Nt&~tt)+ke;Qe>Le&&(Qe=Le),(0,Tc[Vt[sr++]>>8&15])(K,ie+ +Nt,Ae,Ie+Nt-Le,Qe-Nt,Ae,Ie+Nt),Nt=Qe}ie+=Le,Ie+=Le,++Se&tt||(Ke+=qe)}de!=G.nc&&r(q,U-ce,q,U+(de-re-1)*ce,ce);break;case 1:for(ce=K,fe=ie,Le=(K=G.Ea)-(Ie=K&~(Ae=(ie=1<<G.b)-1)),Se=Re(K,G.b),ke=G.K,G=G.w+(re>>G.b)*Se;re<de;){for(tt=ke,qe=G,Tt=new Et,Ke=fe+Ie,Vt=fe+K;fe<Ke;)et(tt[qe++],Tt),Nc(Tt,ce,fe,ie,q,U),fe+=ie,U+=ie;fe<Vt&&(et(tt[qe++],Tt),Nc(Tt,ce,fe,Le,q,U),fe+=Le,U+=Le),++re&Ae||(G+=Se)}break;case 3:if(K==q&&ie==U&&0<G.b){for(fe=q,K=ce=U+(de-re)*ce-(Ie=(de-re)*Re(G.Ea,G.b)),ie=q,Ae=U,Se=[],Ie=(Le=Ie)-1;0<=Ie;--Ie)Se[Ie]=ie[Ae+Ie];for(Ie=Le-1;0<=Ie;--Ie)fe[K+Ie]=Se[Ie];wf(G,re,de,q,ce,q,U)}else wf(G,re,de,K,ie,q,U)}U=b,q=y}q!=y&&r(b,y,U,q,j)}function Ns(c,d){var y=c.V,b=c.Ba+c.c*c.C,O=d-c.C;if(e(d<=c.l.o),e(16>=O),0<O){var j=c.l,B=c.Ta,U=c.Ua,q=j.width;if(no(c,O,y,b),O=U=[U],e((y=c.C)<(b=d)),e(j.v<j.va),b>j.o&&(b=j.o),y<j.j){var G=j.j-y;y=j.j,O[0]+=G*q}if(y>=b?y=0:(O[0]+=4*j.v,j.ka=y-j.j,j.U=j.va-j.v,j.T=b-y,y=1),y){if(U=U[0],11>(y=c.ca).S){var re=y.f.RGBA,de=(b=y.S,O=j.U,j=j.T,G=re.eb,re.A),K=j;for(re=re.fb+c.Ma*re.A;0<K--;){var ie=B,ce=U,Se=O,fe=G,Ae=re;switch(b){case Ef:kc(ie,ce,Se,fe,Ae);break;case Af:ta(ie,ce,Se,fe,Ae);break;case Am:ta(ie,ce,Se,fe,Ae),Cc(fe,Ae,0,Se,1,0);break;case jv:pl(ie,ce,Se,fe,Ae);break;case xf:ot(ie,ce,Se,fe,Ae,1);break;case xm:ot(ie,ce,Se,fe,Ae,1),Cc(fe,Ae,0,Se,1,0);break;case If:ot(ie,ce,Se,fe,Ae,0);break;case Tf:ot(ie,ce,Se,fe,Ae,0),Cc(fe,Ae,1,Se,1,0);break;case Em:na(ie,ce,Se,fe,Ae);break;case Im:na(ie,ce,Se,fe,Ae),Pv(fe,Ae,Se,1,0);break;case Vv:ra(ie,ce,Se,fe,Ae);break;default:e(0)}U+=q,re+=de}c.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function Rr(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,b=c.Ya[d].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function wi(c,d,y,b,O,j){if(c.Z!=0){var B=c.qd,U=c.rd;for(e(oa[c.Z]!=null);d<y;++d)oa[c.Z](B,U,b,O,b,O,j),B=b,U=O,O+=j;c.qd=B,c.rd=U}}function Qr(c,d){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(d<=c.l.o),d>b){var O=c.l.width,j=y.ca,B=y.tb+O*b,U=c.V,q=c.Ba+c.c*b,G=c.gc;e(c.ab==1),e(G[0].hc==3),Us(G[0],b,d,U,q,j,B),wi(y,b,d,j,B,O)}c.C=c.Ma=d}function Dr(c,d,y,b,O,j,B){var U=c.$/b,q=c.$%b,G=c.m,re=c.s,de=y+c.$,K=de;O=y+b*O;var ie=y+b*j,ce=280+re.ua,Se=c.Pb?U:16777216,fe=0<re.ua?re.Wa:null,Ae=re.wc,Ie=de<ie?xn(re,q,U):null;e(c.C<j),e(ie<=O);var Le=!1;e:for(;;){for(;Le||de<ie;){var ke=0;if(U>=Se){var tt=de-y;e((Se=c).Pb),Se.wd=Se.m,Se.xd=tt,0<Se.s.ua&&kt(Se.s.Wa,Se.s.vb),Se=U+GA}if(q&Ae||(Ie=xn(re,q,U)),e(Ie!=null),Ie.Qb&&(d[de]=Ie.qb,Le=!0),!Le)if(he(G),Ie.jc){ke=G,tt=d;var qe=de,Tt=Ie.pd[X(ke)&dl-1];e(Ie.jc),256>Tt.g?(se(ke,ke.u+Tt.g),tt[qe]=Tt.value,ke=0):(se(ke,ke.u+Tt.g-256),e(256<=Tt.value),ke=Tt.value),ke==0&&(Le=!0)}else ke=An(Ie.G[0],Ie.H[0],G);if(G.h)break;if(Le||256>ke){if(!Le)if(Ie.nd)d[de]=(Ie.qb|ke<<8)>>>0;else{if(he(G),Le=An(Ie.G[1],Ie.H[1],G),he(G),tt=An(Ie.G[2],Ie.H[2],G),qe=An(Ie.G[3],Ie.H[3],G),G.h)break;d[de]=(qe<<24|Le<<16|ke<<8|tt)>>>0}if(Le=!1,++de,++q>=b&&(q=0,++U,B!=null&&U<=j&&!(U%16)&&B(c,U),fe!=null))for(;K<de;)ke=d[K++],fe.X[(506832829*ke&4294967295)>>>fe.Mb]=ke}else if(280>ke){if(ke=hr(ke-256,G),tt=An(Ie.G[4],Ie.H[4],G),he(G),tt=fr(b,tt=hr(tt,G)),G.h)break;if(de-y<tt||O-de<ke)break e;for(qe=0;qe<ke;++qe)d[de+qe]=d[de+qe-tt];for(de+=ke,q+=ke;q>=b;)q-=b,++U,B!=null&&U<=j&&!(U%16)&&B(c,U);if(e(de<=O),q&Ae&&(Ie=xn(re,q,U)),fe!=null)for(;K<de;)ke=d[K++],fe.X[(506832829*ke&4294967295)>>>fe.Mb]=ke}else{if(!(ke<ce))break e;for(Le=ke-280,e(fe!=null);K<de;)ke=d[K++],fe.X[(506832829*ke&4294967295)>>>fe.Mb]=ke;ke=de,e(!(Le>>>(tt=fe).Xa)),d[ke]=tt.X[Le],Le=!0}Le||e(G.h==te(G))}if(c.Pb&&G.h&&de<O)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&kt(c.s.vb,c.s.Wa);else{if(G.h)break e;B!=null&&B(c,U>j?j:U),c.a=0,c.$=de-y}return 1}return c.a=3,0}function qn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function ks(){var c=new We;return c==null?null:(c.a=0,c.xb=zv,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),Hn=pt,Nc=lt,kc=Kt,ta=Ut,na=Ge,ra=mt,pl=Zt,I.VP8LMapColor32b=Bs,I.VP8LMapColor8b=Ic,c)}function bi(c,d,y,b,O){var j=1,B=[c],U=[d],q=b.m,G=b.s,re=null,de=0;e:for(;;){if(y)for(;j&&we(q,1);){var K=B,ie=U,ce=b,Se=1,fe=ce.m,Ae=ce.gc[ce.ab],Ie=we(fe,2);if(ce.Oc&1<<Ie)j=0;else{switch(ce.Oc|=1<<Ie,Ae.hc=Ie,Ae.Ea=K[0],Ae.nc=ie[0],Ae.K=[null],++ce.ab,e(4>=ce.ab),Ie){case 0:case 1:Ae.b=we(fe,3)+2,Se=bi(Re(Ae.Ea,Ae.b),Re(Ae.nc,Ae.b),0,ce,Ae.K),Ae.K=Ae.K[0];break;case 3:var Le,ke=we(fe,8)+1,tt=16<ke?0:4<ke?1:2<ke?2:3;if(K[0]=Re(Ae.Ea,tt),Ae.b=tt,Le=Se=bi(ke,1,0,ce,Ae.K)){var qe,Tt=ke,Ke=Ae,Vt=1<<(8>>Ke.b),sr=s(Vt);if(sr==null)Le=0;else{var Nt=Ke.K[0],Qe=Ke.w;for(sr[0]=Ke.K[0][0],qe=1;qe<1*Tt;++qe)sr[qe]=Ye(Nt[Qe+qe],sr[qe-1]);for(;qe<4*Vt;++qe)sr[qe]=0;Ke.K[0]=null,Ke.K[0]=sr,Le=1}}Se=Le;break;case 2:break;default:e(0)}j=Se}}if(B=B[0],U=U[0],j&&we(q,1)&&!(j=1<=(de=we(q,4))&&11>=de)){b.a=3;break e}var Fe;if(Fe=j)t:{var $n,It,qt,_n=b,Sr=B,Jr=U,jn=de,Fr=y,Zr=_n.m,or=_n.s,Wt=[null],nn=1,Vn=0,rn=$A[jn];n:for(;;){if(Fr&&we(Zr,1)){var Er=we(Zr,3)+2,fs=Re(Sr,Er),Gn=Re(Jr,Er),hi=fs*Gn;if(!bi(fs,Gn,0,_n,Wt))break n;for(Wt=Wt[0],or.xc=Er,$n=0;$n<hi;++$n){var cn=Wt[$n]>>8&65535;Wt[$n]=cn,cn>=nn&&(nn=cn+1)}}if(Zr.h)break n;for(It=0;5>It;++It){var ar=Bv[It];!It&&0<jn&&(ar+=1<<jn),Vn<ar&&(Vn=ar)}var ki=o(nn*rn,x),ei=nn,Pi=o(ei,ae);if(Pi==null)var Ci=null;else e(65536>=ei),Ci=Pi;var fi=s(Vn);if(Ci==null||fi==null||ki==null){_n.a=1;break n}var Li=ki;for($n=qt=0;$n<nn;++$n){var mn=Ci[$n],Ri=mn.G,ds=mn.H,gl=0,mo=1,Ar=0;for(It=0;5>It;++It){ar=Bv[It],Ri[It]=Li,ds[It]=qt,!It&&0<jn&&(ar+=1<<jn);i:{var Cf,Pm=ar,Lf=_n,Dc=fi,dx=Li,px=qt,Cm=0,aa=Lf.m,mx=we(aa,1);if(i(Dc,0,0,Pm),mx){var gx=we(aa,1)+1,vx=we(aa,1),Yv=we(aa,vx==0?1:8);Dc[Yv]=1,gx==2&&(Dc[Yv=we(aa,8)]=1);var Rf=1}else{var Xv=s(19),Jv=we(aa,4)+4;if(19<Jv){Lf.a=3;var Df=0;break i}for(Cf=0;Cf<Jv;++Cf)Xv[HA[Cf]]=we(aa,3);var Lm=void 0,Oc=void 0,Zv=Lf,yx=Xv,Of=Pm,ey=Dc,Rm=0,la=Zv.m,ty=8,ny=o(128,x);r:for(;P(ny,0,7,yx,19);){if(we(la,1)){var _x=2+2*we(la,3);if((Lm=2+we(la,_x))>Of)break r}else Lm=Of;for(Oc=0;Oc<Of&&Lm--;){he(la);var ry=ny[0+(127&X(la))];se(la,la.u+ry.g);var ru=ry.value;if(16>ru)ey[Oc++]=ru,ru!=0&&(ty=ru);else{var wx=ru==16,iy=ru-16,bx=zA[iy],sy=we(la,UA[iy])+bx;if(Oc+sy>Of)break r;for(var Sx=wx?ty:0;0<sy--;)ey[Oc++]=Sx}}Rm=1;break r}Rm||(Zv.a=3),Rf=Rm}(Rf=Rf&&!aa.h)&&(Cm=P(dx,px,8,Dc,Pm)),Rf&&Cm!=0?Df=Cm:(Lf.a=3,Df=0)}if(Df==0)break n;if(mo&&qA[It]==1&&(mo=Li[qt].g==0),gl+=Li[qt].g,qt+=Df,3>=It){var Fc,Dm=fi[0];for(Fc=1;Fc<ar;++Fc)fi[Fc]>Dm&&(Dm=fi[Fc]);Ar+=Dm}}if(mn.nd=mo,mn.Qb=0,mo&&(mn.qb=(Ri[3][ds[3]+0].value<<24|Ri[1][ds[1]+0].value<<16|Ri[2][ds[2]+0].value)>>>0,gl==0&&256>Ri[0][ds[0]+0].value&&(mn.Qb=1,mn.qb+=Ri[0][ds[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Ar,mn.jc){var Ff,go=mn;for(Ff=0;Ff<dl;++Ff){var ua=Ff,ca=go.pd[ua],Mf=go.G[0][go.H[0]+ua];256<=Mf.value?(ca.g=Mf.g+256,ca.value=Mf.value):(ca.g=0,ca.value=0,ua>>=er(Mf,8,ca),ua>>=er(go.G[1][go.H[1]+ua],16,ca),ua>>=er(go.G[2][go.H[2]+ua],0,ca),er(go.G[3][go.H[3]+ua],24,ca))}}}or.vc=Wt,or.Wb=nn,or.Ya=Ci,or.yc=ki,Fe=1;break t}Fe=0}if(!(j=Fe)){b.a=3;break e}if(0<de){if(G.ua=1<<de,!Y(G.Wa,de)){b.a=1,j=0;break e}}else G.ua=0;var Om=b,oy=B,Ex=U,Fm=Om.s,Mm=Fm.xc;if(Om.c=oy,Om.i=Ex,Fm.md=Re(oy,Mm),Fm.wc=Mm==0?-1:(1<<Mm)-1,y){b.xb=ex;break e}if((re=s(B*U))==null){b.a=1,j=0;break e}j=(j=Dr(b,re,0,B,U,U,null))&&!q.h;break e}return j?(O!=null?O[0]=re:(e(re==null),e(y)),b.$=0,y||qn(G)):qn(G),j}function ss(c,d){var y=c.c*c.i,b=y+d+16*d;return e(c.c<=d),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function Ps(c,d){var y=c.C,b=d-y,O=c.V,j=c.Ba+c.c*y;for(e(d<=c.l.o);0<b;){var B=16<b?16:b,U=c.l.ma,q=c.l.width,G=q*B,re=U.ca,de=U.tb+q*y,K=c.Ta,ie=c.Ua;no(c,B,O,j),Lv(K,ie,re,de,G),wi(U,y,y+B,re,de,q),b-=B,O+=B*c.c,y+=B}e(y==d),c.C=c.Ma=d}function ro(){this.ub=this.yd=this.td=this.Rb=0}function io(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cs(){this.Yb=function(){var c=[];return function d(y,b,O){for(var j=O[b],B=0;B<j&&(y.push(O.length>b+1?[]:0),!(O.length<b+1));B++)d(y[B],b+1,O)}(c,0,[3,11]),c}()}function Ja(){this.jb=s(3),this.Wc=a([4,8],Cs),this.Xc=a([4,17],Cs)}function qo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dr(){this.ld=this.La=this.dd=this.tc=0}function Si(){this.Na=this.la=0}function Ho(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Za(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function el(){this.uc=this.M=this.Nb=0,this.wa=Array(new dr),this.Y=0,this.ya=Array(new Za),this.aa=0,this.l=new Ls}function tl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function nl(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new ro,this.Kc=new io,this.ed=new qo,this.Qa=new gc,this.Ic=this.$c=this.Aa=0,this.D=new el,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,Ho),this.Pa=new Ja,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tl),this.Hd=0,this.rb=Array(new Si),this.sb=0,this.wa=Array(new dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Za),this.L=this.aa=0,this.gd=a([4,2],dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rl(){var c=new nl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Lc||(Lc=os)),c}function Nn(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function il(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Jl(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return Nn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,b=d.w,O=d.ha;if(4>O)return Nn(c,7,"Truncated header.");var j=y[b+0]|y[b+1]<<8|y[b+2]<<16,B=c.Od;if(B.Rb=!(1&j),B.td=j>>1&7,B.yd=j>>4&1,B.ub=j>>5,3<B.td)return Nn(c,3,"Incorrect keyframe parameters.");if(!B.yd)return Nn(c,4,"Frame not displayable.");b+=3,O-=3;var U=c.Kc;if(B.Rb){if(7>O)return Nn(c,7,"cannot parse picture header");if(!il(y,b,O))return Nn(c,3,"Bad code word");U.c=16383&(y[b+4]<<8|y[b+3]),U.Td=y[b+4]>>6,U.i=16383&(y[b+6]<<8|y[b+5]),U.Ud=y[b+6]>>6,b+=7,O-=7,c.za=U.c+15>>4,c.Ub=U.i+15>>4,d.width=U.c,d.height=U.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((j=c.Pa).jb,0,255,j.jb.length),e((j=c.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,i(j.Zb,0,0,j.Zb.length),i(j.Lb,0,0,j.Lb)}if(B.ub>O)return Nn(c,7,"bad partition length");me(j=c.m,y,b,B.ub),b+=B.ub,O-=B.ub,B.Rb&&(U.Ld=ve(j),U.Kd=ve(j)),U=c.Qa;var q,G=c.Pa;if(e(j!=null),e(U!=null),U.Cb=ve(j),U.Cb){if(U.Bb=ve(j),ve(j)){for(U.Fb=ve(j),q=0;4>q;++q)U.Zb[q]=ve(j)?Z(j,7):0;for(q=0;4>q;++q)U.Lb[q]=ve(j)?Z(j,6):0}if(U.Bb)for(q=0;3>q;++q)G.jb[q]=ve(j)?ge(j,8):255}else U.Bb=0;if(j.Ka)return Nn(c,3,"cannot parse segment header");if((U=c.ed).zd=ve(j),U.Tb=ge(j,6),U.wb=ge(j,3),U.Pc=ve(j),U.Pc&&ve(j)){for(G=0;4>G;++G)ve(j)&&(U.vd[G]=Z(j,6));for(G=0;4>G;++G)ve(j)&&(U.od[G]=Z(j,6))}if(c.L=U.Tb==0?0:U.zd?1:2,j.Ka)return Nn(c,3,"cannot parse filter header");var re=O;if(O=q=b,b=q+re,U=re,c.Xb=(1<<ge(c.m,2))-1,re<3*(G=c.Xb))y=7;else{for(q+=3*G,U-=3*G,re=0;re<G;++re){var de=y[O+0]|y[O+1]<<8|y[O+2]<<16;de>U&&(de=U),me(c.Jc[+re],y,q,de),q+=de,U-=de,O+=3}me(c.Jc[+G],y,q,U),y=q<b?0:5}if(y!=0)return Nn(c,y,"cannot parse partitions");for(y=ge(q=c.m,7),O=ve(q)?Z(q,4):0,b=ve(q)?Z(q,4):0,U=ve(q)?Z(q,4):0,G=ve(q)?Z(q,4):0,q=ve(q)?Z(q,4):0,re=c.Qa,de=0;4>de;++de){if(re.Cb){var K=re.Zb[de];re.Fb||(K+=y)}else{if(0<de){c.pb[de]=c.pb[0];continue}K=y}var ie=c.pb[de];ie.Sc[0]=Tm[Ct(K+O,127)],ie.Sc[1]=Nm[Ct(K+0,127)],ie.Eb[0]=2*Tm[Ct(K+b,127)],ie.Eb[1]=101581*Nm[Ct(K+U,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=Tm[Ct(K+G,117)],ie.Qc[1]=Nm[Ct(K+q,127)],ie.lc=K+q}if(!B.Rb)return Nn(c,4,"Not a key frame.");for(ve(j),B=c.Pa,y=0;4>y;++y){for(O=0;8>O;++O)for(b=0;3>b;++b)for(U=0;11>U;++U)G=xe(j,JA[y][O][b][U])?ge(j,8):YA[y][O][b][U],B.Wc[y][O].Yb[b][U]=G;for(O=0;17>O;++O)B.Xc[y][O]=B.Wc[y][ZA[O]]}return c.kc=ve(j),c.kc&&(c.Bd=ge(j,8)),c.cb=1}function os(c,d,y,b,O,j,B){var U=d[O].Yb[y];for(y=0;16>O;++O){if(!xe(c,U[y+0]))return O;for(;!xe(c,U[y+1]);)if(U=d[++O].Yb[0],y=0,O==16)return 16;var q=d[O+1].Yb;if(xe(c,U[y+2])){var G=c,re=0;if(xe(G,(K=U)[(de=y)+3]))if(xe(G,K[de+6])){for(U=0,de=2*(re=xe(G,K[de+8]))+(K=xe(G,K[de+9+re])),re=0,K=KA[de];K[U];++U)re+=re+xe(G,K[U]);re+=3+(8<<de)}else xe(G,K[de+7])?(re=7+2*xe(G,165),re+=xe(G,145)):re=5+xe(G,159);else re=xe(G,K[de+4])?3+xe(G,K[de+5]):2;U=q[2]}else re=1,U=q[1];q=B+QA[O],0>(G=c).b&&ye(G);var de,K=G.b,ie=(de=G.Ca>>1)-(G.I>>K)>>31;--G.b,G.Ca+=ie,G.Ca|=1,G.I-=(de+1&ie)<<K,j[q]=((re^ie)-ie)*b[(0<O)+0]}return 16}function Rs(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ai(c,d,y,b,O){O=c[d+y+32*b]+(O>>3),c[d+y+32*b]=-256&O?0>O?0:255:O}function so(c,d,y,b,O,j){ai(c,d,0,y,b+O),ai(c,d,1,y,b+j),ai(c,d,2,y,b-j),ai(c,d,3,y,b-O)}function en(c){return(20091*c>>16)+c}function Yr(c,d,y,b){var O,j=0,B=s(16);for(O=0;4>O;++O){var U=c[d+0]+c[d+8],q=c[d+0]-c[d+8],G=(35468*c[d+4]>>16)-en(c[d+12]),re=en(c[d+4])+(35468*c[d+12]>>16);B[j+0]=U+re,B[j+1]=q+G,B[j+2]=q-G,B[j+3]=U-re,j+=4,d++}for(O=j=0;4>O;++O)U=(c=B[j+0]+4)+B[j+8],q=c-B[j+8],G=(35468*B[j+4]>>16)-en(B[j+12]),ai(y,b,0,0,U+(re=en(B[j+4])+(35468*B[j+12]>>16))),ai(y,b,1,0,q+G),ai(y,b,2,0,q-G),ai(y,b,3,0,U-re),j++,b+=32}function Wo(c,d,y,b){var O=c[d+0]+4,j=35468*c[d+4]>>16,B=en(c[d+4]),U=35468*c[d+1]>>16;so(y,b,0,O+B,c=en(c[d+1]),U),so(y,b,1,O+j,c,U),so(y,b,2,O-j,c,U),so(y,b,3,O-B,c,U)}function $o(c,d,y,b,O){Yr(c,d,y,b),O&&Yr(c,d+16,y,b+4)}function Zl(c,d,y,b){ml(c,d+0,y,b,1),ml(c,d+32,y,b+128,1)}function Ot(c,d,y,b){var O;for(c=c[d+0]+4,O=0;4>O;++O)for(d=0;4>d;++d)ai(y,b,d,O,c)}function oo(c,d,y,b){c[d+0]&&Jt(c,d+0,y,b),c[d+16]&&Jt(c,d+16,y,b+4),c[d+32]&&Jt(c,d+32,y,b+128),c[d+48]&&Jt(c,d+48,y,b+128+4)}function Ds(c,d,y,b){var O,j=s(16);for(O=0;4>O;++O){var B=c[d+0+O]+c[d+12+O],U=c[d+4+O]+c[d+8+O],q=c[d+4+O]-c[d+8+O],G=c[d+0+O]-c[d+12+O];j[0+O]=B+U,j[8+O]=B-U,j[4+O]=G+q,j[12+O]=G-q}for(O=0;4>O;++O)B=(c=j[0+4*O]+3)+j[3+4*O],U=j[1+4*O]+j[2+4*O],q=j[1+4*O]-j[2+4*O],G=c-j[3+4*O],y[b+0]=B+U>>3,y[b+16]=G+q>>3,y[b+32]=B-U>>3,y[b+48]=G-q>>3,b+=64}function li(c,d,y){var b,O=d-32,j=Ni,B=255-c[O-1];for(b=0;b<y;++b){var U,q=j,G=B+c[d-1];for(U=0;U<y;++U)c[d+U]=q[G+c[O+U]];d+=32}}function sl(c,d){li(c,d,4)}function eu(c,d){li(c,d,8)}function vc(c,d){li(c,d,16)}function yc(c,d){var y;for(y=0;16>y;++y)r(c,d+32*y,c,d-32,16)}function ol(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function ao(c,d,y){var b;for(b=0;16>b;++b)i(d,y+32*b,c,16)}function ui(c,d){var y,b=16;for(y=0;16>y;++y)b+=c[d-1+32*y]+c[d+y-32];ao(b>>5,c,d)}function $i(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d-1+32*y];ao(b>>4,c,d)}function Os(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d+y-32];ao(b>>4,c,d)}function Go(c,d){ao(128,c,d)}function ht(c,d,y){return c+2*d+y+2>>2}function Fs(c,d){var y,b=d-32;for(b=new Uint8Array([ht(c[b-1],c[b+0],c[b+1]),ht(c[b+0],c[b+1],c[b+2]),ht(c[b+1],c[b+2],c[b+3]),ht(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)r(c,d+32*y,b,0,b.length)}function _c(c,d){var y=c[d-1],b=c[d-1+32],O=c[d-1+64],j=c[d-1+96];Pe(c,d+0,16843009*ht(c[d-1-32],y,b)),Pe(c,d+32,16843009*ht(y,b,O)),Pe(c,d+64,16843009*ht(b,O,j)),Pe(c,d+96,16843009*ht(O,j,j))}function wc(c,d){var y,b=4;for(y=0;4>y;++y)b+=c[d+y-32]+c[d-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,d+32*y,b,4)}function bc(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],j=c[d-1-32],B=c[d+0-32],U=c[d+1-32],q=c[d+2-32],G=c[d+3-32];c[d+0+96]=ht(b,O,c[d-1+96]),c[d+1+96]=c[d+0+64]=ht(y,b,O),c[d+2+96]=c[d+1+64]=c[d+0+32]=ht(j,y,b),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=ht(B,j,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=ht(U,B,j),c[d+3+32]=c[d+2+0]=ht(q,U,B),c[d+3+0]=ht(G,q,U)}function pr(c,d){var y=c[d+1-32],b=c[d+2-32],O=c[d+3-32],j=c[d+4-32],B=c[d+5-32],U=c[d+6-32],q=c[d+7-32];c[d+0+0]=ht(c[d+0-32],y,b),c[d+1+0]=c[d+0+32]=ht(y,b,O),c[d+2+0]=c[d+1+32]=c[d+0+64]=ht(b,O,j),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=ht(O,j,B),c[d+3+32]=c[d+2+64]=c[d+1+96]=ht(j,B,U),c[d+3+64]=c[d+2+96]=ht(B,U,q),c[d+3+96]=ht(U,q,q)}function as(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],j=c[d-1-32],B=c[d+0-32],U=c[d+1-32],q=c[d+2-32],G=c[d+3-32];c[d+0+0]=c[d+1+64]=j+B+1>>1,c[d+1+0]=c[d+2+64]=B+U+1>>1,c[d+2+0]=c[d+3+64]=U+q+1>>1,c[d+3+0]=q+G+1>>1,c[d+0+96]=ht(O,b,y),c[d+0+64]=ht(b,y,j),c[d+0+32]=c[d+1+96]=ht(y,j,B),c[d+1+32]=c[d+2+96]=ht(j,B,U),c[d+2+32]=c[d+3+96]=ht(B,U,q),c[d+3+32]=ht(U,q,G)}function Sc(c,d){var y=c[d+0-32],b=c[d+1-32],O=c[d+2-32],j=c[d+3-32],B=c[d+4-32],U=c[d+5-32],q=c[d+6-32],G=c[d+7-32];c[d+0+0]=y+b+1>>1,c[d+1+0]=c[d+0+64]=b+O+1>>1,c[d+2+0]=c[d+1+64]=O+j+1>>1,c[d+3+0]=c[d+2+64]=j+B+1>>1,c[d+0+32]=ht(y,b,O),c[d+1+32]=c[d+0+96]=ht(b,O,j),c[d+2+32]=c[d+1+96]=ht(O,j,B),c[d+3+32]=c[d+2+96]=ht(j,B,U),c[d+3+64]=ht(B,U,q),c[d+3+96]=ht(U,q,G)}function Ko(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],j=c[d-1+96];c[d+0+0]=y+b+1>>1,c[d+2+0]=c[d+0+32]=b+O+1>>1,c[d+2+32]=c[d+0+64]=O+j+1>>1,c[d+1+0]=ht(y,b,O),c[d+3+0]=c[d+1+32]=ht(b,O,j),c[d+3+32]=c[d+1+64]=ht(O,j,j),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=j}function ls(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],j=c[d-1+96],B=c[d-1-32],U=c[d+0-32],q=c[d+1-32],G=c[d+2-32];c[d+0+0]=c[d+2+32]=y+B+1>>1,c[d+0+32]=c[d+2+64]=b+y+1>>1,c[d+0+64]=c[d+2+96]=O+b+1>>1,c[d+0+96]=j+O+1>>1,c[d+3+0]=ht(U,q,G),c[d+2+0]=ht(B,U,q),c[d+1+0]=c[d+3+32]=ht(y,B,U),c[d+1+32]=c[d+3+64]=ht(b,y,B),c[d+1+64]=c[d+3+96]=ht(O,b,y),c[d+1+96]=ht(j,O,b)}function Qo(c,d){var y;for(y=0;8>y;++y)r(c,d+32*y,c,d-32,8)}function Ei(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Gi(c,d,y){var b;for(b=0;8>b;++b)i(d,y+32*b,c,8)}function lo(c,d){var y,b=8;for(y=0;8>y;++y)b+=c[d+y-32]+c[d-1+32*y];Gi(b>>4,c,d)}function al(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d+y-32];Gi(b>>3,c,d)}function ln(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d-1+32*y];Gi(b>>3,c,d)}function ll(c,d){Gi(128,c,d)}function uo(c,d,y){var b=c[d-y],O=c[d+0],j=3*(O-b)+Sm[1020+c[d-2*y]-c[d+y]],B=Sf[112+(j+4>>3)];c[d-y]=Ni[255+b+Sf[112+(j+3>>3)]],c[d+0]=Ni[255+O-B]}function Ms(c,d,y,b){var O=c[d+0],j=c[d+y];return Yi[255+c[d-2*y]-c[d-y]]>b||Yi[255+j-O]>b}function Yo(c,d,y,b){return 4*Yi[255+c[d-y]-c[d+0]]+Yi[255+c[d-2*y]-c[d+y]]<=b}function co(c,d,y,b,O){var j=c[d-3*y],B=c[d-2*y],U=c[d-y],q=c[d+0],G=c[d+y],re=c[d+2*y],de=c[d+3*y];return 4*Yi[255+U-q]+Yi[255+B-G]>b?0:Yi[255+c[d-4*y]-j]<=O&&Yi[255+j-B]<=O&&Yi[255+B-U]<=O&&Yi[255+de-re]<=O&&Yi[255+re-G]<=O&&Yi[255+G-q]<=O}function js(c,d,y,b){var O=2*b+1;for(b=0;16>b;++b)Yo(c,d+b,y,O)&&uo(c,d+b,y)}function Vs(c,d,y,b){var O=2*b+1;for(b=0;16>b;++b)Yo(c,d+b*y,1,O)&&uo(c,d+b*y,1)}function ci(c,d,y,b){var O;for(O=3;0<O;--O)js(c,d+=4*y,y,b)}function ul(c,d,y,b){var O;for(O=3;0<O;--O)Vs(c,d+=4,y,b)}function us(c,d,y,b,O,j,B,U){for(j=2*j+1;0<O--;){if(co(c,d,y,j,B))if(Ms(c,d,y,U))uo(c,d,y);else{var q=c,G=d,re=y,de=q[G-2*re],K=q[G-re],ie=q[G+0],ce=q[G+re],Se=q[G+2*re],fe=27*(Ie=Sm[1020+3*(ie-K)+Sm[1020+de-ce]])+63>>7,Ae=18*Ie+63>>7,Ie=9*Ie+63>>7;q[G-3*re]=Ni[255+q[G-3*re]+Ie],q[G-2*re]=Ni[255+de+Ae],q[G-re]=Ni[255+K+fe],q[G+0]=Ni[255+ie-fe],q[G+re]=Ni[255+ce-Ae],q[G+2*re]=Ni[255+Se-Ie]}d+=b}}function Xr(c,d,y,b,O,j,B,U){for(j=2*j+1;0<O--;){if(co(c,d,y,j,B))if(Ms(c,d,y,U))uo(c,d,y);else{var q=c,G=d,re=y,de=q[G-re],K=q[G+0],ie=q[G+re],ce=Sf[112+(4+(Se=3*(K-de))>>3)],Se=Sf[112+(Se+3>>3)],fe=ce+1>>1;q[G-2*re]=Ni[255+q[G-2*re]+fe],q[G-re]=Ni[255+de+Se],q[G+0]=Ni[255+K-ce],q[G+re]=Ni[255+ie-fe]}d+=b}}function cl(c,d,y,b,O,j){us(c,d,y,1,16,b,O,j)}function Xo(c,d,y,b,O,j){us(c,d,1,y,16,b,O,j)}function Ki(c,d,y,b,O,j){var B;for(B=3;0<B;--B)Xr(c,d+=4*y,y,1,16,b,O,j)}function hl(c,d,y,b,O,j){var B;for(B=3;0<B;--B)Xr(c,d+=4,1,y,16,b,O,j)}function g(c,d,y,b,O,j,B,U){us(c,d,O,1,8,j,B,U),us(y,b,O,1,8,j,B,U)}function D(c,d,y,b,O,j,B,U){us(c,d,1,O,8,j,B,U),us(y,b,1,O,8,j,B,U)}function $(c,d,y,b,O,j,B,U){Xr(c,d+4*O,O,1,8,j,B,U),Xr(y,b+4*O,O,1,8,j,B,U)}function ee(c,d,y,b,O,j,B,U){Xr(c,d+4,1,O,8,j,B,U),Xr(y,b+4,1,O,8,j,B,U)}function oe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ne(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ue(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new x}function We(){this.xb=this.a=0,this.l=new Ls,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ue,this.ab=0,this.gc=o(4,Ne),this.Oc=0}function at(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gt(c,d,y,b,O,j,B){for(c=c==null?0:c[d+0],d=0;d<B;++d)O[j+d]=c+y[b+d]&255,c=O[j+d]}function zt(c,d,y,b,O,j,B){var U;if(c==null)gt(null,null,y,b,O,j,B);else for(U=0;U<B;++U)O[j+U]=c[d+U]+y[b+U]&255}function Xt(c,d,y,b,O,j,B){if(c==null)gt(null,null,y,b,O,j,B);else{var U,q=c[d+0],G=q,re=q;for(U=0;U<B;++U)G=re+(q=c[d+U])-G,re=y[b+U]+(-256&G?0>G?0:255:G)&255,G=q,O[j+U]=re}}function kn(c,d,y,b){var O=d.width,j=d.o;if(e(c!=null&&d!=null),0>y||0>=b||y+b>j)return null;if(!c.Cc){if(c.ga==null){var B;if(c.ga=new at,(B=c.ga==null)||(B=d.width*d.o,e(c.Gb.length==0),c.Gb=s(B),c.Uc=0,c.Gb==null?B=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,B=1),B=!B),!B){B=c.ga;var U=c.Fa,q=c.P,G=c.qc,re=c.mb,de=c.nb,K=q+1,ie=G-1,ce=B.l;if(e(U!=null&&re!=null&&d!=null),oa[0]=null,oa[1]=gt,oa[2]=zt,oa[3]=Xt,B.ca=re,B.tb=de,B.c=d.width,B.i=d.height,e(0<B.c&&0<B.i),1>=G)d=0;else if(B.$a=3&U[q+0],B.Z=U[q+0]>>2&3,B.Lc=U[q+0]>>4&3,q=U[q+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||q)d=0;else if(ce.put=st,ce.ac=Lr,ce.bc=yn,ce.ma=B,ce.width=d.width,ce.height=d.height,ce.Da=d.Da,ce.v=d.v,ce.va=d.va,ce.j=d.j,ce.o=d.o,B.$a)e:{e(B.$a==1),d=ks();t:for(;;){if(d==null){d=0;break e}if(e(B!=null),B.mc=d,d.c=B.c,d.i=B.i,d.l=B.l,d.l.ma=B,d.l.width=B.c,d.l.height=B.i,d.a=0,ue(d.m,U,K,ie),!bi(B.c,B.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Rr(d.s)?(B.ic=1,U=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(U),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(B.ic=0,d=ss(d,B.c)),!d))break t;d=1;break e}B.mc=null,d=0}else d=ie>=B.c*B.i;B=!d}if(B)return null;c.ga.Lc!=1?c.Ga=0:b=j-y}e(c.ga!=null),e(y+b<=j);e:{if(d=(U=c.ga).c,j=U.l.o,U.$a==0){if(K=c.rc,ie=c.Vc,ce=c.Fa,q=c.P+1+y*d,G=c.mb,re=c.nb+y*d,e(q<=c.P+c.qc),U.Z!=0)for(e(oa[U.Z]!=null),B=0;B<b;++B)oa[U.Z](K,ie,ce,q,G,re,d),K=G,ie=re,re+=d,q+=d;else for(B=0;B<b;++B)r(G,re,ce,q,d),K=G,ie=re,re+=d,q+=d;c.rc=K,c.Vc=ie}else{if(e(U.mc!=null),d=y+b,e((B=U.mc)!=null),e(d<=B.i),B.C>=d)d=1;else if(U.ic||dn(),U.ic){U=B.V,K=B.Ba,ie=B.c;var Se=B.i,fe=(ce=1,q=B.$/ie,G=B.$%ie,re=B.m,de=B.s,B.$),Ae=ie*Se,Ie=ie*d,Le=de.wc,ke=fe<Ie?xn(de,G,q):null;e(fe<=Ae),e(d<=Se),e(Rr(de));t:for(;;){for(;!re.h&&fe<Ie;){if(G&Le||(ke=xn(de,G,q)),e(ke!=null),he(re),256>(Se=An(ke.G[0],ke.H[0],re)))U[K+fe]=Se,++fe,++G>=ie&&(G=0,++q<=d&&!(q%16)&&Qr(B,q));else{if(!(280>Se)){ce=0;break t}Se=hr(Se-256,re);var tt,qe=An(ke.G[4],ke.H[4],re);if(he(re),!(fe>=(qe=fr(ie,qe=hr(qe,re)))&&Ae-fe>=Se)){ce=0;break t}for(tt=0;tt<Se;++tt)U[K+fe+tt]=U[K+fe+tt-qe];for(fe+=Se,G+=Se;G>=ie;)G-=ie,++q<=d&&!(q%16)&&Qr(B,q);fe<Ie&&G&Le&&(ke=xn(de,G,q))}e(re.h==te(re))}Qr(B,q>d?d:q);break t}!ce||re.h&&fe<Ae?(ce=0,B.a=re.h?5:3):B.$=fe,d=ce}else d=Dr(B,B.V,B.Ba,B.c,B.i,d,Ps);if(!d){b=0;break e}}y+b>=j&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*O}function tn(c,d,y,b,O,j){for(;0<O--;){var B,U=c,q=d+(y?1:0),G=c,re=d+(y?0:3);for(B=0;B<b;++B){var de=G[re+4*B];de!=255&&(de*=32897,U[q+4*B+0]=U[q+4*B+0]*de>>23,U[q+4*B+1]=U[q+4*B+1]*de>>23,U[q+4*B+2]=U[q+4*B+2]*de>>23)}d+=j}}function Fn(c,d,y,b,O){for(;0<b--;){var j;for(j=0;j<y;++j){var B=c[d+2*j+0],U=15&(G=c[d+2*j+1]),q=4369*U,G=(240&G|G>>4)*q>>16;c[d+2*j+0]=(240&B|B>>4)*q>>16&240|(15&B|B<<4)*q>>16>>4&15,c[d+2*j+1]=240&G|U}d+=O}}function Pn(c,d,y,b,O,j,B,U){var q,G,re=255;for(G=0;G<O;++G){for(q=0;q<b;++q){var de=c[d+q];j[B+4*q]=de,re&=de}d+=y,B+=U}return re!=255}function Mn(c,d,y,b,O){var j;for(j=0;j<O;++j)y[b+j]=c[d+j]>>8}function dn(){Cc=tn,Pv=Fn,Cv=Pn,Lv=Mn}function wr(c,d,y){I[c]=function(b,O,j,B,U,q,G,re,de,K,ie,ce,Se,fe,Ae,Ie,Le){var ke,tt=Le-1>>1,qe=U[q+0]|G[re+0]<<16,Tt=de[K+0]|ie[ce+0]<<16;e(b!=null);var Ke=3*qe+Tt+131074>>2;for(d(b[O+0],255&Ke,Ke>>16,Se,fe),j!=null&&(Ke=3*Tt+qe+131074>>2,d(j[B+0],255&Ke,Ke>>16,Ae,Ie)),ke=1;ke<=tt;++ke){var Vt=U[q+ke]|G[re+ke]<<16,sr=de[K+ke]|ie[ce+ke]<<16,Nt=qe+Vt+Tt+sr+524296,Qe=Nt+2*(Vt+Tt)>>3;Ke=Qe+qe>>1,qe=(Nt=Nt+2*(qe+sr)>>3)+Vt>>1,d(b[O+2*ke-1],255&Ke,Ke>>16,Se,fe+(2*ke-1)*y),d(b[O+2*ke-0],255&qe,qe>>16,Se,fe+(2*ke-0)*y),j!=null&&(Ke=Nt+Tt>>1,qe=Qe+sr>>1,d(j[B+2*ke-1],255&Ke,Ke>>16,Ae,Ie+(2*ke-1)*y),d(j[B+2*ke+0],255&qe,qe>>16,Ae,Ie+(2*ke+0)*y)),qe=Vt,Tt=sr}1&Le||(Ke=3*qe+Tt+131074>>2,d(b[O+Le-1],255&Ke,Ke>>16,Se,fe+(Le-1)*y),j!=null&&(Ke=3*Tt+qe+131074>>2,d(j[B+Le-1],255&Ke,Ke>>16,Ae,Ie+(Le-1)*y)))}}function fl(){Xi[Ef]=tx,Xi[Af]=qv,Xi[jv]=nx,Xi[xf]=Hv,Xi[If]=Wv,Xi[Em]=$v,Xi[Vv]=rx,Xi[Am]=qv,Xi[xm]=Hv,Xi[Tf]=Wv,Xi[Im]=$v}function Ai(c){return c&-16384?0>c?0:255:c>>ix}function h(c,d){return Ai((19077*c>>8)+(26149*d>>8)-14234)}function _(c,d,y){return Ai((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function N(c,d){return Ai((19077*c>>8)+(33050*d>>8)-17685)}function z(c,d,y,b,O){b[O+0]=h(c,y),b[O+1]=_(c,d,y),b[O+2]=N(c,d)}function le(c,d,y,b,O){b[O+0]=N(c,d),b[O+1]=_(c,d,y),b[O+2]=h(c,y)}function pe(c,d,y,b,O){var j=_(c,d,y);d=j<<3&224|N(c,d)>>3,b[O+0]=248&h(c,y)|j>>5,b[O+1]=d}function Oe(c,d,y,b,O){var j=240&N(c,d)|15;b[O+0]=240&h(c,y)|_(c,d,y)>>4,b[O+1]=j}function jt(c,d,y,b,O){b[O+0]=255,z(c,d,y,b,O+1)}function Cn(c,d,y,b,O){le(c,d,y,b,O),b[O+3]=255}function Rt(c,d,y,b,O){z(c,d,y,b,O),b[O+3]=255}function Ct(c,d){return 0>c?0:c>d?d:c}function pn(c,d,y){I[c]=function(b,O,j,B,U,q,G,re,de){for(var K=re+(-2&de)*y;re!=K;)d(b[O+0],j[B+0],U[q+0],G,re),d(b[O+1],j[B+0],U[q+0],G,re+y),O+=2,++B,++q,re+=2*y;1&de&&d(b[O+0],j[B+0],U[q+0],G,re)}}function xi(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function Or(c,d,y,b,O){switch(c>>>30){case 3:ml(d,y,b,O,0);break;case 2:Qi(d,y,b,O);break;case 1:Jt(d,y,b,O)}}function br(c,d){var y,b,O=d.M,j=d.Nb,B=c.oc,U=c.pc+40,q=c.oc,G=c.pc+584,re=c.oc,de=c.pc+600;for(y=0;16>y;++y)B[U+32*y-1]=129;for(y=0;8>y;++y)q[G+32*y-1]=129,re[de+32*y-1]=129;for(0<O?B[U-1-32]=q[G-1-32]=re[de-1-32]=129:(i(B,U-32-1,127,21),i(q,G-32-1,127,9),i(re,de-32-1,127,9)),b=0;b<c.za;++b){var K=d.ya[d.aa+b];if(0<b){for(y=-1;16>y;++y)r(B,U+32*y-4,B,U+32*y+12,4);for(y=-1;8>y;++y)r(q,G+32*y-4,q,G+32*y+4,4),r(re,de+32*y-4,re,de+32*y+4,4)}var ie=c.Gd,ce=c.Hd+b,Se=K.ad,fe=K.Hc;if(0<O&&(r(B,U-32,ie[ce].y,0,16),r(q,G-32,ie[ce].f,0,8),r(re,de-32,ie[ce].ea,0,8)),K.Za){var Ae=B,Ie=U-32+16;for(0<O&&(b>=c.za-1?i(Ae,Ie,ie[ce].y[15],4):r(Ae,Ie,ie[ce+1].y,0,4)),y=0;4>y;y++)Ae[Ie+128+y]=Ae[Ie+256+y]=Ae[Ie+384+y]=Ae[Ie+0+y];for(y=0;16>y;++y,fe<<=2)Ae=B,Ie=U+Kv[y],hs[K.Ob[y]](Ae,Ie),Or(fe,Se,16*+y,Ae,Ie)}else if(Ae=xi(b,O,K.Ob[0]),sa[Ae](B,U),fe!=0)for(y=0;16>y;++y,fe<<=2)Or(fe,Se,16*+y,B,U+Kv[y]);for(y=K.Gc,Ae=xi(b,O,K.Dd),po[Ae](q,G),po[Ae](re,de),fe=Se,Ae=q,Ie=G,255&(K=0|y)&&(170&K?zs(fe,256,Ae,Ie):un(fe,256,Ae,Ie)),K=re,fe=de,255&(y>>=8)&&(170&y?zs(Se,320,K,fe):un(Se,320,K,fe)),O<c.Ub-1&&(r(ie[ce].y,0,B,U+480,16),r(ie[ce].f,0,q,G+224,8),r(ie[ce].ea,0,re,de+224,8)),y=8*j*c.B,ie=c.sa,ce=c.ta+16*b+16*j*c.R,Se=c.qa,K=c.ra+8*b+y,fe=c.Ha,Ae=c.Ia+8*b+y,y=0;16>y;++y)r(ie,ce+y*c.R,B,U+32*y,16);for(y=0;8>y;++y)r(Se,K+y*c.B,q,G+32*y,8),r(fe,Ae+y*c.B,re,de+32*y,8)}}function cs(c,d,y,b,O,j,B,U,q){var G=[0],re=[0],de=0,K=q!=null?q.kd:0,ie=q??new Ee;if(c==null||12>y)return 7;ie.data=c,ie.w=d,ie.ha=y,d=[d],y=[y],ie.gb=[ie.gb];e:{var ce=d,Se=y,fe=ie.gb;if(e(c!=null),e(Se!=null),e(fe!=null),fe[0]=0,12<=Se[0]&&!n(c,ce[0],"RIFF")){if(n(c,ce[0]+8,"WEBP")){fe=3;break e}var Ae=_e(c,ce[0]+4);if(12>Ae||4294967286<Ae){fe=3;break e}if(K&&Ae>Se[0]-8){fe=7;break e}fe[0]=Ae,ce[0]+=12,Se[0]-=12}fe=0}if(fe!=0)return fe;for(Ae=0<ie.gb[0],y=y[0];;){e:{var Ie=c;Se=d,fe=y;var Le=G,ke=re,tt=ce=[0];if((Ke=de=[de])[0]=0,8>fe[0])fe=7;else{if(!n(Ie,Se[0],"VP8X")){if(_e(Ie,Se[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var qe=_e(Ie,Se[0]+8),Tt=1+Ve(Ie,Se[0]+12);if(2147483648<=Tt*(Ie=1+Ve(Ie,Se[0]+15))){fe=3;break e}tt!=null&&(tt[0]=qe),Le!=null&&(Le[0]=Tt),ke!=null&&(ke[0]=Ie),Se[0]+=18,fe[0]-=18,Ke[0]=1}fe=0}}if(de=de[0],ce=ce[0],fe!=0)return fe;if(Se=!!(2&ce),!Ae&&de)return 3;if(j!=null&&(j[0]=!!(16&ce)),B!=null&&(B[0]=Se),U!=null&&(U[0]=0),B=G[0],ce=re[0],de&&Se&&q==null){fe=0;break}if(4>y){fe=7;break}if(Ae&&de||!Ae&&!de&&!n(c,d[0],"ALPH")){y=[y],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{qe=c,fe=d,Ae=y;var Ke=ie.gb;Le=ie.na,ke=ie.P,tt=ie.Sa,Tt=22,e(qe!=null),e(Ae!=null),Ie=fe[0];var Vt=Ae[0];for(e(Le!=null),e(tt!=null),Le[0]=null,ke[0]=null,tt[0]=0;;){if(fe[0]=Ie,Ae[0]=Vt,8>Vt){fe=7;break e}var sr=_e(qe,Ie+4);if(4294967286<sr){fe=3;break e}var Nt=8+sr+1&-2;if(Tt+=Nt,0<Ke&&Tt>Ke){fe=3;break e}if(!n(qe,Ie,"VP8 ")||!n(qe,Ie,"VP8L")){fe=0;break e}if(Vt[0]<Nt){fe=7;break e}n(qe,Ie,"ALPH")||(Le[0]=qe,ke[0]=Ie+8,tt[0]=sr),Ie+=Nt,Vt-=Nt}}if(y=y[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],fe!=0)break}y=[y],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if(Ke=c,fe=d,Ae=y,Le=ie.gb[0],ke=ie.Ja,tt=ie.xa,qe=fe[0],Ie=!n(Ke,qe,"VP8 "),Tt=!n(Ke,qe,"VP8L"),e(Ke!=null),e(Ae!=null),e(ke!=null),e(tt!=null),8>Ae[0])fe=7;else{if(Ie||Tt){if(Ke=_e(Ke,qe+4),12<=Le&&Ke>Le-12){fe=3;break e}if(K&&Ke>Ae[0]-8){fe=7;break e}ke[0]=Ke,fe[0]+=8,Ae[0]-=8,tt[0]=Tt}else tt[0]=5<=Ae[0]&&Ke[qe+0]==47&&!(Ke[qe+4]>>5),ke[0]=Ae[0];fe=0}if(y=y[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],d=d[0],fe!=0)break;if(4294967286<ie.Ja)return 3;if(U==null||Se||(U[0]=ie.xa?2:1),B=[B],ce=[ce],ie.xa){if(5>y){fe=7;break}U=B,K=ce,Se=j,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(Ae=[0],Ke=[0],Le=[0],ue(ke=new W,c,d,y),Wi(ke,Ae,Ke,Le)?(U!=null&&(U[0]=Ae[0]),K!=null&&(K[0]=Ke[0]),Se!=null&&(Se[0]=Le[0]),c=1):c=0):c=0}else{if(10>y){fe=7;break}U=ce,c==null||10>y||!il(c,d+3,y-3)?c=0:(K=c[d+0]|c[d+1]<<8|c[d+2]<<16,Se=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=ie.Ja||!Se||!c?c=0:(B&&(B[0]=Se),U&&(U[0]=c),c=1))}if(!c||(B=B[0],ce=ce[0],de&&(G[0]!=B||re[0]!=ce)))return 3;q!=null&&(q[0]=ie,q.offset=d-q.w,e(4294967286>d-q.w),e(q.offset==q.ha-y));break}return fe==0||fe==7&&de&&q==null?(j!=null&&(j[0]|=ie.na!=null&&0<ie.na.length),b!=null&&(b[0]=B),O!=null&&(O[0]=ce),0):fe}function Ec(c,d,y){var b=d.width,O=d.height,j=0,B=0,U=b,q=O;if(d.Da=c!=null&&0<c.Da,d.Da&&(U=c.cd,q=c.bd,j=c.v,B=c.j,11>y||(j&=-2,B&=-2),0>j||0>B||0>=U||0>=q||j+U>b||B+q>O))return 0;if(d.v=j,d.j=B,d.va=j+U,d.o=B+q,d.U=U,d.T=q,d.da=c!=null&&0<c.da,d.da){if(!it(U,q,y=[c.ib],j=[c.hb]))return 0;d.ib=y[0],d.hb=j[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*O/4,d.Kb=0),1}function Ac(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Jo(c,d,y,b){if(b==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var O=y.cd,j=y.bd,B=-2&y.v,U=-2&y.j;if(0>B||0>U||0>=O||0>=j||B+O>c||U+j>d)return 2;c=O,d=j}if(y.da){if(!it(c,d,O=[y.ib],j=[y.hb]))return 2;c=O[0],d=j[0]}}b.width=c,b.height=d;e:{var q=b.width,G=b.height;if(c=b.S,0>=q||0>=G||!(c>=Ef&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){B=j=O=d=0;var re=(U=q*Qv[c])*G;if(11>c||(j=(G+1)/2*(d=(q+1)/2),c==12&&(B=(O=q)*G)),(G=s(re+2*j+B))==null){c=1;break e}b.sd=G,11>c?((q=b.f.RGBA).eb=G,q.fb=0,q.A=U,q.size=re):((q=b.f.kb).y=G,q.O=0,q.fa=U,q.Fd=re,q.f=G,q.N=0+re,q.Ab=d,q.Cd=j,q.ea=G,q.W=0+re+j,q.Db=d,q.Ed=j,c==12&&(q.F=G,q.J=0+re+2*j),q.Tc=B,q.lb=O)}if(d=1,O=b.S,j=b.width,B=b.height,O>=Ef&&13>O)if(11>O)c=b.f.RGBA,d&=(U=Math.abs(c.A))*(B-1)+j<=c.size,d&=U>=j*Qv[O],d&=c.eb!=null;else{c=b.f.kb,U=(j+1)/2,re=(B+1)/2,q=Math.abs(c.fa),G=Math.abs(c.Ab);var de=Math.abs(c.Db),K=Math.abs(c.lb),ie=K*(B-1)+j;d&=q*(B-1)+j<=c.Fd,d&=G*(re-1)+U<=c.Cd,d=(d&=de*(re-1)+U<=c.Ed)&q>=j&G>=U&de>=U,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,O==12&&(d&=K>=j,d&=ie<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Ac(b)),c}var dl=64,Ii=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ti=24,Zo=32,ho=8,ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(c){return c},I.Predictor2=function(c,d,y){return d[y+0]},I.Predictor3=function(c,d,y){return d[y+1]},I.Predictor4=function(c,d,y){return d[y-1]},I.Predictor5=function(c,d,y){return Ze(Ze(c,d[y+1]),d[y+0])},I.Predictor6=function(c,d,y){return Ze(c,d[y-1])},I.Predictor7=function(c,d,y){return Ze(c,d[y+0])},I.Predictor8=function(c,d,y){return Ze(d[y-1],d[y+0])},I.Predictor9=function(c,d,y){return Ze(d[y+0],d[y+1])},I.Predictor10=function(c,d,y){return Ze(Ze(c,d[y-1]),Ze(d[y+0],d[y+1]))},I.Predictor11=function(c,d,y){var b=d[y+0];return 0>=Xe(b>>24&255,c>>24&255,(d=d[y-1])>>24&255)+Xe(b>>16&255,c>>16&255,d>>16&255)+Xe(b>>8&255,c>>8&255,d>>8&255)+Xe(255&b,255&c,255&d)?b:c},I.Predictor12=function(c,d,y){var b=d[y+0];return(Mt((c>>24&255)+(b>>24&255)-((d=d[y-1])>>24&255))<<24|Mt((c>>16&255)+(b>>16&255)-(d>>16&255))<<16|Mt((c>>8&255)+(b>>8&255)-(d>>8&255))<<8|Mt((255&c)+(255&b)-(255&d)))>>>0},I.Predictor13=function(c,d,y){var b=d[y-1];return(yt((c=Ze(c,d[y+0]))>>24&255,b>>24&255)<<24|yt(c>>16&255,b>>16&255)<<16|yt(c>>8&255,b>>8&255)<<8|yt(255&c,255&b))>>>0};var xc=I.PredictorAdd0;I.PredictorAdd1=At,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var tu=I.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Hn,wf=I.ColorIndexInverseTransform,Bs=I.MapARGB,Us=I.VP8LColorIndexInverseTransformAlpha,Ic=I.MapAlpha,Tc=I.VP8LPredictorsAdd=[];Tc.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Nc,kc,ta,na,ra,pl,ia,ml,Qi,zs,Jt,un,Wn,ir,fo,Pc,nu,bf,Av,xv,Iv,Tv,Nv,kv,Cc,Pv,Cv,Lv,Rv=s(511),Dv=s(2041),Ov=s(225),Fv=s(767),Mv=0,Sm=Dv,Sf=Ov,Ni=Fv,Yi=Rv,Ef=0,Af=1,jv=2,xf=3,If=4,Em=5,Vv=6,Am=7,xm=8,Tf=9,Im=10,UA=[2,3,7],zA=[3,3,11],Bv=[280,256,256,256,40],qA=[0,1,1,1,0],HA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$A=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],GA=8,Tm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lc=null,KA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],YA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],XA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],JA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ZA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sa=[],hs=[],po=[],ex=1,zv=2,oa=[],Xi=[];wr("UpsampleRgbLinePair",z,3),wr("UpsampleBgrLinePair",le,3),wr("UpsampleRgbaLinePair",Rt,4),wr("UpsampleBgraLinePair",Cn,4),wr("UpsampleArgbLinePair",jt,4),wr("UpsampleRgba4444LinePair",Oe,2),wr("UpsampleRgb565LinePair",pe,2);var tx=I.UpsampleRgbLinePair,nx=I.UpsampleBgrLinePair,qv=I.UpsampleRgbaLinePair,Hv=I.UpsampleBgraLinePair,Wv=I.UpsampleArgbLinePair,$v=I.UpsampleRgba4444LinePair,rx=I.UpsampleRgb565LinePair,Nf=16,kf=1<<Nf-1,Rc=-227,km=482,ix=6,Gv=0,sx=s(256),ox=s(256),ax=s(256),lx=s(256),ux=s(km-Rc),cx=s(km-Rc);pn("YuvToRgbRow",z,3),pn("YuvToBgrRow",le,3),pn("YuvToRgbaRow",Rt,4),pn("YuvToBgraRow",Cn,4),pn("YuvToArgbRow",jt,4),pn("YuvToRgba4444Row",Oe,2),pn("YuvToRgb565Row",pe,2);var Kv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pf=[0,2,8],hx=[8,7,6,4,4,2,2,2,1,1,1,1],fx=1;this.WebPDecodeRGBA=function(c,d,y,b,O){var j=Af,B=new oe,U=new Yt;B.ba=U,U.S=j,U.width=[U.width],U.height=[U.height];var q=U.width,G=U.height,re=new ct;if(re==null||c==null)var de=2;else e(re!=null),de=cs(c,d,y,re.width,re.height,re.Pd,re.Qd,re.format,null);if(de!=0?q=0:(q!=null&&(q[0]=re.width[0]),G!=null&&(G[0]=re.height[0]),q=1),q){U.width=U.width[0],U.height=U.height[0],b!=null&&(b[0]=U.width),O!=null&&(O[0]=U.height);e:{if(b=new Ls,(O=new Ee).data=c,O.w=d,O.ha=y,O.kd=1,d=[0],e(O!=null),((c=cs(O.data,O.w,O.ha,null,null,null,d,null,O))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(B!=null),b.data=O.data,b.w=O.w+O.offset,b.ha=O.ha-O.offset,b.put=st,b.ac=Lr,b.bc=yn,b.ma=B,O.xa){if((c=ks())==null){B=1;break e}if(function(K,ie){var ce=[0],Se=[0],fe=[0];t:for(;;){if(K==null)return 0;if(ie==null)return K.a=2,0;if(K.l=ie,K.a=0,ue(K.m,ie.data,ie.w,ie.ha),!Wi(K.m,ce,Se,fe)){K.a=3;break t}if(K.xb=zv,ie.width=ce[0],ie.height=Se[0],!bi(ce[0],Se[0],1,K,null))break t;return 1}return e(K.a!=0),0}(c,b)){if(b=(d=Jo(b.width,b.height,B.Oa,B.ba))==0){t:{b=c;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((O=y.ma)!=null),b.xb!=0){if(b.ca=O.ba,b.tb=O.tb,e(b.ca!=null),!Ec(O.Oa,y,xf)){b.a=2;break n}if(!ss(b,y.width)||y.da)break n;if((y.da||_t(b.ca.S))&&dn(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&dn()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!Y(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Dr(b,b.V,b.Ba,b.c,b.i,y.o,Ns))break n;O.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=c.a)}else d=c.a}else{if((c=new rl)==null){B=1;break e}if(c.Fa=O.na,c.P=O.P,c.qc=O.Sa,Jl(c,b)){if((d=Jo(b.width,b.height,B.Oa,B.ba))==0){if(c.Aa=0,y=B.Oa,e((O=c)!=null),y!=null){if(0<(q=0>(q=y.Md)?0:100<q?255:255*q/100)){for(G=re=0;4>G;++G)12>(de=O.pb[G]).lc&&(de.ia=q*hx[0>de.lc?0:de.lc]>>3),re|=de.ia;re&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=y.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(K,ie){if(K==null)return 0;if(ie==null)return Nn(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!Jl(K,ie))return 0;if(e(K.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(K.L=0);var ce=Pf[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=ie.v-ce>>4,K.zb=ie.j-ce>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=ie.o+15+ce>>4,K.Hb=ie.va+15+ce>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var Se=K.ed;for(ce=0;4>ce;++ce){var fe;if(K.Qa.Cb){var Ae=K.Qa.Lb[ce];K.Qa.Fb||(Ae+=Se.Tb)}else Ae=Se.Tb;for(fe=0;1>=fe;++fe){var Ie=K.gd[ce][fe],Le=Ae;if(Se.Pc&&(Le+=Se.vd[0],fe&&(Le+=Se.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var ke=Le;0<Se.wb&&(ke=4<Se.wb?ke>>2:ke>>1)>9-Se.wb&&(ke=9-Se.wb),1>ke&&(ke=1),Ie.dd=ke,Ie.tc=2*Le+ke,Ie.ld=40<=Le?2:15<=Le?1:0}else Ie.tc=0;Ie.La=fe}}}ce=0}else Nn(K,6,"Frame setup failed"),ce=K.a;if(ce=ce==0){if(ce){K.$c=0,0<K.Aa||(K.Ic=fx);t:{ce=K.Ic,Se=4*(ke=K.za);var tt=32*ke,qe=ke+1,Tt=0<K.L?ke*(0<K.Aa?2:1):0,Ke=(K.Aa==2?2:1)*ke;if((Ie=Se+832+(fe=3*(16*ce+Pf[K.L])/2*tt)+(Ae=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=Ie)ce=0;else{if(Ie>K.Vb){if(K.Vb=0,K.Ec=s(Ie),K.Fc=0,K.Ec==null){ce=Nn(K,1,"no memory during frame initialization.");break t}K.Vb=Ie}Ie=K.Ec,Le=K.Fc,K.Ac=Ie,K.Bc=Le,Le+=Se,K.Gd=o(tt,tl),K.Hd=0,K.rb=o(qe+1,Si),K.sb=1,K.wa=Tt?o(Tt,dr):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=ke),e(!0),K.oc=Ie,K.pc=Le,Le+=832,K.ya=o(Ke,Za),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=ke),K.R=16*ke,K.B=8*ke,ke=(tt=Pf[K.L])*K.R,tt=tt/2*K.B,K.sa=Ie,K.ta=Le+ke,K.qa=K.sa,K.ra=K.ta+16*ce*K.R+tt,K.Ha=K.qa,K.Ia=K.ra+8*ce*K.B+tt,K.$c=0,Le+=fe,K.mb=Ae?Ie:null,K.nb=Ae?Le:null,e(Le+Ae<=K.Fc+K.Vb),Rs(K),i(K.Ac,K.Bc,0,Se),ce=1}}if(ce){if(ie.ka=0,ie.y=K.sa,ie.O=K.ta,ie.f=K.qa,ie.N=K.ra,ie.ea=K.Ha,ie.Vd=K.Ia,ie.fa=K.R,ie.Rc=K.B,ie.F=null,ie.J=0,!Mv){for(ce=-255;255>=ce;++ce)Rv[255+ce]=0>ce?-ce:ce;for(ce=-1020;1020>=ce;++ce)Dv[1020+ce]=-128>ce?-128:127<ce?127:ce;for(ce=-112;112>=ce;++ce)Ov[112+ce]=-16>ce?-16:15<ce?15:ce;for(ce=-255;510>=ce;++ce)Fv[255+ce]=0>ce?0:255<ce?255:ce;Mv=1}ia=Ds,ml=$o,zs=Zl,Jt=Ot,un=oo,Qi=Wo,Wn=cl,ir=Xo,fo=g,Pc=D,nu=Ki,bf=hl,Av=$,xv=ee,Iv=js,Tv=Vs,Nv=ci,kv=ul,hs[0]=wc,hs[1]=sl,hs[2]=Fs,hs[3]=_c,hs[4]=bc,hs[5]=as,hs[6]=pr,hs[7]=Sc,hs[8]=ls,hs[9]=Ko,sa[0]=ui,sa[1]=vc,sa[2]=yc,sa[3]=ol,sa[4]=$i,sa[5]=Os,sa[6]=Go,po[0]=lo,po[1]=eu,po[2]=Qo,po[3]=Ei,po[4]=ln,po[5]=al,po[6]=ll,ce=1}else ce=0}ce&&(ce=function(Vt,sr){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var Nt,Qe=Vt.Jc[Vt.M&Vt.Xb],Fe=Vt.m,$n=Vt;for(Nt=0;Nt<$n.za;++Nt){var It=Fe,qt=$n,_n=qt.Ac,Sr=qt.Bc+4*Nt,Jr=qt.zc,jn=qt.ya[qt.aa+Nt];if(qt.Qa.Bb?jn.$b=xe(It,qt.Pa.jb[0])?2+xe(It,qt.Pa.jb[2]):xe(It,qt.Pa.jb[1]):jn.$b=0,qt.kc&&(jn.Ad=xe(It,qt.Bd)),jn.Za=!xe(It,145)+0,jn.Za){var Fr=jn.Ob,Zr=0;for(qt=0;4>qt;++qt){var or,Wt=Jr[0+qt];for(or=0;4>or;++or){Wt=XA[_n[Sr+or]][Wt];for(var nn=Uv[xe(It,Wt[0])];0<nn;)nn=Uv[2*nn+xe(It,Wt[nn])];Wt=-nn,_n[Sr+or]=Wt}r(Fr,Zr,_n,Sr,4),Zr+=4,Jr[0+qt]=Wt}}else Wt=xe(It,156)?xe(It,128)?1:3:xe(It,163)?2:0,jn.Ob[0]=Wt,i(_n,Sr,Wt,4),i(Jr,0,Wt,4);jn.Dd=xe(It,142)?xe(It,114)?xe(It,183)?1:3:2:0}if($n.m.Ka)return Nn(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if($n=Qe,It=(Fe=Vt).rb[Fe.sb-1],_n=Fe.rb[Fe.sb+Fe.ja],Nt=Fe.ya[Fe.aa+Fe.ja],Sr=Fe.kc?Nt.Ad:0)It.la=_n.la=0,Nt.Za||(It.Na=_n.Na=0),Nt.Hc=0,Nt.Gc=0,Nt.ia=0;else{var Vn,rn;if(It=_n,_n=$n,Sr=Fe.Pa.Xc,Jr=Fe.ya[Fe.aa+Fe.ja],jn=Fe.pb[Jr.$b],qt=Jr.ad,Fr=0,Zr=Fe.rb[Fe.sb-1],Wt=or=0,i(qt,Fr,0,384),Jr.Za)var Er=0,fs=Sr[3];else{nn=s(16);var Gn=It.Na+Zr.Na;if(Gn=Lc(_n,Sr[1],Gn,jn.Eb,0,nn,0),It.Na=Zr.Na=(0<Gn)+0,1<Gn)ia(nn,0,qt,Fr);else{var hi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)qt[Fr+nn]=hi}Er=1,fs=Sr[0]}var cn=15&It.la,ar=15&Zr.la;for(nn=0;4>nn;++nn){var ki=1&ar;for(hi=rn=0;4>hi;++hi)cn=cn>>1|(ki=(Gn=Lc(_n,fs,Gn=ki+(1&cn),jn.Sc,Er,qt,Fr))>Er)<<7,rn=rn<<2|(3<Gn?3:1<Gn?2:qt[Fr+0]!=0),Fr+=16;cn>>=4,ar=ar>>1|ki<<7,or=(or<<8|rn)>>>0}for(fs=cn,Er=ar>>4,Vn=0;4>Vn;Vn+=2){for(rn=0,cn=It.la>>4+Vn,ar=Zr.la>>4+Vn,nn=0;2>nn;++nn){for(ki=1&ar,hi=0;2>hi;++hi)Gn=ki+(1&cn),cn=cn>>1|(ki=0<(Gn=Lc(_n,Sr[2],Gn,jn.Qc,0,qt,Fr)))<<3,rn=rn<<2|(3<Gn?3:1<Gn?2:qt[Fr+0]!=0),Fr+=16;cn>>=2,ar=ar>>1|ki<<5}Wt|=rn<<4*Vn,fs|=cn<<4<<Vn,Er|=(240&ar)<<Vn}It.la=fs,Zr.la=Er,Jr.Hc=or,Jr.Gc=Wt,Jr.ia=43690&Wt?0:jn.ia,Sr=!(or|Wt)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Nt.$b][Nt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Sr),$n.Ka)return Nn(Vt,7,"Premature end-of-file encountered.")}if(Rs(Vt),Fe=sr,$n=1,Nt=(Qe=Vt).D,It=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(Nt.M=Qe.M,Nt.uc=It,br(Qe,Nt),$n=1,Nt=(rn=Qe.D).Nb,It=(Wt=Pf[Qe.L])*Qe.R,_n=Wt/2*Qe.B,nn=16*Nt*Qe.R,hi=8*Nt*Qe.B,Sr=Qe.sa,Jr=Qe.ta-It+nn,jn=Qe.qa,qt=Qe.ra-_n+hi,Fr=Qe.Ha,Zr=Qe.Ia-_n+hi,ar=(cn=rn.M)==0,or=cn>=Qe.Va-1,Qe.Aa==2&&br(Qe,rn),rn.uc)for(ki=(Gn=Qe).D.M,e(Gn.D.uc),rn=Gn.yb;rn<Gn.Hb;++rn){Er=rn,fs=ki;var ei=(Pi=(Ar=Gn).D).Nb;Vn=Ar.R;var Pi=Pi.wa[Pi.Y+Er],Ci=Ar.sa,fi=Ar.ta+16*ei*Vn+16*Er,Li=Pi.dd,mn=Pi.tc;if(mn!=0)if(e(3<=mn),Ar.L==1)0<Er&&Tv(Ci,fi,Vn,mn+4),Pi.La&&kv(Ci,fi,Vn,mn),0<fs&&Iv(Ci,fi,Vn,mn+4),Pi.La&&Nv(Ci,fi,Vn,mn);else{var Ri=Ar.B,ds=Ar.qa,gl=Ar.ra+8*ei*Ri+8*Er,mo=Ar.Ha,Ar=Ar.Ia+8*ei*Ri+8*Er;ei=Pi.ld,0<Er&&(ir(Ci,fi,Vn,mn+4,Li,ei),Pc(ds,gl,mo,Ar,Ri,mn+4,Li,ei)),Pi.La&&(bf(Ci,fi,Vn,mn,Li,ei),xv(ds,gl,mo,Ar,Ri,mn,Li,ei)),0<fs&&(Wn(Ci,fi,Vn,mn+4,Li,ei),fo(ds,gl,mo,Ar,Ri,mn+4,Li,ei)),Pi.La&&(nu(Ci,fi,Vn,mn,Li,ei),Av(ds,gl,mo,Ar,Ri,mn,Li,ei))}}if(Qe.ia&&alert("todo:DitherRow"),Fe.put!=null){if(rn=16*cn,cn=16*(cn+1),ar?(Fe.y=Qe.sa,Fe.O=Qe.ta+nn,Fe.f=Qe.qa,Fe.N=Qe.ra+hi,Fe.ea=Qe.Ha,Fe.W=Qe.Ia+hi):(rn-=Wt,Fe.y=Sr,Fe.O=Jr,Fe.f=jn,Fe.N=qt,Fe.ea=Fr,Fe.W=Zr),or||(cn-=Wt),cn>Fe.o&&(cn=Fe.o),Fe.F=null,Fe.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&rn<cn&&(Fe.J=kn(Qe,Fe,rn,cn-rn),Fe.F=Qe.mb,Fe.F==null&&Fe.F.length==0)){$n=Nn(Qe,3,"Could not decode alpha data.");break t}rn<Fe.j&&(Wt=Fe.j-rn,rn=Fe.j,e(!(1&Wt)),Fe.O+=Qe.R*Wt,Fe.N+=Qe.B*(Wt>>1),Fe.W+=Qe.B*(Wt>>1),Fe.F!=null&&(Fe.J+=Fe.width*Wt)),rn<cn&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=rn-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=cn-rn,$n=Fe.put(Fe))}Nt+1!=Qe.Ic||or||(r(Qe.sa,Qe.ta-It,Sr,Jr+16*Qe.R,It),r(Qe.qa,Qe.ra-_n,jn,qt+8*Qe.B,_n),r(Qe.Ha,Qe.Ia-_n,Fr,Zr+8*Qe.B,_n))}if(!$n)return Nn(Vt,6,"Output aborted.")}return 1}(K,ie)),ie.bc!=null&&ie.bc(ie),ce&=1}return ce?(K.cb=0,ce):0})(c,b)||(d=c.a)}}else d=c.a}d==0&&B.Oa!=null&&B.Oa.fd&&(d=Ac(B.ba))}B=d}j=B!=0?null:11>j?U.f.RGBA.eb:U.f.kb.y}else j=null;return j};var Qv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,L){for(var E="",P=0;P<4;P++)E+=String.fromCharCode(I[L++]);return E}function f(I,L){return I[L+0]|I[L+1]<<8}function m(I,L){return(I[L+0]|I[L+1]<<8|I[L+2]<<16)>>>0}function v(I,L){return(I[L+0]|I[L+1]<<8|I[L+2]<<16|I[L+3]<<24)>>>0}new l;var p=[0],S=[0],T=[],R=new l,w=t,k=function(I,L){var E={},P=0,x=!1,Q=0,ae=0;if(E.frames=[],!function(M,W){for(var X=0;X<4;X++)if(M[W+X]!="RIFF".charCodeAt(X))return!0;return!1}(I,L)){for(v(I,L+=4),L+=8;L<I.length;){var me=u(I,L),ge=v(I,L+=4);L+=4;var Z=ge+(1&ge);switch(me){case"VP8 ":case"VP8L":E.frames[P]===void 0&&(E.frames[P]={}),(we=E.frames[P]).src_off=x?ae:L-8,we.src_size=Q+ge+8,P++,x&&(x=!1,Q=0,ae=0);break;case"VP8X":(we=E.header={}).feature_flags=I[L];var ue=L+4;we.canvas_width=1+m(I,ue),ue+=3,we.canvas_height=1+m(I,ue),ue+=3;break;case"ALPH":x=!0,Q=Z+8,ae=L-8;break;case"ANIM":(we=E.header).bgcolor=v(I,L),ue=L+4,we.loop_count=f(I,ue),ue+=2;break;case"ANMF":var be,we;(we=E.frames[P]={}).offset_x=2*m(I,L),L+=3,we.offset_y=2*m(I,L),L+=3,we.width=1+m(I,L),L+=3,we.height=1+m(I,L),L+=3,we.duration=m(I,L),L+=3,be=I[L++],we.dispose=1&be,we.blend=be>>1&1}me!="ANMF"&&(L+=Z)}return E}}(w,0);k.response=w,k.rgbaoutput=!0,k.dataurl=!1;var C=k.header?k.header:null,F=k.frames?k.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],S=[C.canvas_width];for(var J=0;J<F.length&&F[J].blend!=0;J++);}var ne=F[0],V=R.WebPDecodeRGBA(w,ne.src_off,ne.src_size,S,p);ne.rgba=V,ne.imgwidth=S[0],ne.imgheight=p[0];for(var A=0;A<S[0]*p[0]*4;A++)T[A]=V[A];return this.width=S,this.height=p,this.data=T,this}(function(t){var e,n,r,i,s,o,a,l,u,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(_e){X=!!_e}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(_e){te=!!_e}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(_e){isNaN(_e)||(se=_e)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(_e){isNaN(_e)||(he=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var Y;typeof _e=="number"?Y=[_e,_e,_e,_e]:((Y=new Array(4))[0]=_e[0],Y[1]=_e.length>=2?_e[1]:Y[0],Y[2]=_e.length>=3?_e[2]:Y[0],Y[3]=_e.length>=4?_e[3]:Y[1]),u.margin=Y}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(_e){ye=_e}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(_e){ve=_e}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(_e){xe=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof f&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(_e){Pe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var Y;Y=v(_e),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var Y=v(_e);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Me=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(_e){Me=null,Ve=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var Y;if(this.ctx.font=_e,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var kt=Y[1];Y[2];var St=Y[3],it=Y[4];Y[5];var Re=Y[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ye==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var je=function(lt){var nt,Kt,Ut=[],Ge=lt.trim();if(Ge==="")return Ug;if(Ge in Rw)return[Rw[Ge]];for(;Ge!=="";){switch(Kt=null,nt=(Ge=Ow(Ge)).charAt(0)){case'"':case"'":Kt=ID(Ge.substring(1),nt);break;default:Kt=TD(Ge)}if(Kt===null||(Ut.push(Kt[0]),(Ge=Ow(Kt[1]))!==""&&Ge.charAt(0)!==","))return Ug;Ge=Ge.replace(/^,/,"")}return Ut}(Re);if(this.fontFaces){var Et=function(lt,nt){if(Me===null){var Kt=function(Ut){var Ge=[];return Object.keys(Ut).forEach(function(mt){Ut[mt].forEach(function(Zt){var ot=null;switch(Zt){case"bold":ot={family:mt,weight:"bold"};break;case"italic":ot={family:mt,style:"italic"};break;case"bolditalic":ot={family:mt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:mt}}ot!==null&&(ot.ref={name:mt,style:Zt},Ge.push(ot))})}),Ge}(lt.getFontList());Me=function(Ut){for(var Ge={},mt=0;mt<Ut.length;++mt){var Zt=Bg(Ut[mt]),ot=Zt.family,Pt=Zt.stretch,_t=Zt.style,En=Zt.weight;Ge[ot]=Ge[ot]||{},Ge[ot][Pt]=Ge[ot][Pt]||{},Ge[ot][Pt][_t]=Ge[ot][Pt][_t]||{},Ge[ot][Pt][_t][En]=Zt}return Ge}(Kt.concat(nt))}return Me}(this.pdf,this.fontFaces),Ze=je.map(function(lt){return{family:lt,stretch:"normal",weight:St,style:kt}}),Mt=function(lt,nt,Kt){for(var Ut=(Kt=Kt||{}).defaultFontFamily||"times",Ge=Object.assign({},xD,Kt.genericFontFamilies||{}),mt=null,Zt=null,ot=0;ot<nt.length;++ot)if(Ge[(mt=Bg(nt[ot])).family]&&(mt.family=Ge[mt.family]),lt.hasOwnProperty(mt.family)){Zt=lt[mt.family];break}if(!(Zt=Zt||lt[Ut]))throw new Error("Could not find a font-family for the rule '"+Dw(mt)+"' and default family '"+Ut+"'.");if(Zt=function(Pt,_t){if(_t[Pt])return _t[Pt];var En=b1[Pt],vn=En<=b1.normal?-1:1,Yt=Lw(_t,wA,En,vn);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+Pt);return Yt}(mt.stretch,Zt),Zt=function(Pt,_t){if(_t[Pt])return _t[Pt];for(var En=_A[Pt],vn=0;vn<En.length;++vn)if(_t[En[vn]])return _t[En[vn]];throw new Error("Could not find a matching font-style for "+Pt)}(mt.style,Zt),!(Zt=function(Pt,_t){if(_t[Pt])return _t[Pt];if(Pt===400&&_t[500])return _t[500];if(Pt===500&&_t[400])return _t[400];var En=AD[Pt],vn=Lw(_t,bA,En,Pt<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+Pt);return vn}(mt.weight,Zt)))throw new Error("Failed to resolve a font for the rule '"+Dw(mt)+"'.");return Zt}(Et,Ze);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var yt="";(St==="bold"||parseInt(St,10)>=700||kt==="bold")&&(yt="bold"),kt==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var Xe="",At={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<je.length;pt++){if(this.pdf.internal.getFont(je[pt],yt,{noFallback:!0,disableWarning:!0})!==void 0){Xe=je[pt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(je[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=je[pt],yt="bold";else if(this.pdf.internal.getFont(je[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=je[pt],yt="normal";break}}if(Xe===""){for(var et=0;et<je.length;et++)if(At[je[et]]){Xe=At[je[et]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(M,W)},m.prototype.closePath=function(){var M=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&on(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},m.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,W,X,te){if(isNaN(X)||isNaN(te)||isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(X,te)),he=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"qct",x1:he.x,y1:he.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},m.prototype.bezierCurveTo=function(M,W,X,te,se,he){if(isNaN(se)||isNaN(he)||isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(se,he)),ve=this.ctx.transform.applyToPoint(new o(M,W)),xe=this.ctx.transform.applyToPoint(new o(X,te));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:xe.x,y2:xe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},m.prototype.arc=function(M,W,X,te,se,he){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te)||isNaN(se))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(M,W));M=ye.x,W=ye.y;var ve=this.ctx.transform.applyToPoint(new o(0,X)),xe=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(ve.x-xe.x,2)+Math.pow(ve.y-xe.y,2))}Math.abs(se-te)>=2*Math.PI&&(te=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:X,startAngle:te,endAngle:se,counterclockwise:he})},m.prototype.arcTo=function(M,W,X,te,se){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,W,X,te){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+X,W),this.lineTo(M+X,W+te),this.lineTo(M,W+te),this.lineTo(M,W),this.lineTo(M+X,W),this.lineTo(M,W)},m.prototype.fillRect=function(M,W,X,te){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,X,te),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},m.prototype.strokeRect=function(M,W,X,te){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(M,W,X,te),this.stroke())},m.prototype.clearRect=function(M,W,X,te){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,X,te))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var W,X,te,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,X=0,te=0,se=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)W=parseInt(he[1]),X=parseInt(he[2]),te=parseInt(he[3]),se=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(he[1]),X=parseInt(he[2]),te=parseInt(he[3]),se=parseFloat(he[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var ye=new fA(M);M=ye.ok?ye.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,X=M.substring(2,3),X+=X,te=M.substring(3,4),te+=te):(W=M.substring(1,3),X=M.substring(3,5),te=M.substring(5,7)),W=parseInt(W,16),X=parseInt(X,16),te=parseInt(te,16)}}return{r:W,g:X,b:te,a:se,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,W,X,te){if(isNaN(W)||isNaN(X)||typeof M!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var se=Z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;P.call(this,{text:M,x:W,y:X,scale:he,angle:se,align:this.textAlign,maxWidth:te})}},m.prototype.strokeText=function(M,W,X,te){if(isNaN(W)||isNaN(X)||typeof M!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){te=isNaN(te)?void 0:te;var se=Z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;P.call(this,{text:M,x:W,y:X,scale:he,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:te})}},m.prototype.measureText=function(M){if(typeof M!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,X=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),se=W.getStringUnitWidth(M)*te/W.internal.scaleFactor;return new function(he){var ye=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:se*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(M){if(isNaN(M))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(M,W,X,te,se,he){if(isNaN(M)||isNaN(W)||isNaN(X)||isNaN(te)||isNaN(se)||isNaN(he))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(M,W,X,te,se,he);this.ctx.transform=this.ctx.transform.multiply(ye)},m.prototype.setTransform=function(M,W,X,te,se,he){M=isNaN(M)?1:M,W=isNaN(W)?0:W,X=isNaN(X)?0:X,te=isNaN(te)?1:te,se=isNaN(se)?0:se,he=isNaN(he)?0:he,this.ctx.transform=new l(M,W,X,te,se,he)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,W,X,te,se,he,ye,ve,xe){var Pe=this.pdf.getImageProperties(M),Me=1,Ve=1,_e=1,Y=1;te!==void 0&&ve!==void 0&&(_e=ve/te,Y=xe/se,Me=Pe.width/te*ve/te,Ve=Pe.height/se*xe/se),he===void 0&&(he=W,ye=X,W=0,X=0),te!==void 0&&ve===void 0&&(ve=te,xe=se),te===void 0&&ve===void 0&&(ve=Pe.width,xe=Pe.height);for(var kt,St=this.ctx.transform.decompose(),it=Z(St.rotate.shx),Re=new l,Ye=(Re=(Re=(Re=Re.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new a(he-W*_e,ye-X*Y,te*Me,se*Ve)),je=R.call(this,Ye),Et=[],Ze=0;Ze<je.length;Ze+=1)Et.indexOf(je[Ze])===-1&&Et.push(je[Ze]);if(C(Et),this.autoPaging)for(var Mt=Et[0],yt=Et[Et.length-1],Xe=Mt;Xe<yt+1;Xe++){this.pdf.setPage(Xe);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Xe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Xe===1?0:et+(Xe-2)*lt;if(this.ctx.clip_path.length!==0){var Kt=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(kt,this.posX+this.margin[3],-nt+pt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Kt}var Ut=JSON.parse(JSON.stringify(Ye));Ut=k([Ut],this.posX+this.margin[3],-nt+pt+this.ctx.prevPageLastElemOffset)[0];var Ge=(Xe>Mt||Xe<yt)&&T.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,lt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,it),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,it)};var R=function(M,W,X){var te=[];W=W||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":te.push(Math.floor((M.y+se)/X)+1);break;case"arc":te.push(Math.floor((M.y+se-M.radius)/X)+1),te.push(Math.floor((M.y+se+M.radius)/X)+1);break;case"qct":var he=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);te.push(Math.floor((he.y+se)/X)+1),te.push(Math.floor((he.y+he.h+se)/X)+1);break;case"bct":var ye=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);te.push(Math.floor((ye.y+se)/X)+1),te.push(Math.floor((ye.y+ye.h+se)/X)+1);break;case"rect":te.push(Math.floor((M.y+se)/X)+1),te.push(Math.floor((M.y+M.h+se)/X)+1)}for(var ve=0;ve<te.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<te[ve];)w.call(this);return te},w=function(){var M=this.fillStyle,W=this.strokeStyle,X=this.font,te=this.lineCap,se=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=X,this.lineCap=te,this.lineWidth=se,this.lineJoin=he},k=function(M,W,X){for(var te=0;te<M.length;te++)switch(M[te].type){case"bct":M[te].x2+=W,M[te].y2+=X;case"qct":M[te].x1+=W,M[te].y1+=X;default:M[te].x+=W,M[te].y+=X}return M},C=function(M){return M.sort(function(W,X){return W-X})},F=function(M,W){for(var X,te,se=this.fillStyle,he=this.strokeStyle,ye=this.lineCap,ve=this.lineWidth,xe=Math.abs(ve*this.ctx.transform.scaleX),Pe=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),_e=[],Y=0;Y<Ve.length;Y++)if(Ve[Y].x!==void 0)for(var kt=R.call(this,Ve[Y]),St=0;St<kt.length;St+=1)_e.indexOf(kt[St])===-1&&_e.push(kt[St]);for(var it=0;it<_e.length;it++)for(;this.pdf.internal.getNumberOfPages()<_e[it];)w.call(this);if(C(_e),this.autoPaging)for(var Re=_e[0],Ye=_e[_e.length-1],je=Re;je<Ye+1;je++){this.pdf.setPage(je),this.fillStyle=se,this.strokeStyle=he,this.lineCap=ye,this.lineWidth=xe,this.lineJoin=Pe;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=je===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=je===1?0:Mt+(je-2)*yt;if(this.ctx.clip_path.length!==0){var At=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(X,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),J.call(this,M,!0),this.path=At}if(te=JSON.parse(JSON.stringify(Me)),this.path=k(te,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),W===!1||je===0){var pt=(je>Re||je<Ye)&&T.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,yt,null).clip().discardPath()),J.call(this,M,W),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=xe,J.call(this,M,W),this.lineWidth=ve;this.path=Me},J=function(M,W){if((M!=="stroke"||W||!S.call(this))&&(M==="stroke"||W||!p.call(this))){for(var X,te,se=[],he=this.path,ye=0;ye<he.length;ye++){var ve=he[ye];switch(ve.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ve,deltas:[],abs:[]});break;case"lt":var xe=se.length;if(he[ye-1]&&!isNaN(he[ye-1].x)&&(X=[ve.x-he[ye-1].x,ve.y-he[ye-1].y],xe>0)){for(;xe>=0;xe--)if(se[xe-1].close!==!0&&se[xe-1].begin!==!0){se[xe-1].deltas.push(X),se[xe-1].abs.push(ve);break}}break;case"bct":X=[ve.x1-he[ye-1].x,ve.y1-he[ye-1].y,ve.x2-he[ye-1].x,ve.y2-he[ye-1].y,ve.x-he[ye-1].x,ve.y-he[ye-1].y],se[se.length-1].deltas.push(X);break;case"qct":var Pe=he[ye-1].x+2/3*(ve.x1-he[ye-1].x),Me=he[ye-1].y+2/3*(ve.y1-he[ye-1].y),Ve=ve.x+2/3*(ve.x1-ve.x),_e=ve.y+2/3*(ve.y1-ve.y),Y=ve.x,kt=ve.y;X=[Pe-he[ye-1].x,Me-he[ye-1].y,Ve-he[ye-1].x,_e-he[ye-1].y,Y-he[ye-1].x,kt-he[ye-1].y],se[se.length-1].deltas.push(X);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ve)}}te=W?null:M==="stroke"?"stroke":"fill";for(var St=!1,it=0;it<se.length;it++)if(se[it].arc)for(var Re=se[it].abs,Ye=0;Ye<Re.length;Ye++){var je=Re[Ye];je.type==="arc"?A.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,W,!St):x.call(this,je.x,je.y),St=!0}else if(se[it].close===!0)this.pdf.internal.out("h"),St=!1;else if(se[it].begin!==!0){var Et=se[it].start.x,Ze=se[it].start.y;Q.call(this,se[it].deltas,Et,Ze),St=!0}te&&I.call(this,te),W&&L.call(this)}},ne=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+W-X;case"hanging":return M+W-2*X;case"middle":return M+W/2-X;default:return M}},V=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,X){this.colorStops.push([W,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(M,W,X,te,se,he,ye,ve,xe){for(var Pe=me.call(this,X,te,se,he),Me=0;Me<Pe.length;Me++){var Ve=Pe[Me];Me===0&&(xe?E.call(this,Ve.x1+M,Ve.y1+W):x.call(this,Ve.x1+M,Ve.y1+W)),ae.call(this,M,W,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}ve?L.call(this):I.call(this,ye)},I=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(M,W){this.pdf.internal.out(n(M)+" "+r(W)+" m")},P=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var X=this.pdf.getTextDimensions(M.text),te=ne.call(this,M.y),se=V.call(this,te)-X.h,he=this.ctx.transform.applyToPoint(new o(M.x,te)),ye=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var xe,Pe,Me,Ve=this.ctx.transform.applyToRectangle(new a(M.x,te,X.w,X.h)),_e=ve.applyToRectangle(new a(M.x,se,X.w,X.h)),Y=R.call(this,_e),kt=[],St=0;St<Y.length;St+=1)kt.indexOf(Y[St])===-1&&kt.push(Y[St]);if(C(kt),this.autoPaging)for(var it=kt[0],Re=kt[kt.length-1],Ye=it;Ye<Re+1;Ye++){this.pdf.setPage(Ye);var je=Ye===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],Mt=Ze-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],Xe=yt-this.margin[3],At=Ye===1?0:Et+(Ye-2)*Mt;if(this.ctx.clip_path.length!==0){var pt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(xe,this.posX+this.margin[3],-1*At+je),J.call(this,"fill",!0),this.path=pt}var et=k([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-At+je+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Me=this.lineWidth,this.lineWidth=Me*M.scale);var lt=this.autoPaging!=="text";if(lt||et.y+et.h<=Ze){if(lt||et.y>=je&&et.x<=yt){var nt=lt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||yt-et.x)[0],Kt=k([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-At+je+this.ctx.prevPageLastElemOffset)[0],Ut=lt&&(Ye>it||Ye<Re)&&T.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Mt,null).clip().discardPath()),this.pdf.text(nt,Kt.x,Kt.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else et.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-et.y);M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Me)}else M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Me=this.lineWidth,this.lineWidth=Me*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Me)},x=function(M,W,X,te){X=X||0,te=te||0,this.pdf.internal.out(n(M+X)+" "+r(W+te)+" l")},Q=function(M,W,X){return this.pdf.lines(M,W,X,null,null)},ae=function(M,W,X,te,se,he,ye,ve){this.pdf.internal.out([e(i(X+M)),e(s(te+W)),e(i(se+M)),e(s(he+W)),e(i(ye+M)),e(s(ve+W)),"c"].join(" "))},me=function(M,W,X,te){for(var se=2*Math.PI,he=Math.PI/2;W>X;)W-=se;var ye=Math.abs(X-W);ye<se&&te&&(ye=se-ye);for(var ve=[],xe=te?-1:1,Pe=W;ye>1e-5;){var Me=Pe+xe*Math.min(ye,he);ve.push(ge.call(this,M,Pe,Me)),ye-=Math.abs(Me-Pe),Pe=Me}return ve},ge=function(M,W,X){var te=(X-W)/2,se=M*Math.cos(te),he=M*Math.sin(te),ye=se,ve=-he,xe=ye*ye+ve*ve,Pe=xe+ye*se+ve*he,Me=4/3*(Math.sqrt(2*xe*Pe)-Pe)/(ye*he-ve*se),Ve=ye-Me*ve,_e=ve+Me*ye,Y=Ve,kt=-_e,St=te+W,it=Math.cos(St),Re=Math.sin(St);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:Ve*it-_e*Re,y2:Ve*Re+_e*it,x3:Y*it-kt*Re,y3:Y*Re+kt*it,x4:M*Math.cos(X),y4:M*Math.sin(X)}},Z=function(M){return 180*M/Math.PI},ue=function(M,W,X,te,se,he){var ye=M+.5*(X-M),ve=W+.5*(te-W),xe=se+.5*(X-se),Pe=he+.5*(te-he),Me=Math.min(M,se,ye,xe),Ve=Math.max(M,se,ye,xe),_e=Math.min(W,he,ve,Pe),Y=Math.max(W,he,ve,Pe);return new a(Me,_e,Ve-Me,Y-_e)},be=function(M,W,X,te,se,he,ye,ve){var xe,Pe,Me,Ve,_e,Y,kt,St,it,Re,Ye,je,Et,Ze,Mt=X-M,yt=te-W,Xe=se-X,At=he-te,pt=ye-se,et=ve-he;for(Pe=0;Pe<41;Pe++)it=(kt=(Me=M+(xe=Pe/40)*Mt)+xe*((_e=X+xe*Xe)-Me))+xe*(_e+xe*(se+xe*pt-_e)-kt),Re=(St=(Ve=W+xe*yt)+xe*((Y=te+xe*At)-Ve))+xe*(Y+xe*(he+xe*et-Y)-St),Pe==0?(Ye=it,je=Re,Et=it,Ze=Re):(Ye=Math.min(Ye,it),je=Math.min(je,Re),Et=Math.max(Et,it),Ze=Math.max(Ze,Re));return new a(Math.round(Ye),Math.round(je),Math.round(Et-Ye),Math.round(Ze-je))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,X=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Je.API),function(t){var e=function(o){var a,l,u,f,m,v,p,S,T,R;for(l=[],u=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(m=((m=((m=((m=(m-(R=m%85))/85)-(T=m%85))/85)-(S=m%85))/85)-(p=m%85))/85)%85,l.push(v+33,p+33,S+33,T+33,R+33)):l.push(122);return function(w,k){for(var C=k;C>0;C--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,f,m,v=String,p="length",S=255,T="charCodeAt",R="slice",w="replace";for(o[R](-2),o=o[R](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],f=0,m=(o+=a="uuuuu"[R](o[p]%5||5))[p];m>f;f+=5)l=52200625*(o[T](f)-33)+614125*(o[T](f+1)-33)+7225*(o[T](f+2)-33)+85*(o[T](f+3)-33)+(o[T](f+4)-33),u.push(S&l>>24,S&l>>16,S&l>>8,S&l);return function(k,C){for(var F=C;F>0;F--)k.pop()}(u,a[p]),v.fromCharCode.apply(v,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=p1(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Je.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,f){var m=new XMLHttpRequest,v=0,p=function(S){var T=S.length,R=[],w=String.fromCharCode;for(v=0;v<T;v+=1)R.push(w(255&S.charCodeAt(v)));return R.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Je.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):Sg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):Sg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=on(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(a(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return(f=f.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var S=f[p],T=S.src.find(function(R){return R.format==="truetype"});T&&u.addFont(T.url,S.ref.name,S.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||Je.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,m).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=u.call(m,a,l);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Je.getPageSize=function(a,l,u){if(on(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var m,v=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var S,T=0,R=0;if(p.hasOwnProperty(v))T=p[v][1]/m,R=p[v][0]/m;else try{T=u[1],R=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",R>T&&(S=R,R=T,T=S);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",T>R&&(S=R,R=T,T=S)}return{width:R,height:T,unit:l,k:m,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Bg):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(Je.API),Je.API.addJS=function(t){return Mw=t,this.internal.events.subscribe("postPutResources",function(){pd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Fw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Mw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pd!==void 0&&Fw!==void 0&&this.internal.out("/Names <</JavaScript "+pd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=n.internal.newObject();f.push(m);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Je.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),S=m.length,T={width:0,height:0,numcomponents:1},R=4;R<S;R+=2){if(R+=p,e.indexOf(m.charCodeAt(R+1))!==-1){v=256*m.charCodeAt(R+5)+m.charCodeAt(R+6),T={width:256*m.charCodeAt(R+7)+m.charCodeAt(R+8),height:v,numcomponents:m.charCodeAt(R+9)};break}p=256*m.charCodeAt(R+2)+m.charCodeAt(R+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(Je.API),Je.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=cD(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(A){for(var I=A.width,L=A.height,E=A.data,P=A.palette,x=A.depth,Q=!1,ae=[],me=[],ge=void 0,Z=!1,ue=0,be=0;be<P.length;be++){var we=U_(P[be],4),M=we[0],W=we[1],X=we[2],te=we[3];ae.push(M,W,X),te!=null&&(te===0?(ue++,me.length<1&&me.push(be)):te<255&&(Z=!0))}if(Z||ue>1){Q=!0,me=void 0;var se=I*L;ge=new Uint8Array(se);for(var he=new DataView(E.buffer),ye=0;ye<se;ye++){var ve=zg(he,ye,x),xe=U_(P[ve],4)[3];ge[ye]=xe}}else ue===0&&(me=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:E,alphaBytes:ge,needSMask:Q,palette:ae,mask:me}}(s):l===2||l===4?function(A){for(var I=A.data,L=A.width,E=A.height,P=A.channels,x=A.depth,Q=P===2?"DeviceGray":"DeviceRGB",ae=P-1,me=L*E,ge=ae,Z=me*ge,ue=1*me,be=Math.ceil(Z*x/8),we=Math.ceil(ue*x/8),M=new Uint8Array(be),W=new Uint8Array(we),X=new DataView(I.buffer),te=new DataView(M.buffer),se=new DataView(W.buffer),he=!1,ye=0;ye<me;ye++){for(var ve=ye*P,xe=0;xe<ge;xe++)$w(te,zg(X,ve+xe,x),ye*ge+xe,x);var Pe=zg(X,ve+ge,x);Pe<(1<<x)-1&&(he=!0),$w(se,Pe,1*ye,x)}return{colorSpace:Q,colorsPerPixel:ae,sMaskBitsPerComponent:he?x:void 0,colorBytes:M,alphaBytes:W,needSMask:he}}(s):function(A){var I=A.data,L=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(E){for(var P=E.length,x=new Uint8Array(2*P),Q=new DataView(x.buffer,x.byteOffset,x.byteLength),ae=0;ae<P;ae++)Q.setUint16(2*ae,E[ae],!1);return x}(I):I,needSMask:!1}}(s);var m,v,p,S=i,T=S.colorSpace,R=S.colorsPerPixel,w=S.sMaskBitsPerComponent,k=S.colorBytes,C=S.alphaBytes,F=S.needSMask,J=S.palette,ne=S.mask,V=null;return r!==Je.API.image_compression.NONE&&typeof p1=="function"?(V=function(A){var I;switch(A){case Je.API.image_compression.FAST:I=11;break;case Je.API.image_compression.MEDIUM:I=13;break;case Je.API.image_compression.SLOW:I=14;break;default:I=12}return I}(r),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(V," /Colors ").concat(R," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=Uw(k,Math.ceil(o*R*f/8),R,f,r),F&&(p=Uw(C,Math.ceil(o*w/8),1,w,r))):(m=void 0,v=void 0,t=k,F&&(p=C)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:v,transparency:ne,palette:J,sMask:p,predictor:V,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:T}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new CD(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},f=new qg(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(Je.API),ms.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ms.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},ms.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ms.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ms.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ms.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},ms.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},ms.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ms.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ms.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ms(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new qg(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Je.API),Kw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Kw(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new qg(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Je.API),Je.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var f=r[u],m=r[u+1],v=r[u+2],p=r[u+3];s[a++]=f,s[a++]=m,s[a++]=v,o[l++]=p}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Je.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},au=Je.API,md=au.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,v=0,p=t.length,S=0,T=a[0]||l,R=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=m&&on(u[r])==="object"&&!isNaN(parseInt(u[r][S],10))?u[r][S]/f:0,R.push((a[r]||T)/l+v)),S=r;return R},jw=au.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return au.processArabic&&(t=au.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:md.apply(this,arguments).reduce(function(s,o){return s+o},0)},Vw=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Bw=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,f=[],m=[f],v=n.textIndent||0,p=0,S=0,T=t.split(" "),R=md.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),k=[];T.map(function(F){(F=F.split(/\s*\n/)).length>1?k=k.concat(F.map(function(J,ne){return(ne&&J.length?`
`:"")+J})):k.push(F[0])}),T=k,l=jw.apply(this,[w,n])}for(s=0,o=T.length;s<o;s++){var C=0;if(r=T[s],l&&r[0]==`
`&&(r=r.substr(1),C=1),v+p+(S=(i=md.apply(this,[r,n])).reduce(function(F,J){return F+J},0))>e||C){if(S>e){for(a=Vw.apply(this,[r,i,e-(v+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)m.push([a.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(F,J){return F+J},0)}else f=[r];m.push(f),v=S+l,p=R}else f.push(r),v+=p+S,p=R}return u=l?function(F,J){return(J?w:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(u)},au.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(Bw.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var p,S,T,R,w=["{"];for(var k in v){if(p=v[k],isNaN(parseInt(k,10))?S="'"+k+"'":(k=parseInt(k,10),S=(S=o(k).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof p=="number")p<0?(T=o(p).slice(3),R="-"):(T=o(p).slice(2),R=""),T=R+T.slice(0,-1)+i[T.slice(-1)];else{if(on(p)!=="object")throw new Error("Don't know what to do with value type "+on(p)+".");T=a(p)}w.push(S+T)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,S,T,R,w={},k=1,C=w,F=[],J="",ne="",V=v.length-1,A=1;A<V;A+=1)(R=v[A])=="'"?p?(T=p.join(""),p=void 0):p=[]:p?p.push(R):R=="{"?(F.push([C,T]),C={},T=void 0):R=="}"?((S=F.pop())[0][S[1]]=C,T=void 0,C=S[0]):R=="-"?k=-1:T===void 0?r.hasOwnProperty(R)?(J+=r[R],T=parseInt(J,16)*k,k=1,J=""):J+=R:r.hasOwnProperty(R)?(ne+=r[R],C[T]=parseInt(ne,16)*k,k=1,T=void 0,ne=""):ne+=R;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var p=v.font,S=m.Unicode[p.postScriptName];S&&(p.metadata.Unicode={},p.metadata.Unicode.widths=S.widths,p.metadata.Unicode.kerning=S.kerning);var T=f.Unicode[p.postScriptName];T&&(p.metadata.Unicode.encoding=T,p.encoding=T.codePages[0])}])}(Je.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(jd(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Je),Je.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(vt.canvg?Promise.resolve(vt.canvg):Sg(()=>import("./index.es-BzDLBimn.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},Je.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Je.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,f=0,m=0;function v(S,T){var R,w=!1;for(R=0;R<S.length;R+=1)S[R]===T&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(m=0;m<p;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(on(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,T=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?T.push("/"+S+" /"+n[S].value):T.push("/"+S+" "+n[S].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Je.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,v=s.length;m<v;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(u[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,u,f,m,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,v=(a=Object.keys(s).sort(function(p,S){return p-S})).length;m<v;m++)o=a[m],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",S=0;S<v.length;S++)p+=String.fromCharCode(v[S]);var T=u();f({data:p,addLength1:!0,objectId:T}),l("endobj");var R=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+fu(a.fontName)),l("/FontFile2 "+T+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var k=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+fu(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+R+" 0 R"),l("/BaseFont /"+fu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var S=u();f({data:v,addLength1:!0,objectId:S}),l("endobj");var T=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var R=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+fu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+fu(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,f=s.options||{},m=s.mutex||{},v=m.pdfEscape,p=m.activeFontKey,S=m.fonts,T=p,R="",w=0,k="",C=S[T].encoding;if(S[T].encoding!=="Identity-H")return{text:a,x:l,y:u,options:f,mutex:m};for(k=a,T=p,Array.isArray(a)&&(k=a[0]),w=0;w<k.length;w+=1)S[T].metadata.hasOwnProperty("cmap")&&(o=S[T].metadata.cmap.unicode.codeMap[k[w].charCodeAt(0)]),o||k[w].charCodeAt(0)<256&&S[T].metadata.hasOwnProperty("Unicode")?R+=k[w]:R+="";var F="";return parseInt(T.slice(1))<14||C==="WinAnsiEncoding"?F=v(R,T).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(F=n(R,S[T])),m.isHex=!0,{text:F,x:l,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Je),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Je.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,f,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,C=0;this.__bidiEngine__={};var F=function(E){var P=E.charCodeAt(),x=P>>8,Q=T[x];return Q!==void 0?m[256*Q+(255&P)]:x===252||x===253?"AL":w.test(x)?"L":x===8?"R":"N"},J=function(E){for(var P,x=0;x<E.length;x++){if((P=F(E.charAt(x)))==="L")return!1;if(P==="R")return!0}return!1},ne=function(E,P,x,Q){var ae,me,ge,Z,ue=P[Q];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(ue="AN");break;case"AL":k=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":Q<1||Q+1>=P.length||(ae=x[Q-1])!=="EN"&&ae!=="AN"||(me=P[Q+1])!=="EN"&&me!=="AN"?ue="N":k&&(me="AN"),ue=me===ae?me:"N";break;case"ES":ue=(ae=Q>0?x[Q-1]:"B")==="EN"&&Q+1<P.length&&P[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&x[Q-1]==="EN"){ue="EN";break}if(k){ue="N";break}for(ge=Q+1,Z=P.length;ge<Z&&P[ge]==="ET";)ge++;ue=ge<Z&&P[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=P.length,ge=Q+1;ge<Z&&P[ge]==="NSM";)ge++;if(ge<Z){var be=E[Q],we=be>=1425&&be<=2303||be===64286;if(ae=P[ge],we&&(ae==="R"||ae==="AL")){ue="R";break}}}ue=Q<1||(ae=P[Q-1])==="B"?"N":x[Q-1];break;case"B":k=!1,i=!0,ue=C;break;case"S":s=!0,ue="N"}return ue},V=function(E,P,x){var Q=E.split("");return x&&A(Q,x,{hiLevel:C}),Q.reverse(),P&&P.reverse(),Q.join("")},A=function(E,P,x){var Q,ae,me,ge,Z,ue=-1,be=E.length,we=0,M=[],W=C?p:v,X=[];for(k=!1,i=!1,s=!1,ae=0;ae<be;ae++)X[ae]=F(E[ae]);for(me=0;me<be;me++){if(Z=we,M[me]=ne(E,X,M,me),Q=240&(we=W[Z][S[M[me]]]),we&=15,P[me]=ge=W[we][5],Q>0)if(Q===16){for(ae=ue;ae<me;ae++)P[ae]=1;ue=-1}else ue=-1;if(W[we][6])ue===-1&&(ue=me);else if(ue>-1){for(ae=ue;ae<me;ae++)P[ae]=ge;ue=-1}X[me]==="B"&&(P[me]=0),x.hiLevel|=ge}s&&function(te,se,he){for(var ye=0;ye<he;ye++)if(te[ye]==="S"){se[ye]=C;for(var ve=ye-1;ve>=0&&te[ve]==="WS";ve--)se[ve]=C}}(X,P,be)},I=function(E,P,x,Q,ae){if(!(ae.hiLevel<E)){if(E===1&&C===1&&!i)return P.reverse(),void(x&&x.reverse());for(var me,ge,Z,ue,be=P.length,we=0;we<be;){if(Q[we]>=E){for(Z=we+1;Z<be&&Q[Z]>=E;)Z++;for(ue=we,ge=Z-1;ue<ge;ue++,ge--)me=P[ue],P[ue]=P[ge],P[ge]=me,x&&(me=x[ue],x[ue]=x[ge],x[ge]=me);we=Z}we++}}},L=function(E,P,x){var Q=E.split(""),ae={hiLevel:C};return x||(x=[]),A(Q,x,ae),function(me,ge,Z){if(Z.hiLevel!==0&&f)for(var ue,be=0;be<me.length;be++)ge[be]===1&&(ue=R.indexOf(me[be]))>=0&&(me[be]=R[ue+1])}(Q,x,ae),I(2,Q,P,x,ae),I(1,Q,P,x,ae),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(E,P,x){if(function(ae,me){if(me)for(var ge=0;ge<ae.length;ge++)me[ge]=ge;a===void 0&&(a=J(ae)),u===void 0&&(u=J(ae))}(E,P),o||!l||u)if(o&&l&&a^u)C=a?1:0,E=V(E,P,x);else if(!o&&l&&u)C=a?1:0,E=L(E,P,x),E=V(E,P);else if(!o||a||l||u){if(o&&!l&&a^u)E=V(E,P),a?(C=0,E=L(E,P,x)):(C=1,E=L(E,P,x),E=V(E,P));else if(o&&a&&!l&&u)C=1,E=L(E,P,x),E=V(E,P);else if(!o&&!l&&a^u){var Q=f;a?(C=1,E=L(E,P,x),C=0,f=!1,E=L(E,P,x),f=Q):(C=0,E=L(E,P,x),E=V(E,P),C=1,f=!1,E=L(E,P,x),f=Q,E=V(E,P))}}else C=0,E=L(E,P,x);else C=a?1:0,E=L(E,P,x);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Je),Je.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new $a(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $D(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new LD(this.contents),this.head=new DD(this),this.name=new VD(this),this.cmap=new EA(this),this.toUnicode={},this.hhea=new OD(this),this.maxp=new BD(this),this.hmtx=new UD(this),this.post=new MD(this),this.os2=new FD(this),this.loca=new WD(this),this.glyf=new zD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Is,$a=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),LD=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,f,m,v,p,S,T;for(T in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),o=Math.floor(m/l),f=16*p-m,(i=new $a).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(f),s=16*p,u=i.pos+s,a=null,S=[],n)for(v=n[T],i.writeString(T),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),S=S.concat(v),T==="head"&&(a=u),u+=v.length;u%4;)S.push(0),u++;return i.write(S),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=AA.call(n);n.length%4;)n.push(0);for(s=new $a(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),RD={}.hasOwnProperty,to=function(t,e){for(var n in e)RD.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Is=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var DD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new $a).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Qw=function(){function t(e,n){var r,i,s,o,a,l,u,f,m,v,p,S,T,R,w,k,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var F,J;for(J=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)J.push(e.readUInt16());return J}(),e.pos+=2,T=function(){var F,J;for(J=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)J.push(e.readUInt16());return J}(),u=function(){var F,J;for(J=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)J.push(e.readUInt16());return J}(),f=function(){var F,J;for(J=[],l=F=0;0<=v?F<v:F>v;l=0<=v?++F:--F)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,J;for(J=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)J.push(e.readUInt16());return J}(),l=w=0,C=s.length;w<C;l=++w)for(R=s[l],r=k=S=T[l];S<=R?k<=R:k>=R;r=S<=R?++k:--k)f[l]===0?o=r+u[l]:(o=a[f[l]/2+(r-S)-(v-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=m}return t.encode=function(e,n){var r,i,s,o,a,l,u,f,m,v,p,S,T,R,w,k,C,F,J,ne,V,A,I,L,E,P,x,Q,ae,me,ge,Z,ue,be,we,M,W,X,te,se,he,ye,ve,xe,Pe,Me;switch(Q=new $a,o=Object.keys(e).sort(function(Ve,_e){return Ve-_e}),n){case"macroman":for(T=0,R=function(){var Ve=[];for(S=0;S<256;++S)Ve.push(0);return Ve}(),k={0:0},s={},ae=0,ue=o.length;ae<ue;ae++)k[ve=e[i=o[ae]]]==null&&(k[ve]=++T),s[i]={old:e[i],new:k[e[i]]},R[i]=k[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(R),{charMap:s,subtable:Q.data,maxGlyphID:T+1};case"unicode":for(P=[],m=[],C=0,k={},r={},w=u=null,me=0,be=o.length;me<be;me++)k[J=e[i=o[me]]]==null&&(k[J]=++C),r[i]={old:J,new:k[J]},a=k[J]-i,w!=null&&a===u||(w&&m.push(w),P.push(i),u=a),w=i;for(w&&m.push(w),m.push(65535),P.push(65535),L=2*(I=P.length),A=2*Math.pow(Math.log(I)/Math.LN2,2),v=Math.log(A/2)/Math.LN2,V=2*I-A,l=[],ne=[],p=[],S=ge=0,we=P.length;ge<we;S=++ge){if(E=P[S],f=m[S],E===65535){l.push(0),ne.push(0);break}if(E-(x=r[E].new)>=32768)for(l.push(0),ne.push(2*(p.length+I-S)),i=Z=E;E<=f?Z<=f:Z>=f;i=E<=f?++Z:--Z)p.push(r[i].new);else l.push(x-E),ne.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*I+2*p.length),Q.writeUInt16(0),Q.writeUInt16(L),Q.writeUInt16(A),Q.writeUInt16(v),Q.writeUInt16(V),he=0,M=m.length;he<M;he++)i=m[he],Q.writeUInt16(i);for(Q.writeUInt16(0),ye=0,W=P.length;ye<W;ye++)i=P[ye],Q.writeUInt16(i);for(xe=0,X=l.length;xe<X;xe++)a=l[xe],Q.writeUInt16(a);for(Pe=0,te=ne.length;Pe<te;Pe++)F=ne[Pe],Q.writeUInt16(F);for(Me=0,se=p.length;Me<se;Me++)T=p[Me],Q.writeUInt16(T);return{charMap:r,subtable:Q.data,maxGlyphID:C+1}}},t}(),EA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Qw(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Qw.encode(e,n),(i=new $a).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),OD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),FD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),MD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),jD=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},VD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,f,m,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=f=0,m=r.length;f<m;s=++f)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new jD(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),BD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),UD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,m,v;for(v=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),AA=[].slice,zD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new $a(n.read(i))).readShort(),u=a.readShort(),m=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new HD(a,u,m,l,f):new qD(a,o,u,m,l,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),qD=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),HD=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new $a(AA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),WD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),$D=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,f,m,v,p,S,T,R,w;for(i in r=EA.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(S in v=r.maxGlyphID,o)S in p||(p[S]=v++);return f=function(k){var C,F;for(C in F={},k)F[k[C]]=C;return F}(p),m=Object.keys(f).sort(function(k,C){return k-C}),T=function(){var k,C,F;for(F=[],k=0,C=m.length;k<C;k++)a=m[k],F.push(f[a]);return F}(),s=this.font.glyf.encode(o,T,p),u=this.font.loca.encode(s.offsets,T),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t}();Je.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function xA(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,f=/\r\n|\r|\n/g,m="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof t=="string"?t.split(f):t,v=m.length||1),n+=a*(2-s),r.valign==="middle"?n-=v/2*u:r.valign==="bottom"&&(n-=v*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),m&&v>=1){for(var S=0;S<m.length;S++)i.text(m[S],e-i.getStringUnitWidth(m[S])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Yw={},zu=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Yw=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Yw||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),S1=function(t,e){return S1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},S1(t,e)};function IA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");S1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var TA=function(t){IA(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function GD(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function KD(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Op(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function NA(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=kA(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function kA(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function bm(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function PA(t,e){var n=bm(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function QD(t,e,n,r,i){var s={},o=1.3333333333333333,a=Hg(e,function(C){return i.getComputedStyle(C).backgroundColor});a!=null&&(s.fillColor=a);var l=Hg(e,function(C){return i.getComputedStyle(C).color});l!=null&&(s.textColor=l);var u=XD(r,n);u&&(s.cellPadding=u);var f="borderTopColor",m=o*n,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var p=(parseFloat(v)||0)/m;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var S=Hg(e,function(C){return i.getComputedStyle(C)[f]});S!=null&&(s.lineColor=S);var T=["left","right","center","justify"];T.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),T=["middle","bottom","top"],T.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var R=parseInt(r.fontSize||"");isNaN(R)||(s.fontSize=R/o);var w=YD(r);w&&(s.fontStyle=w);var k=(r.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(s.font=k),s}function YD(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Hg(t,e){var n=CA(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function CA(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:CA(t.parentElement,e):n}function XD(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=bm(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function LA(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],m=[],v=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:v};for(var p=0;p<a.rows.length;p++){var S=a.rows[p],T=(o=(s=S==null?void 0:S.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),R=JD(l,u,n,S,r,i);R&&(T==="thead"?f.push(R):T==="tfoot"?v.push(R):m.push(R))}return{head:f,body:m,foot:v}}function JD(t,e,n,r,i,s){for(var o=new TA(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=QD(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:ZD(l)})}}var m=n.getComputedStyle(r);if(o.length>0&&(i||m.display!=="none"))return o}function ZD(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function eO(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ko(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function RA(t,e){var n=new zu(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();eO(i,r,e);var s=ko({},i,r,e),o;typeof window<"u"&&(o=window);var a=tO(i,r,e),l=nO(i,r,e),u=rO(n,s),f=sO(n,s,o);return{id:e.tableId,content:f,hooks:l,styles:a,settings:u}}function tO(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],m=n[l];r.columnStyles=ko({},u,f,m)}else{var v=[t,e,n],p=v.map(function(S){return S[l]||{}});r[l]=ko({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function nO(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function rO(t,e){var n,r,i,s,o,a,l,u,f,m,v,p,S=bm(e.margin,40/t.scaleFactor()),T=(n=iO(t,e.startY))!==null&&n!==void 0?n:S.top,R;e.showFoot===!0?R="everyPage":e.showFoot===!1?R="never":R=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var k=(s=e.useCss)!==null&&s!==void 0?s:!1,C=e.theme||(k?"plain":"striped"),F=!!e.horizontalPageBreak,J=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:k,theme:C,startY:T,margin:S,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:w,showFoot:R,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:F,horizontalPageBreakRepeat:J,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function iO(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function sO(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=LA(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||oO(r,i,s);return{columns:l,head:r,body:i,foot:s}}function oO(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var E1=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),aO=function(t){IA(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(E1),lO=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],f=new aO(e,this,r,i,s,o),m=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new E1(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new E1(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),DA=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof TA&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),OA=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=bm(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),uO=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function cO(t,e){hO(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=A1(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=A1(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),dO(e),pO(e,t),fO(e)}function hO(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=PA(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,l,null);var m=u.padding("horizontal");u.contentWidth=Op(u.text,u.styles,t)+m;var v=Op(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(l.minWidth=m,l.wrappedWidth=m)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function A1(t,e,n){for(var r=e,i=t.reduce(function(p,S){return p+S.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,f=n(o),m=u<f?f:u;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(p){return e<0?p.width>n(p):!0});v.length&&(e=A1(v,e,n))}return e}function fO(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var m=r.length-i,v=f.rowSpan>m?m:f.rowSpan;e[l.index]={cell:f,left:v,row:s}}}}}function dO(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function pO(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Xw(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Xw(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,f);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<v*u.rowSpan?n={height:v,count:u.rowSpan}:n&&n.count>0&&n.height>v&&(v=n.height),v>s.height&&(s.height=v)}}n.count--}}function Xw(t,e,n,r,i){return t.map(function(s){return mO(s,e,n,r,i)})}function mO(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Op(t,n,r))return t;for(;e<Op(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function FA(t,e){var n=new zu(t),r=gO(e,n.scaleFactor()),i=new lO(e,r);return cO(n,i),n.applyStyles(n.userStyles),i}function gO(t,e){var n=t.content,r=yO(n.columns);if(n.head.length===0){var i=Jw(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Jw(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:Wg("head",n.head,r,o,s,e),body:Wg("body",n.body,r,o,s,e),foot:Wg("foot",n.foot,r,o,s,e)}}function Wg(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var f=0,m={},v=0,p=0,S=0,T=n;S<T.length;S++){var R=T[S];if(o[R.index]==null||o[R.index].left===0)if(p===0){var w=void 0;Array.isArray(l)?w=l[R.index-v-f]:w=l[R.dataKey];var k={};typeof w=="object"&&!Array.isArray(w)&&(k=(w==null?void 0:w.styles)||{});var C=_O(t,R,u,i,r,s,k),F=new OA(w,C,t);m[R.dataKey]=F,m[R.index]=F,p=F.colSpan-1,o[R.index]={left:F.rowSpan-1,times:p}}else p--,v++;else o[R.index].left--,p=o[R.index].times,f++}return new DA(l,u,t,m)});return a}function Jw(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=vO(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function vO(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function yO(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new uO(i,e,n)})}function _O(t,e,n,r,i,s,o){var a=KD(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=ko({},a.table,a[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?f:{},v=t==="body"&&n%2===0?ko({},a.alternateRow,i.alternateRowStyles):{},p=GD(s),S=ko({},p,u,v,m);return ko(S,o)}function wO(t,e,n){var r;n===void 0&&(n={});var i=PA(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var p=e.columns.find(function(S){return S.dataKey===v||S.index===v});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(u||i>=m)u=!1,o.push(f),a.push(e.columns[f]),i-=m;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function bO(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=wO(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function MA(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(v,p){return v+p.height},0);a+=u}var f=new zu(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&(VA(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var m=ko({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?SO(f,e,m,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(v){return Bo(f,e,v,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(v,p){var S=p===e.body.length-1;Fp(f,e,v,S,m,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(v){return Bo(f,e,v,s,e.columns)})),NA(f,e,m,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function SO(t,e,n,r){var i=bO(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Eh(t,e,n,r,u.columns,!0):Zw(t,e,r,u.columns),EO(t,e,n,r,u.columns),$g(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?Eh(t,e,n,r,f,!0):Zw(t,e,r,f),u=eb(t,e,o+1,r,f),$g(t,e,r,f)}var m=u-o;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),Eh(t,e,n,r,v.columns,!0),eb(t,e,o+1,r,v.columns,m),$g(t,e,r,v.columns)}),o=u};o<e.body.length-1;)l()}function Zw(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Bo(t,e,s,n,r)})}function EO(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;Fp(t,e,s,a,n,r,i)})}function eb(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var f=n+u===e.body.length-1,m=jA(t,e,f,r);l.canEntireRowFit(m,i)&&(Bo(t,e,l,r,i),a=n+u)}),a}function $g(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Bo(t,e,s,n,r)})}function AO(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function xO(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new OA(u.raw,u.styles,u.section);f=ko(f,u),f.text=[];var m=AO(u,e,r);u.text.length>m&&(f.text=u.text.splice(m,u.text.length));var v=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(v,p),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var S=new DA(t.raw,-1,t.section,i,!0);S.height=s;for(var T=0,R=n.columns;T<R.length;T++){var l=R[T],f=S.cells[l.index];f&&(f.height=S.height);var u=t.cells[l.index];u&&(u.height=t.height)}return S}function IO(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>a;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function Fp(t,e,n,r,i,s,o){var a=jA(t,e,r,s);if(n.canEntireRowFit(a,o))Bo(t,e,n,s,o);else if(IO(t,n,a,e)){var l=xO(n,a,e,t);Bo(t,e,n,s,o),Eh(t,e,i,s,o),Fp(t,e,l,r,i,s,o)}else Eh(t,e,i,s,o),Fp(t,e,n,r,i,s,o)}function Bo(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}TO(t,l,r);var f=l.getTextPos();xA(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function TO(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=kA(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),NO(t,e,n,r.lineWidth))}function NO(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,f,m,v,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,m,v,p,"S")}}function jA(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Eh(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Bo(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;NA(t,e,n,r),VA(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Bo(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function VA(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function kO(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=RA(this,r),s=FA(this,i);return MA(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){xA(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return zu.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){zu.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new zu(this),s=LA(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Gg;function BA(t,e){var n=RA(t,e),r=FA(t,n);MA(t,r)}try{if(typeof window<"u"&&window){var tb=window,nb=tb.jsPDF||((Gg=tb.jspdf)===null||Gg===void 0?void 0:Gg.jsPDF);nb&&kO(nb)}}catch(t){console.error("Could not apply autoTable plugin",t)}function PO({shooters:t,scores:e,competitions:n}){const[r,i]=wt.useState(n.length>0?n[0].id:"");wt.useEffect(()=>{n.length>0&&!r&&i(n[0].id)},[n,r]);const s=n.find(v=>v.id===r),o=(s==null?void 0:s.skiljemal)||[1,2,3],a=Array.from(new Set(e.filter(v=>v.competitionId===r).map(v=>v.station))).sort((v,p)=>v-p),l=["ppen","dam","veteran","ungdom","junior med std"],u={};t.forEach(v=>{const p=e.filter(w=>w.shooterId===v.id&&w.competitionId===r),S={},T={};p.forEach(w=>{S[w.station]=(S[w.station]||0)+w.total;const k=w.shots?w.shots.filter(C=>C.femetta&&(C.value===5||C.value===10)).length:w.femettor||0;T[w.station]=(T[w.station]||0)+k});const R=Object.values(S).reduce((w,k)=>w+k,0);u[v.klass]||(u[v.klass]=[]),u[v.klass].push({...v,total:R,stationTotals:S,stationFemettors:T})});function f(v,p){var S,T,R,w;if(p.total!==v.total)return p.total-v.total;for(const k of o){const C=((S=v.stationTotals)==null?void 0:S[k])||0,F=((T=p.stationTotals)==null?void 0:T[k])||0;if(F!==C)return F-C}for(const k of o){const C=((R=v.stationFemettors)==null?void 0:R[k])||0,F=((w=p.stationFemettors)==null?void 0:w[k])||0;if(F!==C)return F-C}return 0}l.forEach(v=>{var p;return(p=u[v])==null?void 0:p.sort(f)});const m=()=>{const v=new Je({orientation:"portrait",unit:"mm",format:"a4"});v.setFontSize(16),v.text("Resultatlista",105,20,{align:"center"}),v.setFontSize(13),v.text((s==null?void 0:s.name)||"",105,28,{align:"center"}),v.setFontSize(11),v.text(`Skiljeml: ${o.map((S,T)=>`Skilje ${T+1}: St ${S}`).join(", ")}`,60,36);let p=42;l.forEach(S=>{var k;const T=[];u[S]&&u[S].length>0?u[S].forEach((C,F)=>{T.push([`${F+1}`,C.name,C.club,...a.map(J=>String(C.stationTotals[J]||0)),...o.map(J=>`${C.stationTotals[J]||0}/${C.stationFemettors[J]||0}`),String(C.total)])}):T.push(["Inga deltagare"]);const R=[["Plats","Skytt","Ort",...a.map(C=>"St "+C),...o.map((C,F)=>`Skilje ${F+1}`),"Summa"]],w=BA(v,{startY:p,head:R,body:T,theme:"grid",styles:{fontSize:8,cellPadding:2,halign:"left",valign:"middle"},headStyles:{fontSize:9,fillColor:[71,85,105],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:10,right:10},didDrawPage:C=>{v.setFontSize(12),v.text(S,10,C.settings.startY-4)}});p=((w==null?void 0:w.finalY)??((k=v.lastAutoTable)==null?void 0:k.finalY)??p)+10}),v.save(`resultatlista_${(s==null?void 0:s.name)||""}.pdf`)};return H.jsxs("section",{children:[H.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[H.jsx(LE,{className:"w-6 h-6"}),"Resultatlista"]}),H.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center bg-primary-50 p-4 rounded-lg border border-primary-200",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("label",{className:"text-sm font-medium text-primary-700",children:"Vlj deltvling:"}),H.jsx("select",{value:r,onChange:v=>i(v.target.value),className:"border border-primary-300 p-2 rounded-lg min-w-[180px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:n.map(v=>H.jsx("option",{value:v.id,children:v.name},v.id))})]}),H.jsxs("span",{className:"text-primary-700 text-sm font-medium",children:["Skiljeml: ",o.map(v=>`St ${v}`).join(", ")]}),H.jsx("button",{onClick:m,className:"bg-primary-700 hover:bg-primary-800 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-colors ml-auto",children:"Exportera som PDF"})]}),l.map(v=>H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"text-lg font-semibold mb-4 capitalize text-primary-800 bg-primary-100 px-3 py-2 rounded-lg",children:v}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs("table",{className:"min-w-full border border-primary-200 rounded-lg text-sm bg-white",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-primary-100 border-b border-primary-200",children:[H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Plats"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Skytt"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Ort"}),a.map(p=>H.jsxs("th",{className:"p-3 text-left font-medium text-primary-800",children:["St ",p]},p)),o.map((p,S)=>H.jsxs("th",{className:"p-3 text-left font-medium text-primary-800",children:["Skilje ",S+1]},"skilje"+p)),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Summa"})]})}),H.jsx("tbody",{children:(u[v]||[]).length===0?H.jsx("tr",{children:H.jsx("td",{className:"p-3 text-primary-500",colSpan:4+a.length+o.length,children:"Inga deltagare"})}):u[v].map((p,S)=>H.jsxs("tr",{className:"border-b border-primary-100 hover:bg-primary-50 transition-colors",children:[H.jsxs("td",{className:"p-3 font-medium",children:[S+1,S===0&&H.jsx("span",{className:"ml-2 text-amber-500",children:H.jsx(wh,{className:"w-4 h-4 inline"})}),S===1&&H.jsx("span",{className:"ml-2 text-primary-400",children:H.jsx(wh,{className:"w-4 h-4 inline"})}),S===2&&H.jsx("span",{className:"ml-2 text-amber-600",children:H.jsx(wh,{className:"w-4 h-4 inline"})})]}),H.jsx("td",{className:"p-3 font-medium text-primary-800",children:p.name}),H.jsx("td",{className:"p-3 text-primary-600",children:p.club}),a.map(T=>H.jsx("td",{className:"p-3 font-mono text-primary-700",children:p.stationTotals[T]||0},T)),o.map((T,R)=>H.jsx("td",{className:"p-3 font-mono text-primary-700 font-medium",children:(p.stationTotals[T]||0)+"/"+(p.stationFemettors[T]||0)},"skilje"+T)),H.jsx("td",{className:"p-3 font-bold text-primary-800",children:p.total})]},p.id))})]})})]},v))]})}function CO({shooters:t,scores:e,competitions:n}){const r=["ppen","dam","veteran","ungdom","junior med std"],i={};n.forEach(a=>{i[a.id]={};const l=a.skiljemal||[1,2,3];r.forEach(u=>{const m=t.filter(S=>S.klass===u).map(S=>{const T=e.filter(C=>C.shooterId===S.id&&C.competitionId===a.id);if(T.length===0)return{...S,total:-1,stationTotals:{},stationFemettors:{},participated:!1};const R={},w={};T.forEach(C=>{R[C.station]=(R[C.station]||0)+C.total;const F=C.shots?C.shots.filter(J=>J.femetta&&(J.value===5||J.value===10)).length:C.femettor||0;w[C.station]=(w[C.station]||0)+F});const k=Object.values(R).reduce((C,F)=>C+F,0);return{...S,total:k,stationTotals:R,stationFemettors:w,participated:!0}}).filter(S=>S.participated);function v(S,T){var R,w,k,C;if(T.total!==S.total)return T.total-S.total;for(const F of l){const J=((R=S.stationTotals)==null?void 0:R[F])||0,ne=((w=T.stationTotals)==null?void 0:w[F])||0;if(ne!==J)return ne-J}for(const F of l){const J=((k=S.stationFemettors)==null?void 0:k[F])||0,ne=((C=T.stationFemettors)==null?void 0:C[F])||0;if(ne!==J)return ne-J}return 0}m.sort(v);let p=1;for(let S=0;S<m.length;S++)S>0&&v(m[S-1],m[S])!==0&&(p=S+1),i[a.id][m[S].id]=p})});const s={};r.forEach(a=>{const u=t.filter(f=>f.klass===a).map(f=>{const m=n.map(T=>{var R;return((R=i[T.id])==null?void 0:R[f.id])||1e3}),S=[...m].sort((T,R)=>T-R).slice(0,5).reduce((T,R)=>T+R,0);return{...f,placements:m,cupTotal:S}}).filter(f=>f.cupTotal<5e3);u.sort((f,m)=>f.cupTotal-m.cupTotal),s[a]=u});const o=()=>{const a=new Je({orientation:"landscape",unit:"mm",format:"a4"});a.setFontSize(16),a.text("Cupresultat",148.5,20,{align:"center"});let l=30;r.forEach(u=>{var f;if(s[u]&&s[u].length>0){l>180&&(a.addPage(),l=20);const m=[["Plats","Skytt","Ort",...n.map(S=>S.name.split(" ").pop()),"Totalpong"]],v=s[u].map((S,T)=>[T+1,S.name,S.club,...S.placements.map(R=>R===1e3?"-":R),S.cupTotal]),p=BA(a,{startY:l,head:m,body:v,theme:"grid",styles:{fontSize:8,cellPadding:2,halign:"left",valign:"middle"},didDrawPage:S=>{a.setFontSize(12),a.text(u.charAt(0).toUpperCase()+u.slice(1),14,S.settings.startY-4)},headStyles:{fontSize:9,fillColor:[71,85,105],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:14,right:14}});l=((p==null?void 0:p.finalY)??((f=a.lastAutoTable)==null?void 0:f.finalY)??l)+10}}),a.save("cupresultat_landbys_cup.pdf")};return H.jsxs("section",{children:[H.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[H.jsxs("h2",{className:"text-xl font-semibold text-primary-800 flex items-center gap-3",children:[H.jsx(wh,{className:"w-6 h-6"}),"Cupresultat"]}),H.jsx("button",{onClick:o,className:"bg-primary-700 hover:bg-primary-800 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-colors",children:"Exportera som PDF"})]}),H.jsxs("p",{className:"text-sm text-primary-600 mb-4 bg-primary-50 p-3 rounded-lg border border-primary-200",children:["Totalpongen baseras p de ",H.jsx("strong",{children:"5 bsta placeringarna"})," av de 7 deltvlingarna. Lgst pong vinner. Skytt som ej deltagit i en deltvling fr 1000 pong och visas som -."]}),r.map(a=>s[a]&&s[a].length>0&&H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"text-lg font-semibold mb-4 capitalize text-primary-800 bg-primary-100 px-3 py-2 rounded-lg",children:a}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs("table",{className:"min-w-full border border-primary-200 rounded-lg text-sm bg-white",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-primary-100 border-b border-primary-200",children:[H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Plats"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Skytt"}),H.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Ort"}),n.map(l=>H.jsx("th",{className:"p-3 text-center font-medium text-primary-800",title:l.name,children:l.name.replace("Deltvling","Dt")},l.id)),H.jsx("th",{className:"p-3 text-right font-medium text-primary-800",children:"Totalpong"})]})}),H.jsx("tbody",{children:s[a].map((l,u)=>H.jsxs("tr",{className:"border-b border-primary-200 last:border-0 hover:bg-primary-50",children:[H.jsx("td",{className:"p-3 font-semibold text-primary-800",children:u+1}),H.jsx("td",{className:"p-3 font-medium text-primary-800",children:l.name}),H.jsx("td",{className:"p-3 text-primary-700",children:l.club}),l.placements.map((f,m)=>H.jsx("td",{className:"p-3 text-center text-primary-700",children:f===1e3?"-":f},m)),H.jsx("td",{className:"p-3 text-right font-bold text-primary-800",children:l.cupTotal})]},l.id))})]})})]},a))]})}function LO(){const t=yv(),[e,n]=wt.useState("shooters"),[r,i]=wt.useState(!1),s=t&&(e==="competitions"||e==="scores"||e==="results"||e==="cup"),o=e==="shooters"||t&&(e==="scores"||e==="results"||e==="cup"),a=t&&(e==="scores"||e==="results"||e==="cup"),{data:l,loading:u}=bg("competitions",[a1("date")],s,"competitions"),{data:f,loading:m}=bg("shooters",[a1("startNumber")],o,"shooters"),{data:v,loading:p}=bg("scores",[],a,"scores"),S=s&&u||o&&m||a&&p;return H.jsxs(H.Fragment,{children:[H.jsx(J8,{onLoginClick:()=>i(!0)}),r&&!t&&H.jsx(Z8,{onLoginSuccess:()=>i(!1),onClose:()=>i(!1)}),H.jsx("main",{className:"max-w-6xl mx-auto mt-6 px-4 pb-10",children:H.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 md:p-8 mt-6 border border-primary-200",children:S?H.jsxs("div",{className:"flex items-center justify-center py-12",children:[H.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-700"}),H.jsx("span",{className:"ml-3 text-primary-700",children:"Laddar data..."})]}):H.jsxs(H.Fragment,{children:[H.jsxs("nav",{className:"flex flex-wrap gap-2 mb-8 justify-center md:justify-start",children:[H.jsx(Gc,{active:e==="shooters",onClick:()=>n("shooters"),icon:H.jsx(RE,{}),children:"Skyttar"}),t&&H.jsxs(H.Fragment,{children:[H.jsx(Gc,{active:e==="results",onClick:()=>n("results"),icon:H.jsx(LE,{}),children:"Resultatlistor"}),H.jsx(Gc,{active:e==="cup",onClick:()=>n("cup"),icon:H.jsx(wh,{}),children:"Cupresultat"}),H.jsx(Gc,{active:e==="competitions",onClick:()=>n("competitions"),icon:H.jsx(PE,{}),children:"Deltvlingar"}),H.jsx(Gc,{active:e==="scores",onClick:()=>n("scores"),icon:H.jsx(CE,{}),children:"Registrera Pong"})]})]}),e==="shooters"&&H.jsx(tR,{shooters:f,user:t}),t&&H.jsxs(H.Fragment,{children:[e==="competitions"&&H.jsx(eR,{competitions:l,user:t}),e==="scores"&&H.jsx(nR,{shooters:f,competitions:l,scores:v,user:t}),e==="results"&&H.jsx(PO,{shooters:f,scores:v,competitions:l}),e==="cup"&&H.jsx(CO,{shooters:f,scores:v,competitions:l})]})]})})})]})}Kg.createRoot(document.getElementById("root")).render(H.jsx(zx.StrictMode,{children:H.jsx(LO,{})}));export{on as _,DO as c,Ix as g};
