var bx=Object.defineProperty;var Sx=(t,e,n)=>e in t?bx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sn=(t,e,n)=>Sx(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var PO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ax(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tb={exports:{}},Fp={},nb={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),Ex=Symbol.for("react.portal"),xx=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),kx=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),Cx=Symbol.for("react.suspense"),Lx=Symbol.for("react.memo"),Rx=Symbol.for("react.lazy"),sy=Symbol.iterator;function Dx(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var rb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ib=Object.assign,sb={};function sc(t,e,n){this.props=t,this.context=e,this.refs=sb,this.updater=n||rb}sc.prototype.isReactComponent={};sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ob(){}ob.prototype=sc.prototype;function b1(t,e,n){this.props=t,this.context=e,this.refs=sb,this.updater=n||rb}var S1=b1.prototype=new ob;S1.constructor=b1;ib(S1,sc.prototype);S1.isPureReactComponent=!0;var oy=Array.isArray,ab=Object.prototype.hasOwnProperty,A1={current:null},lb={key:!0,ref:!0,__self:!0,__source:!0};function ub(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ab.call(e,r)&&!lb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zh,type:t,key:s,ref:o,props:i,_owner:A1.current}}function Ox(t,e){return{$$typeof:Zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function E1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zh}function Fx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ay=/\/+/g;function Om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fx(""+t.key):e.toString(36)}function md(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zh:case Ex:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Om(o,0):r,oy(i)?(n="",t!=null&&(n=t.replace(ay,"$&/")+"/"),md(i,e,n,"",function(u){return u})):i!=null&&(E1(i)&&(i=Ox(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ay,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Om(s,a);o+=md(s,e,n,l,i)}else if(l=Dx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Om(s,a++),o+=md(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jf(t,e,n){if(t==null)return t;var r=[],i=0;return md(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Mx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var si={current:null},gd={transition:null},jx={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:gd,ReactCurrentOwner:A1};function cb(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:jf,forEach:function(t,e,n){jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jf(t,function(){e++}),e},toArray:function(t){return jf(t,function(e){return e})||[]},only:function(t){if(!E1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=sc;Dt.Fragment=xx;Dt.Profiler=Tx;Dt.PureComponent=b1;Dt.StrictMode=Ix;Dt.Suspense=Cx;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx;Dt.act=cb;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ib({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=A1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ab.call(e,l)&&!lb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zh,type:t.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:kx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nx,_context:t},t.Consumer=t};Dt.createElement=ub;Dt.createFactory=function(t){var e=ub.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:Px,render:t}};Dt.isValidElement=E1;Dt.lazy=function(t){return{$$typeof:Rx,_payload:{_status:-1,_result:t},_init:Mx}};Dt.memo=function(t,e){return{$$typeof:Lx,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=gd.transition;gd.transition={};try{t()}finally{gd.transition=e}};Dt.unstable_act=cb;Dt.useCallback=function(t,e){return si.current.useCallback(t,e)};Dt.useContext=function(t){return si.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return si.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return si.current.useEffect(t,e)};Dt.useId=function(){return si.current.useId()};Dt.useImperativeHandle=function(t,e,n){return si.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return si.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return si.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return si.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return si.current.useReducer(t,e,n)};Dt.useRef=function(t){return si.current.useRef(t)};Dt.useState=function(t){return si.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return si.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return si.current.useTransition()};Dt.version="18.3.1";nb.exports=Dt;var x1=nb.exports;const Nt=Ax(x1);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=x1,Ux=Symbol.for("react.element"),Bx=Symbol.for("react.fragment"),zx=Object.prototype.hasOwnProperty,qx=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hx={key:!0,ref:!0,__self:!0,__source:!0};function hb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zx.call(e,r)&&!Hx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ux,type:t,key:s,ref:o,props:i,_owner:qx.current}}Fp.Fragment=Bx;Fp.jsx=hb;Fp.jsxs=hb;tb.exports=Fp;var K=tb.exports,Wg={},fb={exports:{}},zi={},db={exports:{}},pb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,le){var be=Z.length;Z.push(le);e:for(;0<be;){var we=be-1>>>1,F=Z[we];if(0<i(F,le))Z[we]=le,Z[be]=F,be=we;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],be=Z.pop();if(be!==le){Z[0]=be;e:for(var we=0,F=Z.length,H=F>>>1;we<H;){var Y=2*(we+1)-1,te=Z[Y],se=Y+1,ce=Z[se];if(0>i(te,be))se<F&&0>i(ce,te)?(Z[we]=ce,Z[se]=be,we=se):(Z[we]=te,Z[Y]=be,we=Y);else if(se<F&&0>i(ce,be))Z[we]=ce,Z[se]=be,we=se;else break e}}return le}function i(Z,le){var be=Z.sortIndex-le.sortIndex;return be!==0?be:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,m=null,v=3,p=!1,E=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Z){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=Z)r(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(u)}}function j(Z){if(T=!1,C(Z),!E)if(n(l)!==null)E=!0,ye(X);else{var le=n(u);le!==null&&ge(j,le.startTime-Z)}}function X(Z,le){E=!1,T&&(T=!1,w(x),x=-1),p=!0;var be=v;try{for(C(le),m=n(l);m!==null&&(!(m.expirationTime>le)||Z&&!S());){var we=m.callback;if(typeof we=="function"){m.callback=null,v=m.priorityLevel;var F=we(m.expirationTime<=le);le=t.unstable_now(),typeof F=="function"?m.callback=F:m===n(l)&&r(l),C(le)}else r(l);m=n(l)}if(m!==null)var H=!0;else{var Y=n(u);Y!==null&&ge(j,Y.startTime-le),H=!1}return H}finally{m=null,v=be,p=!1}}var re=!1,V=null,x=-1,b=5,P=-1;function S(){return!(t.unstable_now()-P<b)}function k(){if(V!==null){var Z=t.unstable_now();P=Z;var le=!0;try{le=V(!0,Z)}finally{le?L():(re=!1,V=null)}}else re=!1}var L;if(typeof N=="function")L=function(){N(k)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,pe=J.port2;J.port1.onmessage=k,L=function(){pe.postMessage(null)}}else L=function(){D(k,0)};function ye(Z){V=Z,re||(re=!0,L())}function ge(Z,le){x=D(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){E||p||(E=!0,ye(X))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var be=v;v=le;try{return Z()}finally{v=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var be=v;v=Z;try{return le()}finally{v=be}},t.unstable_scheduleCallback=function(Z,le,be){var we=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?we+be:we):be=we,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=be+F,Z={id:f++,callback:le,priorityLevel:Z,startTime:be,expirationTime:F,sortIndex:-1},be>we?(Z.sortIndex=be,e(u,Z),n(l)===null&&Z===n(u)&&(T?(w(x),x=-1):T=!0,ge(j,be-we))):(Z.sortIndex=F,e(l,Z),E||p||(E=!0,ye(X))),Z},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(Z){var le=v;return function(){var be=v;v=le;try{return Z.apply(this,arguments)}finally{v=be}}}})(pb);db.exports=pb;var Wx=db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=x1,Bi=Wx;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mb=new Set,Eh={};function Hl(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(Eh[t]=e,t=0;t<e.length;t++)mb.add(e[t])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,Gx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ly={},uy={};function Kx(t){return $g.call(uy,t)?!0:$g.call(ly,t)?!1:Gx.test(t)?uy[t]=!0:(ly[t]=!0,!1)}function Qx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yx(t,e,n,r){if(e===null||typeof e>"u"||Qx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var I1=/[\-:]([a-z])/g;function T1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(I1,T1);Pr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(I1,T1);Pr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(I1,T1);Pr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function N1(t,e,n,r){var i=Pr.hasOwnProperty(e)?Pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yx(e,n,i,r)&&(n=null),r||i===null?Kx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Uo=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),du=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),P1=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Qg=Symbol.for("react.suspense_list"),C1=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),yb=Symbol.for("react.offscreen"),cy=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,Fm;function Yc(t){if(Fm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fm=e&&e[1]||""}return`
`+Fm+t}var Mm=!1;function jm(t,e){if(!t||Mm)return"";Mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yc(t):""}function Xx(t){switch(t.tag){case 5:return Yc(t.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return t=jm(t.type,!1),t;case 11:return t=jm(t.type.render,!1),t;case 1:return t=jm(t.type,!0),t;default:return""}}function Yg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pu:return"Fragment";case du:return"Portal";case Gg:return"Profiler";case k1:return"StrictMode";case Kg:return"Suspense";case Qg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vb:return(t.displayName||"Context")+".Consumer";case gb:return(t._context.displayName||"Context")+".Provider";case P1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C1:return e=t.displayName||null,e!==null?e:Yg(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return Yg(t(e))}catch{}}return null}function Jx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yg(e);case 8:return e===k1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ba(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _b(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zx(t){var e=_b(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uf(t){t._valueTracker||(t._valueTracker=Zx(t))}function wb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_b(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xg(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ba(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bb(t,e){e=e.checked,e!=null&&N1(t,"checked",e,!1)}function Jg(t,e){bb(t,e);var n=Ba(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zg(t,e.type,Ba(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zg(t,e,n){(e!=="number"||zd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xc=Array.isArray;function Nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ba(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function e0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(Xc(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ba(n)}}function Sb(t,e){var n=Ba(e.value),r=Ba(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function py(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ab(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ab(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bf,Eb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bf=Bf||document.createElement("div"),Bf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){eI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function xb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function Ib(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tI=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n0(t,e){if(e){if(tI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function r0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i0=null;function L1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s0=null,ku=null,Pu=null;function my(t){if(t=nf(t)){if(typeof s0!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Bp(e),s0(t.stateNode,t.type,e))}}function Tb(t){ku?Pu?Pu.push(t):Pu=[t]:ku=t}function Nb(){if(ku){var t=ku,e=Pu;if(Pu=ku=null,my(t),e)for(t=0;t<e.length;t++)my(e[t])}}function kb(t,e){return t(e)}function Pb(){}var Vm=!1;function Cb(t,e,n){if(Vm)return t(e,n);Vm=!0;try{return kb(t,e,n)}finally{Vm=!1,(ku!==null||Pu!==null)&&(Pb(),Nb())}}function Ih(t,e){var n=t.stateNode;if(n===null)return null;var r=Bp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var o0=!1;if(Co)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){o0=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{o0=!1}function nI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var oh=!1,qd=null,Hd=!1,a0=null,rI={onError:function(t){oh=!0,qd=t}};function iI(t,e,n,r,i,s,o,a,l){oh=!1,qd=null,nI.apply(rI,arguments)}function sI(t,e,n,r,i,s,o,a,l){if(iI.apply(this,arguments),oh){if(oh){var u=qd;oh=!1,qd=null}else throw Error(De(198));Hd||(Hd=!0,a0=u)}}function Wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gy(t){if(Wl(t)!==t)throw Error(De(188))}function oI(t){var e=t.alternate;if(!e){if(e=Wl(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gy(i),t;if(s===r)return gy(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function Rb(t){return t=oI(t),t!==null?Db(t):null}function Db(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Db(t);if(e!==null)return e;t=t.sibling}return null}var Ob=Bi.unstable_scheduleCallback,vy=Bi.unstable_cancelCallback,aI=Bi.unstable_shouldYield,lI=Bi.unstable_requestPaint,Qn=Bi.unstable_now,uI=Bi.unstable_getCurrentPriorityLevel,R1=Bi.unstable_ImmediatePriority,Fb=Bi.unstable_UserBlockingPriority,Wd=Bi.unstable_NormalPriority,cI=Bi.unstable_LowPriority,Mb=Bi.unstable_IdlePriority,Mp=null,Qs=null;function hI(t){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(Mp,t,void 0,(t.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:pI,fI=Math.log,dI=Math.LN2;function pI(t){return t>>>=0,t===0?32:31-(fI(t)/dI|0)|0}var zf=64,qf=4194304;function Jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $d(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jc(a):(s&=o,s!==0&&(r=Jc(s)))}else o=n&~i,o!==0?r=Jc(o):s!==0&&(r=Jc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_s(e),i=1<<n,r|=t[n],e&=~i;return r}function mI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_s(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function l0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jb(){var t=zf;return zf<<=1,!(zf&4194240)&&(zf=64),t}function Um(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ef(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_s(e),t[e]=n}function vI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_s(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function D1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_s(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var an=0;function Vb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ub,O1,Bb,zb,qb,u0=!1,Hf=[],Ta=null,Na=null,ka=null,Th=new Map,Nh=new Map,ga=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Th.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(e.pointerId)}}function Vc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nf(e),e!==null&&O1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _I(t,e,n,r,i){switch(e){case"focusin":return Ta=Vc(Ta,t,e,n,r,i),!0;case"dragenter":return Na=Vc(Na,t,e,n,r,i),!0;case"mouseover":return ka=Vc(ka,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Th.set(s,Vc(Th.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nh.set(s,Vc(Nh.get(s)||null,t,e,n,r,i)),!0}return!1}function Hb(t){var e=Sl(t.target);if(e!==null){var n=Wl(e);if(n!==null){if(e=n.tag,e===13){if(e=Lb(n),e!==null){t.blockedOn=e,qb(t.priority,function(){Bb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=c0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);i0=r,n.target.dispatchEvent(r),i0=null}else return e=nf(n),e!==null&&O1(e),t.blockedOn=n,!1;e.shift()}return!0}function _y(t,e,n){vd(t)&&n.delete(e)}function wI(){u0=!1,Ta!==null&&vd(Ta)&&(Ta=null),Na!==null&&vd(Na)&&(Na=null),ka!==null&&vd(ka)&&(ka=null),Th.forEach(_y),Nh.forEach(_y)}function Uc(t,e){t.blockedOn===e&&(t.blockedOn=null,u0||(u0=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,wI)))}function kh(t){function e(i){return Uc(i,t)}if(0<Hf.length){Uc(Hf[0],t);for(var n=1;n<Hf.length;n++){var r=Hf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ta!==null&&Uc(Ta,t),Na!==null&&Uc(Na,t),ka!==null&&Uc(ka,t),Th.forEach(e),Nh.forEach(e),n=0;n<ga.length;n++)r=ga[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)Hb(n),n.blockedOn===null&&ga.shift()}var Cu=Uo.ReactCurrentBatchConfig,Gd=!0;function bI(t,e,n,r){var i=an,s=Cu.transition;Cu.transition=null;try{an=1,F1(t,e,n,r)}finally{an=i,Cu.transition=s}}function SI(t,e,n,r){var i=an,s=Cu.transition;Cu.transition=null;try{an=4,F1(t,e,n,r)}finally{an=i,Cu.transition=s}}function F1(t,e,n,r){if(Gd){var i=c0(t,e,n,r);if(i===null)Ym(t,e,r,Kd,n),yy(t,r);else if(_I(i,t,e,n,r))r.stopPropagation();else if(yy(t,r),e&4&&-1<yI.indexOf(t)){for(;i!==null;){var s=nf(i);if(s!==null&&Ub(s),s=c0(t,e,n,r),s===null&&Ym(t,e,r,Kd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ym(t,e,r,null,n)}}var Kd=null;function c0(t,e,n,r){if(Kd=null,t=L1(r),t=Sl(t),t!==null)if(e=Wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kd=t,null}function Wb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uI()){case R1:return 1;case Fb:return 4;case Wd:case cI:return 16;case Mb:return 536870912;default:return 16}default:return 16}}var Sa=null,M1=null,yd=null;function $b(){if(yd)return yd;var t,e=M1,n=e.length,r,i="value"in Sa?Sa.value:Sa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return yd=i.slice(t,1<r?1-r:void 0)}function _d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function wy(){return!1}function qi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wf:wy,this.isPropagationStopped=wy,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j1=qi(oc),tf=Dn({},oc,{view:0,detail:0}),AI=qi(tf),Bm,zm,Bc,jp=Dn({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bc&&(Bc&&t.type==="mousemove"?(Bm=t.screenX-Bc.screenX,zm=t.screenY-Bc.screenY):zm=Bm=0,Bc=t),Bm)},movementY:function(t){return"movementY"in t?t.movementY:zm}}),by=qi(jp),EI=Dn({},jp,{dataTransfer:0}),xI=qi(EI),II=Dn({},tf,{relatedTarget:0}),qm=qi(II),TI=Dn({},oc,{animationName:0,elapsedTime:0,pseudoElement:0}),NI=qi(TI),kI=Dn({},oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PI=qi(kI),CI=Dn({},oc,{data:0}),Sy=qi(CI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DI[t])?!!e[t]:!1}function V1(){return OI}var FI=Dn({},tf,{key:function(t){if(t.key){var e=LI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V1,charCode:function(t){return t.type==="keypress"?_d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MI=qi(FI),jI=Dn({},jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ay=qi(jI),VI=Dn({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V1}),UI=qi(VI),BI=Dn({},oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),zI=qi(BI),qI=Dn({},jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HI=qi(qI),WI=[9,13,27,32],U1=Co&&"CompositionEvent"in window,ah=null;Co&&"documentMode"in document&&(ah=document.documentMode);var $I=Co&&"TextEvent"in window&&!ah,Gb=Co&&(!U1||ah&&8<ah&&11>=ah),Ey=" ",xy=!1;function Kb(t,e){switch(t){case"keyup":return WI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mu=!1;function GI(t,e){switch(t){case"compositionend":return Qb(e);case"keypress":return e.which!==32?null:(xy=!0,Ey);case"textInput":return t=e.data,t===Ey&&xy?null:t;default:return null}}function KI(t,e){if(mu)return t==="compositionend"||!U1&&Kb(t,e)?(t=$b(),yd=M1=Sa=null,mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gb&&e.locale!=="ko"?null:e.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QI[t.type]:e==="textarea"}function Yb(t,e,n,r){Tb(r),e=Qd(e,"onChange"),0<e.length&&(n=new j1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,Ph=null;function YI(t){a4(t,0)}function Vp(t){var e=yu(t);if(wb(e))return t}function XI(t,e){if(t==="change")return e}var Xb=!1;if(Co){var Hm;if(Co){var Wm="oninput"in document;if(!Wm){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Wm=typeof Ty.oninput=="function"}Hm=Wm}else Hm=!1;Xb=Hm&&(!document.documentMode||9<document.documentMode)}function Ny(){lh&&(lh.detachEvent("onpropertychange",Jb),Ph=lh=null)}function Jb(t){if(t.propertyName==="value"&&Vp(Ph)){var e=[];Yb(e,Ph,t,L1(t)),Cb(YI,e)}}function JI(t,e,n){t==="focusin"?(Ny(),lh=e,Ph=n,lh.attachEvent("onpropertychange",Jb)):t==="focusout"&&Ny()}function ZI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vp(Ph)}function eT(t,e){if(t==="click")return Vp(e)}function tT(t,e){if(t==="input"||t==="change")return Vp(e)}function nT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bs=typeof Object.is=="function"?Object.is:nT;function Ch(t,e){if(bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$g.call(e,i)||!bs(t[i],e[i]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Py(t,e){var n=ky(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function Zb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e4(){for(var t=window,e=zd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zd(t.document)}return e}function B1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rT(t){var e=e4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Zb(n.ownerDocument.documentElement,n)){if(r!==null&&B1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Py(n,s);var o=Py(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iT=Co&&"documentMode"in document&&11>=document.documentMode,gu=null,h0=null,uh=null,f0=!1;function Cy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f0||gu==null||gu!==zd(r)||(r=gu,"selectionStart"in r&&B1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&Ch(uh,r)||(uh=r,r=Qd(h0,"onSelect"),0<r.length&&(e=new j1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gu)))}function $f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vu={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},$m={},t4={};Co&&(t4=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function Up(t){if($m[t])return $m[t];if(!vu[t])return t;var e=vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t4)return $m[t]=e[n];return t}var n4=Up("animationend"),r4=Up("animationiteration"),i4=Up("animationstart"),s4=Up("transitionend"),o4=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(t,e){o4.set(t,e),Hl(e,[t])}for(var Gm=0;Gm<Ly.length;Gm++){var Km=Ly[Gm],sT=Km.toLowerCase(),oT=Km[0].toUpperCase()+Km.slice(1);Ga(sT,"on"+oT)}Ga(n4,"onAnimationEnd");Ga(r4,"onAnimationIteration");Ga(i4,"onAnimationStart");Ga("dblclick","onDoubleClick");Ga("focusin","onFocus");Ga("focusout","onBlur");Ga(s4,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function Ry(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sI(r,e,void 0,t),t.currentTarget=null}function a4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ry(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ry(i,a,u),s=l}}}if(Hd)throw t=a0,Hd=!1,a0=null,t}function wn(t,e){var n=e[v0];n===void 0&&(n=e[v0]=new Set);var r=t+"__bubble";n.has(r)||(l4(e,t,2,!1),n.add(r))}function Qm(t,e,n){var r=0;e&&(r|=4),l4(n,t,r,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[Gf]){t[Gf]=!0,mb.forEach(function(n){n!=="selectionchange"&&(aT.has(n)||Qm(n,!1,t),Qm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,Qm("selectionchange",!1,e))}}function l4(t,e,n,r){switch(Wb(e)){case 1:var i=bI;break;case 4:i=SI;break;default:i=F1}n=i.bind(null,e,n,t),i=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ym(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Sl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Cb(function(){var u=s,f=L1(n),m=[];e:{var v=o4.get(t);if(v!==void 0){var p=j1,E=t;switch(t){case"keypress":if(_d(n)===0)break e;case"keydown":case"keyup":p=MI;break;case"focusin":E="focus",p=qm;break;case"focusout":E="blur",p=qm;break;case"beforeblur":case"afterblur":p=qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UI;break;case n4:case r4:case i4:p=NI;break;case s4:p=zI;break;case"scroll":p=AI;break;case"wheel":p=HI;break;case"copy":case"cut":case"paste":p=PI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ay}var T=(e&4)!==0,D=!T&&t==="scroll",w=T?v!==null?v+"Capture":null:v;T=[];for(var N=u,C;N!==null;){C=N;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,w!==null&&(j=Ih(N,w),j!=null&&T.push(Rh(N,j,C)))),D)break;N=N.return}0<T.length&&(v=new p(v,E,null,n,f),m.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&n!==i0&&(E=n.relatedTarget||n.fromElement)&&(Sl(E)||E[Lo]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(E=n.relatedTarget||n.toElement,p=u,E=E?Sl(E):null,E!==null&&(D=Wl(E),E!==D||E.tag!==5&&E.tag!==6)&&(E=null)):(p=null,E=u),p!==E)){if(T=by,j="onMouseLeave",w="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(T=Ay,j="onPointerLeave",w="onPointerEnter",N="pointer"),D=p==null?v:yu(p),C=E==null?v:yu(E),v=new T(j,N+"leave",p,n,f),v.target=D,v.relatedTarget=C,j=null,Sl(f)===u&&(T=new T(w,N+"enter",E,n,f),T.target=C,T.relatedTarget=D,j=T),D=j,p&&E)t:{for(T=p,w=E,N=0,C=T;C;C=iu(C))N++;for(C=0,j=w;j;j=iu(j))C++;for(;0<N-C;)T=iu(T),N--;for(;0<C-N;)w=iu(w),C--;for(;N--;){if(T===w||w!==null&&T===w.alternate)break t;T=iu(T),w=iu(w)}T=null}else T=null;p!==null&&Dy(m,v,p,T,!1),E!==null&&D!==null&&Dy(m,D,E,T,!0)}}e:{if(v=u?yu(u):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var X=XI;else if(Iy(v))if(Xb)X=tT;else{X=ZI;var re=JI}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(X=eT);if(X&&(X=X(t,u))){Yb(m,X,n,f);break e}re&&re(t,v,u),t==="focusout"&&(re=v._wrapperState)&&re.controlled&&v.type==="number"&&Zg(v,"number",v.value)}switch(re=u?yu(u):window,t){case"focusin":(Iy(re)||re.contentEditable==="true")&&(gu=re,h0=u,uh=null);break;case"focusout":uh=h0=gu=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,Cy(m,n,f);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Cy(m,n,f)}var V;if(U1)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else mu?Kb(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Gb&&n.locale!=="ko"&&(mu||x!=="onCompositionStart"?x==="onCompositionEnd"&&mu&&(V=$b()):(Sa=f,M1="value"in Sa?Sa.value:Sa.textContent,mu=!0)),re=Qd(u,x),0<re.length&&(x=new Sy(x,t,null,n,f),m.push({event:x,listeners:re}),V?x.data=V:(V=Qb(n),V!==null&&(x.data=V)))),(V=$I?GI(t,n):KI(t,n))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(f=new Sy("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=V))}a4(m,e)})}function Rh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ih(t,n),s!=null&&r.unshift(Rh(t,s,i)),s=Ih(t,e),s!=null&&r.push(Rh(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ih(n,s),l!=null&&o.unshift(Rh(n,l,a))):i||(l=Ih(n,s),l!=null&&o.push(Rh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(uT,"")}function Kf(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(De(425))}function Yd(){}var d0=null,p0=null;function m0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g0=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(t){return Fy.resolve(null).then(t).catch(fT)}:g0;function fT(t){setTimeout(function(){throw t})}function Xm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kh(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ac=Math.random().toString(36).slice(2),Gs="__reactFiber$"+ac,Dh="__reactProps$"+ac,Lo="__reactContainer$"+ac,v0="__reactEvents$"+ac,dT="__reactListeners$"+ac,pT="__reactHandles$"+ac;function Sl(t){var e=t[Gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lo]||n[Gs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=My(t);t!==null;){if(n=t[Gs])return n;t=My(t)}return e}t=n,n=t.parentNode}return null}function nf(t){return t=t[Gs]||t[Lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Bp(t){return t[Dh]||null}var y0=[],_u=-1;function Ka(t){return{current:t}}function Sn(t){0>_u||(t.current=y0[_u],y0[_u]=null,_u--)}function gn(t,e){_u++,y0[_u]=t.current,t.current=e}var za={},Gr=Ka(za),mi=Ka(!1),Pl=za;function Wu(t,e){var n=t.type.contextTypes;if(!n)return za;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gi(t){return t=t.childContextTypes,t!=null}function Xd(){Sn(mi),Sn(Gr)}function jy(t,e,n){if(Gr.current!==za)throw Error(De(168));gn(Gr,e),gn(mi,n)}function u4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,Jx(t)||"Unknown",i));return Dn({},n,r)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||za,Pl=Gr.current,gn(Gr,t),gn(mi,mi.current),!0}function Vy(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=u4(t,e,Pl),r.__reactInternalMemoizedMergedChildContext=t,Sn(mi),Sn(Gr),gn(Gr,t)):Sn(mi),gn(mi,n)}var wo=null,zp=!1,Jm=!1;function c4(t){wo===null?wo=[t]:wo.push(t)}function mT(t){zp=!0,c4(t)}function Qa(){if(!Jm&&wo!==null){Jm=!0;var t=0,e=an;try{var n=wo;for(an=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wo=null,zp=!1}catch(i){throw wo!==null&&(wo=wo.slice(t+1)),Ob(R1,Qa),i}finally{an=e,Jm=!1}}return null}var wu=[],bu=0,Zd=null,ep=0,Ji=[],Zi=0,Cl=null,So=1,Ao="";function vl(t,e){wu[bu++]=ep,wu[bu++]=Zd,Zd=t,ep=e}function h4(t,e,n){Ji[Zi++]=So,Ji[Zi++]=Ao,Ji[Zi++]=Cl,Cl=t;var r=So;t=Ao;var i=32-_s(r)-1;r&=~(1<<i),n+=1;var s=32-_s(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,So=1<<32-_s(e)+i|n<<i|r,Ao=s+t}else So=1<<s|n<<i|r,Ao=t}function z1(t){t.return!==null&&(vl(t,1),h4(t,1,0))}function q1(t){for(;t===Zd;)Zd=wu[--bu],wu[bu]=null,ep=wu[--bu],wu[bu]=null;for(;t===Cl;)Cl=Ji[--Zi],Ji[Zi]=null,Ao=Ji[--Zi],Ji[Zi]=null,So=Ji[--Zi],Ji[Zi]=null}var Vi=null,Fi=null,Tn=!1,ys=null;function f4(t,e){var n=es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vi=t,Fi=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vi=t,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cl!==null?{id:So,overflow:Ao}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vi=t,Fi=null,!0):!1;default:return!1}}function _0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function w0(t){if(Tn){var e=Fi;if(e){var n=e;if(!Uy(t,e)){if(_0(t))throw Error(De(418));e=Pa(n.nextSibling);var r=Vi;e&&Uy(t,e)?f4(r,n):(t.flags=t.flags&-4097|2,Tn=!1,Vi=t)}}else{if(_0(t))throw Error(De(418));t.flags=t.flags&-4097|2,Tn=!1,Vi=t}}}function By(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vi=t}function Qf(t){if(t!==Vi)return!1;if(!Tn)return By(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m0(t.type,t.memoizedProps)),e&&(e=Fi)){if(_0(t))throw d4(),Error(De(418));for(;e;)f4(t,e),e=Pa(e.nextSibling)}if(By(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fi=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fi=null}}else Fi=Vi?Pa(t.stateNode.nextSibling):null;return!0}function d4(){for(var t=Fi;t;)t=Pa(t.nextSibling)}function $u(){Fi=Vi=null,Tn=!1}function H1(t){ys===null?ys=[t]:ys.push(t)}var gT=Uo.ReactCurrentBatchConfig;function zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zy(t){var e=t._init;return e(t._payload)}function p4(t){function e(w,N){if(t){var C=w.deletions;C===null?(w.deletions=[N],w.flags|=16):C.push(N)}}function n(w,N){if(!t)return null;for(;N!==null;)e(w,N),N=N.sibling;return null}function r(w,N){for(w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function i(w,N){return w=Da(w,N),w.index=0,w.sibling=null,w}function s(w,N,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<N?(w.flags|=2,N):C):(w.flags|=2,N)):(w.flags|=1048576,N)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,N,C,j){return N===null||N.tag!==6?(N=sg(C,w.mode,j),N.return=w,N):(N=i(N,C),N.return=w,N)}function l(w,N,C,j){var X=C.type;return X===pu?f(w,N,C.props.children,j,C.key):N!==null&&(N.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===pa&&zy(X)===N.type)?(j=i(N,C.props),j.ref=zc(w,N,C),j.return=w,j):(j=Id(C.type,C.key,C.props,null,w.mode,j),j.ref=zc(w,N,C),j.return=w,j)}function u(w,N,C,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==C.containerInfo||N.stateNode.implementation!==C.implementation?(N=og(C,w.mode,j),N.return=w,N):(N=i(N,C.children||[]),N.return=w,N)}function f(w,N,C,j,X){return N===null||N.tag!==7?(N=Tl(C,w.mode,j,X),N.return=w,N):(N=i(N,C),N.return=w,N)}function m(w,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return N=sg(""+N,w.mode,C),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vf:return C=Id(N.type,N.key,N.props,null,w.mode,C),C.ref=zc(w,null,N),C.return=w,C;case du:return N=og(N,w.mode,C),N.return=w,N;case pa:var j=N._init;return m(w,j(N._payload),C)}if(Xc(N)||Mc(N))return N=Tl(N,w.mode,C,null),N.return=w,N;Yf(w,N)}return null}function v(w,N,C,j){var X=N!==null?N.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return X!==null?null:a(w,N,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vf:return C.key===X?l(w,N,C,j):null;case du:return C.key===X?u(w,N,C,j):null;case pa:return X=C._init,v(w,N,X(C._payload),j)}if(Xc(C)||Mc(C))return X!==null?null:f(w,N,C,j,null);Yf(w,C)}return null}function p(w,N,C,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(C)||null,a(N,w,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vf:return w=w.get(j.key===null?C:j.key)||null,l(N,w,j,X);case du:return w=w.get(j.key===null?C:j.key)||null,u(N,w,j,X);case pa:var re=j._init;return p(w,N,C,re(j._payload),X)}if(Xc(j)||Mc(j))return w=w.get(C)||null,f(N,w,j,X,null);Yf(N,j)}return null}function E(w,N,C,j){for(var X=null,re=null,V=N,x=N=0,b=null;V!==null&&x<C.length;x++){V.index>x?(b=V,V=null):b=V.sibling;var P=v(w,V,C[x],j);if(P===null){V===null&&(V=b);break}t&&V&&P.alternate===null&&e(w,V),N=s(P,N,x),re===null?X=P:re.sibling=P,re=P,V=b}if(x===C.length)return n(w,V),Tn&&vl(w,x),X;if(V===null){for(;x<C.length;x++)V=m(w,C[x],j),V!==null&&(N=s(V,N,x),re===null?X=V:re.sibling=V,re=V);return Tn&&vl(w,x),X}for(V=r(w,V);x<C.length;x++)b=p(V,w,x,C[x],j),b!==null&&(t&&b.alternate!==null&&V.delete(b.key===null?x:b.key),N=s(b,N,x),re===null?X=b:re.sibling=b,re=b);return t&&V.forEach(function(S){return e(w,S)}),Tn&&vl(w,x),X}function T(w,N,C,j){var X=Mc(C);if(typeof X!="function")throw Error(De(150));if(C=X.call(C),C==null)throw Error(De(151));for(var re=X=null,V=N,x=N=0,b=null,P=C.next();V!==null&&!P.done;x++,P=C.next()){V.index>x?(b=V,V=null):b=V.sibling;var S=v(w,V,P.value,j);if(S===null){V===null&&(V=b);break}t&&V&&S.alternate===null&&e(w,V),N=s(S,N,x),re===null?X=S:re.sibling=S,re=S,V=b}if(P.done)return n(w,V),Tn&&vl(w,x),X;if(V===null){for(;!P.done;x++,P=C.next())P=m(w,P.value,j),P!==null&&(N=s(P,N,x),re===null?X=P:re.sibling=P,re=P);return Tn&&vl(w,x),X}for(V=r(w,V);!P.done;x++,P=C.next())P=p(V,w,x,P.value,j),P!==null&&(t&&P.alternate!==null&&V.delete(P.key===null?x:P.key),N=s(P,N,x),re===null?X=P:re.sibling=P,re=P);return t&&V.forEach(function(k){return e(w,k)}),Tn&&vl(w,x),X}function D(w,N,C,j){if(typeof C=="object"&&C!==null&&C.type===pu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Vf:e:{for(var X=C.key,re=N;re!==null;){if(re.key===X){if(X=C.type,X===pu){if(re.tag===7){n(w,re.sibling),N=i(re,C.props.children),N.return=w,w=N;break e}}else if(re.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===pa&&zy(X)===re.type){n(w,re.sibling),N=i(re,C.props),N.ref=zc(w,re,C),N.return=w,w=N;break e}n(w,re);break}else e(w,re);re=re.sibling}C.type===pu?(N=Tl(C.props.children,w.mode,j,C.key),N.return=w,w=N):(j=Id(C.type,C.key,C.props,null,w.mode,j),j.ref=zc(w,N,C),j.return=w,w=j)}return o(w);case du:e:{for(re=C.key;N!==null;){if(N.key===re)if(N.tag===4&&N.stateNode.containerInfo===C.containerInfo&&N.stateNode.implementation===C.implementation){n(w,N.sibling),N=i(N,C.children||[]),N.return=w,w=N;break e}else{n(w,N);break}else e(w,N);N=N.sibling}N=og(C,w.mode,j),N.return=w,w=N}return o(w);case pa:return re=C._init,D(w,N,re(C._payload),j)}if(Xc(C))return E(w,N,C,j);if(Mc(C))return T(w,N,C,j);Yf(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,N!==null&&N.tag===6?(n(w,N.sibling),N=i(N,C),N.return=w,w=N):(n(w,N),N=sg(C,w.mode,j),N.return=w,w=N),o(w)):n(w,N)}return D}var Gu=p4(!0),m4=p4(!1),tp=Ka(null),np=null,Su=null,W1=null;function $1(){W1=Su=np=null}function G1(t){var e=tp.current;Sn(tp),t._currentValue=e}function b0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lu(t,e){np=t,W1=Su=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function ns(t){var e=t._currentValue;if(W1!==t)if(t={context:t,memoizedValue:e,next:null},Su===null){if(np===null)throw Error(De(308));Su=t,np.dependencies={lanes:0,firstContext:t}}else Su=Su.next=t;return e}var Al=null;function K1(t){Al===null?Al=[t]:Al.push(t)}function g4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,K1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ro(t,r)}function Ro(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ma=!1;function Q1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ko(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ro(t,n)}return i=r.interleaved,i===null?(e.next=e,K1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ro(t,n)}function wd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,D1(t,n)}}function qy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rp(t,e,n,r){var i=t.updateQueue;ma=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,f=u=l=null,a=s;do{var v=a.lane,p=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,T=a;switch(v=e,p=n,T.tag){case 1:if(E=T.payload,typeof E=="function"){m=E.call(p,m,v);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,v=typeof E=="function"?E.call(p,m,v):E,v==null)break e;m=Dn({},m,v);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=m):f=f.next=p,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rl|=o,t.lanes=o,t.memoizedState=m}}function Hy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var rf={},Ys=Ka(rf),Oh=Ka(rf),Fh=Ka(rf);function El(t){if(t===rf)throw Error(De(174));return t}function Y1(t,e){switch(gn(Fh,e),gn(Oh,t),gn(Ys,rf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t0(e,t)}Sn(Ys),gn(Ys,e)}function Ku(){Sn(Ys),Sn(Oh),Sn(Fh)}function y4(t){El(Fh.current);var e=El(Ys.current),n=t0(e,t.type);e!==n&&(gn(Oh,t),gn(Ys,n))}function X1(t){Oh.current===t&&(Sn(Ys),Sn(Oh))}var Ln=Ka(0);function ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zm=[];function J1(){for(var t=0;t<Zm.length;t++)Zm[t]._workInProgressVersionPrimary=null;Zm.length=0}var bd=Uo.ReactCurrentDispatcher,eg=Uo.ReactCurrentBatchConfig,Ll=0,Rn=null,lr=null,gr=null,sp=!1,ch=!1,Mh=0,vT=0;function Mr(){throw Error(De(321))}function Z1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bs(t[n],e[n]))return!1;return!0}function e2(t,e,n,r,i,s){if(Ll=s,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bd.current=t===null||t.memoizedState===null?bT:ST,t=n(r,i),ch){s=0;do{if(ch=!1,Mh=0,25<=s)throw Error(De(301));s+=1,gr=lr=null,e.updateQueue=null,bd.current=AT,t=n(r,i)}while(ch)}if(bd.current=op,e=lr!==null&&lr.next!==null,Ll=0,gr=lr=Rn=null,sp=!1,e)throw Error(De(300));return t}function t2(){var t=Mh!==0;return Mh=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Rn.memoizedState=gr=t:gr=gr.next=t,gr}function rs(){if(lr===null){var t=Rn.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=gr===null?Rn.memoizedState:gr.next;if(e!==null)gr=e,lr=t;else{if(t===null)throw Error(De(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},gr===null?Rn.memoizedState=gr=t:gr=gr.next=t}return gr}function jh(t,e){return typeof e=="function"?e(t):e}function tg(t){var e=rs(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=lr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Ll&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,Rn.lanes|=f,Rl|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,bs(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rn.lanes|=s,Rl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ng(t){var e=rs(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bs(s,e.memoizedState)||(pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _4(){}function w4(t,e){var n=Rn,r=rs(),i=e(),s=!bs(r.memoizedState,i);if(s&&(r.memoizedState=i,pi=!0),r=r.queue,n2(A4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,Vh(9,S4.bind(null,n,r,i,e),void 0,null),_r===null)throw Error(De(349));Ll&30||b4(n,e,i)}return i}function b4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S4(t,e,n,r){e.value=n,e.getSnapshot=r,E4(e)&&x4(t)}function A4(t,e,n){return n(function(){E4(e)&&x4(t)})}function E4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bs(t,n)}catch{return!0}}function x4(t){var e=Ro(t,1);e!==null&&ws(e,t,1,-1)}function Wy(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:t},e.queue=t,t=t.dispatch=wT.bind(null,Rn,t),[e.memoizedState,t]}function Vh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I4(){return rs().memoizedState}function Sd(t,e,n,r){var i=$s();Rn.flags|=t,i.memoizedState=Vh(1|e,n,void 0,r===void 0?null:r)}function qp(t,e,n,r){var i=rs();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&Z1(r,o.deps)){i.memoizedState=Vh(e,n,s,r);return}}Rn.flags|=t,i.memoizedState=Vh(1|e,n,s,r)}function $y(t,e){return Sd(8390656,8,t,e)}function n2(t,e){return qp(2048,8,t,e)}function T4(t,e){return qp(4,2,t,e)}function N4(t,e){return qp(4,4,t,e)}function k4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P4(t,e,n){return n=n!=null?n.concat([t]):null,qp(4,4,k4.bind(null,e,t),n)}function r2(){}function C4(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L4(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function R4(t,e,n){return Ll&21?(bs(n,e)||(n=jb(),Rn.lanes|=n,Rl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function yT(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var r=eg.transition;eg.transition={};try{t(!1),e()}finally{an=n,eg.transition=r}}function D4(){return rs().memoizedState}function _T(t,e,n){var r=Ra(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O4(t))F4(e,n);else if(n=g4(t,e,n,r),n!==null){var i=ri();ws(n,t,r,i),M4(n,e,r)}}function wT(t,e,n){var r=Ra(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O4(t))F4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bs(a,o)){var l=e.interleaved;l===null?(i.next=i,K1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=g4(t,e,i,r),n!==null&&(i=ri(),ws(n,t,r,i),M4(n,e,r))}}function O4(t){var e=t.alternate;return t===Rn||e!==null&&e===Rn}function F4(t,e){ch=sp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function M4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,D1(t,n)}}var op={readContext:ns,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},bT={readContext:ns,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:ns,useEffect:$y,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4194308,4,k4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sd(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_T.bind(null,Rn,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:Wy,useDebugValue:r2,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=Wy(!1),e=t[0];return t=yT.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rn,i=$s();if(Tn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),_r===null)throw Error(De(349));Ll&30||b4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$y(A4.bind(null,r,s,t),[t]),r.flags|=2048,Vh(9,S4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$s(),e=_r.identifierPrefix;if(Tn){var n=Ao,r=So;n=(r&~(1<<32-_s(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ST={readContext:ns,useCallback:C4,useContext:ns,useEffect:n2,useImperativeHandle:P4,useInsertionEffect:T4,useLayoutEffect:N4,useMemo:L4,useReducer:tg,useRef:I4,useState:function(){return tg(jh)},useDebugValue:r2,useDeferredValue:function(t){var e=rs();return R4(e,lr.memoizedState,t)},useTransition:function(){var t=tg(jh)[0],e=rs().memoizedState;return[t,e]},useMutableSource:_4,useSyncExternalStore:w4,useId:D4,unstable_isNewReconciler:!1},AT={readContext:ns,useCallback:C4,useContext:ns,useEffect:n2,useImperativeHandle:P4,useInsertionEffect:T4,useLayoutEffect:N4,useMemo:L4,useReducer:ng,useRef:I4,useState:function(){return ng(jh)},useDebugValue:r2,useDeferredValue:function(t){var e=rs();return lr===null?e.memoizedState=t:R4(e,lr.memoizedState,t)},useTransition:function(){var t=ng(jh)[0],e=rs().memoizedState;return[t,e]},useMutableSource:_4,useSyncExternalStore:w4,useId:D4,unstable_isNewReconciler:!1};function gs(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function S0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hp={isMounted:function(t){return(t=t._reactInternals)?Wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Ra(t),s=ko(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ca(t,s,i),e!==null&&(ws(e,t,i,r),wd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Ra(t),s=ko(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ca(t,s,i),e!==null&&(ws(e,t,i,r),wd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ri(),r=Ra(t),i=ko(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ca(t,i,r),e!==null&&(ws(e,t,r,n),wd(e,t,r))}};function Gy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ch(n,r)||!Ch(i,s):!0}function j4(t,e,n){var r=!1,i=za,s=e.contextType;return typeof s=="object"&&s!==null?s=ns(s):(i=gi(e)?Pl:Gr.current,r=e.contextTypes,s=(r=r!=null)?Wu(t,i):za),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hp.enqueueReplaceState(e,e.state,null)}function A0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Q1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ns(s):(s=gi(e)?Pl:Gr.current,i.context=Wu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(S0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hp.enqueueReplaceState(i,i.state,null),rp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qu(t,e){try{var n="",r=e;do n+=Xx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function V4(t,e,n){n=ko(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lp||(lp=!0,D0=r),E0(t,e)},n}function U4(t,e,n){n=ko(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){E0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){E0(t,e),typeof r!="function"&&(La===null?La=new Set([this]):La.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ET;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jT.bind(null,t,e,n),e.then(t,t))}function Yy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ko(-1,1),e.tag=2,Ca(n,e,1))),n.lanes|=1),t)}var xT=Uo.ReactCurrentOwner,pi=!1;function ti(t,e,n,r){e.child=t===null?m4(e,null,n,r):Gu(e,t.child,n,r)}function Jy(t,e,n,r,i){n=n.render;var s=e.ref;return Lu(e,i),r=e2(t,e,n,r,s,i),n=t2(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Do(t,e,i)):(Tn&&n&&z1(e),e.flags|=1,ti(t,e,r,i),e.child)}function Zy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,B4(t,e,s,r,i)):(t=Id(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ch,n(o,r)&&t.ref===e.ref)return Do(t,e,i)}return e.flags|=1,t=Da(s,r),t.ref=e.ref,t.return=e,e.child=t}function B4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ch(s,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,Do(t,e,i)}return x0(t,e,n,r,i)}function z4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(Eu,Di),Di|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gn(Eu,Di),Di|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gn(Eu,Di),Di|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gn(Eu,Di),Di|=r;return ti(t,e,i,n),e.child}function q4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x0(t,e,n,r,i){var s=gi(n)?Pl:Gr.current;return s=Wu(e,s),Lu(e,i),n=e2(t,e,n,r,s,i),r=t2(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Do(t,e,i)):(Tn&&r&&z1(e),e.flags|=1,ti(t,e,n,i),e.child)}function e5(t,e,n,r,i){if(gi(n)){var s=!0;Jd(e)}else s=!1;if(Lu(e,i),e.stateNode===null)Ad(t,e),j4(e,n,r),A0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=gi(n)?Pl:Gr.current,u=Wu(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ky(e,o,r,u),ma=!1;var v=e.memoizedState;o.state=v,rp(e,r,o,i),l=e.memoizedState,a!==r||v!==l||mi.current||ma?(typeof f=="function"&&(S0(e,n,f,r),l=e.memoizedState),(a=ma||Gy(e,n,a,r,v,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,v4(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gs(e.type,a),o.props=u,m=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=gi(n)?Pl:Gr.current,l=Wu(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||v!==l)&&Ky(e,o,r,l),ma=!1,v=e.memoizedState,o.state=v,rp(e,r,o,i);var E=e.memoizedState;a!==m||v!==E||mi.current||ma?(typeof p=="function"&&(S0(e,n,p,r),E=e.memoizedState),(u=ma||Gy(e,n,u,r,v,E,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return I0(t,e,n,r,s,i)}function I0(t,e,n,r,i,s){q4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vy(e,n,!1),Do(t,e,s);r=e.stateNode,xT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gu(e,t.child,null,s),e.child=Gu(e,null,a,s)):ti(t,e,a,s),e.memoizedState=r.state,i&&Vy(e,n,!0),e.child}function H4(t){var e=t.stateNode;e.pendingContext?jy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jy(t,e.context,!1),Y1(t,e.containerInfo)}function t5(t,e,n,r,i){return $u(),H1(i),e.flags|=256,ti(t,e,n,r),e.child}var T0={dehydrated:null,treeContext:null,retryLane:0};function N0(t){return{baseLanes:t,cachePool:null,transitions:null}}function W4(t,e,n){var r=e.pendingProps,i=Ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gn(Ln,i&1),t===null)return w0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gp(o,r,0,null),t=Tl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=N0(n),e.memoizedState=T0,t):i2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Da(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Da(a,s):(s=Tl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?N0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=T0,r}return s=t.child,t=s.sibling,r=Da(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function i2(t,e){return e=Gp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xf(t,e,n,r){return r!==null&&H1(r),Gu(e,t.child,null,n),t=i2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rg(Error(De(422))),Xf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gp({mode:"visible",children:r.children},i,0,null),s=Tl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gu(e,t.child,null,o),e.child.memoizedState=N0(o),e.memoizedState=T0,s);if(!(e.mode&1))return Xf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(De(419)),r=rg(s,r,void 0),Xf(t,e,o,r)}if(a=(o&t.childLanes)!==0,pi||a){if(r=_r,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ro(t,i),ws(r,t,i,-1))}return c2(),r=rg(Error(De(421))),Xf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fi=Pa(i.nextSibling),Vi=e,Tn=!0,ys=null,t!==null&&(Ji[Zi++]=So,Ji[Zi++]=Ao,Ji[Zi++]=Cl,So=t.id,Ao=t.overflow,Cl=e),e=i2(e,r.children),e.flags|=4096,e)}function n5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),b0(t.return,e,n)}function ig(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ti(t,e,r.children,n),r=Ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n5(t,n,e);else if(t.tag===19)n5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gn(Ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ip(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ig(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ig(e,!0,n,null,s);break;case"together":ig(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Do(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:H4(e),$u();break;case 5:y4(e);break;case 1:gi(e.type)&&Jd(e);break;case 4:Y1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gn(tp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Ln,Ln.current&1),e.flags|=128,null):n&e.child.childLanes?W4(t,e,n):(gn(Ln,Ln.current&1),t=Do(t,e,n),t!==null?t.sibling:null);gn(Ln,Ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Ln,Ln.current),r)break;return null;case 22:case 23:return e.lanes=0,z4(t,e,n)}return Do(t,e,n)}var G4,k0,K4,Q4;G4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};k0=function(){};K4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,El(Ys.current);var s=null;switch(n){case"input":i=Xg(t,i),r=Xg(t,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=e0(t,i),r=e0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yd)}n0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&wn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Q4=function(t,e,n,r){n!==r&&(e.flags|=4)};function qc(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NT(t,e,n){var r=e.pendingProps;switch(q1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(e),null;case 1:return gi(e.type)&&Xd(),jr(e),null;case 3:return r=e.stateNode,Ku(),Sn(mi),Sn(Gr),J1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ys!==null&&(M0(ys),ys=null))),k0(t,e),jr(e),null;case 5:X1(e);var i=El(Fh.current);if(n=e.type,t!==null&&e.stateNode!=null)K4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return jr(e),null}if(t=El(Ys.current),Qf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gs]=e,r[Dh]=s,t=(e.mode&1)!==0,n){case"dialog":wn("cancel",r),wn("close",r);break;case"iframe":case"object":case"embed":wn("load",r);break;case"video":case"audio":for(i=0;i<Zc.length;i++)wn(Zc[i],r);break;case"source":wn("error",r);break;case"img":case"image":case"link":wn("error",r),wn("load",r);break;case"details":wn("toggle",r);break;case"input":hy(r,s),wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wn("invalid",r);break;case"textarea":dy(r,s),wn("invalid",r)}n0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wn("scroll",r)}switch(n){case"input":Uf(r),fy(r,s,!0);break;case"textarea":Uf(r),py(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ab(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gs]=e,t[Dh]=r,G4(t,e,!1,!1),e.stateNode=t;e:{switch(o=r0(n,r),n){case"dialog":wn("cancel",t),wn("close",t),i=r;break;case"iframe":case"object":case"embed":wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zc.length;i++)wn(Zc[i],t);i=r;break;case"source":wn("error",t),i=r;break;case"img":case"image":case"link":wn("error",t),wn("load",t),i=r;break;case"details":wn("toggle",t),i=r;break;case"input":hy(t,r),i=Xg(t,r),wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),wn("invalid",t);break;case"textarea":dy(t,r),i=e0(t,r),wn("invalid",t);break;default:i=r}n0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ib(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Eb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xh(t,l):typeof l=="number"&&xh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wn("scroll",t):l!=null&&N1(t,s,l,o))}switch(n){case"input":Uf(t),fy(t,r,!1);break;case"textarea":Uf(t),py(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ba(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jr(e),null;case 6:if(t&&e.stateNode!=null)Q4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=El(Fh.current),El(Ys.current),Qf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gs]=e,(s=r.nodeValue!==n)&&(t=Vi,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gs]=e,e.stateNode=r}return jr(e),null;case 13:if(Sn(Ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&Fi!==null&&e.mode&1&&!(e.flags&128))d4(),$u(),e.flags|=98560,s=!1;else if(s=Qf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Gs]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jr(e),s=!1}else ys!==null&&(M0(ys),ys=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ln.current&1?ur===0&&(ur=3):c2())),e.updateQueue!==null&&(e.flags|=4),jr(e),null);case 4:return Ku(),k0(t,e),t===null&&Lh(e.stateNode.containerInfo),jr(e),null;case 10:return G1(e.type._context),jr(e),null;case 17:return gi(e.type)&&Xd(),jr(e),null;case 19:if(Sn(Ln),s=e.memoizedState,s===null)return jr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qc(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ip(t),o!==null){for(e.flags|=128,qc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gn(Ln,Ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qn()>Yu&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304)}else{if(!r)if(t=ip(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return jr(e),null}else 2*Qn()-s.renderingStartTime>Yu&&n!==1073741824&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qn(),e.sibling=null,n=Ln.current,gn(Ln,r?n&1|2:n&1),e):(jr(e),null);case 22:case 23:return u2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Di&1073741824&&(jr(e),e.subtreeFlags&6&&(e.flags|=8192)):jr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function kT(t,e){switch(q1(e),e.tag){case 1:return gi(e.type)&&Xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ku(),Sn(mi),Sn(Gr),J1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return X1(e),null;case 13:if(Sn(Ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));$u()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Ln),null;case 4:return Ku(),null;case 10:return G1(e.type._context),null;case 22:case 23:return u2(),null;case 24:return null;default:return null}}var Jf=!1,Wr=!1,PT=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Au(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bn(t,e,r)}else n.current=null}function P0(t,e,n){try{n()}catch(r){Bn(t,e,r)}}var r5=!1;function CT(t,e){if(d0=Gd,t=e4(),B1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,m=t,v=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)v=m,m=p;for(;;){if(m===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++f===r&&(l=o),(p=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(p0={focusedElem:t,selectionRange:n},Gd=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,D=E.memoizedState,w=e.stateNode,N=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:gs(e.type,T),D);w.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(j){Bn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return E=r5,r5=!1,E}function hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&P0(e,n,s)}i=i.next}while(i!==r)}}function Wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function C0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Y4(t){var e=t.alternate;e!==null&&(t.alternate=null,Y4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gs],delete e[Dh],delete e[v0],delete e[dT],delete e[pT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X4(t){return t.tag===5||t.tag===3||t.tag===4}function i5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function L0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yd));else if(r!==4&&(t=t.child,t!==null))for(L0(t,e,n),t=t.sibling;t!==null;)L0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var xr=null,vs=!1;function ca(t,e,n){for(n=n.child;n!==null;)J4(t,e,n),n=n.sibling}function J4(t,e,n){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(Mp,n)}catch{}switch(n.tag){case 5:Wr||Au(n,e);case 6:var r=xr,i=vs;xr=null,ca(t,e,n),xr=r,vs=i,xr!==null&&(vs?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(vs?(t=xr,n=n.stateNode,t.nodeType===8?Xm(t.parentNode,n):t.nodeType===1&&Xm(t,n),kh(t)):Xm(xr,n.stateNode));break;case 4:r=xr,i=vs,xr=n.stateNode.containerInfo,vs=!0,ca(t,e,n),xr=r,vs=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&P0(n,e,o),i=i.next}while(i!==r)}ca(t,e,n);break;case 1:if(!Wr&&(Au(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Bn(n,e,a)}ca(t,e,n);break;case 21:ca(t,e,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,ca(t,e,n),Wr=r):ca(t,e,n);break;default:ca(t,e,n)}}function s5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PT),e.forEach(function(r){var i=UT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xr=a.stateNode,vs=!1;break e;case 3:xr=a.stateNode.containerInfo,vs=!0;break e;case 4:xr=a.stateNode.containerInfo,vs=!0;break e}a=a.return}if(xr===null)throw Error(De(160));J4(s,o,i),xr=null,vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Bn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z4(e,t),e=e.sibling}function Z4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ps(e,t),qs(t),r&4){try{hh(3,t,t.return),Wp(3,t)}catch(T){Bn(t,t.return,T)}try{hh(5,t,t.return)}catch(T){Bn(t,t.return,T)}}break;case 1:ps(e,t),qs(t),r&512&&n!==null&&Au(n,n.return);break;case 5:if(ps(e,t),qs(t),r&512&&n!==null&&Au(n,n.return),t.flags&32){var i=t.stateNode;try{xh(i,"")}catch(T){Bn(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bb(i,s),r0(a,o);var u=r0(a,s);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?Ib(i,m):f==="dangerouslySetInnerHTML"?Eb(i,m):f==="children"?xh(i,m):N1(i,f,m,u)}switch(a){case"input":Jg(i,s);break;case"textarea":Sb(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Nu(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?Nu(i,!!s.multiple,s.defaultValue,!0):Nu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dh]=s}catch(T){Bn(t,t.return,T)}}break;case 6:if(ps(e,t),qs(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Bn(t,t.return,T)}}break;case 3:if(ps(e,t),qs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kh(e.containerInfo)}catch(T){Bn(t,t.return,T)}break;case 4:ps(e,t),qs(t);break;case 13:ps(e,t),qs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(a2=Qn())),r&4&&s5(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wr=(u=Wr)||f,ps(e,t),Wr=u):ps(e,t),qs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ze=t,f=t.child;f!==null;){for(m=ze=f;ze!==null;){switch(v=ze,p=v.child,v.tag){case 0:case 11:case 14:case 15:hh(4,v,v.return);break;case 1:Au(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(T){Bn(r,n,T)}}break;case 5:Au(v,v.return);break;case 22:if(v.memoizedState!==null){a5(m);continue}}p!==null?(p.return=v,ze=p):a5(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xb("display",o))}catch(T){Bn(t,t.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(T){Bn(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ps(e,t),qs(t),r&4&&s5(t);break;case 21:break;default:ps(e,t),qs(t)}}function qs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(X4(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xh(i,""),r.flags&=-33);var s=i5(t);R0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i5(t);L0(t,a,o);break;default:throw Error(De(161))}}catch(l){Bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LT(t,e,n){ze=t,e3(t)}function e3(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=Jf;var u=Wr;if(Jf=o,(Wr=l)&&!u)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?l5(i):l!==null?(l.return=o,ze=l):l5(i);for(;s!==null;)ze=s,e3(s),s=s.sibling;ze=i,Jf=a,Wr=u}o5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):o5(t)}}function o5(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||Wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&kh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Wr||e.flags&512&&C0(e)}catch(v){Bn(e,e.return,v)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function a5(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function l5(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wp(4,e)}catch(l){Bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Bn(e,i,l)}}var s=e.return;try{C0(e)}catch(l){Bn(e,s,l)}break;case 5:var o=e.return;try{C0(e)}catch(l){Bn(e,o,l)}}}catch(l){Bn(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var RT=Math.ceil,ap=Uo.ReactCurrentDispatcher,s2=Uo.ReactCurrentOwner,ts=Uo.ReactCurrentBatchConfig,$t=0,_r=null,nr=null,Nr=0,Di=0,Eu=Ka(0),ur=0,Uh=null,Rl=0,$p=0,o2=0,fh=null,di=null,a2=0,Yu=1/0,_o=null,lp=!1,D0=null,La=null,Zf=!1,Aa=null,up=0,dh=0,O0=null,Ed=-1,xd=0;function ri(){return $t&6?Qn():Ed!==-1?Ed:Ed=Qn()}function Ra(t){return t.mode&1?$t&2&&Nr!==0?Nr&-Nr:gT.transition!==null?(xd===0&&(xd=jb()),xd):(t=an,t!==0||(t=window.event,t=t===void 0?16:Wb(t.type)),t):1}function ws(t,e,n,r){if(50<dh)throw dh=0,O0=null,Error(De(185));ef(t,n,r),(!($t&2)||t!==_r)&&(t===_r&&(!($t&2)&&($p|=n),ur===4&&va(t,Nr)),vi(t,r),n===1&&$t===0&&!(e.mode&1)&&(Yu=Qn()+500,zp&&Qa()))}function vi(t,e){var n=t.callbackNode;gI(t,e);var r=$d(t,t===_r?Nr:0);if(r===0)n!==null&&vy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vy(n),e===1)t.tag===0?mT(u5.bind(null,t)):c4(u5.bind(null,t)),hT(function(){!($t&6)&&Qa()}),n=null;else{switch(Vb(r)){case 1:n=R1;break;case 4:n=Fb;break;case 16:n=Wd;break;case 536870912:n=Mb;break;default:n=Wd}n=l3(n,t3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function t3(t,e){if(Ed=-1,xd=0,$t&6)throw Error(De(327));var n=t.callbackNode;if(Ru()&&t.callbackNode!==n)return null;var r=$d(t,t===_r?Nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cp(t,r);else{e=r;var i=$t;$t|=2;var s=r3();(_r!==t||Nr!==e)&&(_o=null,Yu=Qn()+500,Il(t,e));do try{FT();break}catch(a){n3(t,a)}while(!0);$1(),ap.current=s,$t=i,nr!==null?e=0:(_r=null,Nr=0,e=ur)}if(e!==0){if(e===2&&(i=l0(t),i!==0&&(r=i,e=F0(t,i))),e===1)throw n=Uh,Il(t,0),va(t,r),vi(t,Qn()),n;if(e===6)va(t,r);else{if(i=t.current.alternate,!(r&30)&&!DT(i)&&(e=cp(t,r),e===2&&(s=l0(t),s!==0&&(r=s,e=F0(t,s))),e===1))throw n=Uh,Il(t,0),va(t,r),vi(t,Qn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:yl(t,di,_o);break;case 3:if(va(t,r),(r&130023424)===r&&(e=a2+500-Qn(),10<e)){if($d(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ri(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=g0(yl.bind(null,t,di,_o),e);break}yl(t,di,_o);break;case 4:if(va(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_s(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RT(r/1960))-r,10<r){t.timeoutHandle=g0(yl.bind(null,t,di,_o),r);break}yl(t,di,_o);break;case 5:yl(t,di,_o);break;default:throw Error(De(329))}}}return vi(t,Qn()),t.callbackNode===n?t3.bind(null,t):null}function F0(t,e){var n=fh;return t.current.memoizedState.isDehydrated&&(Il(t,e).flags|=256),t=cp(t,e),t!==2&&(e=di,di=n,e!==null&&M0(e)),t}function M0(t){di===null?di=t:di.push.apply(di,t)}function DT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function va(t,e){for(e&=~o2,e&=~$p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_s(e),r=1<<n;t[n]=-1,e&=~r}}function u5(t){if($t&6)throw Error(De(327));Ru();var e=$d(t,0);if(!(e&1))return vi(t,Qn()),null;var n=cp(t,e);if(t.tag!==0&&n===2){var r=l0(t);r!==0&&(e=r,n=F0(t,r))}if(n===1)throw n=Uh,Il(t,0),va(t,e),vi(t,Qn()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,di,_o),vi(t,Qn()),null}function l2(t,e){var n=$t;$t|=1;try{return t(e)}finally{$t=n,$t===0&&(Yu=Qn()+500,zp&&Qa())}}function Dl(t){Aa!==null&&Aa.tag===0&&!($t&6)&&Ru();var e=$t;$t|=1;var n=ts.transition,r=an;try{if(ts.transition=null,an=1,t)return t()}finally{an=r,ts.transition=n,$t=e,!($t&6)&&Qa()}}function u2(){Di=Eu.current,Sn(Eu)}function Il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cT(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(q1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:Ku(),Sn(mi),Sn(Gr),J1();break;case 5:X1(r);break;case 4:Ku();break;case 13:Sn(Ln);break;case 19:Sn(Ln);break;case 10:G1(r.type._context);break;case 22:case 23:u2()}n=n.return}if(_r=t,nr=t=Da(t.current,null),Nr=Di=e,ur=0,Uh=null,o2=$p=Rl=0,di=fh=null,Al!==null){for(e=0;e<Al.length;e++)if(n=Al[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Al=null}return t}function n3(t,e){do{var n=nr;try{if($1(),bd.current=op,sp){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sp=!1}if(Ll=0,gr=lr=Rn=null,ch=!1,Mh=0,s2.current=null,n===null||n.return===null){ur=1,Uh=e,nr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Yy(o);if(p!==null){p.flags&=-257,Xy(p,o,a,s,e),p.mode&1&&Qy(s,u,e),e=p,l=u;var E=e.updateQueue;if(E===null){var T=new Set;T.add(l),e.updateQueue=T}else E.add(l);break e}else{if(!(e&1)){Qy(s,u,e),c2();break e}l=Error(De(426))}}else if(Tn&&a.mode&1){var D=Yy(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Xy(D,o,a,s,e),H1(Qu(l,a));break e}}s=l=Qu(l,a),ur!==4&&(ur=2),fh===null?fh=[s]:fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=V4(s,l,e);qy(s,w);break e;case 1:a=l;var N=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof N.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(La===null||!La.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=U4(s,a,e);qy(s,j);break e}}s=s.return}while(s!==null)}s3(n)}catch(X){e=X,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function r3(){var t=ap.current;return ap.current=op,t===null?op:t}function c2(){(ur===0||ur===3||ur===2)&&(ur=4),_r===null||!(Rl&268435455)&&!($p&268435455)||va(_r,Nr)}function cp(t,e){var n=$t;$t|=2;var r=r3();(_r!==t||Nr!==e)&&(_o=null,Il(t,e));do try{OT();break}catch(i){n3(t,i)}while(!0);if($1(),$t=n,ap.current=r,nr!==null)throw Error(De(261));return _r=null,Nr=0,ur}function OT(){for(;nr!==null;)i3(nr)}function FT(){for(;nr!==null&&!aI();)i3(nr)}function i3(t){var e=a3(t.alternate,t,Di);t.memoizedProps=t.pendingProps,e===null?s3(t):nr=e,s2.current=null}function s3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kT(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,nr=null;return}}else if(n=NT(n,e,Di),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);ur===0&&(ur=5)}function yl(t,e,n){var r=an,i=ts.transition;try{ts.transition=null,an=1,MT(t,e,n,r)}finally{ts.transition=i,an=r}return null}function MT(t,e,n,r){do Ru();while(Aa!==null);if($t&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vI(t,s),t===_r&&(nr=_r=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zf||(Zf=!0,l3(Wd,function(){return Ru(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ts.transition,ts.transition=null;var o=an;an=1;var a=$t;$t|=4,s2.current=null,CT(t,n),Z4(n,t),rT(p0),Gd=!!d0,p0=d0=null,t.current=n,LT(n),lI(),$t=a,an=o,ts.transition=s}else t.current=n;if(Zf&&(Zf=!1,Aa=t,up=i),s=t.pendingLanes,s===0&&(La=null),hI(n.stateNode),vi(t,Qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lp)throw lp=!1,t=D0,D0=null,t;return up&1&&t.tag!==0&&Ru(),s=t.pendingLanes,s&1?t===O0?dh++:(dh=0,O0=t):dh=0,Qa(),null}function Ru(){if(Aa!==null){var t=Vb(up),e=ts.transition,n=an;try{if(ts.transition=null,an=16>t?16:t,Aa===null)var r=!1;else{if(t=Aa,Aa=null,up=0,$t&6)throw Error(De(331));var i=$t;for($t|=4,ze=t.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var f=ze;switch(f.tag){case 0:case 11:case 15:hh(8,f,s)}var m=f.child;if(m!==null)m.return=f,ze=m;else for(;ze!==null;){f=ze;var v=f.sibling,p=f.return;if(Y4(f),f===u){ze=null;break}if(v!==null){v.return=p,ze=v;break}ze=p}}}var E=s.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var D=T.sibling;T.sibling=null,T=D}while(T!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ze=w;break e}ze=s.return}}var N=t.current;for(ze=N;ze!==null;){o=ze;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ze=C;else e:for(o=N;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wp(9,a)}}catch(X){Bn(a,a.return,X)}if(a===o){ze=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,ze=j;break e}ze=a.return}}if($t=i,Qa(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(Mp,t)}catch{}r=!0}return r}finally{an=n,ts.transition=e}}return!1}function c5(t,e,n){e=Qu(n,e),e=V4(t,e,1),t=Ca(t,e,1),e=ri(),t!==null&&(ef(t,1,e),vi(t,e))}function Bn(t,e,n){if(t.tag===3)c5(t,t,n);else for(;e!==null;){if(e.tag===3){c5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){t=Qu(n,t),t=U4(e,t,1),e=Ca(e,t,1),t=ri(),e!==null&&(ef(e,1,t),vi(e,t));break}}e=e.return}}function jT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ri(),t.pingedLanes|=t.suspendedLanes&n,_r===t&&(Nr&n)===n&&(ur===4||ur===3&&(Nr&130023424)===Nr&&500>Qn()-a2?Il(t,0):o2|=n),vi(t,e)}function o3(t,e){e===0&&(t.mode&1?(e=qf,qf<<=1,!(qf&130023424)&&(qf=4194304)):e=1);var n=ri();t=Ro(t,e),t!==null&&(ef(t,e,n),vi(t,n))}function VT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o3(t,n)}function UT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),o3(t,n)}var a3;a3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,TT(t,e,n);pi=!!(t.flags&131072)}else pi=!1,Tn&&e.flags&1048576&&h4(e,ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ad(t,e),t=e.pendingProps;var i=Wu(e,Gr.current);Lu(e,n),i=e2(null,e,r,t,i,n);var s=t2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)?(s=!0,Jd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q1(e),i.updater=Hp,e.stateNode=i,i._reactInternals=e,A0(e,r,t,n),e=I0(null,e,r,!0,s,n)):(e.tag=0,Tn&&s&&z1(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zT(r),t=gs(r,t),i){case 0:e=x0(null,e,r,t,n);break e;case 1:e=e5(null,e,r,t,n);break e;case 11:e=Jy(null,e,r,t,n);break e;case 14:e=Zy(null,e,r,gs(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),x0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),e5(t,e,r,i,n);case 3:e:{if(H4(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,v4(t,e),rp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qu(Error(De(423)),e),e=t5(t,e,r,n,i);break e}else if(r!==i){i=Qu(Error(De(424)),e),e=t5(t,e,r,n,i);break e}else for(Fi=Pa(e.stateNode.containerInfo.firstChild),Vi=e,Tn=!0,ys=null,n=m4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($u(),r===i){e=Do(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return y4(e),t===null&&w0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,m0(r,i)?o=null:s!==null&&m0(r,s)&&(e.flags|=32),q4(t,e),ti(t,e,o,n),e.child;case 6:return t===null&&w0(e),null;case 13:return W4(t,e,n);case 4:return Y1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gu(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),Jy(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gn(tp,r._currentValue),r._currentValue=o,s!==null)if(bs(s.value,o)){if(s.children===i.children&&!mi.current){e=Do(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ko(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),b0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),b0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lu(e,n),i=ns(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=gs(r,e.pendingProps),i=gs(r.type,i),Zy(t,e,r,i,n);case 15:return B4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),Ad(t,e),e.tag=1,gi(r)?(t=!0,Jd(e)):t=!1,Lu(e,n),j4(e,r,i),A0(e,r,i,n),I0(null,e,r,!0,t,n);case 19:return $4(t,e,n);case 22:return z4(t,e,n)}throw Error(De(156,e.tag))};function l3(t,e){return Ob(t,e)}function BT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(t,e,n,r){return new BT(t,e,n,r)}function h2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zT(t){if(typeof t=="function")return h2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P1)return 11;if(t===C1)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Id(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pu:return Tl(n.children,i,s,e);case k1:o=8,i|=8;break;case Gg:return t=es(12,n,e,i|2),t.elementType=Gg,t.lanes=s,t;case Kg:return t=es(13,n,e,i),t.elementType=Kg,t.lanes=s,t;case Qg:return t=es(19,n,e,i),t.elementType=Qg,t.lanes=s,t;case yb:return Gp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gb:o=10;break e;case vb:o=9;break e;case P1:o=11;break e;case C1:o=14;break e;case pa:o=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=es(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Tl(t,e,n,r){return t=es(7,t,r,e),t.lanes=n,t}function Gp(t,e,n,r){return t=es(22,t,r,e),t.elementType=yb,t.lanes=n,t.stateNode={isHidden:!1},t}function sg(t,e,n){return t=es(6,t,null,e),t.lanes=n,t}function og(t,e,n){return e=es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f2(t,e,n,r,i,s,o,a,l){return t=new qT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=es(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q1(s),t}function HT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u3(t){if(!t)return za;t=t._reactInternals;e:{if(Wl(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(gi(n))return u4(t,n,e)}return e}function c3(t,e,n,r,i,s,o,a,l){return t=f2(n,r,!0,t,i,s,o,a,l),t.context=u3(null),n=t.current,r=ri(),i=Ra(n),s=ko(r,i),s.callback=e??null,Ca(n,s,i),t.current.lanes=i,ef(t,i,r),vi(t,r),t}function Kp(t,e,n,r){var i=e.current,s=ri(),o=Ra(i);return n=u3(n),e.context===null?e.context=n:e.pendingContext=n,e=ko(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ca(i,e,o),t!==null&&(ws(t,i,o,s),wd(t,i,o)),o}function hp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function d2(t,e){h5(t,e),(t=t.alternate)&&h5(t,e)}function WT(){return null}var h3=typeof reportError=="function"?reportError:function(t){console.error(t)};function p2(t){this._internalRoot=t}Qp.prototype.render=p2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));Kp(t,e,null,null)};Qp.prototype.unmount=p2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dl(function(){Kp(null,t,null,null)}),e[Lo]=null}};function Qp(t){this._internalRoot=t}Qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=zb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ga.length&&e!==0&&e<ga[n].priority;n++);ga.splice(n,0,t),n===0&&Hb(t)}};function m2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f5(){}function $T(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hp(o);s.call(u)}}var o=c3(e,r,t,0,null,!1,!1,"",f5);return t._reactRootContainer=o,t[Lo]=o.current,Lh(t.nodeType===8?t.parentNode:t),Dl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hp(l);a.call(u)}}var l=f2(t,0,!1,null,null,!1,!1,"",f5);return t._reactRootContainer=l,t[Lo]=l.current,Lh(t.nodeType===8?t.parentNode:t),Dl(function(){Kp(e,l,n,r)}),l}function Xp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hp(o);a.call(l)}}Kp(e,o,t,i)}else o=$T(n,e,t,i,r);return hp(o)}Ub=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jc(e.pendingLanes);n!==0&&(D1(e,n|1),vi(e,Qn()),!($t&6)&&(Yu=Qn()+500,Qa()))}break;case 13:Dl(function(){var r=Ro(t,1);if(r!==null){var i=ri();ws(r,t,1,i)}}),d2(t,1)}};O1=function(t){if(t.tag===13){var e=Ro(t,134217728);if(e!==null){var n=ri();ws(e,t,134217728,n)}d2(t,134217728)}};Bb=function(t){if(t.tag===13){var e=Ra(t),n=Ro(t,e);if(n!==null){var r=ri();ws(n,t,e,r)}d2(t,e)}};zb=function(){return an};qb=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};s0=function(t,e,n){switch(e){case"input":if(Jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bp(r);if(!i)throw Error(De(90));wb(r),Jg(r,i)}}}break;case"textarea":Sb(t,n);break;case"select":e=n.value,e!=null&&Nu(t,!!n.multiple,e,!1)}};kb=l2;Pb=Dl;var GT={usingClientEntryPoint:!1,Events:[nf,yu,Bp,Tb,Nb,l2]},Hc={findFiberByHostInstance:Sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rb(t),t===null?null:t.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||WT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{Mp=ed.inject(KT),Qs=ed}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;zi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m2(e))throw Error(De(200));return HT(t,e,null,n)};zi.createRoot=function(t,e){if(!m2(t))throw Error(De(299));var n=!1,r="",i=h3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f2(t,1,!1,null,null,n,!1,r,i),t[Lo]=e.current,Lh(t.nodeType===8?t.parentNode:t),new p2(e)};zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=Rb(e),t=t===null?null:t.stateNode,t};zi.flushSync=function(t){return Dl(t)};zi.hydrate=function(t,e,n){if(!Yp(e))throw Error(De(200));return Xp(null,t,e,!0,n)};zi.hydrateRoot=function(t,e,n){if(!m2(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=h3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=c3(e,null,t,1,n??null,i,!1,s,o),t[Lo]=e.current,Lh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qp(e)};zi.render=function(t,e,n){if(!Yp(e))throw Error(De(200));return Xp(null,t,e,!1,n)};zi.unmountComponentAtNode=function(t){if(!Yp(t))throw Error(De(40));return t._reactRootContainer?(Dl(function(){Xp(null,null,t,!1,function(){t._reactRootContainer=null,t[Lo]=null})}),!0):!1};zi.unstable_batchedUpdates=l2;zi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yp(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return Xp(t,e,n,!1,r)};zi.version="18.3.1-next-f1338f8080-20240426";function f3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f3)}catch(t){console.error(t)}}f3(),fb.exports=zi;var QT=fb.exports,d5=QT;Wg.createRoot=d5.createRoot,Wg.hydrateRoot=d5.hydrateRoot;var p5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},p3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(v=64)),r.push(n[f],n[m],n[v],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new XT;const v=s<<2|a>>4;if(r.push(v),u!==64){const p=a<<4&240|u>>2;if(r.push(p),m!==64){const E=u<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JT=function(t){const e=d3(t);return p3.encodeByteArray(e,!0)},fp=function(t){return JT(t).replace(/\./g,"")},m3=function(t){try{return p3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=()=>ZT().__FIREBASE_DEFAULTS__,t6=()=>{if(typeof process>"u"||typeof p5>"u")return;const t=p5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&m3(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return e6()||t6()||n6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g3=t=>{var e,n;return(n=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r6=t=>{const e=g3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v3=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config},y3=t=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fp(JSON.stringify(n)),fp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function a6(){var t;const e=(t=Jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h6(){const t=Kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f6(){return!a6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d6(){try{return typeof indexedDB=="object"}catch{return!1}}function p6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="FirebaseError";class Bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m6,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?g6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bo(i,a,r)}}function g6(t,e){return t.replace(v6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v6=/\{\$([^}]+)}/g;function y6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(m5(s)&&m5(o)){if(!dp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _6(t,e){const n=new w6(t,e);return n.subscribe.bind(n)}class w6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ag),i.error===void 0&&(i.error=ag),i.complete===void 0&&(i.complete=ag);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E6(e))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_l){return this.instances.has(e)}getOptions(e=_l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_l){return this.component?this.component.multipleInstances?e:_l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A6(t){return t===_l?void 0:t}function E6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const I6={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},T6=Ut.INFO,N6={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},k6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class g2{constructor(e){this.name=e,this._logLevel=T6,this._logHandler=k6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const P6=(t,e)=>e.some(n=>t instanceof n);let g5,v5;function C6(){return g5||(g5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L6(){return v5||(v5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _3=new WeakMap,j0=new WeakMap,w3=new WeakMap,lg=new WeakMap,v2=new WeakMap;function R6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_3.set(n,t)}).catch(()=>{}),v2.set(e,t),e}function D6(t){if(j0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});j0.set(t,e)}let V0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O6(t){V0=t(V0)}function F6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ug(this),e,...n);return w3.set(r,e.sort?e.sort():[e]),Oa(r)}:L6().includes(t)?function(...e){return t.apply(ug(this),e),Oa(_3.get(this))}:function(...e){return Oa(t.apply(ug(this),e))}}function M6(t){return typeof t=="function"?F6(t):(t instanceof IDBTransaction&&D6(t),P6(t,C6())?new Proxy(t,V0):t)}function Oa(t){if(t instanceof IDBRequest)return R6(t);if(lg.has(t))return lg.get(t);const e=M6(t);return e!==t&&(lg.set(t,e),v2.set(e,t)),e}const ug=t=>v2.get(t);function j6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oa(o.result),l.oldVersion,l.newVersion,Oa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const V6=["get","getKey","getAll","getAllKeys","count"],U6=["put","add","delete","clear"],cg=new Map;function y5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cg.set(e,s),s}O6(t=>({...t,get:(e,n,r)=>y5(e,n)||t.get(e,n,r),has:(e,n)=>!!y5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U0="@firebase/app",_5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new g2("@firebase/app"),q6="@firebase/app-compat",H6="@firebase/analytics-compat",W6="@firebase/analytics",$6="@firebase/app-check-compat",G6="@firebase/app-check",K6="@firebase/auth",Q6="@firebase/auth-compat",Y6="@firebase/database",X6="@firebase/data-connect",J6="@firebase/database-compat",Z6="@firebase/functions",eN="@firebase/functions-compat",tN="@firebase/installations",nN="@firebase/installations-compat",rN="@firebase/messaging",iN="@firebase/messaging-compat",sN="@firebase/performance",oN="@firebase/performance-compat",aN="@firebase/remote-config",lN="@firebase/remote-config-compat",uN="@firebase/storage",cN="@firebase/storage-compat",hN="@firebase/firestore",fN="@firebase/vertexai-preview",dN="@firebase/firestore-compat",pN="firebase",mN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="[DEFAULT]",gN={[U0]:"fire-core",[q6]:"fire-core-compat",[W6]:"fire-analytics",[H6]:"fire-analytics-compat",[G6]:"fire-app-check",[$6]:"fire-app-check-compat",[K6]:"fire-auth",[Q6]:"fire-auth-compat",[Y6]:"fire-rtdb",[X6]:"fire-data-connect",[J6]:"fire-rtdb-compat",[Z6]:"fire-fn",[eN]:"fire-fn-compat",[tN]:"fire-iid",[nN]:"fire-iid-compat",[rN]:"fire-fcm",[iN]:"fire-fcm-compat",[sN]:"fire-perf",[oN]:"fire-perf-compat",[aN]:"fire-rc",[lN]:"fire-rc-compat",[uN]:"fire-gcs",[cN]:"fire-gcs-compat",[hN]:"fire-fst",[dN]:"fire-fst-compat",[fN]:"fire-vertex","fire-js":"fire-js",[pN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new Map,vN=new Map,z0=new Map;function w5(t,e){try{t.container.addComponent(e)}catch(n){Oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(z0.has(e))return Oo.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,t);for(const n of pp.values())w5(n,t);for(const n of vN.values())w5(n,t);return!0}function y2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Eo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new sf("app","Firebase",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=mN;function b3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:B0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(n||(n=v3()),!n)throw Fa.create("no-options");const s=pp.get(i);if(s){if(dp(n,s.options)&&dp(r,s.config))return s;throw Fa.create("duplicate-app",{appName:i})}const o=new x6(i);for(const l of z0.values())o.addComponent(l);const a=new _N(n,r,o);return pp.set(i,a),a}function S3(t=B0){const e=pp.get(t);if(!e&&t===B0&&v3())return b3();if(!e)throw Fa.create("no-app",{appName:t});return e}function Ma(t,e,n){var r;let i=(r=gN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oo.warn(a.join(" "));return}Xu(new Ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",bN=1,Bh="firebase-heartbeat-store";let hg=null;function A3(){return hg||(hg=j6(wN,bN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),hg}async function SN(t){try{const n=(await A3()).transaction(Bh),r=await n.objectStore(Bh).get(E3(t));return await n.done,r}catch(e){if(e instanceof Bo)Oo.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oo.warn(n.message)}}}async function b5(t,e){try{const r=(await A3()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,E3(t)),await r.done}catch(n){if(n instanceof Bo)Oo.warn(n.message);else{const r=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oo.warn(r.message)}}}function E3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1024,EN=30*24*60*60*1e3;class xN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=EN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Oo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S5(),{heartbeatsToSend:r,unsentEntries:i}=IN(this._heartbeatsCache.heartbeats),s=fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Oo.warn(n),""}}}function S5(){return new Date().toISOString().substring(0,10)}function IN(t,e=AN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),A5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d6()?p6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A5(t){return fp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){Xu(new Ol("platform-logger",e=>new B6(e),"PRIVATE")),Xu(new Ol("heartbeat",e=>new xN(e),"PRIVATE")),Ma(U0,_5,t),Ma(U0,_5,"esm2017"),Ma("fire-js","")}NN("");var kN="firebase",PN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(kN,PN,"app");var E5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nl,x3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,x){function b(){}b.prototype=x.prototype,V.D=x.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(P,S,k){for(var L=Array(arguments.length-2),J=2;J<arguments.length;J++)L[J-2]=arguments[J];return x.prototype[S].apply(P,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,x,b){b||(b=0);var P=Array(16);if(typeof x=="string")for(var S=0;16>S;++S)P[S]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(S=0;16>S;++S)P[S]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=V.g[0],b=V.g[1],S=V.g[2];var k=V.g[3],L=x+(k^b&(S^k))+P[0]+3614090360&4294967295;x=b+(L<<7&4294967295|L>>>25),L=k+(S^x&(b^S))+P[1]+3905402710&4294967295,k=x+(L<<12&4294967295|L>>>20),L=S+(b^k&(x^b))+P[2]+606105819&4294967295,S=k+(L<<17&4294967295|L>>>15),L=b+(x^S&(k^x))+P[3]+3250441966&4294967295,b=S+(L<<22&4294967295|L>>>10),L=x+(k^b&(S^k))+P[4]+4118548399&4294967295,x=b+(L<<7&4294967295|L>>>25),L=k+(S^x&(b^S))+P[5]+1200080426&4294967295,k=x+(L<<12&4294967295|L>>>20),L=S+(b^k&(x^b))+P[6]+2821735955&4294967295,S=k+(L<<17&4294967295|L>>>15),L=b+(x^S&(k^x))+P[7]+4249261313&4294967295,b=S+(L<<22&4294967295|L>>>10),L=x+(k^b&(S^k))+P[8]+1770035416&4294967295,x=b+(L<<7&4294967295|L>>>25),L=k+(S^x&(b^S))+P[9]+2336552879&4294967295,k=x+(L<<12&4294967295|L>>>20),L=S+(b^k&(x^b))+P[10]+4294925233&4294967295,S=k+(L<<17&4294967295|L>>>15),L=b+(x^S&(k^x))+P[11]+2304563134&4294967295,b=S+(L<<22&4294967295|L>>>10),L=x+(k^b&(S^k))+P[12]+1804603682&4294967295,x=b+(L<<7&4294967295|L>>>25),L=k+(S^x&(b^S))+P[13]+4254626195&4294967295,k=x+(L<<12&4294967295|L>>>20),L=S+(b^k&(x^b))+P[14]+2792965006&4294967295,S=k+(L<<17&4294967295|L>>>15),L=b+(x^S&(k^x))+P[15]+1236535329&4294967295,b=S+(L<<22&4294967295|L>>>10),L=x+(S^k&(b^S))+P[1]+4129170786&4294967295,x=b+(L<<5&4294967295|L>>>27),L=k+(b^S&(x^b))+P[6]+3225465664&4294967295,k=x+(L<<9&4294967295|L>>>23),L=S+(x^b&(k^x))+P[11]+643717713&4294967295,S=k+(L<<14&4294967295|L>>>18),L=b+(k^x&(S^k))+P[0]+3921069994&4294967295,b=S+(L<<20&4294967295|L>>>12),L=x+(S^k&(b^S))+P[5]+3593408605&4294967295,x=b+(L<<5&4294967295|L>>>27),L=k+(b^S&(x^b))+P[10]+38016083&4294967295,k=x+(L<<9&4294967295|L>>>23),L=S+(x^b&(k^x))+P[15]+3634488961&4294967295,S=k+(L<<14&4294967295|L>>>18),L=b+(k^x&(S^k))+P[4]+3889429448&4294967295,b=S+(L<<20&4294967295|L>>>12),L=x+(S^k&(b^S))+P[9]+568446438&4294967295,x=b+(L<<5&4294967295|L>>>27),L=k+(b^S&(x^b))+P[14]+3275163606&4294967295,k=x+(L<<9&4294967295|L>>>23),L=S+(x^b&(k^x))+P[3]+4107603335&4294967295,S=k+(L<<14&4294967295|L>>>18),L=b+(k^x&(S^k))+P[8]+1163531501&4294967295,b=S+(L<<20&4294967295|L>>>12),L=x+(S^k&(b^S))+P[13]+2850285829&4294967295,x=b+(L<<5&4294967295|L>>>27),L=k+(b^S&(x^b))+P[2]+4243563512&4294967295,k=x+(L<<9&4294967295|L>>>23),L=S+(x^b&(k^x))+P[7]+1735328473&4294967295,S=k+(L<<14&4294967295|L>>>18),L=b+(k^x&(S^k))+P[12]+2368359562&4294967295,b=S+(L<<20&4294967295|L>>>12),L=x+(b^S^k)+P[5]+4294588738&4294967295,x=b+(L<<4&4294967295|L>>>28),L=k+(x^b^S)+P[8]+2272392833&4294967295,k=x+(L<<11&4294967295|L>>>21),L=S+(k^x^b)+P[11]+1839030562&4294967295,S=k+(L<<16&4294967295|L>>>16),L=b+(S^k^x)+P[14]+4259657740&4294967295,b=S+(L<<23&4294967295|L>>>9),L=x+(b^S^k)+P[1]+2763975236&4294967295,x=b+(L<<4&4294967295|L>>>28),L=k+(x^b^S)+P[4]+1272893353&4294967295,k=x+(L<<11&4294967295|L>>>21),L=S+(k^x^b)+P[7]+4139469664&4294967295,S=k+(L<<16&4294967295|L>>>16),L=b+(S^k^x)+P[10]+3200236656&4294967295,b=S+(L<<23&4294967295|L>>>9),L=x+(b^S^k)+P[13]+681279174&4294967295,x=b+(L<<4&4294967295|L>>>28),L=k+(x^b^S)+P[0]+3936430074&4294967295,k=x+(L<<11&4294967295|L>>>21),L=S+(k^x^b)+P[3]+3572445317&4294967295,S=k+(L<<16&4294967295|L>>>16),L=b+(S^k^x)+P[6]+76029189&4294967295,b=S+(L<<23&4294967295|L>>>9),L=x+(b^S^k)+P[9]+3654602809&4294967295,x=b+(L<<4&4294967295|L>>>28),L=k+(x^b^S)+P[12]+3873151461&4294967295,k=x+(L<<11&4294967295|L>>>21),L=S+(k^x^b)+P[15]+530742520&4294967295,S=k+(L<<16&4294967295|L>>>16),L=b+(S^k^x)+P[2]+3299628645&4294967295,b=S+(L<<23&4294967295|L>>>9),L=x+(S^(b|~k))+P[0]+4096336452&4294967295,x=b+(L<<6&4294967295|L>>>26),L=k+(b^(x|~S))+P[7]+1126891415&4294967295,k=x+(L<<10&4294967295|L>>>22),L=S+(x^(k|~b))+P[14]+2878612391&4294967295,S=k+(L<<15&4294967295|L>>>17),L=b+(k^(S|~x))+P[5]+4237533241&4294967295,b=S+(L<<21&4294967295|L>>>11),L=x+(S^(b|~k))+P[12]+1700485571&4294967295,x=b+(L<<6&4294967295|L>>>26),L=k+(b^(x|~S))+P[3]+2399980690&4294967295,k=x+(L<<10&4294967295|L>>>22),L=S+(x^(k|~b))+P[10]+4293915773&4294967295,S=k+(L<<15&4294967295|L>>>17),L=b+(k^(S|~x))+P[1]+2240044497&4294967295,b=S+(L<<21&4294967295|L>>>11),L=x+(S^(b|~k))+P[8]+1873313359&4294967295,x=b+(L<<6&4294967295|L>>>26),L=k+(b^(x|~S))+P[15]+4264355552&4294967295,k=x+(L<<10&4294967295|L>>>22),L=S+(x^(k|~b))+P[6]+2734768916&4294967295,S=k+(L<<15&4294967295|L>>>17),L=b+(k^(S|~x))+P[13]+1309151649&4294967295,b=S+(L<<21&4294967295|L>>>11),L=x+(S^(b|~k))+P[4]+4149444226&4294967295,x=b+(L<<6&4294967295|L>>>26),L=k+(b^(x|~S))+P[11]+3174756917&4294967295,k=x+(L<<10&4294967295|L>>>22),L=S+(x^(k|~b))+P[2]+718787259&4294967295,S=k+(L<<15&4294967295|L>>>17),L=b+(k^(S|~x))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(S+(L<<21&4294967295|L>>>11))&4294967295,V.g[2]=V.g[2]+S&4294967295,V.g[3]=V.g[3]+k&4294967295}r.prototype.u=function(V,x){x===void 0&&(x=V.length);for(var b=x-this.blockSize,P=this.B,S=this.h,k=0;k<x;){if(S==0)for(;k<=b;)i(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<x;)if(P[S++]=V.charCodeAt(k++),S==this.blockSize){i(this,P),S=0;break}}else for(;k<x;)if(P[S++]=V[k++],S==this.blockSize){i(this,P),S=0;break}}this.h=S,this.o+=x},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;var b=8*this.o;for(x=V.length-8;x<V.length;++x)V[x]=b&255,b/=256;for(this.u(V),V=Array(16),x=b=0;4>x;++x)for(var P=0;32>P;P+=8)V[b++]=this.g[x]>>>P&255;return V};function s(V,x){var b=a;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=x(V)}function o(V,x){this.h=x;for(var b=[],P=!0,S=V.length-1;0<=S;S--){var k=V[S]|0;P&&k==x||(b[S]=k,P=!1)}this.g=b}var a={};function l(V){return-128<=V&&128>V?s(V,function(x){return new o([x|0],0>x?-1:0)}):new o([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return D(u(-V));for(var x=[],b=1,P=0;V>=b;P++)x[P]=V/b|0,b*=4294967296;return new o(x,0)}function f(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return D(f(V.substring(1),x));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(x,8)),P=m,S=0;S<V.length;S+=8){var k=Math.min(8,V.length-S),L=parseInt(V.substring(S,S+k),x);8>k?(k=u(Math.pow(x,k)),P=P.j(k).add(u(L))):(P=P.j(b),P=P.add(u(L)))}return P}var m=l(0),v=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-D(this).m();for(var V=0,x=1,b=0;b<this.g.length;b++){var P=this.i(b);V+=(0<=P?P:4294967296+P)*x,x*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(E(this))return"0";if(T(this))return"-"+D(this).toString(V);for(var x=u(Math.pow(V,6)),b=this,P="";;){var S=j(b,x).g;b=w(b,S.j(x));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=S,E(b))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function E(V){if(V.h!=0)return!1;for(var x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function T(V){return V.h==-1}t.l=function(V){return V=w(this,V),T(V)?-1:E(V)?0:1};function D(V){for(var x=V.g.length,b=[],P=0;P<x;P++)b[P]=~V.g[P];return new o(b,~V.h).add(v)}t.abs=function(){return T(this)?D(this):this},t.add=function(V){for(var x=Math.max(this.g.length,V.g.length),b=[],P=0,S=0;S<=x;S++){var k=P+(this.i(S)&65535)+(V.i(S)&65535),L=(k>>>16)+(this.i(S)>>>16)+(V.i(S)>>>16);P=L>>>16,k&=65535,L&=65535,b[S]=L<<16|k}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(V,x){return V.add(D(x))}t.j=function(V){if(E(this)||E(V))return m;if(T(this))return T(V)?D(this).j(D(V)):D(D(this).j(V));if(T(V))return D(this.j(D(V)));if(0>this.l(p)&&0>V.l(p))return u(this.m()*V.m());for(var x=this.g.length+V.g.length,b=[],P=0;P<2*x;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var S=0;S<V.g.length;S++){var k=this.i(P)>>>16,L=this.i(P)&65535,J=V.i(S)>>>16,pe=V.i(S)&65535;b[2*P+2*S]+=L*pe,N(b,2*P+2*S),b[2*P+2*S+1]+=k*pe,N(b,2*P+2*S+1),b[2*P+2*S+1]+=L*J,N(b,2*P+2*S+1),b[2*P+2*S+2]+=k*J,N(b,2*P+2*S+2)}for(P=0;P<x;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=x;P<2*x;P++)b[P]=0;return new o(b,0)};function N(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function C(V,x){this.g=V,this.h=x}function j(V,x){if(E(x))throw Error("division by zero");if(E(V))return new C(m,m);if(T(V))return x=j(D(V),x),new C(D(x.g),D(x.h));if(T(x))return x=j(V,D(x)),new C(D(x.g),x.h);if(30<V.g.length){if(T(V)||T(x))throw Error("slowDivide_ only works with positive integers.");for(var b=v,P=x;0>=P.l(V);)b=X(b),P=X(P);var S=re(b,1),k=re(P,1);for(P=re(P,2),b=re(b,2);!E(P);){var L=k.add(P);0>=L.l(V)&&(S=S.add(b),k=L),P=re(P,1),b=re(b,1)}return x=w(V,S.j(x)),new C(S,x)}for(S=m;0<=V.l(x);){for(b=Math.max(1,Math.floor(V.m()/x.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=u(b),L=k.j(x);T(L)||0<L.l(V);)b-=P,k=u(b),L=k.j(x);E(k)&&(k=v),S=S.add(k),V=w(V,L)}return new C(S,V)}t.A=function(V){return j(this,V).h},t.and=function(V){for(var x=Math.max(this.g.length,V.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)&V.i(P);return new o(b,this.h&V.h)},t.or=function(V){for(var x=Math.max(this.g.length,V.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)|V.i(P);return new o(b,this.h|V.h)},t.xor=function(V){for(var x=Math.max(this.g.length,V.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)^V.i(P);return new o(b,this.h^V.h)};function X(V){for(var x=V.g.length+1,b=[],P=0;P<x;P++)b[P]=V.i(P)<<1|V.i(P-1)>>>31;return new o(b,V.h)}function re(V,x){var b=x>>5;x%=32;for(var P=V.g.length-b,S=[],k=0;k<P;k++)S[k]=0<x?V.i(k+b)>>>x|V.i(k+b+1)<<32-x:V.i(k+b);return new o(S,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Nl=o}).apply(typeof E5<"u"?E5:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I3,nh,T3,Td,q0,N3,k3,P3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,I){return h==Array.prototype||h==Object.prototype||(h[_]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<h.length;++_){var I=h[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var I=r;h=h.split(".");for(var z=0;z<h.length-1;z++){var ae=h[z];if(!(ae in I))break e;I=I[ae]}h=h[h.length-1],z=I[h],_=_(z),_!=z&&_!=null&&e(I,h,{configurable:!0,writable:!0,value:_})}}function s(h,_){h instanceof String&&(h+="");var I=0,z=!1,ae={next:function(){if(!z&&I<h.length){var de=I++;return{value:_(de,h[de]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(h){return h||function(){return s(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function u(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function f(h,_,I){return h.call.apply(h.bind,arguments)}function m(h,_,I){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),h.apply(_,ae)}}return function(){return h.apply(_,arguments)}}function v(h,_,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,v.apply(null,arguments)}function p(h,_){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function E(h,_){function I(){}I.prototype=_.prototype,h.aa=_.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(z,ae,de){for(var Oe=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)Oe[jt-2]=arguments[jt];return _.prototype[ae].apply(z,Oe)}}function T(h){const _=h.length;if(0<_){const I=Array(_);for(let z=0;z<_;z++)I[z]=h[z];return I}return[]}function D(h,_){for(let I=1;I<arguments.length;I++){const z=arguments[I];if(l(z)){const ae=h.length||0,de=z.length||0;h.length=ae+de;for(let Oe=0;Oe<de;Oe++)h[ae+Oe]=z[Oe]}else h.push(z)}}class w{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){return/^[\s\xa0]*$/.test(h)}function C(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function j(h){return j[" "](h),h}j[" "]=function(){};var X=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function re(h,_,I){for(const z in h)_.call(I,h[z],z,h)}function V(h,_){for(const I in h)_.call(void 0,h[I],I,h)}function x(h){const _={};for(const I in h)_[I]=h[I];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,_){let I,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(I in z)h[I]=z[I];for(let de=0;de<b.length;de++)I=b[de],Object.prototype.hasOwnProperty.call(z,I)&&(h[I]=z[I])}}function S(h){var _=1;h=h.split(":");const I=[];for(;0<_&&h.length;)I.push(h.shift()),_--;return h.length&&I.push(h.join(":")),I}function k(h){a.setTimeout(()=>{throw h},0)}function L(){var h=le;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,I){const z=pe.get();z.set(_,I),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new w(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Z=!1,le=new J,be=()=>{const h=a.Promise.resolve(void 0);ge=()=>{h.then(we)}};var we=()=>{for(var h;h=L();){try{h.h.call(h.g)}catch(I){k(I)}var _=pe;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Z=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};a.addEventListener("test",I,_),a.removeEventListener("test",I,_)}catch{}return h}();function te(h,_){if(H.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(X){e:{try{j(_.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(_=null)}}else I=="mouseover"?_=h.fromElement:I=="mouseout"&&(_=h.toElement);this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&te.aa.h.call(this)}}E(te,H);var se={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),ve=0;function me(h,_,I,z,ae){this.listener=h,this.proxy=null,this.src=_,this.type=I,this.capture=!!z,this.ha=ae,this.key=++ve,this.da=this.fa=!1}function xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,_,I,z,ae){var de=h.toString();h=this.g[de],h||(h=this.g[de]=[],this.h++);var Oe=Ve(h,_,z,ae);return-1<Oe?(_=h[Oe],I||(_.fa=!1)):(_=new me(_,this.src,de,!!z,ae),_.fa=I,h.push(_)),_};function Me(h,_){var I=_.type;if(I in h.g){var z=h.g[I],ae=Array.prototype.indexOf.call(z,_,void 0),de;(de=0<=ae)&&Array.prototype.splice.call(z,ae,1),de&&(xe(_),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Ve(h,_,I,z){for(var ae=0;ae<h.length;++ae){var de=h[ae];if(!de.da&&de.listener==_&&de.capture==!!I&&de.ha==z)return ae}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Q={};function kt(h,_,I,z,ae){if(Array.isArray(_)){for(var de=0;de<_.length;de++)kt(h,_[de],I,z,ae);return null}return I=yt(I),h&&h[ce]?h.K(_,I,u(z)?!!z.capture:!1,ae):bt(h,_,I,!1,z,ae)}function bt(h,_,I,z,ae,de){if(!_)throw Error("Invalid event type");var Oe=u(ae)?!!ae.capture:!!ae,jt=Ze(h);if(jt||(h[_e]=jt=new Pe(h)),I=jt.add(_,I,z,Oe,de),I.proxy)return I;if(z=it(),I.proxy=z,z.src=h,z.listener=I,h.addEventListener)Y||(ae=Oe),ae===void 0&&(ae=!1),h.addEventListener(_.toString(),z,ae);else if(h.attachEvent)h.attachEvent(je(_.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function it(){function h(I){return _.call(h.src,h.listener,I)}const _=St;return h}function Re(h,_,I,z,ae){if(Array.isArray(_))for(var de=0;de<_.length;de++)Re(h,_[de],I,z,ae);else z=u(z)?!!z.capture:!!z,I=yt(I),h&&h[ce]?(h=h.i,_=String(_).toString(),_ in h.g&&(de=h.g[_],I=Ve(de,I,z,ae),-1<I&&(xe(de[I]),Array.prototype.splice.call(de,I,1),de.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ze(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ve(_,I,z,ae)),(I=-1<h?_[h]:null)&&Ye(I))}function Ye(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ce])Me(_.i,h);else{var I=h.type,z=h.proxy;_.removeEventListener?_.removeEventListener(I,z,h.capture):_.detachEvent?_.detachEvent(je(I),z):_.addListener&&_.removeListener&&_.removeListener(z),(I=Ze(_))?(Me(I,h),I.h==0&&(I.src=null,_[_e]=null)):xe(h)}}}function je(h){return h in Q?Q[h]:Q[h]="on"+h}function St(h,_){if(h.da)h=!0;else{_=new te(_,this);var I=h.listener,z=h.ha||h.src;h.fa&&Ye(h),h=I.call(z,_)}return h}function Ze(h){return h=h[_e],h instanceof Pe?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(_){return h.handleEvent(_)}),h[Mt])}function Xe(){F.call(this),this.i=new Pe(this),this.M=this,this.F=null}E(Xe,F),Xe.prototype[ce]=!0,Xe.prototype.removeEventListener=function(h,_,I,z){Re(this,h,_,I,z)};function At(h,_){var I,z=h.F;if(z)for(I=[];z;z=z.F)I.push(z);if(h=h.M,z=_.type||_,typeof _=="string")_=new H(_,h);else if(_ instanceof H)_.target=_.target||h;else{var ae=_;_=new H(z,h),P(_,ae)}if(ae=!0,I)for(var de=I.length-1;0<=de;de--){var Oe=_.g=I[de];ae=pt(Oe,z,!0,_)&&ae}if(Oe=_.g=h,ae=pt(Oe,z,!0,_)&&ae,ae=pt(Oe,z,!1,_)&&ae,I)for(de=0;de<I.length;de++)Oe=_.g=I[de],ae=pt(Oe,z,!1,_)&&ae}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var I=h.g[_],z=0;z<I.length;z++)xe(I[z]);delete h.g[_],h.h--}}this.F=null},Xe.prototype.K=function(h,_,I,z){return this.i.add(String(h),_,!1,I,z)},Xe.prototype.L=function(h,_,I,z){return this.i.add(String(h),_,!0,I,z)};function pt(h,_,I,z){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var ae=!0,de=0;de<_.length;++de){var Oe=_[de];if(Oe&&!Oe.da&&Oe.capture==I){var jt=Oe.listener,Cn=Oe.ha||Oe.src;Oe.fa&&Me(h.i,Oe),ae=jt.call(Cn,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function et(h,_,I){if(typeof h=="function")I&&(h=v(h,I));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function lt(h){h.g=et(()=>{h.g=null,h.i&&(h.i=!1,lt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class nt extends F{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(h){F.call(this),this.h=h,this.g={}}E(Kt,F);var Bt=[];function Ge(h){re(h.g,function(_,I){this.g.hasOwnProperty(I)&&Ye(_)},h),h.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Ge(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=a.JSON.stringify,Zt=a.JSON.parse,ot=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Pt(){}Pt.prototype.h=null;function _t(h){return h.h||(h.h=h.i())}function An(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){H.call(this,"d")}E(Yt,H);function ct(){H.call(this,"c")}E(ct,H);var Lt={},Ts=null;function zn(){return Ts=Ts||new Xe}Lt.La="serverreachability";function Hi(h){H.call(this,Lt.La,h)}E(Hi,H);function Lr(h){const _=zn();At(_,new Hi(_))}Lt.STAT_EVENT="statevent";function st(h,_){H.call(this,Lt.STAT_EVENT,h),this.stat=_}E(st,H);function yn(h){const _=zn();At(_,new st(_,h))}Lt.Ma="timingevent";function Wi(h,_){H.call(this,Lt.Ma,h),this.size=_}E(Wi,H);function hr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function En(h,_,I,z,ae,de){h.info(function(){if(h.g)if(de)for(var Oe="",jt=de.split("&"),Cn=0;Cn<jt.length;Cn++){var Rt=jt[Cn].split("=");if(1<Rt.length){var Ct=Rt[0];Rt=Rt[1];var pn=Ct.split("_");Oe=2<=pn.length&&pn[1]=="type"?Oe+(Ct+"="+Rt+"&"):Oe+(Ct+"=redacted&")}}else Oe=null;else Oe=de;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+_+`
`+I+`
`+Oe})}function er(h,_,I,z,ae,de,Oe){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+_+`
`+I+`
`+de+" "+Oe})}function xn(h,_,I,z){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ns(h,I)+(z?" "+z:"")})}function no(h,_){h.info(function(){return"TIMEOUT: "+_})}fr.prototype.info=function(){};function Ns(h,_){if(!h.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var z=I[h];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var de=ae[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Oe=1;Oe<ae.length;Oe++)ae[Oe]=""}}}}return mt(I)}catch{return _}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Dr(){}E(Dr,Pt),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Qr=new Dr;function qn(h,_,I,z){this.j=h,this.i=_,this.l=I,this.R=z||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var wi={},ss={};function Ps(h,_,I){h.L=1,h.v=oo(Yr(_)),h.m=I,h.P=!0,ro(h,null)}function ro(h,_){h.F=Date.now(),Cs(h),h.A=Yr(h.v);var I=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),ht(I.i,"t",z),h.C=0,I=h.j.J,h.h=new ks,h.g=Fn(h.j,I?_:null,!h.m),0<h.O&&(h.M=new nt(v(h.Y,h,h.g),h.O)),_=h.U,I=h.g,z=h.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Bt[0]=ae.toString()),ae=Bt);for(var de=0;de<ae.length;de++){var Oe=kt(I,ae[de],z||_.handleEvent,!1,_.h||_);if(!Oe)break;_.g[Oe.key]=Oe}_=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Lr(),En(h.i,h.u,h.A,h.l,h.R,h.m)}qn.prototype.ca=function(h){h=h.target;const _=this.M;_&&ci(h)==3?_.j():this.Y(h)},qn.prototype.Y=function(h){try{if(h==this.g)e:{const pn=ci(this.g);var _=this.g.Ba();const Ei=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||ul(this.g)))){this.J||pn!=4||_==7||(_==8||0>=Ei?Lr(3):Lr(2)),zo(this);var I=this.g.Z();this.X=I;t:if(io(this)){var z=ul(this.g);h="";var ae=z.length,de=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),dr(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(_=0;_<ae;_++)this.h.h=!0,h+=this.h.i.decode(z[_],{stream:!(de&&_==ae-1)});z.length=0,this.h.g+=h,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=I==200,er(this.i,this.u,this.A,this.l,this.R,pn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Cn=this.g;if((jt=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(jt)){var Rt=jt;break t}}Rt=null}if(I=Rt)xn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qo(this,I);else{this.o=!1,this.s=3,yn(12),bi(this),dr(this);break e}}if(this.P){I=!0;let Or;for(;!this.J&&this.C<Oe.length;)if(Or=gc(this,Oe),Or==ss){pn==4&&(this.s=4,yn(14),I=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==wi){this.s=4,yn(15),xn(this.i,this.l,Oe,"[Invalid Chunk]"),I=!1;break}else xn(this.i,this.l,Or,null),qo(this,Or);if(io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Oe.length!=0||this.h.h||(this.s=1,yn(16),I=!1),this.o=this.o&&I,!I)xn(this.i,this.l,Oe,"[Invalid Chunked Response]"),bi(this),dr(this);else if(0<Oe.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Be(Ct),Ct.M=!0,yn(11))}}else xn(this.i,this.l,Oe,null),qo(this,Oe);pn==4&&bi(this),this.o&&!this.J&&(pn==4?gt(this.j,this):(this.o=!1,Cs(this)))}else us(this.g),I==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),bi(this),dr(this)}}}catch{}finally{}};function io(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gc(h,_){var I=h.C,z=_.indexOf(`
`,I);return z==-1?ss:(I=Number(_.substring(I,z)),isNaN(I)?wi:(z+=1,z+I>_.length?ss:(_=_.slice(z,z+I),h.C=z+I,_)))}qn.prototype.cancel=function(){this.J=!0,bi(this)};function Cs(h){h.S=Date.now()+h.I,Ja(h,h.I)}function Ja(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=hr(v(h.ba,h),_)}function zo(h){h.B&&(a.clearTimeout(h.B),h.B=null)}qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(no(this.i,this.A),this.L!=2&&(Lr(),yn(17)),bi(this),this.s=2,dr(this)):Ja(this,this.S-h)};function dr(h){h.j.G==0||h.J||gt(h.j,h)}function bi(h){zo(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Ge(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function qo(h,_){try{var I=h.j;if(I.G!=0&&(I.g==h||Ls(I.h,h))){if(!h.K&&Ls(I.h,h)&&I.G==3){try{var z=I.Da.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)at(I),Ki(I);else break e;Ne(I),yn(18)}}else I.za=ae[1],0<I.za-I.T&&37500>ae[2]&&I.F&&I.v==0&&!I.C&&(I.C=hr(v(I.Za,I),6e3));if(1>=nl(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Xt(I,11)}else if((h.K||I.g==h)&&at(I),!N(_))for(ae=I.Da.g.parse(_),_=0;_<ae.length;_++){let Rt=ae[_];if(I.T=Rt[0],Rt=Rt[1],I.G==2)if(Rt[0]=="c"){I.K=Rt[1],I.ia=Rt[2];const Ct=Rt[3];Ct!=null&&(I.la=Ct,I.j.info("VER="+I.la));const pn=Rt[4];pn!=null&&(I.Aa=pn,I.j.info("SVER="+I.Aa));const Ei=Rt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(z=1.5*Ei,I.L=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const Or=h.g;if(Or){const br=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var de=z.h;de.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(rl(de,de.h),de.h=null))}if(z.D){const cs=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(z.ya=cs,Ot(z.I,z.D,cs))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),z=I;var Oe=h;if(z.qa=tn(z,z.J?z.ia:null,z.W),Oe.K){Nn(z.h,Oe);var jt=Oe,Cn=z.L;Cn&&(jt.I=Cn),jt.B&&(zo(jt),Cs(jt)),z.g=Oe}else Ae(z);0<I.i.length&&g(I)}else Rt[0]!="stop"&&Rt[0]!="close"||Xt(I,7);else I.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Xt(I,7):Yo(I):Rt[0]!="noop"&&I.l&&I.l.ta(Rt),I.v=0)}}Lr(4)}catch{}}var Za=class{constructor(h,_){this.g=h,this.map=_}};function el(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nl(h){return h.h?1:h.g?h.g.size:0}function Ls(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function rl(h,_){h.g?h.g.add(_):h.h=_}function Nn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}el.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function il(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const I of h.g.values())_=_.concat(I.D);return _}return T(h.i)}function Jl(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var _=[],I=h.length,z=0;z<I;z++)_.push(h[z]);return _}_=[],I=0;for(z in h)_[I++]=h[z];return _}function os(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var _=[];h=h.length;for(var I=0;I<h;I++)_.push(I);return _}_=[],I=0;for(const z in h)_[I++]=z;return _}}}function Rs(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var I=os(h),z=Jl(h),ae=z.length,de=0;de<ae;de++)_.call(void 0,z[de],I&&I[de],h)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(h,_){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var z=h[I].indexOf("="),ae=null;if(0<=z){var de=h[I].substring(0,z);ae=h[I].substring(z+1)}else de=h[I];_(de,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function en(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof en){this.h=h.h,Ho(this,h.j),this.o=h.o,this.g=h.g,Wo(this,h.s),this.l=h.l;var _=h.i,I=new ui;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),Zl(this,I),this.m=h.m}else h&&(_=String(h).match(ai))?(this.h=!1,Ho(this,_[1]||"",!0),this.o=Ds(_[2]||""),this.g=Ds(_[3]||"",!0),Wo(this,_[4]),this.l=Ds(_[5]||"",!0),Zl(this,_[6]||"",!0),this.m=Ds(_[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}en.prototype.toString=function(){var h=[],_=this.j;_&&h.push(li(_,eu,!0),":");var I=this.g;return(I||_=="file")&&(h.push("//"),(_=this.o)&&h.push(li(_,eu,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(li(I,I.charAt(0)=="/"?yc:vc,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",li(I,ao)),h.join("")};function Yr(h){return new en(h)}function Ho(h,_,I){h.j=I?Ds(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Wo(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Zl(h,_,I){_ instanceof ui?(h.i=_,_c(h.i,h.h)):(I||(_=li(_,ol)),h.i=new ui(_,h.h))}function Ot(h,_,I){h.i.set(_,I)}function oo(h){return Ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ds(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function li(h,_,I){return typeof h=="string"?(h=encodeURI(h).replace(_,sl),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eu=/[#\/\?@]/g,vc=/[#\?:]/g,yc=/[#\?]/g,ol=/[#\?@]/g,ao=/#/g;function ui(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function $i(h){h.g||(h.g=new Map,h.h=0,h.i&&so(h.i,function(_,I){h.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=ui.prototype,t.add=function(h,_){$i(this),this.i=null,h=Fs(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(_),this.h+=1,this};function Os(h,_){$i(h),_=Fs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function $o(h,_){return $i(h),_=Fs(h,_),h.g.has(_)}t.forEach=function(h,_){$i(this),this.g.forEach(function(I,z){I.forEach(function(ae){h.call(_,ae,z,this)},this)},this)},t.na=function(){$i(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let z=0;z<_.length;z++){const ae=h[z];for(let de=0;de<ae.length;de++)I.push(_[z])}return I},t.V=function(h){$i(this);let _=[];if(typeof h=="string")$o(this,h)&&(_=_.concat(this.g.get(Fs(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)_=_.concat(h[I])}return _},t.set=function(h,_){return $i(this),this.i=null,h=Fs(this,h),$o(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function ht(h,_,I){Os(h,_),0<I.length&&(h.i=null,h.g.set(Fs(h,_),T(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var z=_[I];const de=encodeURIComponent(String(z)),Oe=this.V(z);for(z=0;z<Oe.length;z++){var ae=de;Oe[z]!==""&&(ae+="="+encodeURIComponent(String(Oe[z]))),h.push(ae)}}return this.i=h.join("&")};function Fs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function _c(h,_){_&&!h.j&&($i(h),h.i=null,h.g.forEach(function(I,z){var ae=z.toLowerCase();z!=ae&&(Os(this,z),ht(this,ae,I))},h)),h.j=_}function wc(h,_){const I=new fr;if(a.Image){const z=new Image;z.onload=p(pr,I,"TestLoadImage: loaded",!0,_,z),z.onerror=p(pr,I,"TestLoadImage: error",!1,_,z),z.onabort=p(pr,I,"TestLoadImage: abort",!1,_,z),z.ontimeout=p(pr,I,"TestLoadImage: timeout",!1,_,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else _(!1)}function bc(h,_){const I=new fr,z=new AbortController,ae=setTimeout(()=>{z.abort(),pr(I,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:z.signal}).then(de=>{clearTimeout(ae),de.ok?pr(I,"TestPingServer: ok",!0,_):pr(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ae),pr(I,"TestPingServer: error",!1,_)})}function pr(h,_,I,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(I)}catch{}}function as(){this.g=new ot}function Sc(h,_,I){const z=I||"";try{Rs(h,function(ae,de){let Oe=ae;u(ae)&&(Oe=mt(ae)),_.push(z+de+"="+encodeURIComponent(Oe))})}catch(ae){throw _.push(z+"type="+encodeURIComponent("_badmap")),ae}}function Go(h){this.l=h.Ub||null,this.j=h.eb||!1}E(Go,Pt),Go.prototype.g=function(){return new ls(this.l,this.j)},Go.prototype.i=function(h){return function(){return h}}({});function ls(h,_){Xe.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ls,Xe),t=ls.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Gi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Si(this):Gi(this),this.readyState==3&&Ko(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Si(this))},t.Qa=function(h){this.g&&(this.response=h,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Gi(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=_.next();return h.join(`\r
`)};function Gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function lo(h){let _="";return re(h,function(I,z){_+=z,_+=":",_+=I,_+=`\r
`}),_}function al(h,_,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=lo(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):Ot(h,_,I))}function ln(h){Xe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ln,Xe);var ll=/^https?$/i,uo=["POST","PUT"];t=ln.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?_t(this.o):_t(Qr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(de){Ms(this,de);return}if(h=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)I.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const de of z.keys())I.set(de,z.get(de));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(de=>de.toLowerCase()=="content-type"),ae=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uo,_,void 0))||z||ae||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Oe]of I)this.g.setRequestHeader(de,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(h),this.u=!1}catch(de){Ms(this,de)}};function Ms(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Qo(h),js(h)}function Qo(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,At(this,"complete"),At(this,"abort"),js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},t.bb=function(){co(this)};function co(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ci(h)!=4||h.Z()!=2)){if(h.u&&ci(h)==4)et(h.Ea,0,h);else if(At(h,"readystatechange"),ci(h)==4){h.h=!1;try{const Oe=h.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var z;if(z=Oe===0){var ae=String(h.D).match(ai)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),z=!ll.test(ae?ae.toLowerCase():"")}I=z}if(I)At(h,"complete"),At(h,"success");else{h.m=6;try{var de=2<ci(h)?h.g.statusText:""}catch{de=""}h.l=de+" ["+h.Z()+"]",Qo(h)}}finally{js(h)}}}}function js(h,_){if(h.g){Vs(h);const I=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||At(h,"ready");try{I.onreadystatechange=z}catch{}}}function Vs(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Zt(_)}};function ul(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function us(h){const _={};h=(h.g&&2<=ci(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(N(h[z]))continue;var I=S(h[z]);const ae=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const de=_[ae]||[];_[ae]=de,de.push(I)}V(_,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(h,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||_}function cl(h){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,h),this.cb=Xr("retryDelaySeedMs",1e4,h),this.Wa=Xr("forwardChannelMaxRetries",2,h),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new el(h&&h.concurrentRequestLimit),this.Da=new as,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cl.prototype,t.la=8,t.G=1,t.connect=function(h,_,I,z){yn(0),this.W=h,this.H=_||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.I=tn(this,null,this.W),g(this)};function Yo(h){if(hl(h),h.G==3){var _=h.U++,I=Yr(h.I);if(Ot(I,"SID",h.K),Ot(I,"RID",_),Ot(I,"TYPE","terminate"),ee(h,I),_=new qn(h,h.j,_),_.L=2,_.v=oo(Yr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=_.v,I=!0),I||(_.g=Fn(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Cs(_)}kn(h)}function Ki(h){h.g&&(Be(h),h.g.cancel(),h.g=null)}function hl(h){Ki(h),h.u&&(a.clearTimeout(h.u),h.u=null),at(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function g(h){if(!tl(h.h)&&!h.s){h.s=!0;var _=h.Ga;ge||be(),Z||(ge(),Z=!0),le.add(_,h),h.B=0}}function R(h,_){return nl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=hr(v(h.Ga,h,_),zt(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ae=new qn(this,this.j,h);let de=this.o;if(this.S&&(de?(de=x(de),P(de,this.S)):de=this.S),this.m!==null||this.O||(ae.H=de,de=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=oe(this,ae,_),I=Yr(this.I),Ot(I,"RID",h),Ot(I,"CVER",22),this.D&&Ot(I,"X-HTTP-Session-Id",this.D),ee(this,I),de&&(this.O?_="headers="+encodeURIComponent(String(lo(de)))+"&"+_:this.m&&al(I,this.m,de)),rl(this.h,ae),this.Ua&&Ot(I,"TYPE","init"),this.P?(Ot(I,"$req",_),Ot(I,"SID","null"),ae.T=!0,Ps(ae,I,null)):Ps(ae,I,_),this.G=2}}else this.G==3&&(h?W(this,h):this.i.length==0||tl(this.h)||W(this))};function W(h,_){var I;_?I=_.l:I=h.U++;const z=Yr(h.I);Ot(z,"SID",h.K),Ot(z,"RID",I),Ot(z,"AID",h.T),ee(h,z),h.m&&h.o&&al(z,h.m,h.o),I=new qn(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),_&&(h.i=_.D.concat(h.i)),_=oe(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),rl(h.h,I),Ps(I,z,_)}function ee(h,_){h.H&&re(h.H,function(I,z){Ot(_,z,I)}),h.l&&Rs({},function(I,z){Ot(_,z,I)})}function oe(h,_,I){I=Math.min(h.i.length,I);var z=h.l?v(h.l.Na,h.l,h):null;e:{var ae=h.i;let de=-1;for(;;){const Oe=["count="+I];de==-1?0<I?(de=ae[0].g,Oe.push("ofs="+de)):de=0:Oe.push("ofs="+de);let jt=!0;for(let Cn=0;Cn<I;Cn++){let Rt=ae[Cn].g;const Ct=ae[Cn].map;if(Rt-=de,0>Rt)de=Math.max(0,ae[Cn].g-100),jt=!1;else try{Sc(Ct,Oe,"req"+Rt+"_")}catch{z&&z(Ct)}}if(jt){z=Oe.join("&");break e}}}return h=h.i.splice(0,I),_.D=h,z}function Ae(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ge||be(),Z||(ge(),Z=!0),le.add(_,h),h.v=0}}function Ne(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=hr(v(h.Fa,h),zt(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,We(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=hr(v(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Ki(this),We(this))};function Be(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function We(h){h.g=new qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Yr(h.qa);Ot(_,"RID","rpc"),Ot(_,"SID",h.K),Ot(_,"AID",h.T),Ot(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ot(_,"TO",h.ja),Ot(_,"TYPE","xmlhttp"),ee(h,_),h.m&&h.o&&al(_,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=oo(Yr(_)),I.m=null,I.P=!0,ro(I,h)}t.Za=function(){this.C!=null&&(this.C=null,Ki(this),Ne(this),yn(19))};function at(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function gt(h,_){var I=null;if(h.g==_){at(h),Be(h),h.g=null;var z=2}else if(Ls(h.h,_))I=_.D,Nn(h.h,_),z=1;else return;if(h.G!=0){if(_.o)if(z==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var ae=h.B;z=zn(),At(z,new Wi(z,I)),g(h)}else Ae(h);else if(ae=_.s,ae==3||ae==0&&0<_.X||!(z==1&&R(h,_)||z==2&&Ne(h)))switch(I&&0<I.length&&(_=h.h,_.i=_.i.concat(I)),ae){case 1:Xt(h,5);break;case 4:Xt(h,10);break;case 3:Xt(h,6);break;default:Xt(h,2)}}}function zt(h,_){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*_}function Xt(h,_){if(h.j.info("Error code "+_),_==2){var I=v(h.fb,h),z=h.Xa;const ae=!z;z=new en(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ho(z,"https"),oo(z),ae?wc(z.toString(),I):bc(z.toString(),I)}else yn(2);h.G=0,h.l&&h.l.sa(_),kn(h),hl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function kn(h){if(h.G=0,h.ka=[],h.l){const _=il(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ka,_),D(h.ka,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.ra()}}function tn(h,_,I){var z=I instanceof en?Yr(I):new en(I);if(z.g!="")_&&(z.g=_+"."+z.g),Wo(z,z.s);else{var ae=a.location;z=ae.protocol,_=_?_+"."+ae.hostname:ae.hostname,ae=+ae.port;var de=new en(null);z&&Ho(de,z),_&&(de.g=_),ae&&Wo(de,ae),I&&(de.l=I),z=de}return I=h.D,_=h.ya,I&&_&&Ot(z,I,_),Ot(z,"VER",h.la),ee(h,z),z}function Fn(h,_,I){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ln(new Go({eb:I})):new ln(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pn(){}t=Pn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mn(){}Mn.prototype.g=function(h,_){return new dn(h,_)};function dn(h,_){Xe.call(this),this.g=new cl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!N(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ai(this)}E(dn,Xe),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Yo(this.g)},dn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=mt(h),h=I);_.i.push(new Za(_.Ya++,h)),_.G==3&&g(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,dn.aa.N.call(this)};function wr(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const I in _){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(wr,Yt);function fl(){ct.call(this),this.status=1}E(fl,ct);function Ai(h){this.g=h}E(Ai,Pn),Ai.prototype.ua=function(){At(this.g,"a")},Ai.prototype.ta=function(h){At(this.g,new wr(h))},Ai.prototype.sa=function(h){At(this.g,new fl)},Ai.prototype.ra=function(){At(this.g,"b")},Mn.prototype.createWebChannel=Mn.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,P3=function(){return new Mn},k3=function(){return zn()},N3=Lt,q0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Td=Rr,_i.COMPLETE="complete",T3=_i,An.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,nh=An,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,I3=ln}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const x5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new g2("@firebase/firestore");function Wc(){return Fl.logLevel}function $e(t,...e){if(Fl.logLevel<=Ut.DEBUG){const n=e.map(_2);Fl.debug(`Firestore (${uc}): ${t}`,...n)}}function Fo(t,...e){if(Fl.logLevel<=Ut.ERROR){const n=e.map(_2);Fl.error(`Firestore (${uc}): ${t}`,...n)}}function Ju(t,...e){if(Fl.logLevel<=Ut.WARN){const n=e.map(_2);Fl.warn(`Firestore (${uc}): ${t}`,...n)}}function _2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t="Unexpected state"){const e=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: `+t;throw Fo(e),new Error(e)}function Gt(t,e){t||ut()}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hr.UNAUTHENTICATED))}shutdown(){}}class LN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Gt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ja,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ja)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string"),new C3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Hr(e)}}class DN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ON{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Gt(this.o===void 0);const r=s=>{s.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new FN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new cr(0,0))}static max(){return new ft(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fn extends zh{construct(e,n,r){return new fn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const VN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends zh{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return VN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ue(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ue(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(fn.fromString(e))}static fromName(e){return new rt(fn.fromString(e).popFirst(5))}static empty(){return new rt(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new fn(e.slice()))}}function UN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new cr(n+1,0):new cr(n,r));return new qa(i,rt.empty(),e)}function BN(t){return new qa(t.readTime,t.key,-1)}class qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qa(ft.min(),rt.empty(),-1)}static max(){return new qa(ft.max(),rt.empty(),-1)}}function zN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==qN)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function WN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}w2.oe=-1;function uf(t){return t==null}function mp(t){return t===0&&1/t==-1/0}function $N(t){return typeof t=="number"&&Number.isInteger(t)&&!mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new On(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ir.RED,this.left=i??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T5(this.data.getIterator())}getIteratorFrom(e){return new T5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class T5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Mi([])}unionWith(e){let n=new kr(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D3("Invalid base64 string: "+s):s}}(e);return new Cr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const GN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(t){if(Gt(!!t),typeof t=="string"){let e=0;const n=GN.exec(t);if(Gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(t.seconds),nanos:Kn(t.nanos)}}function Kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ml(t){return typeof t=="string"?Cr.fromBase64String(t):Cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S2(t){const e=t.mapValue.fields.__previous_value__;return b2(e)?S2(e):e}function qh(t){const e=Ha(t.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={mapValue:{}};function jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b2(t)?4:YN(t)?9007199254740991:QN(t)?10:11:ut()}function eo(t,e){if(t===e)return!0;const n=jl(t);if(n!==jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ha(i.timestampValue),a=Ha(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ml(i.bytesValue).isEqual(Ml(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kn(i.geoPointValue.latitude)===Kn(s.geoPointValue.latitude)&&Kn(i.geoPointValue.longitude)===Kn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kn(i.integerValue)===Kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Kn(i.doubleValue),a=Kn(s.doubleValue);return o===a?mp(o)===mp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(I5(o)!==I5(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eo(o[l],a[l])))return!1;return!0}(t,e);default:return ut()}}function Wh(t,e){return(t.values||[]).find(n=>eo(n,e))!==void 0}function ec(t,e){if(t===e)return 0;const n=jl(t),r=jl(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Kn(s.integerValue||s.doubleValue),l=Kn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return N5(t.timestampValue,e.timestampValue);case 4:return N5(qh(t),qh(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ml(s),l=Ml(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Qt(a[u],l[u]);if(f!==0)return f}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qt(Kn(s.latitude),Kn(o.latitude));return a!==0?a:Qt(Kn(s.longitude),Kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k5(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const m=s.fields||{},v=o.fields||{},p=(a=m.value)===null||a===void 0?void 0:a.arrayValue,E=(l=v.value)===null||l===void 0?void 0:l.arrayValue,T=Qt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return T!==0?T:k5(p,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rd.mapValue&&o===rd.mapValue)return 0;if(s===rd.mapValue)return 1;if(o===rd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const v=Qt(l[m],f[m]);if(v!==0)return v;const p=ec(a[l[m]],u[f[m]]);if(p!==0)return p}return Qt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ut()}}function N5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=Ha(t),r=Ha(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function k5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ec(n[i],r[i]);if(s)return s}return Qt(n.length,r.length)}function tc(t){return H0(t)}function H0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ha(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ml(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=H0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${H0(n.fields[o])}`;return i+"}"}(t.mapValue):ut()}function P5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function W0(t){return!!t&&"integerValue"in t}function A2(t){return!!t&&"arrayValue"in t}function C5(t){return!!t&&"nullValue"in t}function L5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function QN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ph(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ph(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ph(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ph(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$l(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ni(ph(this.value))}}function O3(t){const e=[];return $l(t.fields,(n,r)=>{const i=new Tr([n]);if(Nd(r)){const s=O3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,ft.min(),ft.min(),ft.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,ft.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,ft.min(),ft.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,ft.min(),ft.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.position=e,this.inclusive=n}}function R5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=ec(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!eo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n="asc"){this.field=e,this.dir=n}}function XN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{}class rr extends F3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZN(e,n,r):n==="array-contains"?new nk(e,r):n==="in"?new rk(e,r):n==="not-in"?new ik(e,r):n==="array-contains-any"?new sk(e,r):new rr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ek(e,r):new tk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ec(n,this.value)):n!==null&&jl(this.value)===jl(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends F3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ss(e,n)}matches(e){return M3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function M3(t){return t.op==="and"}function j3(t){return JN(t)&&M3(t)}function JN(t){for(const e of t.filters)if(e instanceof Ss)return!1;return!0}function $0(t){if(t instanceof rr)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(j3(t))return t.filters.map(e=>$0(e)).join(",");{const e=t.filters.map(n=>$0(n)).join(",");return`${t.op}(${e})`}}function V3(t,e){return t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.field.isEqual(i.field)&&eo(r.value,i.value)}(t,e):t instanceof Ss?function(r,i){return i instanceof Ss&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&V3(o,i.filters[a]),!0):!1}(t,e):void ut()}function U3(t){return t instanceof rr?function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`}(t):t instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(U3).join(" ,")+"}"}(t):"Filter"}class ZN extends rr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class ek extends rr{constructor(e,n){super(e,"in",n),this.keys=B3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tk extends rr{constructor(e,n){super(e,"not-in",n),this.keys=B3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function B3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class nk extends rr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A2(n)&&Wh(n.arrayValue,this.value)}}class rk extends rr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class ik extends rr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wh(this.value.arrayValue,n)}}class sk extends rr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function O5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ok(t,e,n,r,i,s,o)}function E2(t){const e=wt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),e.ue=n}return e.ue}function x2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D5(t.startAt,e.startAt)&&D5(t.endAt,e.endAt)}function G0(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ak(t,e,n,r,i,s,o,a){return new cc(t,e,n,r,i,s,o,a)}function I2(t){return new cc(t)}function F5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z3(t){return t.collectionGroup!==null}function mh(t){const e=wt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kr(Tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $h(s,r))}),n.has(Tr.keyField().canonicalString())||e.ce.push(new $h(Tr.keyField(),r))}return e.ce}function Xs(t){const e=wt(t);return e.le||(e.le=lk(e,mh(t))),e.le}function lk(t,e){if(t.limitType==="F")return O5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $h(i.field,s)});const n=t.endAt?new gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gp(t.startAt.position,t.startAt.inclusive):null;return O5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function K0(t,e){const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Q0(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zp(t,e){return x2(Xs(t),Xs(e))&&t.limitType===e.limitType}function q3(t){return`${E2(Xs(t))}|lt:${t.limitType}`}function lu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>U3(i)).join(", ")}]`),uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tc(i)).join(",")),`Target(${r})`}(Xs(t))}; limitType=${t.limitType})`}function em(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=R5(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,mh(r),i)||r.endAt&&!function(o,a,l){const u=R5(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,mh(r),i))}(t,e)}function uk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H3(t){return(e,n)=>{let r=!1;for(const i of mh(t)){const s=ck(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ck(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ec(l,u):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return R3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new On(rt.comparator);function Mo(){return hk}const W3=new On(rt.comparator);function rh(...t){let e=W3;for(const n of t)e=e.insert(n.key,n);return e}function $3(t){let e=W3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xl(){return gh()}function G3(){return gh()}function gh(){return new hc(t=>t.toString(),(t,e)=>t.isEqual(e))}const fk=new On(rt.comparator),dk=new kr(rt.comparator);function Ft(...t){let e=dk;for(const n of t)e=e.add(n);return e}const pk=new kr(Qt);function mk(){return pk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(e)?"-0":e}}function K3(t){return{integerValue:""+t}}function gk(t,e){return $N(e)?K3(e):T2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this._=void 0}}function vk(t,e,n){return t instanceof vp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&b2(s)&&(s=S2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gh?Y3(t,e):t instanceof Kh?X3(t,e):function(i,s){const o=Q3(i,s),a=M5(o)+M5(i.Pe);return W0(o)&&W0(i.Pe)?K3(a):T2(i.serializer,a)}(t,e)}function yk(t,e,n){return t instanceof Gh?Y3(t,e):t instanceof Kh?X3(t,e):n}function Q3(t,e){return t instanceof yp?function(r){return W0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class vp extends tm{}class Gh extends tm{constructor(e){super(),this.elements=e}}function Y3(t,e){const n=J3(e);for(const r of t.elements)n.some(i=>eo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kh extends tm{constructor(e){super(),this.elements=e}}function X3(t,e){let n=J3(e);for(const r of t.elements)n=n.filter(i=>!eo(i,r));return{arrayValue:{values:n}}}class yp extends tm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function M5(t){return Kn(t.integerValue||t.doubleValue)}function J3(t){return A2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _k(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Kh&&i instanceof Kh?Zu(r.elements,i.elements,eo):r instanceof yp&&i instanceof yp?eo(r.Pe,i.Pe):r instanceof vp&&i instanceof vp}(t.transform,e.transform)}class wk{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nm{}function Z3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rm(t.key,$r.none()):new cf(t.key,t.data,$r.none());{const n=t.data,r=ni.empty();let i=new kr(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ya(t.key,r,new Mi(i.toArray()),$r.none())}}function bk(t,e,n){t instanceof cf?function(i,s,o){const a=i.value.clone(),l=V5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ya?function(i,s,o){if(!kd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=V5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(eS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vh(t,e,n,r){return t instanceof cf?function(s,o,a,l){if(!kd(s.precondition,o))return a;const u=s.value.clone(),f=U5(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ya?function(s,o,a,l){if(!kd(s.precondition,o))return a;const u=U5(s.fieldTransforms,l,o),f=o.data;return f.setAll(eS(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return kd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Sk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Q3(r.transform,i||null);s!=null&&(n===null&&(n=ni.empty()),n.set(r.field,s))}return n||null}function j5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,(s,o)=>_k(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ya extends nm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function V5(t,e,n){const r=new Map;Gt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yk(o,a,n[i]))}return r}function U5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vk(s,o,e))}return r}class rm extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=G3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Z3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>j5(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>j5(n,r))}}class N2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Gt(e.mutations.length===r.length);let i=function(){return fk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new N2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Ht;function nS(t){switch(t){default:return ut();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function rS(t){if(t===void 0)return Fo("GRPC error has no .code"),Te.UNKNOWN;switch(t){case tr.OK:return Te.OK;case tr.CANCELLED:return Te.CANCELLED;case tr.UNKNOWN:return Te.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Te.INTERNAL;case tr.UNAVAILABLE:return Te.UNAVAILABLE;case tr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case tr.NOT_FOUND:return Te.NOT_FOUND;case tr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case tr.ABORTED:return Te.ABORTED;case tr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case tr.DATA_LOSS:return Te.DATA_LOSS;default:return ut()}}(Ht=tr||(tr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Nl([4294967295,4294967295],0);function B5(t){const e=Ik().encode(t),n=new x3;return n.update(e),new Uint8Array(n.digest())}function z5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nl([n,r],0),new Nl([i,s],0)]}class k2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ih(`Invalid padding: ${n}`);if(r<0)throw new ih(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ih(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Nl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Nl.fromNumber(r)));return i.compare(Tk)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=B5(e),[r,i]=z5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new k2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=B5(e),[r,i]=z5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new im(ft.min(),i,new On(Qt),Mo(),Ft())}}class hf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class iS{constructor(e,n){this.targetId=e,this.me=n}}class sS{constructor(e,n,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class q5{constructor(){this.fe=0,this.ge=W5(),this.pe=Cr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),n=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new hf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=W5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mo(),this.qe=H5(),this.Qe=new On(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ut()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(G0(s))if(r===0){const o=new rt(s.path);this.Ue(n,o,yr.newNoDocument(o,ft.min()))}else Gt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ml(r).toUint8Array()}catch(l){if(l instanceof D3)return Ju("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new k2(o,i,s)}catch(l){return Ju(l instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&G0(a.target)){const l=new rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new im(e,n,this.Qe,this.ke,r);return this.ke=Mo(),this.qe=H5(),this.Qe=new On(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new q5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kr(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new q5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function H5(){return new On(rt.comparator)}function W5(){return new On(rt.comparator)}const kk={asc:"ASCENDING",desc:"DESCENDING"},Pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class Lk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Y0(t,e){return t.useProto3Json||uf(e)?e:{value:e}}function _p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rk(t,e){return _p(t,e.toTimestamp())}function Ui(t){return Gt(!!t),ft.fromTimestamp(function(n){const r=Ha(n);return new cr(r.seconds,r.nanos)}(t))}function P2(t,e){return X0(t,e).canonicalString()}function X0(t,e){const n=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aS(t){const e=fn.fromString(t);return Gt(dS(e)),e}function wp(t,e){return P2(t.databaseId,e.path)}function yh(t,e){const n=aS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(uS(n))}function lS(t,e){return P2(t.databaseId,e)}function Dk(t){const e=aS(t);return e.length===4?fn.emptyPath():uS(e)}function J0(t){return new fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uS(t){return Gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $5(t,e,n){return{name:wp(t,e),fields:n.value.mapValue.fields}}function Ok(t,e){return"found"in e?function(r,i){Gt(!!i.found),i.found.name,i.found.updateTime;const s=yh(r,i.found.name),o=Ui(i.found.updateTime),a=i.found.createTime?Ui(i.found.createTime):ft.min(),l=new ni({mapValue:{fields:i.found.fields}});return yr.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Gt(!!i.missing),Gt(!!i.readTime);const s=yh(r,i.missing),o=Ui(i.readTime);return yr.newNoDocument(s,o)}(t,e):ut()}function Fk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Gt(f===void 0||typeof f=="string"),Cr.fromBase64String(f||"")):(Gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Cr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?Te.UNKNOWN:rS(u.code);return new Ue(f,u.message||"")}(o);n=new sS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yh(t,r.document.name),s=Ui(r.document.updateTime),o=r.document.createTime?Ui(r.document.createTime):ft.min(),a=new ni({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Pd(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yh(t,r.document),s=r.readTime?Ui(r.readTime):ft.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yh(t,r.document),s=r.removedTargetIds||[];n=new Pd([],s,i,null)}else{if(!("filter"in e))return ut();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new xk(i,s),a=r.targetId;n=new iS(a,o)}}return n}function cS(t,e){let n;if(e instanceof cf)n={update:$5(t,e.key,e.value)};else if(e instanceof rm)n={delete:wp(t,e.key)};else if(e instanceof Ya)n={update:$5(t,e.key,e.data),updateMask:Wk(e.fieldMask)};else{if(!(e instanceof tS))return ut();n={verify:wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof vp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ut()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Rk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ut()}(t,e.precondition)),n}function Mk(t,e){return t&&t.length>0?(Gt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ui(i.updateTime):Ui(s);return o.isEqual(ft.min())&&(o=Ui(s)),new wk(o,i.transformResults||[])}(n,e))):[]}function jk(t,e){return{documents:[lS(t,e.path)]}}function Vk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lS(t,i);const s=function(u){if(u.length!==0)return fS(Ss.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(v){return{field:uu(v.field),direction:zk(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Y0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Uk(t){let e=Dk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const v=hS(m);return v instanceof Ss&&j3(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(v=>function(E){return new $h(cu(E.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(m){let v;return v=typeof m=="object"?m.value:m,uf(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(m){const v=!!m.before,p=m.values||[];return new gp(p,v)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const v=!m.before,p=m.values||[];return new gp(p,v)}(n.endAt)),ak(e,i,o,s,a,"F",l,u)}function Bk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(n.unaryFilter.field);return rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(n.unaryFilter.field);return rr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(n.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(t):t.fieldFilter!==void 0?function(n){return rr.create(cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(r=>hS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ut()}}(n.compositeFilter.op))}(t):ut()}function zk(t){return kk[t]}function qk(t){return Pk[t]}function Hk(t){return Ck[t]}function uu(t){return{fieldPath:t.canonicalString()}}function cu(t){return Tr.fromServerFormat(t.fieldPath)}function fS(t){return t instanceof rr?function(n){if(n.op==="=="){if(L5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(C5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(C5(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:qk(n.op),value:n.value}}}(t):t instanceof Ss?function(n){const r=n.getFilters().map(i=>fS(i));return r.length===1?r[0]:{compositeFilter:{op:Hk(n.op),filters:r}}}(t):ut()}function Wk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,r,i,s=ft.min(),o=ft.min(),a=Cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.ct=e}}function Gk(t){const e=Uk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Q0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.un=new Qk}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(qa.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class Qk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new nc(0)}static kn(){return new nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.changes=new hc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vh(r.mutation,i,Mi.empty(),cr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=xl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mo();const o=gh(),a=function(){return gh()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ya)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),vh(f.mutation,u,f.mutation.getFieldMask(),cr.now())):o.set(u.key,Mi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return a.set(u,new Xk(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gh();let i=new On((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Mi.empty();f=a.applyToLocalView(u,f),r.set(l,f);const m=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,m=G3();f.forEach(v=>{if(!s.has(v)){const p=Z3(n.get(v),r.get(v));p!==null&&m.set(v,p),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(xl());let a=-1,l=s;return o.next(u=>Ce.forEach(u,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?Ce.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ft())).next(f=>({batchId:a,changes:$3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=rh();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const u=function(m,v){return new cc(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,v)=>{o=o.insert(m,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,yr.newInvalidDocument(f)))});let a=rh();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&vh(f.mutation,u,Mi.empty(),cr.now()),em(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Gk(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.overlays=new On(rt.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=xl(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=xl(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=xl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ek(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.sessionToken=Cr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.Tr=new kr(mr.Er),this.dr=new kr(mr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new rt(new fn([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new rt(new fn([])),r=new mr(n,e),i=new mr(n,e+1);let s=Ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return rt.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kr(mr.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ak(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(Qt);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new mr(new rt(s),0);let a=new kr(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mr(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.Mr=e,this.docs=function(){return new On(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=Mo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zN(BN(f),r)<=0||(i.has(f.key)||em(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ut()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iP(this)}getSize(e){return Ce.resolve(this.size)}}class iP extends Yk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.persistence=e,this.Nr=new hc(n=>E2(n),x2),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new C2,this.targetCount=0,this.kr=nc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new w2(0),this.Kr=!1,this.Kr=!0,this.$r=new tP,this.referenceDelegate=e(this),this.Ur=new sP(this),this.indexManager=new Kk,this.remoteDocumentCache=function(i){return new rP(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $k(n),this.Gr=new Zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nP(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new aP(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class aP extends HN{constructor(e){super(),this.currentSequenceNumber=e}}class L2{constructor(e){this.persistence=e,this.Jr=new C2,this.Yr=null}static Zr(e){return new L2(e)}get Xr(){if(this.Yr)return this.Yr;throw ut()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ft.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return f6()?8:WN(Kr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lP;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=Ut.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(Wc()<=Ut.DEBUG&&$e("QueryEngine","Query:",lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=Ut.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(n))):Ce.resolve())}Yi(e,n){if(F5(n))return Ce.resolve(null);let r=Xs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Q0(n,null,"F"),r=Xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Q0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return F5(n)||i.isEqual(ft.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(Wc()<=Ut.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lu(n)),this.rs(e,o,n,UN(i,-1)).next(a=>a))})}ts(e,n){let r=new kr(H3(e));return n.forEach((i,s)=>{em(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=Ut.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",lu(n)),this.Ji.getDocumentsMatchingQuery(e,n,qa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Qt),this._s=new hc(s=>E2(s),x2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function hP(t,e,n,r){return new cP(t,e,n,r)}async function pS(t,e){const n=wt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function fP(t,e){const n=wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const m=u.batch,v=m.keys();let p=Ce.resolve();return v.forEach(E=>{p=p.next(()=>f.getEntry(l,E)).next(T=>{const D=u.docVersions.get(E);Gt(D!==null),T.version.compareTo(D)<0&&(m.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),f.addEntry(T)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mS(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dP(t,e){const n=wt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,m)=>{const v=i.get(m);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let p=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(Cr.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(m,p),function(T,D,w){return T.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(v,p,f)&&a.push(n.Ur.updateTargetData(s,p))});let l=Mo(),u=Ft();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(pP(s,o,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(ft.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function pP(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ft.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function mP(t,e){const n=wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gP(t,e){const n=wt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ea(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Z0(t,e,n){const r=wt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lf(o))throw o;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function G5(t,e,n){const r=wt(t);let i=ft.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const m=wt(l),v=m._s.get(f);return v!==void 0?Ce.resolve(m.os.get(v)):m.Ur.getTargetData(u,f)}(r,o,Xs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ft.min(),n?s:Ft())).next(a=>(vP(r,uk(e),a),{documents:a,Ts:s})))}function vP(t,e,n){let r=t.us.get(e)||ft.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class K5{constructor(){this.activeTargetIds=mk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yP{constructor(){this.so=new K5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new K5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function fg(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="WebChannelConnection";class SP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=fg(),l=this.xo(n,r.toUriEncodedString());$e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(f=>($e("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ju("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=wP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=fg();return new Promise((o,a)=>{const l=new I3;l.setWithCredentials(!0),l.listenOnce(T3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Td.NO_ERROR:const f=l.getResponseJson();$e(Vr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Td.TIMEOUT:$e(Vr,`RPC '${e}' ${s} timed out`),a(new Ue(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const m=l.getStatus();if($e(Vr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const p=v==null?void 0:v.error;if(p&&p.status&&p.message){const E=function(D){const w=D.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(w)>=0?w:Te.UNKNOWN}(p.status);a(new Ue(E,p.message))}else a(new Ue(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(Te.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e(Vr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);$e(Vr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=fg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P3(),a=k3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");$e(Vr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=o.createWebChannel(f,l);let v=!1,p=!1;const E=new bP({Io:D=>{p?$e(Vr,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(v||($e(Vr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),$e(Vr,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},To:()=>m.close()}),T=(D,w,N)=>{D.listen(w,C=>{try{N(C)}catch(j){setTimeout(()=>{throw j},0)}})};return T(m,nh.EventType.OPEN,()=>{p||($e(Vr,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),T(m,nh.EventType.CLOSE,()=>{p||(p=!0,$e(Vr,`RPC '${e}' stream ${i} transport closed`),E.So())}),T(m,nh.EventType.ERROR,D=>{p||(p=!0,Ju(Vr,`RPC '${e}' stream ${i} transport errored:`,D),E.So(new Ue(Te.UNAVAILABLE,"The operation could not be completed")))}),T(m,nh.EventType.MESSAGE,D=>{var w;if(!p){const N=D.data[0];Gt(!!N);const C=N,j=C.error||((w=C[0])===null||w===void 0?void 0:w.error);if(j){$e(Vr,`RPC '${e}' stream ${i} received error:`,j);const X=j.status;let re=function(b){const P=tr[b];if(P!==void 0)return rS(P)}(X),V=j.message;re===void 0&&(re=Te.INTERNAL,V="Unknown error status: "+X+" with message "+j.message),p=!0,E.So(new Ue(re,V)),m.close()}else $e(Vr,`RPC '${e}' stream ${i} received:`,N),E.bo(N)}}),T(a,N3.STAT_EVENT,D=>{D.stat===q0.PROXY?$e(Vr,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===q0.NOPROXY&&$e(Vr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return new Lk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new D2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(Fo(n.toString()),Fo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ue(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AP extends gS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Fk(this.serializer,e),r=function(s){if(!("targetChange"in s))return ft.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ft.min():o.readTime?Ui(o.readTime):ft.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=J0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=G0(l)?{documents:jk(s,l)}:{query:Vk(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oS(s,o.resumeToken);const u=Y0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ft.min())>0){a.readTime=_p(s,o.snapshotVersion.toTimestamp());const u=Y0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Bk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=J0(this.serializer),n.removeTarget=e,this.a_(n)}}class EP extends gS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Mk(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=J0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ue(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,X0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(Te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,X0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(Te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class IP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fo(n),this.D_=!1):$e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Gl(this)&&($e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=wt(l);u.L_.add(4),await ff(u),u.q_.set("Unknown"),u.L_.delete(4),await om(u)}(this))})}),this.q_=new IP(r,i)}}async function om(t){if(Gl(t))for(const e of t.B_)await e(!0)}async function ff(t){for(const e of t.B_)await e(!1)}function vS(t,e){const n=wt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),j2(n)?M2(n):fc(n).r_()&&F2(n,e))}function O2(t,e){const n=wt(t),r=fc(n);n.N_.delete(e),r.r_()&&yS(n,e),n.N_.size===0&&(r.r_()?r.o_():Gl(n)&&n.q_.set("Unknown"))}function F2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).A_(e)}function yS(t,e){t.Q_.xe(e),fc(t).R_(e)}function M2(t){t.Q_=new Nk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.q_.v_()}function j2(t){return Gl(t)&&!fc(t).n_()&&t.N_.size>0}function Gl(t){return wt(t).L_.size===0}function _S(t){t.Q_=void 0}async function NP(t){t.q_.set("Online")}async function kP(t){t.N_.forEach((e,n)=>{F2(t,e)})}async function PP(t,e){_S(t),j2(t)?(t.q_.M_(e),M2(t)):t.q_.set("Unknown")}async function CP(t,e,n){if(t.q_.set("Online"),e instanceof sS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bp(t,r)}else if(e instanceof Pd?t.Q_.Ke(e):e instanceof iS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ft.min()))try{const r=await mS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Cr.EMPTY_BYTE_STRING,f.snapshotVersion)),yS(s,l);const m=new Ea(f.target,l,u,f.sequenceNumber);F2(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),await bp(t,r)}}async function bp(t,e,n){if(!lf(e))throw e;t.L_.add(1),await ff(t),t.q_.set("Offline"),n||(n=()=>mS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await om(t)})}function wS(t,e){return e().catch(n=>bp(t,n,e))}async function am(t){const e=wt(t),n=Wa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LP(e);)try{const i=await mP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,RP(e,i)}catch(i){await bp(e,i)}bS(e)&&SS(e)}function LP(t){return Gl(t)&&t.O_.length<10}function RP(t,e){t.O_.push(e);const n=Wa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bS(t){return Gl(t)&&!Wa(t).n_()&&t.O_.length>0}function SS(t){Wa(t).start()}async function DP(t){Wa(t).p_()}async function OP(t){const e=Wa(t);for(const n of t.O_)e.m_(n.mutations)}async function FP(t,e,n){const r=t.O_.shift(),i=N2.from(r,e,n);await wS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await am(t)}async function MP(t,e){e&&Wa(t).V_&&await async function(r,i){if(function(o){return nS(o)&&o!==Te.ABORTED}(i.code)){const s=r.O_.shift();Wa(r).s_(),await wS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await am(r)}}(t,e),bS(t)&&SS(t)}async function Y5(t,e){const n=wt(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.L_.add(3),await ff(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await om(n)}async function jP(t,e){const n=wt(t);e?(n.L_.delete(2),await om(n)):e||(n.L_.add(2),await ff(n),n.q_.set("Unknown"))}function fc(t){return t.K_||(t.K_=function(n,r,i){const s=wt(n);return s.w_(),new AP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:NP.bind(null,t),Ro:kP.bind(null,t),mo:PP.bind(null,t),d_:CP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),j2(t)?M2(t):t.q_.set("Unknown")):(await t.K_.stop(),_S(t))})),t.K_}function Wa(t){return t.U_||(t.U_=function(n,r,i){const s=wt(n);return s.w_(),new EP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DP.bind(null,t),mo:MP.bind(null,t),f_:OP.bind(null,t),g_:FP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await am(t)):(await t.U_.stop(),t.O_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new V2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U2(t,e){if(Fo("AsyncQueue",`${e}: ${t}`),lf(t))return new Ue(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=rh(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.W_=new On(rt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ut():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class rc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new rc(e,n,Du.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class UP{constructor(){this.queries=J5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=wt(n),s=i.queries;i.queries=J5(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ue(Te.ABORTED,"Firestore shutting down"))}}function J5(){return new hc(t=>q3(t),Zp)}async function BP(t,e){const n=wt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new VP,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=U2(o,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&B2(n)}async function zP(t,e){const n=wt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qP(t,e){const n=wt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&B2(n)}function HP(t,e,n){const r=wt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function B2(t){t.Y_.forEach(e=>{e.next()})}var e1,Z5;(Z5=e1||(e1={})).ea="default",Z5.Cache="cache";class WP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==e1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class $P{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=H3(e),this.Ra=new Du(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new X5,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const v=i.get(f),p=em(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),T=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;v&&p?v.data.isEqual(p.data)?E!==T&&(r.track({type:3,doc:p}),D=!0):this.ga(v,p)||(r.track({type:2,doc:p}),D=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),D=!0):v&&!p&&(r.track({type:1,doc:v}),D=!0,(l||u)&&(a=!0)),D&&(p?(o=o.add(p),s=T?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(p,E){const T=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return T(p)-T(E)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new rc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new X5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ES(r))}),this.da.forEach(r=>{e.has(r)||n.push(new AS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class GP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KP{constructor(e){this.key=e,this.va=!1}}class QP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hc(a=>q3(a),Zp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(rt.comparator),this.Na=new Map,this.La=new C2,this.Ba={},this.ka=new Map,this.qa=nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YP(t,e,n=!0){const r=PS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await xS(r,e,n,!0),i}async function XP(t,e){const n=PS(t);await xS(n,e,!0,!1)}async function xS(t,e,n,r){const i=await gP(t.localStore,Xs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JP(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&vS(t.remoteStore,i),a}async function JP(t,e,n,r,i){t.Ka=(m,v,p)=>async function(T,D,w,N){let C=D.view.ma(w);C.ns&&(C=await G5(T.localStore,D.query,!1).then(({documents:V})=>D.view.ma(V,C)));const j=N&&N.targetChanges.get(D.targetId),X=N&&N.targetMismatches.get(D.targetId)!=null,re=D.view.applyChanges(C,T.isPrimaryClient,j,X);return t_(T,D.targetId,re.wa),re.snapshot}(t,m,v,p);const s=await G5(t.localStore,e,!0),o=new $P(e,s.Ts),a=o.ma(s.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);t_(t,n,u.wa);const f=new GP(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function ZP(t,e,n){const r=wt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Zp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Z0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&O2(r.remoteStore,i.targetId),t1(r,i.targetId)}).catch(af)):(t1(r,i.targetId),await Z0(r.localStore,i.targetId,!0))}async function eC(t,e){const n=wt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O2(n.remoteStore,r.targetId))}async function tC(t,e,n){const r=lC(t);try{const i=await function(o,a){const l=wt(o),u=cr.now(),f=a.reduce((p,E)=>p.add(E.key),Ft());let m,v;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=Mo(),T=Ft();return l.cs.getEntries(p,f).next(D=>{E=D,E.forEach((w,N)=>{N.isValidDocument()||(T=T.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,E)).next(D=>{m=D;const w=[];for(const N of a){const C=Sk(N,m.get(N.key).overlayedDocument);C!=null&&w.push(new Ya(N.key,C,O3(C.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(D=>{v=D;const w=D.applyToLocalDocumentSet(m,T);return l.documentOverlayCache.saveOverlays(p,D.batchId,w)})}).then(()=>({batchId:v.batchId,changes:$3(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Qt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await df(r,i.changes),await am(r.remoteStore)}catch(i){const s=U2(i,"Failed to persist write");n.reject(s)}}async function IS(t,e){const n=wt(t);try{const r=await dP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Gt(o.va):i.removedDocuments.size>0&&(Gt(o.va),o.va=!1))}),await df(n,r,e)}catch(r){await af(r)}}function e_(t,e,n){const r=wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=wt(o);l.onlineState=a;let u=!1;l.queries.forEach((f,m)=>{for(const v of m.j_)v.Z_(a)&&(u=!0)}),u&&B2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nC(t,e,n){const r=wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(rt.comparator);o=o.insert(s,yr.newNoDocument(s,ft.min()));const a=Ft().add(s),l=new im(ft.min(),new Map,new On(Qt),o,a);await IS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),z2(r)}else await Z0(r.localStore,e,!1).then(()=>t1(r,e,n)).catch(af)}async function rC(t,e){const n=wt(t),r=e.batch.batchId;try{const i=await fP(n.localStore,e);NS(n,r,null),TS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await df(n,i)}catch(i){await af(i)}}async function iC(t,e,n){const r=wt(t);try{const i=await function(o,a){const l=wt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(m=>(Gt(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);NS(r,e,n),TS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await df(r,i)}catch(i){await af(i)}}function TS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function NS(t,e,n){const r=wt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function t1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kS(t,r)})}function kS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(O2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),z2(t))}function t_(t,e,n){for(const r of n)r instanceof AS?(t.La.addReference(r.key,e),sC(t,r)):r instanceof ES?($e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kS(t,r.key)):ut()}function sC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($e("SyncEngine","New document in limbo: "+n),t.xa.add(r),z2(t))}function z2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new rt(fn.fromString(e)),r=t.qa.next();t.Na.set(r,new KP(n)),t.Oa=t.Oa.insert(n,r),vS(t.remoteStore,new Ea(Xs(I2(n.path)),r,"TargetPurposeLimboResolution",w2.oe))}}async function df(t,e,n){const r=wt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=R2.Wi(l.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const f=wt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ce.forEach(u,v=>Ce.forEach(v.$i,p=>f.persistence.referenceDelegate.addReference(m,v.targetId,p)).next(()=>Ce.forEach(v.Ui,p=>f.persistence.referenceDelegate.removeReference(m,v.targetId,p)))))}catch(m){if(!lf(m))throw m;$e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const v=m.targetId;if(!m.fromCache){const p=f.os.get(v),E=p.snapshotVersion,T=p.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(v,T)}}}(r.localStore,s))}async function oC(t,e){const n=wt(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=await pS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ue(Te.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await df(n,r.hs)}}function aC(t,e){const n=wt(t),r=n.Na.get(e);if(r&&r.va)return Ft().add(r.key);{let i=Ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function PS(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nC.bind(null,e),e.Ca.d_=qP.bind(null,e.eventManager),e.Ca.$a=HP.bind(null,e.eventManager),e}function lC(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,e),e}class Sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return hP(this.persistence,new uP,e.initialUser,this.serializer)}Ga(e){return new oP(L2.Zr,this.serializer)}Wa(e){return new yP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sp.provider={build:()=>new Sp};class n1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oC.bind(null,this.syncEngine),await jP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UP}()}createDatastore(e){const n=sm(e.databaseInfo.databaseId),r=function(s){return new SP(s)}(e.databaseInfo);return function(s,o,a,l){return new xP(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TP(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>e_(this.syncEngine,n,0),function(){return Q5.D()?new Q5:new _P}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const m=new QP(i,s,o,a,l,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=wt(i);$e("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ff(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}n1.provider={build:()=>new n1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ue(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=wt(i),a={documents:s.map(m=>wp(o.serializer,m))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,fn.emptyPath(),a,s.length),u=new Map;l.forEach(m=>{const v=Ok(o.serializer,m);u.set(v.key.toString(),v)});const f=[];return s.forEach(m=>{const v=u.get(m.toString());Gt(!!v),f.push(v)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=rt.fromPath(r);this.mutations.push(new tS(i,this.precondition(i)))}),await async function(r,i){const s=wt(r),o={writes:i.map(a=>cS(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,fn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ut();n=ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ue(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ft.min())?$r.exists(!1):$r.updateTime(n):$r.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ft.min()))throw new Ue(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(n)}return $r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new D2(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new cC(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!uf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!nS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=L3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pg(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function n_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dC(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y5(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Y5(e.remoteStore,i)),t._onlineComponents=e}async function dC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{await pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await pg(t,new Sp)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),await pg(t,new Sp);return t._offlineComponents}async function q2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),await n_(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),await n_(t,new n1))),t._onlineComponents}function pC(t){return q2(t).then(e=>e.syncEngine)}function mC(t){return q2(t).then(e=>e.datastore)}async function r_(t){const e=await q2(t),n=e.eventManager;return n.onListen=YP.bind(null,e.syncEngine),n.onUnlisten=ZP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){if(!n)throw new Ue(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gC(t,e,n,r){if(e===!0&&r===!0)throw new Ue(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!rt.isDocumentKey(t))throw new Ue(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o_(t){if(rt.isDocumentKey(t))throw new Ue(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut()}function Po(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lm(t);throw new Ue(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ue(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CN;switch(r.type){case"firstParty":return new ON(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i_.get(n);r&&($e("ComponentProvider","Removing Datastore"),i_.delete(n),r.terminate())}(this),Promise.resolve()}}function vC(t,e,n,r={}){var i;const s=(t=Po(t,um))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Hr.MOCK_USER;else{a=s6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ue(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Hr(u)}t._authCredentials=new LN(new C3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class ii{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Va extends Kl{constructor(e,n,r){super(e,n,I2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new rt(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Ou(t,e,...n){if(t=Zn(t),LS("collection","path",e),t instanceof um){const r=fn.fromString(e,...n);return o_(r),new Va(t,null,r)}{if(!(t instanceof ii||t instanceof Va))throw new Ue(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return o_(r),new Va(t.firestore,null,r)}}function xa(t,e,...n){if(t=Zn(t),arguments.length===1&&(e=L3.newId()),LS("doc","path",e),t instanceof um){const r=fn.fromString(e,...n);return s_(r),new ii(t,null,new rt(r))}{if(!(t instanceof ii||t instanceof Va))throw new Ue(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return s_(r),new ii(t.firestore,t instanceof Va?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new D2(this,"async_queue_retry"),this.Vu=()=>{const r=dg();r&&$e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ja;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lf(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=V2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ut()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function u_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Vl extends um{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new l_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function yC(t,e){const n=typeof t=="object"?t:S3(),r=typeof t=="string"?t:"(default)",i=y2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=r6("firestore");s&&vC(i,...s)}return i}function H2(t){if(t._terminated)throw new Ue(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_C(t),t._firestoreClient}function _C(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new KN(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,CS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ul(Cr.fromBase64String(e))}catch(n){throw new Ue(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ul(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^__.*__$/;class bC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new cf(e,this.data,n,this.fieldTransforms)}}class RS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class K2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new K2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ap(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DS(this.Cu)&&wC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class SC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sm(e)}Qu(e,n,r,i=!1){return new K2({Cu:e,methodName:n,qu:r,path:Tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cm(t){const e=t._freezeSettings(),n=sm(t._databaseId);return new SC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OS(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Q2("Data must be an object, but it was:",o,r);const a=jS(r,o);let l,u;if(s.merge)l=new Mi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const v=r1(e,m,n);if(!o.contains(v))throw new Ue(Te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);US(f,v)||f.push(v)}l=new Mi(f),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new bC(new ni(a),l,u)}class hm extends W2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hm}}function FS(t,e,n,r){const i=t.Qu(1,e,n);Q2("Data must be an object, but it was:",i,r);const s=[],o=ni.empty();$l(r,(l,u)=>{const f=Y2(e,l,n);u=Zn(u);const m=i.Nu(f);if(u instanceof hm)s.push(f);else{const v=mf(u,m);v!=null&&(s.push(f),o.set(f,v))}});const a=new Mi(s);return new RS(o,a,i.fieldTransforms)}function MS(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[r1(e,r,n)],l=[i];if(s.length%2!=0)throw new Ue(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(r1(e,s[v])),l.push(s[v+1]);const u=[],f=ni.empty();for(let v=a.length-1;v>=0;--v)if(!US(u,a[v])){const p=a[v];let E=l[v];E=Zn(E);const T=o.Nu(p);if(E instanceof hm)u.push(p);else{const D=mf(E,T);D!=null&&(u.push(p),f.set(p,D))}}const m=new Mi(u);return new RS(f,m,o.fieldTransforms)}function AC(t,e,n,r=!1){return mf(n,t.Qu(r?4:3,e))}function mf(t,e){if(VS(t=Zn(t)))return Q2("Unsupported field value:",e,t),jS(t,e);if(t instanceof W2)return function(r,i){if(!DS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mf(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cr.fromDate(r);return{timestampValue:_p(i.serializer,s)}}if(r instanceof cr){const s=new cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_p(i.serializer,s)}}if(r instanceof $2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ul)return{bytesValue:oS(i.serializer,r._byteString)};if(r instanceof ii){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:P2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof G2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return T2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${lm(r)}`)}(t,e)}function jS(t,e){const n={};return R3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,(r,i)=>{const s=mf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof $2||t instanceof Ul||t instanceof ii||t instanceof W2||t instanceof G2)}function Q2(t,e,n){if(!VS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function r1(t,e,n){if((e=Zn(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Y2(t,e);throw Ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const EC=new RegExp("[~\\*/\\[\\]]");function Y2(t,e,n){if(e.search(EC)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ap(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ue(Te.INVALID_ARGUMENT,a+t+l)}function US(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xC extends Ep{data(){return super.data()}}function X2(t,e){return typeof e=="string"?Y2(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J2{}class BS extends J2{}function mg(t,e,...n){let r=[];e instanceof J2&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ev).length,a=s.filter(l=>l instanceof Z2).length;if(o>1||o>0&&a>0)throw new Ue(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Z2 extends BS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Z2(e,n,r)}_apply(e){const n=this._parse(e);return zS(e._query,n),new Kl(e.firestore,e.converter,K0(e._query,n))}_parse(e){const n=cm(e.firestore);return function(s,o,a,l,u,f,m){let v;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ue(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){f_(m,f);const p=[];for(const E of m)p.push(h_(l,s,E));v={arrayValue:{values:p}}}else v=h_(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||f_(m,f),v=AC(a,o,m,f==="in"||f==="not-in");return rr.create(u,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ev extends J2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ev(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)zS(o,l),o=K0(o,l)}(e._query,n),new Kl(e.firestore,e.converter,K0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tv extends BS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ue(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ue(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $h(s,o)}(e._query,this._field,this._direction);return new Kl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function c_(t,e="asc"){const n=e,r=X2("orderBy",t);return tv._create(r,n)}function h_(t,e,n){if(typeof(n=Zn(n))=="string"){if(n==="")throw new Ue(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z3(e)&&n.indexOf("/")!==-1)throw new Ue(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fn.fromString(n));if(!rt.isDocumentKey(r))throw new Ue(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P5(t,new rt(r))}if(n instanceof ii)return P5(t,n._key);throw new Ue(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(n)}.`)}function f_(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ue(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qS{convertValue(e,n="none"){switch(jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ut()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $l(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Kn(o.doubleValue));return new G2(s)}convertGeoPoint(e){return new $2(Kn(e.latitude),Kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=S2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=Ha(e);return new cr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fn.fromString(e);Gt(dS(r));const i=new Hh(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||Fo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class TC extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nv extends Ep{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cd extends nv{data(e={}){return super.data(e)}}class NC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cd(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:kC(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}class rv extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}function iv(t,e,n,...r){t=Po(t,ii);const i=Po(t.firestore,Vl),s=cm(i);let o;return o=typeof(e=Zn(e))=="string"||e instanceof pf?MS(s,"updateDoc",t._key,e,n,r):FS(s,"updateDoc",t._key,e),sv(i,[o.toMutation(t._key,$r.exists(!0))])}function WS(t){return sv(Po(t.firestore,Vl),[new rm(t._key,$r.none())])}function $S(t,e){const n=Po(t.firestore,Vl),r=xa(t),i=HS(t.converter,e);return sv(n,[OS(cm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function gg(t,...e){var n,r,i;t=Zn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||u_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(u_(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,u,f;if(t instanceof ii)u=Po(t.firestore,Vl),f=I2(t._key.path),l={next:m=>{e[o]&&e[o](PC(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Po(t,Kl);u=Po(m.firestore,Vl),f=m._query;const v=new rv(u);l={next:p=>{e[o]&&e[o](new NC(u,v,m,p))},error:e[o+1],complete:e[o+2]},IC(t._query)}return function(v,p,E,T){const D=new uC(T),w=new WP(p,D,E);return v.asyncQueue.enqueueAndForget(async()=>BP(await r_(v),w)),()=>{D.Za(),v.asyncQueue.enqueueAndForget(async()=>zP(await r_(v),w))}}(H2(u),f,a,l)}function sv(t,e){return function(r,i){const s=new ja;return r.asyncQueue.enqueueAndForget(async()=>tC(await pC(r),i,s)),s.promise}(H2(t),e)}function PC(t,e,n){const r=n.docs.get(e._key),i=new rv(t);return new nv(t,i,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={maxAttempts:5};function $c(t,e){if((t=Zn(t)).firestore!==e)throw new Ue(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=cm(n)}get(n){const r=$c(n,this._firestore),i=new TC(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ut();const o=s[0];if(o.isFoundDocument())return new Ep(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Ep(this._firestore,i,r._key,null,r.converter);throw ut()})}set(n,r,i){const s=$c(n,this._firestore),o=HS(s.converter,r,i),a=OS(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=$c(n,this._firestore);let a;return a=typeof(r=Zn(r))=="string"||r instanceof pf?MS(this._dataReader,"Transaction.update",o._key,r,i,s):FS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=$c(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$c(e,this._firestore),r=new rv(this._firestore);return super.get(e).then(i=>new nv(this._firestore,r,n._key,i._document,new xu(!1,!1),n.converter))}}function RC(t,e,n){t=Po(t,Vl);const r=Object.assign(Object.assign({},CC),n);return function(s){if(s.maxAttempts<1)throw new Ue(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new ja;return s.asyncQueue.enqueueAndForget(async()=>{const u=await mC(s);new hC(s.asyncQueue,u,a,o,l).au()}),l.promise}(H2(t),i=>e(new LC(t,i)),r)}(function(e,n=!0){(function(i){uc=i})(lc),Xu(new Ol("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vl(new RN(r.getProvider("auth-internal")),new MN(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ue(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ma(x5,"4.7.3",e),Ma(x5,"4.7.3","esm2017")})();function ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DC=GS,KS=new sf("auth","Firebase",GS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new g2("@firebase/auth");function OC(t,...e){xp.logLevel<=Ut.WARN&&xp.warn(`Auth (${lc}): ${t}`,...e)}function Ld(t,...e){xp.logLevel<=Ut.ERROR&&xp.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,...e){throw av(t,...e)}function Js(t,...e){return av(t,...e)}function QS(t,e,n){const r=Object.assign(Object.assign({},DC()),{[e]:n});return new sf("auth","Firebase",r).create(e,{appName:t.name})}function Ua(t){return QS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KS.create(t,...e)}function dt(t,e,...n){if(!t)throw av(e,...n)}function xo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ld(e),new Error(e)}function jo(t,e){t||xo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FC(){return d_()==="http:"||d_()==="https:"}function d_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FC()||u6()||"connection"in navigator)?navigator.onLine:!0}function jC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,jo(n>e,"Short delay should be less than long delay!"),this.isMobile=o6()||c6()}get(){return MC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){jo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new gf(3e4,6e4);function Ql(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xa(t,e,n,r,i={}){return XS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=of(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return l6()||(u.referrerPolicy="no-referrer"),YS.fetch()(JS(t,t.config.apiHost,n,a),u)})}async function XS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VC),e);try{const i=new zC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw QS(t,f,u);As(t,f)}}catch(i){if(i instanceof Bo)throw i;As(t,"network-request-failed",{message:String(i)})}}async function fm(t,e,n,r,i={}){const s=await Xa(t,e,n,r,i);return"mfaPendingCredential"in s&&As(t,"multi-factor-auth-required",{_serverResponse:s}),s}function JS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lv(t.config,i):`${t.config.apiScheme}://${i}`}function BC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),UC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Js(t,e,r);return i.customData._tokenResponse=n,i}function p_(t){return t!==void 0&&t.enterprise!==void 0}class qC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HC(t,e){return Xa(t,"GET","/v2/recaptchaConfig",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(t,e){return Xa(t,"POST","/v1/accounts:delete",e)}async function ZS(t,e){return Xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $C(t,e=!1){const n=Zn(t),r=await n.getIdToken(e),i=uv(r);dt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(vg(i.auth_time)),issuedAtTime:_h(vg(i.iat)),expirationTime:_h(vg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vg(t){return Number(t)*1e3}function uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const i=m3(n);return i?JSON.parse(i):(Ld("Failed to decode base64 JWT payload"),null)}catch(i){return Ld("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function m_(t){const e=uv(t);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bo&&GC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qh(t,ZS(n,{idToken:r}));dt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eA(s.providerUserInfo):[],a=YC(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new s1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function QC(t){const e=Zn(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eA(t){return t.map(e=>{var{providerId:n}=e,r=ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(t,e){const n=await XS(t,{},async()=>{const r=of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JC(t,e){return Xa(t,"POST","/v2/accounts:revokeToken",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){dt(e.length!==0,"internal-error");const n=m_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await XC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fu;return r&&(dt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(dt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(dt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,e){dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Io{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new s1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qh(this,this.stsTokenManager.getToken(this.auth,e));return dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $C(this,e)}reload(){return QC(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Io(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Eo(this.auth.app))return Promise.reject(Ua(this.auth));const e=await this.getIdToken();return await Qh(this,WC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,N=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:C,emailVerified:j,isAnonymous:X,providerData:re,stsTokenManager:V}=n;dt(C&&V,e,"internal-error");const x=Fu.fromJSON(this.name,V);dt(typeof C=="string",e,"internal-error"),ha(m,e.name),ha(v,e.name),dt(typeof j=="boolean",e,"internal-error"),dt(typeof X=="boolean",e,"internal-error"),ha(p,e.name),ha(E,e.name),ha(T,e.name),ha(D,e.name),ha(w,e.name),ha(N,e.name);const b=new Io({uid:C,auth:e,email:v,emailVerified:j,displayName:m,isAnonymous:X,photoURL:E,phoneNumber:p,tenantId:T,stsTokenManager:x,createdAt:w,lastLoginAt:N});return re&&Array.isArray(re)&&(b.providerData=re.map(P=>Object.assign({},P))),D&&(b._redirectEventId=D),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fu;i.updateFromServerResponse(n);const s=new Io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ip(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];dt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fu;a.updateFromIdToken(r);const l=new Io({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new s1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function To(t){jo(t instanceof Function,"Expected a class definition");let e=g_.get(t);return e?(jo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tA.type="NONE";const v_=tA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class Mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Io._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mu(To(v_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||To(v_);const o=Rd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const m=Io._fromJSON(e,f);u!==s&&(a=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Mu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aA(e))return"Blackberry";if(lA(e))return"Webos";if(rA(e))return"Safari";if((e.includes("chrome/")||iA(e))&&!e.includes("edge/"))return"Chrome";if(oA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nA(t=Kr()){return/firefox\//i.test(t)}function rA(t=Kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iA(t=Kr()){return/crios\//i.test(t)}function sA(t=Kr()){return/iemobile/i.test(t)}function oA(t=Kr()){return/android/i.test(t)}function aA(t=Kr()){return/blackberry/i.test(t)}function lA(t=Kr()){return/webos/i.test(t)}function cv(t=Kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZC(t=Kr()){var e;return cv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eL(){return h6()&&document.documentMode===10}function uA(t=Kr()){return cv(t)||oA(t)||lA(t)||aA(t)||/windows phone/i.test(t)||sA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e=[]){let n;switch(t){case"Browser":n=y_(Kr());break;case"Worker":n=`${y_(Kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e={}){return Xa(t,"GET","/v2/passwordPolicy",Ql(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=6;class iL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new tL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=To(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Mu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZS(this,{idToken:e}),r=await Io._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Eo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Eo(this.app))return Promise.reject(Ua(this));const n=e?Zn(e):null;return n&&dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Eo(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Eo(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(To(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nL(this),n=new iL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&To(e)||this._popupRedirectResolver;dt(n,this,"argument-error"),this.redirectPersistenceManager=await Mu.create(this,[To(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dc(t){return Zn(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=_6(n=>this.observer=n)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oL(t){dm=t}function hA(t){return dm.loadJS(t)}function aL(){return dm.recaptchaEnterpriseScript}function lL(){return dm.gapiScript}function uL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cL="recaptcha-enterprise",hL="NO_RECAPTCHA";class fL{constructor(e){this.type=cL,this.auth=dc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;p_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(hL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&p_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=aL();l.length!==0&&(l+=a),hA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function w_(t,e,n,r=!1){const i=new fL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function b_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await w_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await w_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e){const n=y2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(dp(s,e??{}))return i;As(i,"already-initialized")}return n.initialize({options:e})}function pL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(To);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mL(t,e,n){const r=dc(t);dt(r._canInitEmulator,r,"emulator-config-failed"),dt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fA(e),{host:o,port:a}=gL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),vL()}function fA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gL(t){const e=fA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:S_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:S_(o)}}}function S_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xo("not implemented")}_getIdTokenResponse(e){return xo("not implemented")}_linkToIdToken(e,n){return xo("not implemented")}_getReauthenticationResolver(e){return xo("not implemented")}}async function yL(t,e){return Xa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){return fm(t,"POST","/v1/accounts:signInWithPassword",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return fm(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}async function bL(t,e){return fm(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends hv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,n,"signInWithPassword",_L);case"emailLink":return wL(e,{email:this._email,oobCode:this._password});default:As(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,r,"signUpPassword",yL);case"emailLink":return bL(e,{idToken:n,email:this._email,oobCode:this._password});default:As(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e){return fm(t,"POST","/v1/accounts:signInWithIdp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="http://localhost";class Bl extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):As("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ov(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ju(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ju(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ju(e,n)}buildRequest(){const e={requestUri:SL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=of(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EL(t){const e=eh(th(t)).link,n=e?eh(th(e)).deep_link_id:null,r=eh(th(t)).deep_link_id;return(r?eh(th(r)).link:null)||r||n||e||t}class fv{constructor(e){var n,r,i,s,o,a;const l=eh(th(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,m=AL((i=l.mode)!==null&&i!==void 0?i:null);dt(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EL(e);try{return new fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,n){return Yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fv.parseLink(n);return dt(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends dA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends vf{constructor(){super("facebook.com")}static credential(e){return Bl._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bl._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _a.credential(n,r)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends vf{constructor(){super("github.com")}static credential(e){return Bl._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.GITHUB_SIGN_IN_METHOD="github.com";wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends vf{constructor(){super("twitter.com")}static credential(e,n){return Bl._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ba.credential(n,r)}catch{return null}}}ba.TWITTER_SIGN_IN_METHOD="twitter.com";ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Io._fromIdTokenResponse(e,r,i),o=A_(r);return new ic({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A_(r);return new ic({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends Bo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tp(e,n,r,i)}}function pA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tp._fromErrorAndOperation(t,s,e,r):s})}async function xL(t,e,n=!1){const r=await Qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e,n=!1){const{auth:r}=t;if(Eo(r.app))return Promise.reject(Ua(r));const i="reauthenticate";try{const s=await Qh(t,pA(r,i,e,t),n);dt(s.idToken,r,"internal-error");const o=uv(s.idToken);dt(o,r,"internal-error");const{sub:a}=o;return dt(t.uid===a,r,"user-mismatch"),ic._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&As(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t,e,n=!1){if(Eo(t.app))return Promise.reject(Ua(t));const r="signIn",i=await pA(t,r,e),s=await ic._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function TL(t,e){return mA(dc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t){const e=dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function kL(t,e,n){return Eo(t.app)?Promise.reject(Ua(t)):TL(Zn(t),pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NL(t),r})}function PL(t,e,n,r){return Zn(t).onIdTokenChanged(e,n,r)}function CL(t,e,n){return Zn(t).beforeAuthStateChanged(e,n)}function LL(t,e,n,r){return Zn(t).onAuthStateChanged(e,n,r)}function RL(t){return Zn(t).signOut()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=1e3,OL=10;class vA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);eL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vA.type="LOCAL";const FL=vA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yA.type="SESSION";const _A=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ML(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=dv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function VL(t){Zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function UL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zL(){return wA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebaseLocalStorageDb",qL=1,kp="firebaseLocalStorage",SA="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mm(t,e){return t.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function HL(){const t=indexedDB.deleteDatabase(bA);return new yf(t).toPromise()}function o1(){const t=indexedDB.open(bA,qL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kp,{keyPath:SA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kp)?e(r):(r.close(),await HL(),e(await o1()))})})}async function E_(t,e,n){const r=mm(t,!0).put({[SA]:e,value:n});return new yf(r).toPromise()}async function WL(t,e){const n=mm(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function x_(t,e){const n=mm(t,!0).delete(e);return new yf(n).toPromise()}const $L=800,GL=3;class AA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(zL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UL(),!this.activeServiceWorker)return;this.sender=new jL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o1();return await E_(e,Np,"1"),await x_(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mm(i,!1).getAll();return new yf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AA.type="LOCAL";const KL=AA;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t,e){return e?To(e):(dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ju(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ju(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ju(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YL(t){return mA(t.auth,new pv(t),t.bypassAuthState)}function XL(t){const{auth:e,user:n}=t;return dt(n,e,"internal-error"),IL(n,new pv(t),t.bypassAuthState)}async function JL(t){const{auth:e,user:n}=t;return dt(n,e,"internal-error"),xL(n,new pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YL;case"linkViaPopup":case"linkViaRedirect":return JL;case"reauthViaPopup":case"reauthViaRedirect":return XL;default:As(this.auth,"internal-error")}}resolve(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new gf(2e3,1e4);class Iu extends EA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Iu.currentPopupAction&&Iu.currentPopupAction.cancel(),Iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dt(e,this.auth,"internal-error"),e}async onExecution(){jo(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZL.get())};e()}}Iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="pendingRedirect",Dd=new Map;class t8 extends EA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const r=await n8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n8(t,e){const n=s8(e),r=i8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r8(t,e){Dd.set(t._key(),e)}function i8(t){return To(t._redirectPersistence)}function s8(t){return Rd(e8,t.config.apiKey,t.name)}async function o8(t,e,n=!1){if(Eo(t.app))return Promise.reject(Ua(t));const r=dc(t),i=QL(r,e),o=await new t8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=10*60*1e3;class l8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a8&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e={}){return Xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f8=/^https?/;async function d8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c8(t);for(const n of e)try{if(p8(n))return}catch{}As(t,"unauthorized-domain")}function p8(t){const e=i1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!f8.test(n))return!1;if(h8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new gf(3e4,6e4);function T_(){const t=Zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g8(t){return new Promise((e,n)=>{var r,i,s;function o(){T_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T_(),n(Js(t,"network-request-failed"))},timeout:m8.get()})}if(!((i=(r=Zs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zs().gapi)===null||s===void 0)&&s.load)o();else{const a=uL("iframefcb");return Zs()[a]=()=>{gapi.load?o():n(Js(t,"network-request-failed"))},hA(`${lL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Od=null,e})}let Od=null;function v8(t){return Od=Od||g8(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=new gf(5e3,15e3),_8="__/auth/iframe",w8="emulator/auth/iframe",b8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A8(t){const e=t.config;dt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,w8):`https://${t.config.authDomain}/${_8}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=S8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${of(r).slice(1)}`}async function E8(t){const e=await v8(t),n=Zs().gapi;return dt(n,t,"internal-error"),e.open({where:document.body,url:A8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Js(t,"network-request-failed"),a=Zs().setTimeout(()=>{s(o)},y8.get());function l(){Zs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I8=500,T8=600,N8="_blank",k8="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P8(t,e,n,r=I8,i=T8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},x8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kr().toLowerCase();n&&(a=iA(u)?N8:n),nA(u)&&(e=e||k8,l.scrollbars="yes");const f=Object.entries(l).reduce((v,[p,E])=>`${v}${p}=${E},`,"");if(ZC(u)&&a!=="_self")return C8(e||"",a),new N_(null);const m=window.open(e||"",a,f);dt(m,t,"popup-blocked");try{m.focus()}catch{}return new N_(m)}function C8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="__/auth/handler",R8="emulator/auth/handler",D8=encodeURIComponent("fac");async function k_(t,e,n,r,i,s){dt(t.config.authDomain,t,"auth-domain-config-required"),dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof dA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",y6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof vf){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${D8}=${encodeURIComponent(l)}`:"";return`${O8(t)}?${of(a).slice(1)}${u}`}function O8({config:t}){return t.emulator?lv(t,R8):`https://${t.authDomain}/${L8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class F8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=o8,this._overrideRedirectResult=r8}async _openPopup(e,n,r,i){var s;jo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await k_(e,n,r,i1(),i);return P8(e,o,dv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await k_(e,n,r,i1(),i);return VL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E8(e),r=new l8(e);return n.register("authEvent",i=>(dt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yg,{type:yg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yg];o!==void 0&&n(!!o),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uA()||rA()||cv()}}const M8=F8;var P_="@firebase/auth",C_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U8(t){Xu(new Ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;dt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cA(t)},u=new sL(r,i,s,l);return pL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new Ol("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new j8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(P_,C_,V8(t)),Ma(P_,C_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=5*60,z8=y3("authIdTokenMaxAge")||B8;let L_=null;const q8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z8)return;const i=n==null?void 0:n.token;L_!==i&&(L_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H8(t=S3()){const e=y2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dL(t,{popupRedirectResolver:M8,persistence:[KL,FL,_A]}),r=y3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=q8(s.toString());CL(n,o,()=>o(n.currentUser)),PL(n,a=>o(a))}}const i=g3("auth");return i&&mL(n,`http://${i}`),n}function W8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Js("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U8("Browser");const $8={apiKey:"AIzaSyB0C2ecPKLnbIMzWuj9LHcZa_fa9c47GzM",authDomain:"landbys-cup-2288f.firebaseapp.com",projectId:"landbys-cup-2288f",storageBucket:"landbys-cup-2288f.appspot.com",messagingSenderId:"your_sender_id",appId:"your_app_id"},IA=b3($8),Oi=yC(IA),mv=H8(IA),G8="modulepreload",K8=function(t){return"/landbyscup/"+t},R_={},_g=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=K8(l),l in R_)return;R_[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":G8,u||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}var Es=Uint8Array,ji=Uint16Array,gv=Int32Array,vv=new Es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yv=new Es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D_=new Es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TA=function(t,e){for(var n=new ji(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new gv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},NA=TA(vv,2),Q8=NA.b,a1=NA.r;Q8[28]=258,a1[258]=28;var Y8=TA(yv,0),O_=Y8.r,l1=new ji(32768);for(var bn=0;bn<32768;++bn){var fa=(bn&43690)>>1|(bn&21845)<<1;fa=(fa&52428)>>2|(fa&13107)<<2,fa=(fa&61680)>>4|(fa&3855)<<4,l1[bn]=((fa&65280)>>8|(fa&255)<<8)>>1}var wh=function(t,e,n){for(var r=t.length,i=0,s=new ji(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ji(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ji(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],m=o[t[i]-1]++<<f,v=m|(1<<f)-1;m<=v;++m)a[l1[m]>>l]=u}else for(a=new ji(r),i=0;i<r;++i)t[i]&&(a[i]=l1[o[t[i]-1]++]>>15-t[i]);return a},zl=new Es(288);for(var bn=0;bn<144;++bn)zl[bn]=8;for(var bn=144;bn<256;++bn)zl[bn]=9;for(var bn=256;bn<280;++bn)zl[bn]=7;for(var bn=280;bn<288;++bn)zl[bn]=8;var Pp=new Es(32);for(var bn=0;bn<32;++bn)Pp[bn]=5;var X8=wh(zl,9,0),J8=wh(Pp,5,0),kA=function(t){return(t+7)/8|0},Z8=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Es(t.subarray(e,n))},vo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Gc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},wg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:CA,l:0};if(i==1){var o=new Es(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(X,re){return X.f-re.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,f=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[u].f<n[m].f?u++:m++],l=n[u!=f&&n[u].f<n[m].f?u++:m++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new ji(v+1),E=u1(n[f-1],p,0);if(E>e){var r=0,T=0,D=E-e,w=1<<D;for(s.sort(function(re,V){return p[V.s]-p[re.s]||re.f-V.f});r<i;++r){var N=s[r].s;if(p[N]>e)T+=w-(1<<E-p[N]),p[N]=e;else break}for(T>>=D;T>0;){var C=s[r].s;p[C]<e?T-=1<<e-p[C]++-1:++r}for(;r>=0&&T;--r){var j=s[r].s;p[j]==e&&(--p[j],++T)}E=e}return{t:new Es(p),l:E}},u1=function(t,e,n){return t.s==-1?Math.max(u1(t.l,e,n+1),u1(t.r,e,n+1)):e[t.s]=n},F_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ji(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Kc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},PA=function(t,e,n){var r=n.length,i=kA(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},M_=function(t,e,n,r,i,s,o,a,l,u,f){vo(e,f++,n),++i[256];for(var m=wg(i,15),v=m.t,p=m.l,E=wg(s,15),T=E.t,D=E.l,w=F_(v),N=w.c,C=w.n,j=F_(T),X=j.c,re=j.n,V=new ji(19),x=0;x<N.length;++x)++V[N[x]&31];for(var x=0;x<X.length;++x)++V[X[x]&31];for(var b=wg(V,7),P=b.t,S=b.l,k=19;k>4&&!P[D_[k-1]];--k);var L=u+5<<3,J=Kc(i,zl)+Kc(s,Pp)+o,pe=Kc(i,v)+Kc(s,T)+o+14+3*k+Kc(V,P)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&L<=J&&L<=pe)return PA(e,f,t.subarray(l,l+u));var ye,ge,Z,le;if(vo(e,f,1+(pe<J)),f+=2,pe<J){ye=wh(v,p,0),ge=v,Z=wh(T,D,0),le=T;var be=wh(P,S,0);vo(e,f,C-257),vo(e,f+5,re-1),vo(e,f+10,k-4),f+=14;for(var x=0;x<k;++x)vo(e,f+3*x,P[D_[x]]);f+=3*k;for(var we=[N,X],F=0;F<2;++F)for(var H=we[F],x=0;x<H.length;++x){var Y=H[x]&31;vo(e,f,be[Y]),f+=P[Y],Y>15&&(vo(e,f,H[x]>>5&127),f+=H[x]>>12)}}else ye=X8,ge=zl,Z=J8,le=Pp;for(var x=0;x<a;++x){var te=r[x];if(te>255){var Y=te>>18&31;Gc(e,f,ye[Y+257]),f+=ge[Y+257],Y>7&&(vo(e,f,te>>23&31),f+=vv[Y]);var se=te&31;Gc(e,f,Z[se]),f+=le[se],se>3&&(Gc(e,f,te>>5&8191),f+=yv[se])}else Gc(e,f,ye[te]),f+=ge[te]}return Gc(e,f,ye[256]),f+ge[256]},eR=new gv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CA=new Es(0),tR=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Es(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var m=eR[e-1],v=m>>13,p=m&8191,E=(1<<n)-1,T=s.p||new ji(32768),D=s.h||new ji(E+1),w=Math.ceil(n/3),N=2*w,C=function(_e){return(t[_e]^t[_e+1]<<w^t[_e+2]<<N)&E},j=new gv(25e3),X=new ji(288),re=new ji(32),V=0,x=0,b=s.i||0,P=0,S=s.w||0,k=0;b+2<o;++b){var L=C(b),J=b&32767,pe=D[L];if(T[J]=pe,D[L]=J,S<=b){var ye=o-b;if((V>7e3||P>24576)&&(ye>423||!u)){f=M_(t,l,0,j,X,re,x,P,k,b-k,f),P=V=x=0,k=b;for(var ge=0;ge<286;++ge)X[ge]=0;for(var ge=0;ge<30;++ge)re[ge]=0}var Z=2,le=0,be=p,we=J-pe&32767;if(ye>2&&L==C(b-we))for(var F=Math.min(v,ye)-1,H=Math.min(32767,b),Y=Math.min(258,ye);we<=H&&--be&&J!=pe;){if(t[b+Z]==t[b+Z-we]){for(var te=0;te<Y&&t[b+te]==t[b+te-we];++te);if(te>Z){if(Z=te,le=we,te>F)break;for(var se=Math.min(we,te-2),ce=0,ge=0;ge<se;++ge){var ve=b-we+ge&32767,me=T[ve],xe=ve-me&32767;xe>ce&&(ce=xe,pe=ve)}}}J=pe,pe=T[J],we+=J-pe&32767}if(le){j[P++]=268435456|a1[Z]<<18|O_[le];var Pe=a1[Z]&31,Me=O_[le]&31;x+=vv[Pe]+yv[Me],++X[257+Pe],++re[Me],S=b+Z,++V}else j[P++]=t[b],++X[t[b]]}}for(b=Math.max(b,S);b<o;++b)j[P++]=t[b],++X[t[b]];f=M_(t,l,u,j,X,re,x,P,k,b-k,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=D,s.p=T,s.i=b,s.w=S)}else{for(var b=s.w||0;b<o+u;b+=65535){var Ve=b+65535;Ve>=o&&(l[f/8|0]=u,Ve=o),f=PA(l,f+1,t.subarray(b,Ve))}s.i=o}return Z8(a,0,r+kA(f)+i)},LA=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},nR=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Es(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return tR(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},RA=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},rR=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=LA();i.p(e.dictionary),RA(t,2,i.d())}};function c1(t,e){e||(e={});var n=LA();n.p(t);var r=nR(t,e,e.dictionary?6:2,4);return rR(r,e),RA(r,r.length-4,n.d()),r}var iR=typeof TextDecoder<"u"&&new TextDecoder,sR=0;try{iR.decode(CA,{stream:!0}),sR=1}catch{}function oR(t){if(Array.isArray(t))return t}function aR(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function lR(t,e){if(t){if(typeof t=="string")return j_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j_(t,e):void 0}}function uR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(t,e){return oR(t)||aR(t,e)||lR(t,e)||uR()}function U_(t,e="utf8"){return new TextDecoder(e).decode(t)}const cR=new TextEncoder;function hR(t){return cR.encode(t)}const fR=1024*8,dR=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),bg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _v{constructor(e=fR,n={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof _v)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=bg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===dR&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new bg[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new bg[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return U_(this.readBytes(e))}decodeText(e=1,n="utf8"){return U_(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(hR(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mc(t){let e=t.length;for(;--e>=0;)t[e]=0}const pR=3,mR=258,DA=29,gR=256,vR=gR+1+DA,OA=30,yR=512,_R=new Array((vR+2)*2);mc(_R);const wR=new Array(OA*2);mc(wR);const bR=new Array(yR);mc(bR);const SR=new Array(mR-pR+1);mc(SR);const AR=new Array(DA);mc(AR);const ER=new Array(OA);mc(ER);const xR=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var h1=xR;const IR=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},TR=new Uint32Array(IR()),NR=(t,e,n,r)=>{const i=TR,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Hs=NR,f1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},FA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const kR=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var PR=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)kR(n,r)&&(t[r]=n[r])}}return t},CR=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},MA={assign:PR,flattenChunks:CR};let jA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jA=!1}const Xh=new Uint8Array(256);for(let t=0;t<256;t++)Xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xh[254]=Xh[254]=1;var LR=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const RR=(t,e)=>{if(e<65534&&t.subarray&&jA)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var DR=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Xh[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return RR(s,i)},OR=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Xh[t[n]]>e?n:e},d1={string2buf:LR,buf2string:DR,utf8border:OR};function FR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var MR=FR;const od=16209,jR=16191;var VR=function(e,n){let r,i,s,o,a,l,u,f,m,v,p,E,T,D,w,N,C,j,X,re,V,x,b,P;const S=e.state;r=e.next_in,b=e.input,i=r+(e.avail_in-5),s=e.next_out,P=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=S.dmax,u=S.wsize,f=S.whave,m=S.wnext,v=S.window,p=S.hold,E=S.bits,T=S.lencode,D=S.distcode,w=(1<<S.lenbits)-1,N=(1<<S.distbits)-1;e:do{E<15&&(p+=b[r++]<<E,E+=8,p+=b[r++]<<E,E+=8),C=T[p&w];t:for(;;){if(j=C>>>24,p>>>=j,E-=j,j=C>>>16&255,j===0)P[s++]=C&65535;else if(j&16){X=C&65535,j&=15,j&&(E<j&&(p+=b[r++]<<E,E+=8),X+=p&(1<<j)-1,p>>>=j,E-=j),E<15&&(p+=b[r++]<<E,E+=8,p+=b[r++]<<E,E+=8),C=D[p&N];n:for(;;){if(j=C>>>24,p>>>=j,E-=j,j=C>>>16&255,j&16){if(re=C&65535,j&=15,E<j&&(p+=b[r++]<<E,E+=8,E<j&&(p+=b[r++]<<E,E+=8)),re+=p&(1<<j)-1,re>l){e.msg="invalid distance too far back",S.mode=od;break e}if(p>>>=j,E-=j,j=s-o,re>j){if(j=re-j,j>f&&S.sane){e.msg="invalid distance too far back",S.mode=od;break e}if(V=0,x=v,m===0){if(V+=u-j,j<X){X-=j;do P[s++]=v[V++];while(--j);V=s-re,x=P}}else if(m<j){if(V+=u+m-j,j-=m,j<X){X-=j;do P[s++]=v[V++];while(--j);if(V=0,m<X){j=m,X-=j;do P[s++]=v[V++];while(--j);V=s-re,x=P}}}else if(V+=m-j,j<X){X-=j;do P[s++]=v[V++];while(--j);V=s-re,x=P}for(;X>2;)P[s++]=x[V++],P[s++]=x[V++],P[s++]=x[V++],X-=3;X&&(P[s++]=x[V++],X>1&&(P[s++]=x[V++]))}else{V=s-re;do P[s++]=P[V++],P[s++]=P[V++],P[s++]=P[V++],X-=3;while(X>2);X&&(P[s++]=P[V++],X>1&&(P[s++]=P[V++]))}}else if(j&64){e.msg="invalid distance code",S.mode=od;break e}else{C=D[(C&65535)+(p&(1<<j)-1)];continue n}break}}else if(j&64)if(j&32){S.mode=jR;break e}else{e.msg="invalid literal/length code",S.mode=od;break e}else{C=T[(C&65535)+(p&(1<<j)-1)];continue t}break}}while(r<i&&s<a);X=E>>3,r-=X,E-=X<<3,p&=(1<<E)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),S.hold=p,S.bits=E};const su=15,B_=852,z_=592,q_=0,Sg=1,H_=2,UR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HR=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,f=0,m=0,v=0,p=0,E=0,T=0,D=0,w=0,N=0,C,j,X,re,V,x=null,b;const P=new Uint16Array(su+1),S=new Uint16Array(su+1);let k=null,L,J,pe;for(u=0;u<=su;u++)P[u]=0;for(f=0;f<r;f++)P[e[n+f]]++;for(p=l,v=su;v>=1&&P[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<v&&P[m]===0;m++);for(p<m&&(p=m),D=1,u=1;u<=su;u++)if(D<<=1,D-=P[u],D<0)return-1;if(D>0&&(t===q_||v!==1))return-1;for(S[1]=0,u=1;u<su;u++)S[u+1]=S[u]+P[u];for(f=0;f<r;f++)e[n+f]!==0&&(o[S[e[n+f]]++]=f);if(t===q_?(x=k=o,b=20):t===Sg?(x=UR,k=BR,b=257):(x=zR,k=qR,b=0),N=0,f=0,u=m,V=s,E=p,T=0,X=-1,w=1<<p,re=w-1,t===Sg&&w>B_||t===H_&&w>z_)return 1;for(;;){L=u-T,o[f]+1<b?(J=0,pe=o[f]):o[f]>=b?(J=k[o[f]-b],pe=x[o[f]-b]):(J=96,pe=0),C=1<<u-T,j=1<<E,m=j;do j-=C,i[V+(N>>T)+j]=L<<24|J<<16|pe|0;while(j!==0);for(C=1<<u-1;N&C;)C>>=1;if(C!==0?(N&=C-1,N+=C):N=0,f++,--P[u]===0){if(u===v)break;u=e[n+o[f]]}if(u>p&&(N&re)!==X){for(T===0&&(T=p),V+=m,E=u-T,D=1<<E;E+T<v&&(D-=P[E+T],!(D<=0));)E++,D<<=1;if(w+=1<<E,t===Sg&&w>B_||t===H_&&w>z_)return 1;X=N&re,i[X]=p<<24|E<<16|V-s|0}}return N!==0&&(i[V+N]=u-T<<24|64<<16|0),a.bits=p,0};var bh=HR;const WR=0,VA=1,UA=2,{Z_FINISH:W_,Z_BLOCK:$R,Z_TREES:ad,Z_OK:ql,Z_STREAM_END:GR,Z_NEED_DICT:KR,Z_STREAM_ERROR:is,Z_DATA_ERROR:BA,Z_MEM_ERROR:zA,Z_BUF_ERROR:QR,Z_DEFLATED:$_}=FA,gm=16180,G_=16181,K_=16182,Q_=16183,Y_=16184,X_=16185,J_=16186,Z_=16187,ew=16188,tw=16189,Cp=16190,yo=16191,Ag=16192,nw=16193,Eg=16194,rw=16195,iw=16196,sw=16197,ow=16198,ld=16199,ud=16200,aw=16201,lw=16202,uw=16203,cw=16204,hw=16205,xg=16206,fw=16207,dw=16208,In=16209,qA=16210,HA=16211,YR=852,XR=592,JR=15,ZR=JR,pw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function e7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<gm||e.mode>HA?1:0},WA=t=>{if(Yl(t))return is;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=gm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(YR),e.distcode=e.distdyn=new Int32Array(XR),e.sane=1,e.back=-1,ql},$A=t=>{if(Yl(t))return is;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,WA(t)},GA=(t,e)=>{let n;if(Yl(t))return is;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?is:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,$A(t))},KA=(t,e)=>{if(!t)return is;const n=new e7;t.state=n,n.strm=t,n.window=null,n.mode=gm;const r=GA(t,e);return r!==ql&&(t.state=null),r},t7=t=>KA(t,ZR);let mw=!0,Ig,Tg;const n7=t=>{if(mw){Ig=new Int32Array(512),Tg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(bh(VA,t.lens,0,288,Ig,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;bh(UA,t.lens,0,32,Tg,0,t.work,{bits:5}),mw=!1}t.lencode=Ig,t.lenbits=9,t.distcode=Tg,t.distbits=5},QA=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},r7=(t,e)=>{let n,r,i,s,o,a,l,u,f,m,v,p,E,T,D=0,w,N,C,j,X,re,V,x;const b=new Uint8Array(4);let P,S;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yl(t)||!t.output||!t.input&&t.avail_in!==0)return is;n=t.state,n.mode===yo&&(n.mode=Ag),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,m=a,v=l,x=ql;e:for(;;)switch(n.mode){case gm:if(n.wrap===0){n.mode=Ag;break}for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,b[0]=u&255,b[1]=u>>>8&255,n.check=Hs(n.check,b,2,0),u=0,f=0,n.mode=G_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=In;break}if((u&15)!==$_){t.msg="unknown compression method",n.mode=In;break}if(u>>>=4,f-=4,V=(u&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=In;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?tw:yo,u=0,f=0;break;case G_:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==$_){t.msg="unknown compression method",n.mode=In;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=In;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(b[0]=u&255,b[1]=u>>>8&255,n.check=Hs(n.check,b,2,0)),u=0,f=0,n.mode=K_;case K_:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(b[0]=u&255,b[1]=u>>>8&255,b[2]=u>>>16&255,b[3]=u>>>24&255,n.check=Hs(n.check,b,4,0)),u=0,f=0,n.mode=Q_;case Q_:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(b[0]=u&255,b[1]=u>>>8&255,n.check=Hs(n.check,b,2,0)),u=0,f=0,n.mode=Y_;case Y_:if(n.flags&1024){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(b[0]=u&255,b[1]=u>>>8&255,n.check=Hs(n.check,b,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=X_;case X_:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),V)),n.flags&512&&n.wrap&4&&(n.check=Hs(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=J_;case J_:if(n.flags&2048){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Hs(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Z_;case Z_:if(n.flags&4096){if(a===0)break e;p=0;do V=r[s+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Hs(n.check,r,p,s)),a-=p,s+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=ew;case ew:if(n.flags&512){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=In;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=yo;break;case tw:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}t.adler=n.check=pw(u),u=0,f=0,n.mode=Cp;case Cp:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,KR;t.adler=n.check=1,n.mode=yo;case yo:if(e===$R||e===ad)break e;case Ag:if(n.last){u>>>=f&7,f-=f&7,n.mode=xg;break}for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=nw;break;case 1:if(n7(n),n.mode=ld,e===ad){u>>>=2,f-=2;break e}break;case 2:n.mode=iw;break;case 3:t.msg="invalid block type",n.mode=In}u>>>=2,f-=2;break;case nw:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=In;break}if(n.length=u&65535,u=0,f=0,n.mode=Eg,e===ad)break e;case Eg:n.mode=rw;case rw:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=yo;break;case iw:for(;f<14;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=In;break}n.have=0,n.mode=sw;case sw:for(;n.have<n.ncode;){for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.lens[k[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},x=bh(WR,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,x){t.msg="invalid code lengths set",n.mode=In;break}n.have=0,n.mode=ow;case ow:for(;n.have<n.nlen+n.ndist;){for(;D=n.lencode[u&(1<<n.lenbits)-1],w=D>>>24,N=D>>>16&255,C=D&65535,!(w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(C<16)u>>>=w,f-=w,n.lens[n.have++]=C;else{if(C===16){for(S=w+2;f<S;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(u>>>=w,f-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=In;break}V=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(C===17){for(S=w+3;f<S;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=w,f-=w,V=0,p=3+(u&7),u>>>=3,f-=3}else{for(S=w+7;f<S;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=w,f-=w,V=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=In;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===In)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=In;break}if(n.lenbits=9,P={bits:n.lenbits},x=bh(VA,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,x){t.msg="invalid literal/lengths set",n.mode=In;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},x=bh(UA,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,x){t.msg="invalid distances set",n.mode=In;break}if(n.mode=ld,e===ad)break e;case ld:n.mode=ud;case ud:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,VR(t,v),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,n.mode===yo&&(n.back=-1);break}for(n.back=0;D=n.lencode[u&(1<<n.lenbits)-1],w=D>>>24,N=D>>>16&255,C=D&65535,!(w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(N&&!(N&240)){for(j=w,X=N,re=C;D=n.lencode[re+((u&(1<<j+X)-1)>>j)],w=D>>>24,N=D>>>16&255,C=D&65535,!(j+w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=j,f-=j,n.back+=j}if(u>>>=w,f-=w,n.back+=w,n.length=C,N===0){n.mode=hw;break}if(N&32){n.back=-1,n.mode=yo;break}if(N&64){t.msg="invalid literal/length code",n.mode=In;break}n.extra=N&15,n.mode=aw;case aw:if(n.extra){for(S=n.extra;f<S;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=lw;case lw:for(;D=n.distcode[u&(1<<n.distbits)-1],w=D>>>24,N=D>>>16&255,C=D&65535,!(w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(!(N&240)){for(j=w,X=N,re=C;D=n.distcode[re+((u&(1<<j+X)-1)>>j)],w=D>>>24,N=D>>>16&255,C=D&65535,!(j+w<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=j,f-=j,n.back+=j}if(u>>>=w,f-=w,n.back+=w,N&64){t.msg="invalid distance code",n.mode=In;break}n.offset=C,n.extra=N&15,n.mode=uw;case uw:if(n.extra){for(S=n.extra;f<S;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=In;break}n.mode=cw;case cw:if(l===0)break e;if(p=v-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=In;break}p>n.wnext?(p-=n.wnext,E=n.wsize-p):E=n.wnext-p,p>n.length&&(p=n.length),T=n.window}else T=i,E=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=T[E++];while(--p);n.length===0&&(n.mode=ud);break;case hw:if(l===0)break e;i[o++]=n.length,l--,n.mode=ud;break;case xg:if(n.wrap){for(;f<32;){if(a===0)break e;a--,u|=r[s++]<<f,f+=8}if(v-=l,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Hs(n.check,i,v,o-v):h1(n.check,i,v,o-v)),v=l,n.wrap&4&&(n.flags?u:pw(u))!==n.check){t.msg="incorrect data check",n.mode=In;break}u=0,f=0}n.mode=fw;case fw:if(n.wrap&&n.flags){for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=In;break}u=0,f=0}n.mode=dw;case dw:x=GR;break e;case In:x=BA;break e;case qA:return zA;case HA:default:return is}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,(n.wsize||v!==t.avail_out&&n.mode<In&&(n.mode<xg||e!==W_))&&QA(t,t.output,t.next_out,v-t.avail_out),m-=t.avail_in,v-=t.avail_out,t.total_in+=m,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Hs(n.check,i,v,t.next_out-v):h1(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===yo?128:0)+(n.mode===ld||n.mode===Eg?256:0),(m===0&&v===0||e===W_)&&x===ql&&(x=QR),x},i7=t=>{if(Yl(t))return is;let e=t.state;return e.window&&(e.window=null),t.state=null,ql},s7=(t,e)=>{if(Yl(t))return is;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,ql):is},o7=(t,e)=>{const n=e.length;let r,i,s;return Yl(t)||(r=t.state,r.wrap!==0&&r.mode!==Cp)?is:r.mode===Cp&&(i=1,i=h1(i,e,n,0),i!==r.check)?BA:(s=QA(t,e,n,n),s?(r.mode=qA,zA):(r.havedict=1,ql))};var a7=$A,l7=GA,u7=WA,c7=t7,h7=KA,f7=r7,d7=i7,p7=s7,m7=o7,g7="pako inflate (from Nodeca project)",bo={inflateReset:a7,inflateReset2:l7,inflateResetKeep:u7,inflateInit:c7,inflateInit2:h7,inflate:f7,inflateEnd:d7,inflateGetHeader:p7,inflateSetDictionary:m7,inflateInfo:g7};function v7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var y7=v7;const YA=Object.prototype.toString,{Z_NO_FLUSH:_7,Z_FINISH:w7,Z_OK:Jh,Z_STREAM_END:Ng,Z_NEED_DICT:kg,Z_STREAM_ERROR:b7,Z_DATA_ERROR:gw,Z_MEM_ERROR:S7}=FA;function _f(t){this.options=MA.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new MR,this.strm.avail_out=0;let n=bo.inflateInit2(this.strm,e.windowBits);if(n!==Jh)throw new Error(f1[n]);if(this.header=new y7,bo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=d1.string2buf(e.dictionary):YA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=bo.inflateSetDictionary(this.strm,e.dictionary),n!==Jh)))throw new Error(f1[n])}_f.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?w7:_7,YA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=bo.inflate(n,o),s===kg&&i&&(s=bo.inflateSetDictionary(n,i),s===Jh?s=bo.inflate(n,o):s===gw&&(s=kg));n.avail_in>0&&s===Ng&&n.state.wrap>0&&t[n.next_in]!==0;)bo.inflateReset(n),s=bo.inflate(n,o);switch(s){case b7:case gw:case kg:case S7:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Ng))if(this.options.to==="string"){let l=d1.utf8border(n.output,n.next_out),u=n.next_out-l,f=d1.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Jh&&a===0)){if(s===Ng)return s=bo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_f.prototype.onData=function(t){this.chunks.push(t)};_f.prototype.onEnd=function(t){t===Jh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=MA.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function A7(t,e){const n=new _f(e);if(n.push(t),n.err)throw n.msg||f1[n.err];return n.result}var E7=_f,x7=A7,I7={Inflate:E7,inflate:x7};const{Inflate:T7,inflate:N7}=I7;var vw=T7,k7=N7;const XA=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;XA[t]=e}const yw=4294967295;function P7(t,e,n){let r=t;for(let i=0;i<n;i++)r=XA[(r^e[i])&255]^r>>>8;return r}function C7(t,e){return(P7(yw,t,e)^yw)>>>0}function _w(t,e,n){const r=t.readUint32(),i=C7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function JA(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function ZA(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function eE(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function tE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function nE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+L7(e[s-i],n[s],n[s-i])&255}}function L7(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function R7(t,e,n,r,i,s){switch(t){case 0:JA(e,n,i);break;case 1:ZA(e,n,i,s);break;case 2:eE(e,n,r,i);break;case 3:tE(e,n,r,i,s);break;case 4:nE(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const D7=new Uint16Array([255]),O7=new Uint8Array(D7.buffer),F7=O7[0]===255;function M7(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let f=0;f<7;f++){const m=o[f],v=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(v<=0||p<=0)continue;const E=v*a,T=new Uint8Array(E);for(let D=0;D<p;D++){const w=e[u++],N=e.subarray(u,u+E);u+=E;const C=new Uint8Array(E);R7(w,N,C,T,E,a),T.set(C);for(let j=0;j<v;j++){const X=m.x+j*m.xStep,re=m.y+D*m.yStep;if(!(X>=n||re>=r))for(let V=0;V<a;V++)l[(re*n+X)*a+V]=C[j*a+V]}}}if(s===16){const f=new Uint16Array(l.buffer);if(F7)for(let m=0;m<f.length;m++)f[m]=j7(f[m]);return f}else return l}function j7(t){return(t&255)<<8|t>>8&255}const V7=new Uint16Array([255]),U7=new Uint8Array(V7.buffer),B7=U7[0]===255,z7=new Uint8Array(0);function ww(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=z7,f=0,m,v;for(let p=0;p<r;p++){switch(m=e.subarray(f+1,f+1+a),v=l.subarray(p*a,(p+1)*a),e[f]){case 0:JA(m,v,a);break;case 1:ZA(m,v,a,o);break;case 2:eE(m,v,u,a);break;case 3:tE(m,v,u,a,o);break;case 4:nE(m,v,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=v,f+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(B7)for(let E=0;E<p.length;E++)p[E]=q7(p[E]);return p}else return l}function q7(t){return(t&255)<<8|t>>8&255}const Fd=Uint8Array.of(137,80,78,71,13,10,26,10);function bw(t){if(!H7(t.readBytes(Fd.length)))throw new Error("wrong PNG signature")}function H7(t){if(t.length<Fd.length)return!1;for(let e=0;e<Fd.length;e++)if(t[e]!==Fd[e])return!1;return!0}const W7="tEXt",$7=0,rE=new TextDecoder("latin1");function G7(t){if(Q7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const K7=/^[\u0000-\u00FF]*$/;function Q7(t){if(!K7.test(t))throw new Error("invalid latin1 text")}function Y7(t,e,n){const r=iE(e);t[r]=X7(e,n-r.length-1)}function iE(t){for(t.mark();t.readByte()!==$7;);const e=t.offset;t.reset();const n=rE.decode(t.readBytes(e-t.offset-1));return t.skip(1),G7(n),n}function X7(t,e){return rE.decode(t.readBytes(e))}const Ri={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Pg={UNKNOWN:-1,DEFLATE:0},Sw={UNKNOWN:-1,ADAPTIVE:0},Cg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cd={NONE:0,BACKGROUND:1,PREVIOUS:2},Lg={SOURCE:0,OVER:1};class J7 extends _v{constructor(n,r={}){super(n);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new vw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Pg.UNKNOWN,this._filterMethod=Sw.UNKNOWN,this._interlaceMethod=Cg.UNKNOWN,this._colorType=Ri.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(bw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(bw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case W7:Y7(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?_w(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?_w(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Z7(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ri.GREYSCALE:i=1;break;case Ri.TRUECOLOUR:i=3;break;case Ri.INDEXED_COLOUR:i=1;break;case Ri.GREYSCALE_ALPHA:i=2;break;case Ri.TRUECOLOUR_ALPHA:i=4;break;case Ri.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Pg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ri.GREYSCALE:case Ri.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ri.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ri.UNKNOWN:case Ri.GREYSCALE_ALPHA:case Ri.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=iE(this),i=this.readUint8();if(i!==Pg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:k7(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=ww({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case cd.NONE:break;case cd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case cd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Lg.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++)n.data[l+f]=r.data[u+f]}break;case Lg.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++){const m=r.data[u+this._png.channels-1]/i,v=f%(this._png.channels-1)===0?1:r.data[u+f],p=Math.floor(m*v+(1-m)*n.data[l+f]);n.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Sw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cg.NO_INTERLACE)this._png.data=ww({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cg.ADAM7)this._png.data=M7({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cd.NONE,blendOp:Lg.SOURCE,data:n}),this._inflator=new vw,this._writingDataChunks=!1}}function Z7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Aw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Aw||(Aw={}));function eD(t,e){return new J7(t,e).decode()}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rg(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var hn={log:Rg,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):Rg.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):Rg(t))}};function Dg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){wl(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function Ew(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wl=vt.saveAs||((typeof window>"u"?"undefined":on(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Ew(i.href)?Dg(t,e,n):hd(i,i.target="_blank"):hd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){hd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Ew(t))Dg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){hd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:on(s)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Dg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":on(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Md=vt.atob.bind(vt),xw=vt.btoa.bind(vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Og(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Ur(n,r,i,s,e[0],7,-680876936),s=Ur(s,n,r,i,e[1],12,-389564586),i=Ur(i,s,n,r,e[2],17,606105819),r=Ur(r,i,s,n,e[3],22,-1044525330),n=Ur(n,r,i,s,e[4],7,-176418897),s=Ur(s,n,r,i,e[5],12,1200080426),i=Ur(i,s,n,r,e[6],17,-1473231341),r=Ur(r,i,s,n,e[7],22,-45705983),n=Ur(n,r,i,s,e[8],7,1770035416),s=Ur(s,n,r,i,e[9],12,-1958414417),i=Ur(i,s,n,r,e[10],17,-42063),r=Ur(r,i,s,n,e[11],22,-1990404162),n=Ur(n,r,i,s,e[12],7,1804603682),s=Ur(s,n,r,i,e[13],12,-40341101),i=Ur(i,s,n,r,e[14],17,-1502002290),n=Br(n,r=Ur(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Br(s,n,r,i,e[6],9,-1069501632),i=Br(i,s,n,r,e[11],14,643717713),r=Br(r,i,s,n,e[0],20,-373897302),n=Br(n,r,i,s,e[5],5,-701558691),s=Br(s,n,r,i,e[10],9,38016083),i=Br(i,s,n,r,e[15],14,-660478335),r=Br(r,i,s,n,e[4],20,-405537848),n=Br(n,r,i,s,e[9],5,568446438),s=Br(s,n,r,i,e[14],9,-1019803690),i=Br(i,s,n,r,e[3],14,-187363961),r=Br(r,i,s,n,e[8],20,1163531501),n=Br(n,r,i,s,e[13],5,-1444681467),s=Br(s,n,r,i,e[2],9,-51403784),i=Br(i,s,n,r,e[7],14,1735328473),n=zr(n,r=Br(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=zr(s,n,r,i,e[8],11,-2022574463),i=zr(i,s,n,r,e[11],16,1839030562),r=zr(r,i,s,n,e[14],23,-35309556),n=zr(n,r,i,s,e[1],4,-1530992060),s=zr(s,n,r,i,e[4],11,1272893353),i=zr(i,s,n,r,e[7],16,-155497632),r=zr(r,i,s,n,e[10],23,-1094730640),n=zr(n,r,i,s,e[13],4,681279174),s=zr(s,n,r,i,e[0],11,-358537222),i=zr(i,s,n,r,e[3],16,-722521979),r=zr(r,i,s,n,e[6],23,76029189),n=zr(n,r,i,s,e[9],4,-640364487),s=zr(s,n,r,i,e[12],11,-421815835),i=zr(i,s,n,r,e[15],16,530742520),n=qr(n,r=zr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qr(s,n,r,i,e[7],10,1126891415),i=qr(i,s,n,r,e[14],15,-1416354905),r=qr(r,i,s,n,e[5],21,-57434055),n=qr(n,r,i,s,e[12],6,1700485571),s=qr(s,n,r,i,e[3],10,-1894986606),i=qr(i,s,n,r,e[10],15,-1051523),r=qr(r,i,s,n,e[1],21,-2054922799),n=qr(n,r,i,s,e[8],6,1873313359),s=qr(s,n,r,i,e[15],10,-30611744),i=qr(i,s,n,r,e[6],15,-1560198380),r=qr(r,i,s,n,e[13],21,1309151649),n=qr(n,r,i,s,e[4],6,-145523070),s=qr(s,n,r,i,e[11],10,-1120210379),i=qr(i,s,n,r,e[2],15,718787259),r=qr(r,i,s,n,e[9],21,-343485551),t[0]=Ia(n,t[0]),t[1]=Ia(r,t[1]),t[2]=Ia(i,t[2]),t[3]=Ia(s,t[3])}function vm(t,e,n,r,i,s){return e=Ia(Ia(e,t),Ia(r,s)),Ia(e<<i|e>>>32-i,n)}function Ur(t,e,n,r,i,s,o){return vm(e&n|~e&r,t,e,i,s,o)}function Br(t,e,n,r,i,s,o){return vm(e&r|n&~r,t,e,i,s,o)}function zr(t,e,n,r,i,s,o){return vm(e^n^r,t,e,i,s,o)}function qr(t,e,n,r,i,s,o){return vm(n^(e|~r),t,e,i,s,o)}function oE(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Og(r,tD(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Og(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Og(r,i),r}function tD(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Iw="0123456789abcdef".split("");function nD(t){for(var e="",n=0;n<4;n++)e+=Iw[t>>8*n+4&15]+Iw[t>>8*n&15];return e}function rD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function p1(t){return oE(t).map(rD).join("")}var iD=function(t){for(var e=0;e<t.length;e++)t[e]=nD(t[e]);return t.join("")}(oE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ia(t,e){if(iD){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function m1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var f=a[l];u=(u+f+o.charCodeAt(l))%256,a[l]=a[u],a[u]=f}n=t,r=a}else a=r;var m=e.length,v=0,p=0,E="";for(l=0;l<m;l++)p=(p+(f=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=f,o=a[(a[v]+a[p])%256],E+=String.fromCharCode(e.charCodeAt(l)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Tw={print:4,modify:8,copy:16,"annot-forms":32};function hu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Tw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Tw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=p1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=m1(this.encryptionKey,this.padding)}function fu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Nw(t){if(on(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){vt.console&&hn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Lp(t){if(!(this instanceof Lp))return new Lp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function aE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bl(t,e,n,r,i){if(!(this instanceof bl))return new bl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,aE.call(this,r,i)}function Tu(t,e,n,r,i){if(!(this instanceof Tu))return new Tu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,aE.call(this,r,i)}function Je(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",f=null;on(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=Nw;var E="1.3",T=p.__private__.getPdfVersion=function(){return E};p.__private__.setPdfVersion=function(g){E=g};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return D};var w=p.__private__.getPageFormat=function(g){return D[g]};i=i||"a4";var N="compat",C="advanced",j=N;function X(){this.saveGraphicsState(),Q(new st(lt,0,0,-lt,0,Ki()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),u="n",j=C}function re(){this.restoreGraphicsState(),u="S",j=N}var V=p.__private__.combineFontStyleAndFontWeight=function(g,R){if(g=="bold"&&R=="normal"||g=="bold"&&R==400||g=="normal"&&R=="italic"||g=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(g=R==400||R==="normal"?g==="italic"?"italic":"normal":R!=700&&R!=="bold"||g!=="normal"?(R==700?"bold":R)+""+g:"bold"),g};p.advancedAPI=function(g){var R=j===N;return R&&X.call(this),typeof g!="function"||(g(this),R&&re.call(this)),this},p.compatAPI=function(g){var R=j===C;return R&&re.call(this),typeof g!="function"||(g(this),R&&X.call(this)),this},p.isAdvancedAPI=function(){return j===C};var x,b=function(g){if(j!==C)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(g,R){var W=e||R;if(isNaN(g)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(W).replace(/0+$/,"")};x=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return P(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return P(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return P(g,16)};var S=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return P(g,2)},k=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return P(g,3)},L=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return j===N?g*lt:j===C?g:void 0},J=function(g){return L(function(R){return j===N?Ki()-R:j===C?R:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,ye="00000000000000000000000000000000",ge=p.__private__.getFileId=function(){return ye},Z=p.__private__.setFileId=function(g){return ye=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(en=new hu(f.userPermissions,f.userPassword,f.ownerPassword,ye)),ye};p.setFileId=function(g){return Z(g),this},p.getFileId=function(){return ge()};var le=p.__private__.convertDateToPDFDate=function(g){var R=g.getTimezoneOffset(),W=R<0?"+":"-",ee=Math.floor(Math.abs(R/60)),oe=Math.abs(R%60),Ae=[W,Y(ee),"'",Y(oe),"'"].join("");return["D:",g.getFullYear(),Y(g.getMonth()+1),Y(g.getDate()),Y(g.getHours()),Y(g.getMinutes()),Y(g.getSeconds()),Ae].join("")},be=p.__private__.convertPDFDateToDate=function(g){var R=parseInt(g.substr(2,4),10),W=parseInt(g.substr(6,2),10)-1,ee=parseInt(g.substr(8,2),10),oe=parseInt(g.substr(10,2),10),Ae=parseInt(g.substr(12,2),10),Ne=parseInt(g.substr(14,2),10);return new Date(R,W,ee,oe,Ae,Ne,0)},we=p.__private__.setCreationDate=function(g){var R;if(g===void 0&&(g=new Date),g instanceof Date)R=le(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=g}return pe=R},F=p.__private__.getCreationDate=function(g){var R=pe;return g==="jsDate"&&(R=be(pe)),R};p.setCreationDate=function(g){return we(g),this},p.getCreationDate=function(g){return F(g)};var H,Y=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},te=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},se=0,ce=[],ve=[],me=0,xe=[],Pe=[],Me=!1,Ve=ve;p.__private__.setCustomOutputDestination=function(g){Me=!0,Ve=g};var _e=function(g){Me||(Ve=g)};p.__private__.resetCustomOutputDestination=function(){Me=!1,Ve=ve};var Q=p.__private__.out=function(g){return g=g.toString(),me+=g.length+1,Ve.push(g),Ve},kt=p.__private__.write=function(g){return Q(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},bt=p.__private__.getArrayBuffer=function(g){for(var R=g.length,W=new ArrayBuffer(R),ee=new Uint8Array(W);R--;)ee[R]=g.charCodeAt(R);return W},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=j===C?g/lt:g,this};var Ye,je=p.__private__.getFontSize=p.getFontSize=function(){return j===N?Re:Re*lt},St=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return St=g,this},p.__private__.getR2L=p.getR2L=function(){return St};var Ze,Mt=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ye=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ye=g}else Ye=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ye};var yt,Xe=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ze=g};p.__private__.getPageMode=function(){return Ze};var At=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');yt=g};p.__private__.getLayoutMode=function(){return yt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,R,W){return Mt(g),At(R),Xe(W),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(pt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[g]},p.__private__.getDocumentProperties=function(){return pt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var R in pt)pt.hasOwnProperty(R)&&g[R]&&(pt[R]=g[R]);return this},p.__private__.setDocumentProperty=function(g,R){if(Object.keys(pt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[g]=R};var et,lt,nt,Kt,Bt,Ge={},mt={},Zt=[],ot={},Pt={},_t={},An={},vn=null,Yt=0,ct=[],Lt=new Nw(p),Ts=t.hotfixes||[],zn={},Hi={},Lr=[],st=function g(R,W,ee,oe,Ae,Ne){if(!(this instanceof g))return new g(R,W,ee,oe,Ae,Ne);isNaN(R)&&(R=1),isNaN(W)&&(W=0),isNaN(ee)&&(ee=0),isNaN(oe)&&(oe=1),isNaN(Ae)&&(Ae=0),isNaN(Ne)&&(Ne=0),this._matrix=[R,W,ee,oe,Ae,Ne]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(g)},st.prototype.multiply=function(g){var R=g.sx*this.sx+g.shy*this.shx,W=g.sx*this.shy+g.shy*this.sy,ee=g.shx*this.sx+g.sy*this.shx,oe=g.shx*this.shy+g.sy*this.sy,Ae=g.tx*this.sx+g.ty*this.shx+this.tx,Ne=g.tx*this.shy+g.ty*this.sy+this.ty;return new st(R,W,ee,oe,Ae,Ne)},st.prototype.decompose=function(){var g=this.sx,R=this.shy,W=this.shx,ee=this.sy,oe=this.tx,Ae=this.ty,Ne=Math.sqrt(g*g+R*R),Be=(g/=Ne)*W+(R/=Ne)*ee;W-=g*Be,ee-=R*Be;var We=Math.sqrt(W*W+ee*ee);return Be/=We,g*(ee/=We)<R*(W/=We)&&(g=-g,R=-R,Be=-Be,Ne=-Ne),{scale:new st(Ne,0,0,We,0,0),translate:new st(1,0,0,1,oe,Ae),rotate:new st(g,R,-R,g,0,0),skew:new st(1,0,Be,1,0,0)}},st.prototype.toString=function(g){return this.join(" ")},st.prototype.inversed=function(){var g=this.sx,R=this.shy,W=this.shx,ee=this.sy,oe=this.tx,Ae=this.ty,Ne=1/(g*ee-R*W),Be=ee*Ne,We=-R*Ne,at=-W*Ne,gt=g*Ne;return new st(Be,We,at,gt,-Be*oe-at*Ae,-We*oe-gt*Ae)},st.prototype.applyToPoint=function(g){var R=g.x*this.sx+g.y*this.shx+this.tx,W=g.x*this.shy+g.y*this.sy+this.ty;return new Ms(R,W)},st.prototype.applyToRectangle=function(g){var R=this.applyToPoint(g),W=this.applyToPoint(new Ms(g.x+g.w,g.y+g.h));return new Qo(R.x,R.y,W.x-R.x,W.y-R.y)},st.prototype.clone=function(){var g=this.sx,R=this.shy,W=this.shx,ee=this.sy,oe=this.tx,Ae=this.ty;return new st(g,R,W,ee,oe,Ae)},p.Matrix=st;var yn=p.matrixMult=function(g,R){return R.multiply(g)},Wi=new st(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Wi;var hr=function(g,R){if(!Pt[g]){var W=(R instanceof bl?"Sh":"P")+(Object.keys(ot).length+1).toString(10);R.id=W,Pt[g]=W,ot[W]=R,Lt.publish("addPattern",R)}};p.ShadingPattern=bl,p.TilingPattern=Tu,p.addShadingPattern=function(g,R){return b("addShadingPattern()"),hr(g,R),this},p.beginTilingPattern=function(g){b("beginTilingPattern()"),js(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,R){b("endTilingPattern()"),R.stream=Pe[H].join(`
`),hr(g,R),Lt.publish("endTilingPattern",R),Lr.pop().restore()};var fr,En=p.__private__.newObject=function(){var g=er();return xn(g,!0),g},er=p.__private__.newObjectDeferred=function(){return se++,ce[se]=function(){return me},se},xn=function(g,R){return R=typeof R=="boolean"&&R,ce[g]=me,R&&Q(g+" 0 obj"),g},no=p.__private__.newAdditionalObject=function(){var g={objId:er(),content:""};return xe.push(g),g},Ns=er(),Rr=er(),_i=p.__private__.decodeColorString=function(g){var R=g.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var W=parseFloat(R[0]);R=[W,W,W,"r"]}for(var ee="#",oe=0;oe<3;oe++)ee+=("0"+Math.floor(255*parseFloat(R[oe])).toString(16)).slice(-2);return ee},Qr=p.__private__.encodeColorString=function(g){var R;typeof g=="string"&&(g={ch1:g});var W=g.ch1,ee=g.ch2,oe=g.ch3,Ae=g.ch4,Ne=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Be=new sE(W);if(Be.ok)W=Be.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var We=parseInt(W.substr(1),16);W=We>>16&255,ee=We>>8&255,oe=255&We}if(ee===void 0||Ae===void 0&&W===ee&&ee===oe)R=typeof W=="string"?W+" "+Ne[0]:g.precision===2?S(W/255)+" "+Ne[0]:k(W/255)+" "+Ne[0];else if(Ae===void 0||on(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Ne[1]].join(" ");R=typeof W=="string"?[W,ee,oe,Ne[1]].join(" "):g.precision===2?[S(W/255),S(ee/255),S(oe/255),Ne[1]].join(" "):[k(W/255),k(ee/255),k(oe/255),Ne[1]].join(" ")}else R=typeof W=="string"?[W,ee,oe,Ae,Ne[2]].join(" "):g.precision===2?[S(W),S(ee),S(oe),S(Ae),Ne[2]].join(" "):[k(W),k(ee),k(oe),k(Ae),Ne[2]].join(" ");return R},Dr=p.__private__.getFilters=function(){return o},qn=p.__private__.putStream=function(g){var R=(g=g||{}).data||"",W=g.filters||Dr(),ee=g.alreadyAppliedFilters||[],oe=g.addLength1||!1,Ae=R.length,Ne=g.objectId,Be=function(Fn){return Fn};if(f!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Be=en.encryptor(Ne,0));var We={};W===!0&&(W=["FlateEncode"]);var at=g.additionalKeyValues||[],gt=(We=Je.API.processDataByFilters!==void 0?Je.API.processDataByFilters(R,W):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(We.data.length!==0&&(at.push({key:"Length",value:We.data.length}),oe===!0&&at.push({key:"Length1",value:Ae})),gt.length!=0)if(gt.split("/").length-1==1)at.push({key:"Filter",value:gt});else{at.push({key:"Filter",value:"["+gt+"]"});for(var zt=0;zt<at.length;zt+=1)if(at[zt].key==="DecodeParms"){for(var Xt=[],kn=0;kn<We.reverseChain.split("/").length-1;kn+=1)Xt.push("null");Xt.push(at[zt].value),at[zt].value="["+Xt.join(" ")+"]"}}Q("<<");for(var tn=0;tn<at.length;tn++)Q("/"+at[tn].key+" "+at[tn].value);Q(">>"),We.data.length!==0&&(Q("stream"),Q(Be(We.data)),Q("endstream"))},ks=p.__private__.putPage=function(g){var R=g.number,W=g.data,ee=g.objId,oe=g.contentsObjId;xn(ee,!0),Q("<</Type /Page"),Q("/Parent "+g.rootDictionaryObjId+" 0 R"),Q("/Resources "+g.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(x(g.mediaBox.bottomLeftX))+" "+parseFloat(x(g.mediaBox.bottomLeftY))+" "+x(g.mediaBox.topRightX)+" "+x(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&Q("/CropBox ["+x(g.cropBox.bottomLeftX)+" "+x(g.cropBox.bottomLeftY)+" "+x(g.cropBox.topRightX)+" "+x(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&Q("/BleedBox ["+x(g.bleedBox.bottomLeftX)+" "+x(g.bleedBox.bottomLeftY)+" "+x(g.bleedBox.topRightX)+" "+x(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&Q("/TrimBox ["+x(g.trimBox.bottomLeftX)+" "+x(g.trimBox.bottomLeftY)+" "+x(g.trimBox.topRightX)+" "+x(g.trimBox.topRightY)+"]"),g.artBox!==null&&Q("/ArtBox ["+x(g.artBox.bottomLeftX)+" "+x(g.artBox.bottomLeftY)+" "+x(g.artBox.topRightX)+" "+x(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&Q("/UserUnit "+g.userUnit),Lt.publish("putPage",{objId:ee,pageContext:ct[R],pageNumber:R,page:W}),Q("/Contents "+oe+" 0 R"),Q(">>"),Q("endobj");var Ae=W.join(`
`);return j===C&&(Ae+=`
Q`),xn(oe,!0),qn({data:Ae,filters:Dr(),objectId:oe}),Q("endobj"),ee},wi=p.__private__.putPages=function(){var g,R,W=[];for(g=1;g<=Yt;g++)ct[g].objId=er(),ct[g].contentsObjId=er();for(g=1;g<=Yt;g++)W.push(ks({number:g,data:Pe[g],objId:ct[g].objId,contentsObjId:ct[g].contentsObjId,mediaBox:ct[g].mediaBox,cropBox:ct[g].cropBox,bleedBox:ct[g].bleedBox,trimBox:ct[g].trimBox,artBox:ct[g].artBox,userUnit:ct[g].userUnit,rootDictionaryObjId:Ns,resourceDictionaryObjId:Rr}));xn(Ns,!0),Q("<</Type /Pages");var ee="/Kids [";for(R=0;R<Yt;R++)ee+=W[R]+" 0 R ";Q(ee+"]"),Q("/Count "+Yt),Q(">>"),Q("endobj"),Lt.publish("postPutPages")},ss=function(g){Lt.publish("putFont",{font:g,out:Q,newObject:En,putStream:qn}),g.isAlreadyPutted!==!0&&(g.objectNumber=En(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+fu(g.postScriptName)),Q("/Subtype /Type1"),typeof g.encoding=="string"&&Q("/Encoding /"+g.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Ps=function(g){g.objectNumber=En();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[x(g.x),x(g.y),x(g.x+g.width),x(g.y+g.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var W=g.pages[1].join(`
`);qn({data:W,additionalKeyValues:R,objectId:g.objectNumber}),Q("endobj")},ro=function(g,R){R||(R=21);var W=En(),ee=function(Ne,Be){var We,at=[],gt=1/(Be-1);for(We=0;We<1;We+=gt)at.push(We);if(at.push(1),Ne[0].offset!=0){var zt={offset:0,color:Ne[0].color};Ne.unshift(zt)}if(Ne[Ne.length-1].offset!=1){var Xt={offset:1,color:Ne[Ne.length-1].color};Ne.push(Xt)}for(var kn="",tn=0,Fn=0;Fn<at.length;Fn++){for(We=at[Fn];We>Ne[tn+1].offset;)tn++;var Pn=Ne[tn].offset,Mn=(We-Pn)/(Ne[tn+1].offset-Pn),dn=Ne[tn].color,wr=Ne[tn+1].color;kn+=te(Math.round((1-Mn)*dn[0]+Mn*wr[0]).toString(16))+te(Math.round((1-Mn)*dn[1]+Mn*wr[1]).toString(16))+te(Math.round((1-Mn)*dn[2]+Mn*wr[2]).toString(16))}return kn.trim()}(g.colors,R),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+R+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:ee,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),Q("endobj"),g.objectNumber=En(),Q("<< /ShadingType "+g.type),Q("/ColorSpace /DeviceRGB");var Ae="/Coords ["+x(parseFloat(g.coords[0]))+" "+x(parseFloat(g.coords[1]))+" ";g.type===2?Ae+=x(parseFloat(g.coords[2]))+" "+x(parseFloat(g.coords[3])):Ae+=x(parseFloat(g.coords[2]))+" "+x(parseFloat(g.coords[3]))+" "+x(parseFloat(g.coords[4]))+" "+x(parseFloat(g.coords[5])),Q(Ae+="]"),g.matrix&&Q("/Matrix ["+g.matrix.toString()+"]"),Q("/Function "+W+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},io=function(g,R){var W=er(),ee=En();R.push({resourcesOid:W,objectOid:ee}),g.objectNumber=ee;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+g.boundingBox.map(x).join(" ")+"]"}),oe.push({key:"XStep",value:x(g.xStep)}),oe.push({key:"YStep",value:x(g.yStep)}),oe.push({key:"Resources",value:W+" 0 R"}),g.matrix&&oe.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),qn({data:g.stream,additionalKeyValues:oe,objectId:g.objectNumber}),Q("endobj")},gc=function(g){for(var R in g.objectNumber=En(),Q("<<"),g)switch(R){case"opacity":Q("/ca "+S(g[R]));break;case"stroke-opacity":Q("/CA "+S(g[R]))}Q(">>"),Q("endobj")},Cs=function(g){xn(g.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in Q("/Font <<"),Ge)Ge.hasOwnProperty(R)&&(m===!1||m===!0&&v.hasOwnProperty(R))&&Q("/"+R+" "+Ge[R].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(ot).length>0){for(var R in Q("/Shading <<"),ot)ot.hasOwnProperty(R)&&ot[R]instanceof bl&&ot[R].objectNumber>=0&&Q("/"+R+" "+ot[R].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Q(">>")}}(),function(R){if(Object.keys(ot).length>0){for(var W in Q("/Pattern <<"),ot)ot.hasOwnProperty(W)&&ot[W]instanceof p.TilingPattern&&ot[W].objectNumber>=0&&ot[W].objectNumber<R&&Q("/"+W+" "+ot[W].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Q(">>")}}(g.objectOid),function(){if(Object.keys(_t).length>0){var R;for(R in Q("/ExtGState <<"),_t)_t.hasOwnProperty(R)&&_t[R].objectNumber>=0&&Q("/"+R+" "+_t[R].objectNumber+" 0 R");Lt.publish("putGStateDict"),Q(">>")}}(),function(){for(var R in Q("/XObject <<"),zn)zn.hasOwnProperty(R)&&zn[R].objectNumber>=0&&Q("/"+R+" "+zn[R].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},Ja=function(g){mt[g.fontName]=mt[g.fontName]||{},mt[g.fontName][g.fontStyle]=g.id},zo=function(g,R,W,ee,oe){var Ae={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:g,fontName:R,fontStyle:W,encoding:ee,isStandardFont:oe||!1,metadata:{}};return Lt.publish("addFont",{font:Ae,instance:this}),Ge[Ae.id]=Ae,Ja(Ae),Ae.id},dr=p.__private__.pdfEscape=p.pdfEscape=function(g,R){return function(W,ee){var oe,Ae,Ne,Be,We,at,gt,zt,Xt;if(Ne=(ee=ee||{}).sourceEncoding||"Unicode",We=ee.outputEncoding,(ee.autoencode||We)&&Ge[et].metadata&&Ge[et].metadata[Ne]&&Ge[et].metadata[Ne].encoding&&(Be=Ge[et].metadata[Ne].encoding,!We&&Ge[et].encoding&&(We=Ge[et].encoding),!We&&Be.codePages&&(We=Be.codePages[0]),typeof We=="string"&&(We=Be[We]),We)){for(gt=!1,at=[],oe=0,Ae=W.length;oe<Ae;oe++)(zt=We[W.charCodeAt(oe)])?at.push(String.fromCharCode(zt)):at.push(W[oe]),at[oe].charCodeAt(0)>>8&&(gt=!0);W=at.join("")}for(oe=W.length;gt===void 0&&oe!==0;)W.charCodeAt(oe-1)>>8&&(gt=!0),oe--;if(!gt)return W;for(at=ee.noBOM?[]:[254,255],oe=0,Ae=W.length;oe<Ae;oe++){if((Xt=(zt=W.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Xt),at.push(zt-(Xt<<8))}return String.fromCharCode.apply(void 0,at)}(g,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bi=p.__private__.beginPage=function(g){Pe[++Yt]=[],ct[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},el(Yt),_e(Pe[H])},qo=function(g,R){var W,ee,oe;switch(n=R||n,typeof g=="string"&&(W=w(g.toLowerCase()),Array.isArray(W)&&(ee=W[0],oe=W[1])),Array.isArray(g)&&(ee=g[0]*lt,oe=g[1]*lt),isNaN(ee)&&(ee=i[0],oe=i[1]),(ee>14400||oe>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),oe=Math.min(14400,oe)),i=[ee,oe],n.substr(0,1)){case"l":oe>ee&&(i=[oe,ee]);break;case"p":ee>oe&&(i=[oe,ee])}bi(i),Fs($o),Q(ls),ln!==0&&Q(ln+" J"),ll!==0&&Q(ll+" j"),Lt.publish("addPage",{pageNumber:Yt})},Za=function(g){g>0&&g<=Yt&&(Pe.splice(g,1),ct.splice(g,1),Yt--,H>Yt&&(H=Yt),this.setPage(H))},el=function(g){g>0&&g<=Yt&&(H=g)},tl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},nl=function(g,R,W){var ee,oe=void 0;return W=W||{},g=g!==void 0?g:Ge[et].fontName,R=R!==void 0?R:Ge[et].fontStyle,ee=g.toLowerCase(),mt[ee]!==void 0&&mt[ee][R]!==void 0?oe=mt[ee][R]:mt[g]!==void 0&&mt[g][R]!==void 0?oe=mt[g][R]:W.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+g+"', '"+R+"'. Refer to getFontList() for available fonts."),oe||W.noFallback||(oe=mt.times[R])==null&&(oe=mt.times.normal),oe},Ls=p.__private__.putInfo=function(){var g=En(),R=function(ee){return ee};for(var W in f!==null&&(R=en.encryptor(g,0)),Q("<<"),Q("/Producer ("+dr(R("jsPDF "+Je.version))+")"),pt)pt.hasOwnProperty(W)&&pt[W]&&Q("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+dr(R(pt[W]))+")");Q("/CreationDate ("+dr(R(pe))+")"),Q(">>"),Q("endobj")},rl=p.__private__.putCatalog=function(g){var R=(g=g||{}).rootDictionaryObjId||Ns;switch(En(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+R+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+Ye;W.substr(W.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+S(Ye)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Ze&&Q("/PageMode /"+Ze),Lt.publish("putCatalog"),Q(">>"),Q("endobj")},Nn=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(se+1)),Q("/Root "+se+" 0 R"),Q("/Info "+(se-1)+" 0 R"),f!==null&&Q("/Encrypt "+en.oid+" 0 R"),Q("/ID [ <"+ye+"> <"+ye+"> ]"),Q(">>")},il=p.__private__.putHeader=function(){Q("%PDF-"+E),Q("%")},Jl=p.__private__.putXRef=function(){var g="0000000000";Q("xref"),Q("0 "+(se+1)),Q("0000000000 65535 f ");for(var R=1;R<=se;R++)typeof ce[R]=="function"?Q((g+ce[R]()).slice(-10)+" 00000 n "):ce[R]!==void 0?Q((g+ce[R]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},os=p.__private__.buildDocument=function(){var g;se=0,me=0,ve=[],ce=[],xe=[],Ns=er(),Rr=er(),_e(ve),Lt.publish("buildDocument"),il(),wi(),function(){Lt.publish("putAdditionalObjects");for(var W=0;W<xe.length;W++){var ee=xe[W];xn(ee.objId,!0),Q(ee.content),Q("endobj")}Lt.publish("postPutAdditionalObjects")}(),g=[],function(){for(var W in Ge)Ge.hasOwnProperty(W)&&(m===!1||m===!0&&v.hasOwnProperty(W))&&ss(Ge[W])}(),function(){var W;for(W in _t)_t.hasOwnProperty(W)&&gc(_t[W])}(),function(){for(var W in zn)zn.hasOwnProperty(W)&&Ps(zn[W])}(),function(W){var ee;for(ee in ot)ot.hasOwnProperty(ee)&&(ot[ee]instanceof bl?ro(ot[ee]):ot[ee]instanceof Tu&&io(ot[ee],W))}(g),Lt.publish("putResources"),g.forEach(Cs),Cs({resourcesOid:Rr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),f!==null&&(en.oid=En(),Q("<<"),Q("/Filter /Standard"),Q("/V "+en.v),Q("/R "+en.r),Q("/U <"+en.toHexString(en.U)+">"),Q("/O <"+en.toHexString(en.O)+">"),Q("/P "+en.P),Q(">>"),Q("endobj")),Ls(),rl();var R=me;return Jl(),Nn(),Q("startxref"),Q(""+R),Q("%%EOF"),_e(Pe[H]),ve.join(`
`)},Rs=p.__private__.getBlob=function(g){return new Blob([bt(g)],{type:"application/pdf"})},ai=p.output=p.__private__.output=(fr=function(g,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",g){case void 0:return os();case"save":p.save(R.filename);break;case"arraybuffer":return bt(os());case"blob":return Rs(os());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Rs(os()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",ee=os();try{W=xw(ee)}catch{W=xw(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+R.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(oe=R.pdfObjectUrl,Ae="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Be=vt.open();return Be!==null&&Be.document.write(Ne),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',at=vt.open();if(at!==null){at.document.write(We);var gt=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=R.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Xt=vt.open();if(Xt!==null&&(Xt.document.write(zt),Xt.document.title=R.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",R);default:return null}},fr.foo=function(){try{return fr.apply(this,arguments)}catch(W){var g=W.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var R="Error in function "+g.split(`
`)[0].split("<")[0]+": "+W.message;if(!vt.console)throw new Error(R);vt.console.error(R,W),vt.alert&&alert(R)}},fr.foo.bar=fr,fr.foo),so=function(g){return Array.isArray(Ts)===!0&&Ts.indexOf(g)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=so("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var en=null;we(),Z();var Yr=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[g].objId,pageNumber:g,pageContext:ct[g]}},Ho=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in ct)if(ct[R].objId===g)break;return Yr(R)},Wo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ct[H].objId,pageNumber:H,pageContext:ct[H]}};p.addPage=function(){return qo.apply(this,arguments),this},p.setPage=function(){return el.apply(this,arguments),_e.call(this,Pe[H]),this},p.insertPage=function(g){return this.addPage(),this.movePage(H,g),this},p.movePage=function(g,R){var W,ee;if(g>R){W=Pe[g],ee=ct[g];for(var oe=g;oe>R;oe--)Pe[oe]=Pe[oe-1],ct[oe]=ct[oe-1];Pe[R]=W,ct[R]=ee,this.setPage(R)}else if(g<R){W=Pe[g],ee=ct[g];for(var Ae=g;Ae<R;Ae++)Pe[Ae]=Pe[Ae+1],ct[Ae]=ct[Ae+1];Pe[R]=W,ct[R]=ee,this.setPage(R)}return this},p.deletePage=function(){return Za.apply(this,arguments),this},p.__private__.text=p.text=function(g,R,W,ee,oe){var Ae,Ne,Be,We,at,gt,zt,Xt,kn,tn=(ee=ee||{}).scope||this;if(typeof g=="number"&&typeof R=="number"&&(typeof W=="string"||Array.isArray(W))){var Fn=W;W=R,R=g,g=Fn}if(arguments[3]instanceof st==0?(Be=arguments[4],We=arguments[5],on(zt=arguments[3])==="object"&&zt!==null||(typeof Be=="string"&&(We=Be,Be=null),typeof zt=="string"&&(We=zt,zt=null),typeof zt=="number"&&(Be=zt,zt=null),ee={flags:zt,angle:Be,align:We})):(b("The transform parameter of text() with a Matrix value"),kn=oe),isNaN(R)||isNaN(W)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return tn;var Pn,Mn="",dn=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Os,wr=tn.internal.scaleFactor;function fl(Jt){return Jt=Jt.split("	").join(Array(ee.TabLen||9).join(" ")),dr(Jt,zt)}function Ai(Jt){for(var un,Wn=Jt.concat(),ir=[],fo=Wn.length;fo--;)typeof(un=Wn.shift())=="string"?ir.push(un):Array.isArray(Jt)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?ir.push(un[0]):ir.push([un[0],un[1],un[2]]);return ir}function h(Jt,un){var Wn;if(typeof Jt=="string")Wn=un(Jt)[0];else if(Array.isArray(Jt)){for(var ir,fo,Pc=Jt.concat(),nu=[],bf=Pc.length;bf--;)typeof(ir=Pc.shift())=="string"?nu.push(un(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(fo=un(ir[0],ir[1],ir[2]),nu.push([fo[0],fo[1],fo[2]]));Wn=nu}return Wn}var _=!1,I=!0;if(typeof g=="string")_=!0;else if(Array.isArray(g)){var z=g.concat();Ne=[];for(var ae,de=z.length;de--;)(typeof(ae=z.shift())!="string"||Array.isArray(ae)&&typeof ae[0]!="string")&&(I=!1);_=I}if(_===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Oe=Re/tn.internal.scaleFactor,jt=Oe*(dn-1);switch(ee.baseline){case"bottom":W-=jt;break;case"top":W+=Oe-jt;break;case"hanging":W+=Oe-2*jt;break;case"middle":W+=Oe/2-jt}if((gt=ee.maxWidth||0)>0&&(typeof g=="string"?g=tn.splitTextToSize(g,gt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Jt,un){return Jt.concat(tn.splitTextToSize(un,gt))},[]))),Ae={text:g,x:R,y:W,options:ee,mutex:{pdfEscape:dr,activeFontKey:et,fonts:Ge,activeFontSize:Re}},Lt.publish("preProcessText",Ae),g=Ae.text,Be=(ee=Ae.options).angle,kn instanceof st==0&&Be&&typeof Be=="number"){Be*=Math.PI/180,ee.rotationDirection===0&&(Be=-Be),j===C&&(Be=-Be);var Cn=Math.cos(Be),Rt=Math.sin(Be);kn=new st(Cn,Rt,-Rt,Cn,0,0)}else Be&&Be instanceof st&&(kn=Be);j!==C||kn||(kn=Wi),(at=ee.charSpace||lo)!==void 0&&(Mn+=x(L(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=ee.horizontalScale)!==void 0&&(Mn+=x(100*Xt)+` Tz
`),ee.lang;var Ct=-1,pn=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Ei=tn.internal.getCurrentPageInfo().pageContext;switch(pn){case 0:case!1:case"fill":Ct=0;break;case 1:case!0:case"stroke":Ct=1;break;case 2:case"fillThenStroke":Ct=2;break;case 3:case"invisible":Ct=3;break;case 4:case"fillAndAddForClipping":Ct=4;break;case 5:case"strokeAndAddPathForClipping":Ct=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ct=6;break;case 7:case"addToPathForClipping":Ct=7}var Or=Ei.usedRenderingMode!==void 0?Ei.usedRenderingMode:-1;Ct!==-1?Mn+=Ct+` Tr
`:Or!==-1&&(Mn+=`0 Tr
`),Ct!==-1&&(Ei.usedRenderingMode=Ct),We=ee.align||"left";var br,cs=Re*dn,Ac=tn.internal.pageSize.getWidth(),Ec=Ge[et];at=ee.charSpace||lo,gt=ee.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Xo=[],dl=function(Jt){return tn.getStringUnitWidth(Jt,{font:Ec,charSpace:at,fontSize:Re,doKerning:!1})*Re/wr};if(Object.prototype.toString.call(g)==="[object Array]"){var xi;Ne=Ai(g),We!=="left"&&(br=Ne.map(dl));var Ii,Jo=0;if(We==="right"){R-=br[0],g=[],de=Ne.length;for(var ho=0;ho<de;ho++)ho===0?(Ii=pr(R),xi=as(W)):(Ii=L(Jo-br[ho]),xi=-cs),g.push([Ne[ho],Ii,xi]),Jo=br[ho]}else if(We==="center"){R-=br[0]/2,g=[],de=Ne.length;for(var Zo=0;Zo<de;Zo++)Zo===0?(Ii=pr(R),xi=as(W)):(Ii=L((Jo-br[Zo])/2),xi=-cs),g.push([Ne[Zo],Ii,xi]),Jo=br[Zo]}else if(We==="left"){g=[],de=Ne.length;for(var xc=0;xc<de;xc++)g.push(Ne[xc])}else if(We==="justify"&&Ec.encoding==="Identity-H"){g=[],de=Ne.length,gt=gt!==0?gt:Ac;for(var tu=0,Hn=0;Hn<de;Hn++)if(xi=Hn===0?as(W):-cs,Ii=Hn===0?pr(R):tu,Hn<de-1){var wf=L((gt-br[Hn])/(Ne[Hn].split(" ").length-1)),Us=Ne[Hn].split(" ");g.push([Us[0]+" ",Ii,xi]),tu=0;for(var Bs=1;Bs<Us.length;Bs++){var Ic=(dl(Us[Bs-1]+" "+Us[Bs])-dl(Us[Bs]))*wr+wf;Bs==Us.length-1?g.push([Us[Bs],Ic,0]):g.push([Us[Bs]+" ",Ic,0]),tu-=Ic}}else g.push([Ne[Hn],Ii,xi]);g.push(["",tu,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],de=Ne.length,gt=gt!==0?gt:Ac,Hn=0;Hn<de;Hn++){xi=Hn===0?as(W):-cs,Ii=Hn===0?pr(R):0;var Tc=Ne[Hn].split(" ").length-1,Nc=Tc>0?(gt-br[Hn])/Tc:0;Hn<de-1?Xo.push(x(L(Nc))):Xo.push(0),g.push([Ne[Hn],Ii,xi])}}}(typeof ee.R2L=="boolean"?ee.R2L:St)===!0&&(g=h(g,function(Jt,un,Wn){return[Jt.split("").reverse().join(""),un,Wn]})),Ae={text:g,x:R,y:W,options:ee,mutex:{pdfEscape:dr,activeFontKey:et,fonts:Ge,activeFontSize:Re}},Lt.publish("postProcessText",Ae),g=Ae.text,Pn=Ae.mutex.isHex||!1;var kc=Ge[et].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(g=h(g,function(Jt,un,Wn){return[fl(Jt),un,Wn]})),Ne=Ai(g),g=[];for(var ea,ta,na,pl=Array.isArray(Ne[0])?1:0,ra="",ml=function(Jt,un,Wn){var ir="";return Wn instanceof st?(Wn=typeof ee.angle=="number"?yn(Wn,new st(1,0,0,1,Jt,un)):yn(new st(1,0,0,1,Jt,un),Wn),j===C&&(Wn=yn(new st(1,0,0,-1,0,0),Wn)),ir=Wn.join(" ")+` Tm
`):ir=x(Jt)+" "+x(un)+` Td
`,ir},Qi=0;Qi<Ne.length;Qi++){switch(ra="",pl){case 1:na=(Pn?"<":"(")+Ne[Qi][0]+(Pn?">":")"),ea=parseFloat(Ne[Qi][1]),ta=parseFloat(Ne[Qi][2]);break;case 0:na=(Pn?"<":"(")+Ne[Qi]+(Pn?">":")"),ea=pr(R),ta=as(W)}Xo!==void 0&&Xo[Qi]!==void 0&&(ra=Xo[Qi]+` Tw
`),Qi===0?g.push(ra+ml(ea,ta,kn)+na):pl===0?g.push(ra+na):pl===1&&g.push(ra+ml(ea,ta,kn)+na)}g=pl===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var zs=`BT
/`;return zs+=et+" "+Re+` Tf
`,zs+=x(Re*dn)+` TL
`,zs+=Si+`
`,zs+=Mn,zs+=g,Q(zs+="ET"),v[et]=!0,tn};var Zl=p.__private__.clip=p.clip=function(g){return Q(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Zl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Q("n"),this};var Ot=p.__private__.isValidStyle=function(g){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ot(g)&&(u=g),this};var oo=p.__private__.getStyle=p.getStyle=function(g){var R=u;switch(g){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=g}return R},Ds=p.close=function(){return Q("h"),this};p.stroke=function(){return Q("S"),this},p.fill=function(g){return li("f",g),this},p.fillEvenOdd=function(g){return li("f*",g),this},p.fillStroke=function(g){return li("B",g),this},p.fillStrokeEvenOdd=function(g){return li("B*",g),this};var li=function(g,R){on(R)==="object"?vc(R,g):Q(g)},sl=function(g){g===null||j===C&&g===void 0||(g=oo(g),Q(g))};function eu(g,R,W,ee,oe){var Ae=new Tu(R||this.boundingBox,W||this.xStep,ee||this.yStep,this.gState,oe||this.matrix);Ae.stream=this.stream;var Ne=g+"$$"+this.cloneIndex+++"$$";return hr(Ne,Ae),Ae}var vc=function(g,R){var W=Pt[g.key],ee=ot[W];if(ee instanceof bl)Q("q"),Q(yc(R)),ee.gState&&p.setGState(ee.gState),Q(g.matrix.toString()+" cm"),Q("/"+W+" sh"),Q("Q");else if(ee instanceof Tu){var oe=new st(1,0,0,-1,0,Ki());g.matrix&&(oe=oe.multiply(g.matrix||Wi),W=eu.call(ee,g.key,g.boundingBox,g.xStep,g.yStep,oe).id),Q("q"),Q("/Pattern cs"),Q("/"+W+" scn"),ee.gState&&p.setGState(ee.gState),Q(R),Q("Q")}},yc=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ol=p.moveTo=function(g,R){return Q(x(L(g))+" "+x(J(R))+" m"),this},ao=p.lineTo=function(g,R){return Q(x(L(g))+" "+x(J(R))+" l"),this},ui=p.curveTo=function(g,R,W,ee,oe,Ae){return Q([x(L(g)),x(J(R)),x(L(W)),x(J(ee)),x(L(oe)),x(J(Ae)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,R,W,ee,oe){if(isNaN(g)||isNaN(R)||isNaN(W)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.line");return j===N?this.lines([[W-g,ee-R]],g,R,[1,1],oe||"S"):this.lines([[W-g,ee-R]],g,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,R,W,ee,oe,Ae){var Ne,Be,We,at,gt,zt,Xt,kn,tn,Fn,Pn,Mn;if(typeof g=="number"&&(Mn=W,W=R,R=g,g=Mn),ee=ee||[1,1],Ae=Ae||!1,isNaN(R)||isNaN(W)||!Array.isArray(g)||!Array.isArray(ee)||!Ot(oe)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ol(R,W),Ne=ee[0],Be=ee[1],at=g.length,Fn=R,Pn=W,We=0;We<at;We++)(gt=g[We]).length===2?(Fn=gt[0]*Ne+Fn,Pn=gt[1]*Be+Pn,ao(Fn,Pn)):(zt=gt[0]*Ne+Fn,Xt=gt[1]*Be+Pn,kn=gt[2]*Ne+Fn,tn=gt[3]*Be+Pn,Fn=gt[4]*Ne+Fn,Pn=gt[5]*Be+Pn,ui(zt,Xt,kn,tn,Fn,Pn));return Ae&&Ds(),sl(oe),this},p.path=function(g){for(var R=0;R<g.length;R++){var W=g[R],ee=W.c;switch(W.op){case"m":ol(ee[0],ee[1]);break;case"l":ao(ee[0],ee[1]);break;case"c":ui.apply(this,ee);break;case"h":Ds()}}return this},p.__private__.rect=p.rect=function(g,R,W,ee,oe){if(isNaN(g)||isNaN(R)||isNaN(W)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===N&&(ee=-ee),Q([x(L(g)),x(J(R)),x(L(W)),x(L(ee)),"re"].join(" ")),sl(oe),this},p.__private__.triangle=p.triangle=function(g,R,W,ee,oe,Ae,Ne){if(isNaN(g)||isNaN(R)||isNaN(W)||isNaN(ee)||isNaN(oe)||isNaN(Ae)||!Ot(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-g,ee-R],[oe-W,Ae-ee],[g-oe,R-Ae]],g,R,[1,1],Ne,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,R,W,ee,oe,Ae,Ne){if(isNaN(g)||isNaN(R)||isNaN(W)||isNaN(ee)||isNaN(oe)||isNaN(Ae)||!Ot(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*W),Ae=Math.min(Ae,.5*ee),this.lines([[W-2*oe,0],[oe*Be,0,oe,Ae-Ae*Be,oe,Ae],[0,ee-2*Ae],[0,Ae*Be,-oe*Be,Ae,-oe,Ae],[2*oe-W,0],[-oe*Be,0,-oe,-Ae*Be,-oe,-Ae],[0,2*Ae-ee],[0,-Ae*Be,oe*Be,-Ae,oe,-Ae]],g+oe,R,[1,1],Ne,!0),this},p.__private__.ellipse=p.ellipse=function(g,R,W,ee,oe){if(isNaN(g)||isNaN(R)||isNaN(W)||isNaN(ee)||!Ot(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*W,Ne=4/3*(Math.SQRT2-1)*ee;return ol(g+W,R),ui(g+W,R-Ne,g+Ae,R-ee,g,R-ee),ui(g-Ae,R-ee,g-W,R-Ne,g-W,R),ui(g-W,R+Ne,g-Ae,R+ee,g,R+ee),ui(g+Ae,R+ee,g+W,R+Ne,g+W,R),sl(oe),this},p.__private__.circle=p.circle=function(g,R,W,ee){if(isNaN(g)||isNaN(R)||isNaN(W)||!Ot(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,R,W,W,ee)},p.setFont=function(g,R,W){return W&&(R=V(R,W)),et=nl(g,R,{disableWarning:!1}),this};var $i=p.__private__.getFont=p.getFont=function(){return Ge[nl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,R,W={};for(g in mt)if(mt.hasOwnProperty(g))for(R in W[g]=[],mt[g])mt[g].hasOwnProperty(R)&&W[g].push(R);return W},p.addFont=function(g,R,W,ee,oe){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(W=V(W,ee)),zo.call(this,g,R,W,oe=oe||"Identity-H")};var Os,$o=t.lineWidth||.200025,ht=p.__private__.getLineWidth=p.getLineWidth=function(){return $o},Fs=p.__private__.setLineWidth=p.setLineWidth=function(g){return $o=g,Q(x(L(g))+" w"),this};p.__private__.setLineDash=Je.API.setLineDash=Je.API.setLineDashPattern=function(g,R){if(g=g||[],R=R||0,isNaN(R)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(W){return x(L(W))}).join(" "),R=x(L(R)),Q("["+g+"] "+R+" d"),this};var _c=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Os};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Os};var wc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Os=g),this},bc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Os};wc(t.lineHeight);var pr=p.__private__.getHorizontalCoordinate=function(g){return L(g)},as=p.__private__.getVerticalCoordinate=function(g){return j===C?g:ct[H].mediaBox.topRightY-ct[H].mediaBox.bottomLeftY-L(g)},Sc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return x(pr(g))},Go=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return x(as(g))},ls=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _i(ls)},p.__private__.setStrokeColor=p.setDrawColor=function(g,R,W,ee){return ls=Qr({ch1:g,ch2:R,ch3:W,ch4:ee,pdfColorType:"draw",precision:2}),Q(ls),this};var Ko=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _i(Ko)},p.__private__.setFillColor=p.setFillColor=function(g,R,W,ee){return Ko=Qr({ch1:g,ch2:R,ch3:W,ch4:ee,pdfColorType:"fill",precision:2}),Q(Ko),this};var Si=t.textColor||"0 g",Gi=p.__private__.getTextColor=p.getTextColor=function(){return _i(Si)};p.__private__.setTextColor=p.setTextColor=function(g,R,W,ee){return Si=Qr({ch1:g,ch2:R,ch3:W,ch4:ee,pdfColorType:"text",precision:3}),this};var lo=t.charSpace,al=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(lo||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lo=g,this};var ln=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var R=p.CapJoinStyles[g];if(R===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ln=R,Q(R+" J"),this};var ll=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var R=p.CapJoinStyles[g];if(R===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=R,Q(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(x(L(g))+" M"),this},p.GState=Lp,p.setGState=function(g){(g=typeof g=="string"?_t[An[g]]:uo(null,g)).equals(vn)||(Q("/"+g.id+" gs"),vn=g)};var uo=function(g,R){if(!g||!An[g]){var W=!1;for(var ee in _t)if(_t.hasOwnProperty(ee)&&_t[ee].equals(R)){W=!0;break}if(W)R=_t[ee];else{var oe="GS"+(Object.keys(_t).length+1).toString(10);_t[oe]=R,R.id=oe}return g&&(An[g]=R.id),Lt.publish("addGState",R),R}};p.addGState=function(g,R){return uo(g,R),this},p.saveGraphicsState=function(){return Q("q"),Zt.push({key:et,size:Re,color:Si}),this},p.restoreGraphicsState=function(){Q("Q");var g=Zt.pop();return et=g.key,Re=g.size,Si=g.color,vn=null,this},p.setCurrentTransformationMatrix=function(g){return Q(g.toString()+" cm"),this},p.comment=function(g){return Q("#"+g),this};var Ms=function(g,R){var W=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(Ae){isNaN(Ae)||(W=parseFloat(Ae))}});var ee=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Ae){isNaN(Ae)||(ee=parseFloat(Ae))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(Ae){oe=Ae.toString()}}),this},Qo=function(g,R,W,ee){Ms.call(this,g,R),this.type="rect";var oe=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ne){isNaN(Ne)||(oe=parseFloat(Ne))}});var Ae=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Ne){isNaN(Ne)||(Ae=parseFloat(Ne))}}),this},co=function(){this.page=Yt,this.currentPage=H,this.pages=Pe.slice(0),this.pagesContext=ct.slice(0),this.x=nt,this.y=Kt,this.matrix=Bt,this.width=ci(H),this.height=us(H),this.outputDestination=Ve,this.id="",this.objectNumber=-1};co.prototype.restore=function(){Yt=this.page,H=this.currentPage,ct=this.pagesContext,Pe=this.pages,nt=this.x,Kt=this.y,Bt=this.matrix,ul(H,this.width),Xr(H,this.height),Ve=this.outputDestination};var js=function(g,R,W,ee,oe){Lr.push(new co),Yt=H=0,Pe=[],nt=g,Kt=R,Bt=oe,bi([W,ee])};for(var Vs in p.beginFormObject=function(g,R,W,ee,oe){return js(g,R,W,ee,oe),this},p.endFormObject=function(g){return function(R){if(Hi[R])Lr.pop().restore();else{var W=new co,ee="Xo"+(Object.keys(zn).length+1).toString(10);W.id=ee,Hi[R]=ee,zn[ee]=W,Lt.publish("addFormObject",W),Lr.pop().restore()}}(g),this},p.doFormObject=function(g,R){var W=zn[Hi[g]];return Q("q"),Q(R.toString()+" cm"),Q("/"+W.id+" Do"),Q("Q"),this},p.getFormObject=function(g){var R=zn[Hi[g]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(g,R){return g=g||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(wl(Rs(os()),g),typeof wl.unload=="function"&&vt.setTimeout&&setTimeout(wl.unload,911),this):new Promise(function(W,ee){try{var oe=wl(Rs(os()),g);typeof wl.unload=="function"&&vt.setTimeout&&setTimeout(wl.unload,911),W(oe)}catch(Ae){ee(Ae.message)}})},Je.API)Je.API.hasOwnProperty(Vs)&&(Vs==="events"&&Je.API.events.length?function(g,R){var W,ee,oe;for(oe=R.length-1;oe!==-1;oe--)W=R[oe][0],ee=R[oe][1],g.subscribe.apply(g,[W].concat(typeof ee=="function"?[ee]:ee))}(Lt,Je.API.events):p[Vs]=Je.API[Vs]);function ci(g){return ct[g].mediaBox.topRightX-ct[g].mediaBox.bottomLeftX}function ul(g,R){ct[g].mediaBox.topRightX=R+ct[g].mediaBox.bottomLeftX}function us(g){return ct[g].mediaBox.topRightY-ct[g].mediaBox.bottomLeftY}function Xr(g,R){ct[g].mediaBox.topRightY=R+ct[g].mediaBox.bottomLeftY}var cl=p.getPageWidth=function(g){return ci(g=g||H)/lt},Yo=p.setPageWidth=function(g,R){ul(g,R*lt)},Ki=p.getPageHeight=function(g){return us(g=g||H)/lt},hl=p.setPageHeight=function(g,R){Xr(g,R*lt)};return p.internal={pdfEscape:dr,getStyle:oo,getFont:$i,getFontSize:je,getCharSpace:al,getTextColor:Gi,getLineHeight:_c,getLineHeightFactor:bc,getLineWidth:ht,write:kt,getHorizontalCoordinate:pr,getVerticalCoordinate:as,getCoordinateString:Sc,getVerticalCoordinateString:Go,collections:{},newObject:En,newAdditionalObject:no,newObjectDeferred:er,newObjectDeferredBegin:xn,getFilters:Dr,putStream:qn,events:Lt,scaleFactor:lt,pageSize:{getWidth:function(){return cl(H)},setWidth:function(g){Yo(H,g)},getHeight:function(){return Ki(H)},setHeight:function(g){hl(H,g)}},encryptionOptions:f,encryption:en,getEncryptor:function(g){return f!==null?en.encryptor(g,0):function(R){return R}},output:ai,getNumberOfPages:tl,pages:Pe,out:Q,f2:S,f3:k,getPageInfo:Yr,getPageInfoByObjId:Ho,getCurrentPageInfo:Wo,getPDFVersion:T,Point:Ms,Rectangle:Qo,Matrix:st,hasHotfix:so},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return cl(H)},set:function(g){Yo(H,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ki(H)},set:function(g){hl(H,g)},enumerable:!0,configurable:!0}),(function(g){for(var R=0,W=it.length;R<W;R++){var ee=zo.call(this,g[R][0],g[R][1],g[R][2],it[R][3],!0);m===!1&&(v[ee]=!0);var oe=g[R][0].split("-");Ja({id:ee,fontName:oe[0],fontStyle:oe[1]||""})}Lt.publish("addFonts",{fonts:Ge,dictionary:mt})}).call(p,it),et="F1",qo(i,n),Lt.publish("initialized"),p}hu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},hu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},hu.prototype.processOwnerPassword=function(t,e){return m1(p1(e).substr(0,5),t)},hu.prototype.encryptor=function(t,e){var n=p1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return m1(n,r)}},Lp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||on(t)!==on(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Je.API={events:[]},Je.version="3.0.3";var Un=Je.API,wv=1,Xl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(t){return t.toFixed(2)},da=function(t){return t.toFixed(5)};Un.__acroform__={};var yi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},kw=function(t){return t*wv},Ws=function(t){var e=new uE,n=He.internal.getHeight(t)||0,r=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Et(r)),Number(Et(n))],e},sD=Un.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},oD=Un.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},aD=Un.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yn=Un.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aD(t,e-1)},Xn=Un.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sD(t,e-1)},Jn=Un.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oD(t,e-1)},lD=Un.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},uD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=g1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ws(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},g1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=n,o=He.internal.getHeight(t)||0;o=o<0?-o:o;var a=He.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(S,k,L){if(S+1<i.length){var J=k+" "+i[S+1][0];return fd(J,t,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=fd("3",t,s).height,v=t.multiline?o-s:(o-m)/2,p=v+=2,E=0,T=0,D=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+fd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",N=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var j=!1;if(i[C].length!==1&&D!==i[C].length-1){if((m+2)*(N+2)+2>o)continue e;w+=i[C][D],j=!0,T=C,C--}else{w=(w+=i[C][D]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var X=parseInt(C),re=l(X,w,s),V=C>=i.length-1;if(re&&!V){w+=" ",D=0;continue}if(re||V){if(V)T=X;else if(t.multiline&&(m+2)*(N+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(N+2)+2>o)continue e;T=X}}for(var x="",b=E;b<=T;b++){var P=i[b];if(t.multiline){if(b===T){x+=P[D]+" ",D=(D+1)%P.length;continue}if(b===E){x+=P[P.length-1]+" ";continue}}x+=P[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,f=fd(x,t,s).width,t.textAlign){case"right":u=a-f-2;break;case"center":u=(a-f)/2;break;default:u=2}e+=Et(u)+" "+Et(p)+` Td
`,e+="("+Xl(x)+`) Tj
`,e+=-Et(u)+` 0 Td
`,p=-(s+2),f=0,E=j?T:T+1,N++,w=""}break}return r.text=e,r.fontSize=s,r},fd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},cD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hD=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},fD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(cD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&hD(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=lD(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=He.createDefaultAppearanceStream(a),on(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=uD(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var m="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var E=p[o];typeof E=="function"&&(E=E.call(i,a)),m+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=p)=="function"&&(E=E.call(i,a)),m+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(T,D){for(var w in T)if(T.hasOwnProperty(w)){var N=w,C=T[w];D.internal.newObjectDeferredBegin(C.objId,!0),on(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete T[N]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},lE=Un.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),on(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Xl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Xl(r(t))+")"},Ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ks.prototype.toString=function(){return this.objId+" 0 R"},Ks.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ks.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:lE(i,this.objId,this.scope)}):i instanceof Ks?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var uE=function(){Ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};yi(uE,Ks);var cE=function(){Ks.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xl(n(t))+")"}},set:function(n){t=n}})};yi(cE,Ks);var xs=function t(){Ks.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(w){w?this.F=Xn(e,3):this.F=Jn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Rp)return;s="FieldObject"+t.FieldNum++}var w=function(N){return N};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Xl(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/wv:u},set:function(w){u=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Rp||this instanceof kl))return Fg(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof vr==0?Fg(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof vr==0?w.substr(0,1)==="("?ou(w.substr(1,w.length-2)):ou(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?ou(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof vr==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof vr==0?Fg(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof vr==0?w.substr(0,1)==="("?ou(w.substr(1,w.length-2)):ou(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?ou(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof vr==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(w){w=!!w,T=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(w){E=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(w){w?this.Ff=Xn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(w){w?this.Ff=Xn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(w){w?this.Ff=Xn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');D=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(D){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:D=2;break;case"center":case 1:D=1;break;default:D=0}}})};yi(xs,Ks);var Vu=function(){xs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lE(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Xn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Xn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Xn(this.Ff,20),e.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Xn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Xn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};yi(Vu,xs);var Uu=function(){Vu.call(this),this.fontName="helvetica",this.combo=!1};yi(Uu,Vu);var Bu=function(){Uu.call(this),this.combo=!0};yi(Bu,Uu);var jd=function(){Bu.call(this),this.edit=!0};yi(jd,Bu);var vr=function(){xs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Xn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Xn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Xn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){on(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};yi(vr,xs);var Vd=function(){vr.call(this),this.pushButton=!0};yi(Vd,vr);var zu=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};yi(zu,vr);var Rp=function(){var t,e;xs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Xl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){on(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yi(Rp,xs),zu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zu.prototype.createOption=function(t){var e=new Rp;return e.Parent=this,e.optionName=t,this.Kids.push(e),dD.call(this.scope,e),e};var Ud=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};yi(Ud,vr);var kl=function(){xs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Xn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Xn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Xn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Xn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yi(kl,xs);var Bd=function(){kl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Xn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};yi(Bd,kl);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=g1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Et(He.internal.getWidth(t))+" "+Et(He.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Et(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=He.internal.getHeight(t),o=He.internal.getWidth(t),a=g1(t,t.caption);return i.push("1 g"),i.push("0 0 "+Et(o)+" "+Et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(o-1)+" "+Et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Et(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(He.internal.getWidth(t))+" "+Et(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=He.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+da(He.internal.getWidth(t)/2)+" "+da(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5)),o=Number((r*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+da(He.internal.getWidth(t)/2)+" "+da(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+da(He.internal.getWidth(t)/2)+" "+da(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+da(He.internal.getWidth(t)/2)+" "+da(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=He.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Et(He.internal.getWidth(t)-2)+" "+Et(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),n.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),n.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),n.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=He.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(He.internal.getWidth(t))+" "+Et(He.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Et(He.internal.getWidth(t)-2)+" "+Et(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),r.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),r.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),r.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(He.internal.getWidth(t))+" "+Et(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),n=He.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},He.internal.getWidth=function(t){var e=0;return on(t)==="object"&&(e=kw(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return on(t)==="object"&&(e=kw(t.Rect[3])),e};var dD=Un.addField=function(t){if(fD(this,t),!(t instanceof xs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Un.AcroFormChoiceField=Vu,Un.AcroFormListBox=Uu,Un.AcroFormComboBox=Bu,Un.AcroFormEditBox=jd,Un.AcroFormButton=vr,Un.AcroFormPushButton=Vd,Un.AcroFormRadioButton=zu,Un.AcroFormCheckBox=Ud,Un.AcroFormTextField=kl,Un.AcroFormPasswordField=Bd,Un.AcroFormAppearance=He,Un.AcroForm={ChoiceField:Vu,ListBox:Uu,ComboBox:Bu,EditBox:jd,Button:vr,PushButton:Vd,RadioButton:zu,CheckBox:Ud,TextField:kl,PasswordField:Bd,Appearance:He},Je.AcroForm={ChoiceField:Vu,ListBox:Uu,ComboBox:Bu,EditBox:jd,Button:vr,PushButton:Vd,RadioButton:zu,CheckBox:Ud,TextField:kl,PasswordField:Bd,Appearance:He};Je.AcroForm;function hE(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,k){var L,J,pe,ye,ge,Z=n;if((k=k||n)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(re(S))for(ge in r)for(pe=r[ge],L=0;L<pe.length;L+=1){for(ye=!0,J=0;J<pe[L].length;J+=1)if(pe[L][J]!==void 0&&pe[L][J]!==S[J]){ye=!1;break}if(ye===!0){Z=ge;break}}else for(ge in r)for(pe=r[ge],L=0;L<pe.length;L+=1){for(ye=!0,J=0;J<pe[L].length;J+=1)if(pe[L][J]!==void 0&&pe[L][J]!==S.charCodeAt(J)){ye=!1;break}if(ye===!0){Z=ge;break}}return Z===n&&k!==n&&(Z=k),Z},s=function S(k){for(var L=this.internal.write,J=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:k.width}),ye.push({key:"Height",value:k.height}),k.colorSpace===w.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===w.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var ge="",Z=0,le=k.transparency.length;Z<le;Z++)ge+=k.transparency[Z]+" "+k.transparency[Z]+" ";ye.push({key:"Mask",value:"["+ge+"]"})}k.sMask!==void 0&&ye.push({key:"SMask",value:k.objectId+1+" 0 R"});var be=k.filter!==void 0?["/"+k.filter]:void 0;if(J({data:k.data,additionalKeyValues:ye,alreadyAppliedFilters:be,objectId:k.objectId}),L("endobj"),"sMask"in k&&k.sMask!==void 0){var we,F=(we=k.sMaskBitsPerComponent)!==null&&we!==void 0?we:k.bitsPerComponent,H={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:k.sMask};"filter"in k&&(H.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(k.width),H.filter=k.filter),S.call(this,H)}if(k.colorSpace===w.INDEXED){var Y=this.internal.newObject();J({data:x(new Uint8Array(k.palette)),objectId:Y}),L("endobj")}},o=function(){var S=this.internal.collections[e+"images"];for(var k in S)s.call(this,S[k])},a=function(){var S,k=this.internal.collections[e+"images"],L=this.internal.write;for(var J in k)L("/I"+(S=k[J]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(S){return typeof t["process"+S.toUpperCase()]=="function"},v=function(S){return on(S)==="object"&&S.nodeType===1},p=function(S,k){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var L=""+S.getAttribute("src");if(L.indexOf("data:image/")===0)return Md(unescape(L).split("base64,").pop());var J=t.loadFile(L,!0);if(J!==void 0)return J}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var pe;switch(k){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Md(S.toDataURL(pe,1).split("base64,").pop())}},E=function(S){var k=this.internal.collections[e+"images"];if(k){for(var L in k)if(S===k[L].alias)return k[L]}},T=function(S,k,L){return S||k||(S=-96,k=-96),S<0&&(S=-1*L.width*72/S/this.internal.scaleFactor),k<0&&(k=-1*L.height*72/k/this.internal.scaleFactor),S===0&&(S=k*L.width/L.height),k===0&&(k=S*L.height/L.width),[S,k]},D=function(S,k,L,J,pe,ye){var ge=T.call(this,L,J,pe),Z=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,be=u.call(this);if(L=ge[0],J=ge[1],be[pe.index]=pe,ye){ye*=Math.PI/180;var we=Math.cos(ye),F=Math.sin(ye),H=function(te){return te.toFixed(4)},Y=[H(we),H(F),H(-1*F),H(we),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,Z(S),le(k+J),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([Z(L),"0","0",Z(J),"0","0","cm"].join(" "))):this.internal.write([Z(L),"0","0",Z(J),Z(S),le(k+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(S){var k,L,J=0;if(typeof S=="string")for(L=S.length,k=0;k<L;k++)J=(J<<5)-J+S.charCodeAt(k),J|=0;else if(re(S))for(L=S.byteLength/2,k=0;k<L;k++)J=(J<<5)-J+S[k],J|=0;return J},j=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var k=!0;return S.length===0&&(k=!1),S.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(k=!1),k},X=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var k=S.indexOf(",");return k<0?null:S.substring(0,k).trim().endsWith("base64")?S.substring(k+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var re=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(S){for(var k=S.length,L=new Uint8Array(k),J=0;J<k;J++)L[J]=S.charCodeAt(J);return L},x=t.__addimage__.arrayBufferToBinaryString=function(S){for(var k="",L=re(S)?S:new Uint8Array(S),J=0;J<L.length;J+=8192)k+=String.fromCharCode.apply(null,L.subarray(J,J+8192));return k};t.addImage=function(){var S,k,L,J,pe,ye,ge,Z,le;if(typeof arguments[1]=="number"?(k=n,L=arguments[1],J=arguments[2],pe=arguments[3],ye=arguments[4],ge=arguments[5],Z=arguments[6],le=arguments[7]):(k=arguments[1],L=arguments[2],J=arguments[3],pe=arguments[4],ye=arguments[5],ge=arguments[6],Z=arguments[7],le=arguments[8]),on(S=arguments[0])==="object"&&!v(S)&&"imageData"in S){var be=S;S=be.imageData,k=be.format||k||n,L=be.x||L||0,J=be.y||J||0,pe=be.w||be.width||pe,ye=be.h||be.height||ye,ge=be.alias||ge,Z=be.compression||Z,le=be.rotation||be.angle||le}var we=this.internal.getFilters();if(Z===void 0&&we.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(L)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=b.call(this,S,k,ge,Z);return D.call(this,L,J,pe,ye,F,le),this};var b=function(S,k,L,J){var pe,ye,ge;if(typeof S=="string"&&i(S)===n){S=unescape(S);var Z=P(S,!1);(Z!==""||(Z=t.loadFile(S,!0))!==void 0)&&(S=Z)}if(v(S)&&(S=p(S,k)),k=i(S,k),!m(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ge=L)==null||ge.length===0)&&(L=function(le){return typeof le=="string"||re(le)?C(le):re(le.data)?C(le.data):null}(S)),(pe=E.call(this,L))||(S instanceof Uint8Array||k==="RGBA"||(ye=S,S=V(S)),pe=this["process"+k.toUpperCase()](S,f.call(this),L,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:N.NONE}(J),ye)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},P=t.__addimage__.convertBase64ToBinaryString=function(S,k){k=typeof k!="boolean"||k;var L,J="";if(typeof S=="string"){var pe;L=(pe=X(S))!==null&&pe!==void 0?pe:S;try{J=Md(L)}catch(ye){if(k)throw j(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(S){var k,L,J="";if(v(S)&&(S=p(S)),typeof S=="string"&&i(S)===n&&((J=P(S,!1))===""&&(J=t.loadFile(S)||""),S=J),L=i(S),!m(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(S instanceof Uint8Array||(S=V(S)),!(k=this["process"+L.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=L,k}})(Je.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Je.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(T.objId),N=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+D.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(N))+") >>",T.content=s;var C=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(s+=" /Open true"),s+=" >>",D.content=s,this.internal.write(T.objId,"0 R",D.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var re=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(u*f)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Je.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},a=t.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(T){var D=0,w=n,N="",C=0;for(D=0;D<T.length;D+=1)w[T.charCodeAt(D)]!==void 0?(C++,typeof(w=w[T.charCodeAt(D)])=="number"&&(N+=String.fromCharCode(w),w=n,C=0),D===T.length-1&&(w=n,N+=T.charAt(D-(C-1)),D-=C-1,C=0)):(w=n,N+=T.charAt(D-C),D-=C,C=0);return N};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(T,D,w){return o(T)?s(T)===!1?-1:!u(T)||!o(D)&&!o(w)||!o(w)&&a(D)||a(T)&&!o(D)||a(T)&&l(D)||a(T)&&a(D)?0:f(T)&&o(D)&&!a(D)&&o(w)&&u(w)?3:a(T)||!o(w)?1:2:-1},p=function(T){var D=0,w=0,N=0,C="",j="",X="",re=(T=T||"").split("\\s+"),V=[];for(D=0;D<re.length;D+=1){for(V.push(""),w=0;w<re[D].length;w+=1)C=re[D][w],j=re[D][w-1],X=re[D][w+1],o(C)?(N=v(C,j,X),V[D]+=N!==-1?String.fromCharCode(e[C.charCodeAt(0)][N]):C):V[D]+=C;V[D]=m(V[D])}return V.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var T,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(D)){var N=0;for(w=[],N=0;N<D.length;N+=1)Array.isArray(D[N])?w.push([p(D[N][0]),D[N][1],D[N][2]]):w.push([p(D[N])]);T=w}else T=p(D);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",E])}(Je.API),Je.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Je.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(T){l=T}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(T){u=T}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(T){m=T}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(T){v=T}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(T){E=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,E=0,T=0,D=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,j){return C.concat(D.splitTextToSize(j,w))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)p<(T=this.getStringUnitWidth(l[N],{font:m})*f)&&(p=T);return p!==0&&(E=l.length),{w:p/=v,h:Math.max((E*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,m,v){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,E,T,D,w=[],N=[],C=[],j={},X={},re=[],V=[],x=(v=v||{}).autoSize||!1,b=v.printHeaders!==!1,P=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,S=v.margins||Object.assign({width:this.getPageWidth()},e),k=typeof v.padding=="number"?v.padding:3,L=v.headerBackgroundColor||"#c8c8c8",J=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=J,this.setFontSize(P),m==null)N=w=Object.keys(f[0]),C=w.map(function(){return"left"});else if(Array.isArray(m)&&on(m[0])==="object")for(w=m.map(function(be){return be.name}),N=m.map(function(be){return be.prompt||be.name||""}),C=m.map(function(be){return be.align||"left"}),p=0;p<m.length;p+=1)X[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=w=m,C=w.map(function(){return"left"}));if(x||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(j[D=w[p]]=f.map(function(be){return be[D]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=j[D],this.setFont(void 0,"normal"),T=0;T<E.length;T+=1)re.push(this.getTextDimensions(E[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[D]=Math.max.apply(null,re)+k+k,re=[]}if(b){var pe={};for(p=0;p<w.length;p+=1)pe[w[p]]={},pe[w[p]].text=N[p],pe[w[p]].align=C[p];var ye=a.call(this,pe,X);V=w.map(function(be){return new s(l,u,X[be],ye,pe[be].text,void 0,pe[be].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ge=m.reduce(function(be,we){return be[we.name]=we.align,be},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var Z=a.call(this,f[p],X);for(T=0;T<w.length;T+=1){var le=f[p][w[T]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:T,data:le},this),o.call(this,new s(l,u,X[w[T]],Z,le,p+2,ge[w[T]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var E=l[p];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+f+f},this).reduce(function(p,E){return Math.max(p,E)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=l;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(E)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(Je.API);var fE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],v1=hE(dE),pE=[100,200,300,400,500,600,700,800,900],pD=hE(pE);function Mg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return fE[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof v1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Pw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var mD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Rw(t){return t.trimLeft()}function gD(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function vD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var dd,Dw,Ow,au,pd,Fw,Mw,jw,jg=["times"];function Vw(t,e,n,r,i){var s=4,o=Bw;switch(i){case Je.API.image_compression.FAST:s=1,o=Uw;break;case Je.API.image_compression.MEDIUM:s=6,o=zw;break;case Je.API.image_compression.SLOW:s=9,o=qw}t=function(l,u,f,m){for(var v,p=l.length/u,E=new Uint8Array(l.length+p),T=[yD,Uw,Bw,zw,qw],D=0;D<p;D+=1){var w=D*u,N=l.subarray(w,w+u);if(m)E.set(m(N,f,v),w+D);else{for(var C=T.length,j=[],X=0;X<C;X+=1)j[X]=T[X](N,f,v);var re=wD(j.concat());E.set(j[re],w+D)}v=N}return E}(t,e,Math.ceil(n*r/8),o);var a=c1(t,{level:s});return Je.API.__addimage__.arrayBufferToBinaryString(a)}function yD(t){var e=Array.apply([],t);return e.unshift(0),e}function Uw(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function Bw(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function zw(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function qw(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=_D(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function _D(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function wD(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Vg(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return mE(t,i)>>s&o}function Hw(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var v=m>>8&255;u.setUint8(f,v)}})(t,s,mE(t,s)&~(a<<o)&65535|l)}function mE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function bD(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,f=[],m=0,v=null,p=0,E=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],1&T||(v=null),p=T>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var D=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,j=t[e++],X=j>>6&1,re=1<<1+(7&j),V=a,x=l,b=!1;j>>7&&(b=!0,V=e,x=re,e+=3*re);var P=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}f.push({x:D,y:w,width:N,height:C,has_local_palette:b,palette_offset:V,palette_size:x,data_offset:P,data_length:e-P,transparent_index:v,interlaced:!!X,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return E},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,L){var J=this.frameInfo(k),pe=J.width*J.height,ye=new Uint8Array(pe);Ww(t,J.data_offset,ye,pe);var ge=J.palette_offset,Z=J.transparent_index;Z===null&&(Z=256);var le=J.width,be=n-le,we=le,F=4*(J.y*n+J.x),H=4*((J.y+J.height)*n+J.x),Y=F,te=4*be;J.interlaced===!0&&(te+=4*n*7);for(var se=8,ce=0,ve=ye.length;ce<ve;++ce){var me=ye[ce];if(we===0&&(we=le,(Y+=te)>=H&&(te=4*be+4*n*(se-1),Y=F+(le+be)*(se<<1),se>>=1)),me===Z)Y+=4;else{var xe=t[ge+3*me],Pe=t[ge+3*me+1],Me=t[ge+3*me+2];L[Y++]=Me,L[Y++]=Pe,L[Y++]=xe,L[Y++]=255}--we}},this.decodeAndBlitFrameRGBA=function(k,L){var J=this.frameInfo(k),pe=J.width*J.height,ye=new Uint8Array(pe);Ww(t,J.data_offset,ye,pe);var ge=J.palette_offset,Z=J.transparent_index;Z===null&&(Z=256);var le=J.width,be=n-le,we=le,F=4*(J.y*n+J.x),H=4*((J.y+J.height)*n+J.x),Y=F,te=4*be;J.interlaced===!0&&(te+=4*n*7);for(var se=8,ce=0,ve=ye.length;ce<ve;++ce){var me=ye[ce];if(we===0&&(we=le,(Y+=te)>=H&&(te=4*be+4*n*(se-1),Y=F+(le+be)*(se<<1),se>>=1)),me===Z)Y+=4;else{var xe=t[ge+3*me],Pe=t[ge+3*me+1],Me=t[ge+3*me+2];L[Y++]=xe,L[Y++]=Pe,L[Y++]=Me,L[Y++]=255}--we}}}function Ww(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,f=0,m=0,v=0,p=t[e++],E=new Int32Array(4096),T=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var D=m&u;if(m>>=l,f-=l,D!==s){if(D===o)break;for(var w=D<a?D:T,N=0,C=w;C>s;)C=E[C]>>8,++N;var j=C;if(v+N+(w!==D?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[v++]=j;var X=v+=N;for(w!==D&&(n[v++]=j),C=w;N--;)C=E[C],n[--X]=255&C,C>>=8;T!==null&&a<4096&&(E[a++]=T<<8|j,a>=u+1&&l<12&&(++l,u=u<<1|1)),T=D}else a=o+1,u=(1<<(l=i+1))-1,T=null}return v!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ug(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),E=new Array(64),T=[],D=0,w=7,N=new Array(64),C=new Array(64),j=new Array(64),X=new Array(256),re=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(F,H){for(var Y=0,te=0,se=new Array,ce=1;ce<=16;ce++){for(var ve=1;ve<=F[ce];ve++)se[H[te]]=[],se[H[te]][0]=Y,se[H[te]][1]=ce,te++,Y++;Y*=2}return se}function ge(F){for(var H=F[0],Y=F[1]-1;Y>=0;)H&1<<Y&&(D|=1<<w),Y--,--w<0&&(D==255?(Z(255),Z(0)):Z(D),w=7,D=0)}function Z(F){T.push(F)}function le(F){Z(F>>8&255),Z(255&F)}function be(F,H,Y,te,se){for(var ce,ve=se[0],me=se[240],xe=function(Re,Ye){var je,St,Ze,Mt,yt,Xe,At,pt,et,lt,nt=0;for(et=0;et<8;++et){je=Re[nt],St=Re[nt+1],Ze=Re[nt+2],Mt=Re[nt+3],yt=Re[nt+4],Xe=Re[nt+5],At=Re[nt+6];var Kt=je+(pt=Re[nt+7]),Bt=je-pt,Ge=St+At,mt=St-At,Zt=Ze+Xe,ot=Ze-Xe,Pt=Mt+yt,_t=Mt-yt,An=Kt+Pt,vn=Kt-Pt,Yt=Ge+Zt,ct=Ge-Zt;Re[nt]=An+Yt,Re[nt+4]=An-Yt;var Lt=.707106781*(ct+vn);Re[nt+2]=vn+Lt,Re[nt+6]=vn-Lt;var Ts=.382683433*((An=_t+ot)-(ct=mt+Bt)),zn=.5411961*An+Ts,Hi=1.306562965*ct+Ts,Lr=.707106781*(Yt=ot+mt),st=Bt+Lr,yn=Bt-Lr;Re[nt+5]=yn+zn,Re[nt+3]=yn-zn,Re[nt+1]=st+Hi,Re[nt+7]=st-Hi,nt+=8}for(nt=0,et=0;et<8;++et){je=Re[nt],St=Re[nt+8],Ze=Re[nt+16],Mt=Re[nt+24],yt=Re[nt+32],Xe=Re[nt+40],At=Re[nt+48];var Wi=je+(pt=Re[nt+56]),hr=je-pt,fr=St+At,En=St-At,er=Ze+Xe,xn=Ze-Xe,no=Mt+yt,Ns=Mt-yt,Rr=Wi+no,_i=Wi-no,Qr=fr+er,Dr=fr-er;Re[nt]=Rr+Qr,Re[nt+32]=Rr-Qr;var qn=.707106781*(Dr+_i);Re[nt+16]=_i+qn,Re[nt+48]=_i-qn;var ks=.382683433*((Rr=Ns+xn)-(Dr=En+hr)),wi=.5411961*Rr+ks,ss=1.306562965*Dr+ks,Ps=.707106781*(Qr=xn+En),ro=hr+Ps,io=hr-Ps;Re[nt+40]=io+wi,Re[nt+24]=io-wi,Re[nt+8]=ro+ss,Re[nt+56]=ro-ss,nt++}for(et=0;et<64;++et)lt=Re[et]*Ye[et],p[et]=lt>0?lt+.5|0:lt-.5|0;return p}(F,H),Pe=0;Pe<64;++Pe)E[V[Pe]]=xe[Pe];var Me=E[0]-Y;Y=E[0],Me==0?ge(te[0]):(ge(te[v[ce=32767+Me]]),ge(m[ce]));for(var Ve=63;Ve>0&&E[Ve]==0;)Ve--;if(Ve==0)return ge(ve),Y;for(var _e,Q=1;Q<=Ve;){for(var kt=Q;E[Q]==0&&Q<=Ve;)++Q;var bt=Q-kt;if(bt>=16){_e=bt>>4;for(var it=1;it<=_e;++it)ge(me);bt&=15}ce=32767+E[Q],ge(se[(bt<<4)+v[ce]]),ge(m[ce]),Q++}return Ve!=63&&ge(ve),Y}function we(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(H){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var se=o((Y[te]*H+50)/100);se=Math.min(Math.max(se,1),255),a[V[te]]=se}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var me=o((ce[ve]*H+50)/100);me=Math.min(Math.max(me,1),255),l[V[ve]]=me}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var Ve=0;Ve<8;Ve++)u[Pe]=1/(a[V[Pe]]*xe[Me]*xe[Ve]*8),f[Pe]=1/(l[V[Pe]]*xe[Me]*xe[Ve]*8),Pe++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,H){H&&we(H),T=new Array,D=0,w=7,le(65496),le(65504),le(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),le(1),le(1),Z(0),Z(0),function(){le(65499),le(132),Z(0);for(var St=0;St<64;St++)Z(a[St]);Z(1);for(var Ze=0;Ze<64;Ze++)Z(l[Ze])}(),function(St,Ze){le(65472),le(17),Z(8),le(Ze),le(St),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(F.width,F.height),function(){le(65476),le(418),Z(0);for(var St=0;St<16;St++)Z(x[St+1]);for(var Ze=0;Ze<=11;Ze++)Z(b[Ze]);Z(16);for(var Mt=0;Mt<16;Mt++)Z(P[Mt+1]);for(var yt=0;yt<=161;yt++)Z(S[yt]);Z(1);for(var Xe=0;Xe<16;Xe++)Z(k[Xe+1]);for(var At=0;At<=11;At++)Z(L[At]);Z(17);for(var pt=0;pt<16;pt++)Z(J[pt+1]);for(var et=0;et<=161;et++)Z(pe[et])}(),le(65498),le(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var Y=0,te=0,se=0;D=0,w=7,this.encode.displayName="_encode_";for(var ce,ve,me,xe,Pe,Me,Ve,_e,Q,kt=F.data,bt=F.width,it=F.height,Re=4*bt,Ye=0;Ye<it;){for(ce=0;ce<Re;){for(Pe=Re*Ye+ce,Ve=-1,_e=0,Q=0;Q<64;Q++)Me=Pe+(_e=Q>>3)*Re+(Ve=4*(7&Q)),Ye+_e>=it&&(Me-=Re*(Ye+1+_e-it)),ce+Ve>=Re&&(Me-=ce+Ve-Re+4),ve=kt[Me++],me=kt[Me++],xe=kt[Me++],N[Q]=(re[ve]+re[me+256|0]+re[xe+512|0]>>16)-128,C[Q]=(re[ve+768|0]+re[me+1024|0]+re[xe+1280|0]>>16)-128,j[Q]=(re[ve+1280|0]+re[me+1536|0]+re[xe+1792|0]>>16)-128;Y=be(N,u,Y,e,r),te=be(C,f,te,n,i),se=be(j,f,se,n,i),ce+=32}Ye+=8}if(w>=0){var je=[];je[1]=w+1,je[0]=(1<<w+1)-1,ge(je)}return le(65497),new Uint8Array(T)},t=t||50,function(){for(var F=String.fromCharCode,H=0;H<256;H++)X[H]=F(H)}(),e=ye(x,b),n=ye(k,L),r=ye(P,S),i=ye(J,pe),function(){for(var F=1,H=2,Y=1;Y<=15;Y++){for(var te=F;te<H;te++)v[32767+te]=Y,m[32767+te]=[],m[32767+te][1]=Y,m[32767+te][0]=te;for(var se=-(H-1);se<=-F;se++)v[32767+se]=Y,m[32767+se]=[],m[32767+se][1]=Y,m[32767+se][0]=H-1+se;F<<=1,H<<=1}}(),function(){for(var F=0;F<256;F++)re[F]=19595*F,re[F+256|0]=38470*F,re[F+512|0]=7471*F+32768,re[F+768|0]=-11059*F,re[F+1024|0]=-21709*F,re[F+1280|0]=32768*F+8421375,re[F+1536|0]=-27439*F,re[F+1792|0]=-5329*F}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ms(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $w(t){function e(b){if(!b)throw Error("assert :P")}function n(b,P,S){for(var k=0;4>k;k++)if(b[P+k]!=S.charCodeAt(k))return!0;return!1}function r(b,P,S,k,L){for(var J=0;J<L;J++)b[P+J]=S[k+J]}function i(b,P,S,k){for(var L=0;L<k;L++)b[P+L]=S}function s(b){return new Int32Array(b)}function o(b,P){for(var S=[],k=0;k<b;k++)S.push(new P);return S}function a(b,P){var S=[];return function k(L,J,pe){for(var ye=pe[J],ge=0;ge<ye&&(L.push(pe.length>J+1?[]:new P),!(pe.length<J+1));ge++)k(L[ge],J+1,pe)}(S,0,b),S}var l=function(){var b=this;function P(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function S(c,d,y,A,O){e(!(A%y));do c[d+(A-=y)]=O;while(0<A)}function k(c,d,y,A,O){if(e(2328>=O),512>=O)var M=s(512);else if((M=s(O))==null)return 0;return function(U,B,q,$,ne,fe){var G,ie,ue=B,Se=1<<q,he=s(16),Ee=s(16);for(e(ne!=0),e($!=null),e(U!=null),e(0<q),ie=0;ie<ne;++ie){if(15<$[ie])return 0;++he[$[ie]]}if(he[0]==ne)return 0;for(Ee[1]=0,G=1;15>G;++G){if(he[G]>1<<G)return 0;Ee[G+1]=Ee[G]+he[G]}for(ie=0;ie<ne;++ie)G=$[ie],0<$[ie]&&(fe[Ee[G]++]=ie);if(Ee[15]==1)return($=new L).g=0,$.value=fe[0],S(U,ue,1,Se,$),Se;var Ie,Le=-1,ke=Se-1,tt=0,qe=1,It=1,Ke=1<<q;for(ie=0,G=1,ne=2;G<=q;++G,ne<<=1){if(qe+=It<<=1,0>(It-=he[G]))return 0;for(;0<he[G];--he[G])($=new L).g=G,$.value=fe[ie++],S(U,ue+tt,ne,Ke,$),tt=P(tt,G)}for(G=q+1,ne=2;15>=G;++G,ne<<=1){if(qe+=It<<=1,0>(It-=he[G]))return 0;for(;0<he[G];--he[G]){if($=new L,(tt&ke)!=Le){for(ue+=Ke,Ie=1<<(Le=G)-q;15>Le&&!(0>=(Ie-=he[Le]));)++Le,Ie<<=1;Se+=Ke=1<<(Ie=Le-q),U[B+(Le=tt&ke)].g=Ie+q,U[B+Le].value=ue-B-Le}$.g=G-q,$.value=fe[ie++],S(U,ue+(tt>>q),ne,Ke,$),tt=P(tt,G)}}return qe!=2*Ee[15]-1?0:Se}(c,d,y,A,O,M)}function L(){this.value=this.g=0}function J(){this.value=this.g=0}function pe(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(dl,J)}function ye(c,d,y,A){e(c!=null),e(d!=null),e(2147483648>A),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+A,c.Zc=4<=A?y+A-4+1:y,ve(c)}function ge(c,d){for(var y=0;0<d--;)y|=xe(c,128)<<d;return y}function Z(c,d){var y=ge(c,d);return me(c)?-y:y}function le(c,d,y,A){var O,M=0;for(e(c!=null),e(d!=null),e(4294967288>A),c.Sb=A,c.Ra=0,c.u=0,c.h=0,4<A&&(A=4),O=0;O<A;++O)M+=d[y+O]<<8*O;c.Ra=M,c.bb=A,c.oa=d,c.pa=y}function be(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Jo-8>>>0,++c.bb,c.u-=8;te(c)&&(c.h=1,c.u=0)}function we(c,d){if(e(0<=d),!c.h&&d<=Ii){var y=Y(c)&xi[d];return c.u+=d,be(c),y}return c.h=1,c.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(c){return c.Ra>>>(c.u&Jo-1)>>>0}function te(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Jo}function se(c,d){c.u=d,c.h=te(c)}function ce(c){c.u>=ho&&(e(c.u>=ho),be(c))}function ve(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function me(c){return ge(c,1)}function xe(c,d){var y=c.Ca;0>c.b&&ve(c);var A=c.b,O=y*d>>>8,M=(c.I>>>A>O)+0;for(M?(y-=O,c.I-=O+1<<A>>>0):y=O+1,A=y,O=0;256<=A;)O+=8,A>>=8;return A=7^O+Zo[A],c.b-=A,c.Ca=(y<<A)-1,M}function Pe(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Me(c,d){return c[d+0]|c[d+1]<<8}function Ve(c,d){return Me(c,d)|c[d+2]<<16}function _e(c,d){return Me(c,d)|Me(c,d+2)<<16}function Q(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function kt(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function it(c,d,y,A){e(y!=null),e(A!=null);var O=y[0],M=A[0];return O==0&&(O=(c*M+d/2)/d),M==0&&(M=(d*O+c/2)/c),0>=O||0>=M?0:(y[0]=O,A[0]=M,1)}function Re(c,d){return c+(1<<d)-1>>>d}function Ye(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function je(c,d){b[d]=function(y,A,O,M,U,B,q){var $;for($=0;$<U;++$){var ne=b[c](B[q+$-1],O,M+$);B[q+$]=Ye(y[A+$],ne)}}}function St(){this.ud=this.hd=this.jd=0}function Ze(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Mt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function yt(c,d){return Mt(c+(c-d+.5>>1))}function Xe(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function At(c,d,y,A,O,M,U){for(A=M[U-1],y=0;y<O;++y)M[U+y]=A=Ye(c[d+y],A)}function pt(c,d,y,A,O){var M;for(M=0;M<y;++M){var U=c[d+M],B=U>>8&255,q=16711935&(q=(q=16711935&U)+((B<<16)+B));A[O+M]=(4278255360&U)+q>>>0}}function et(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function lt(c,d,y,A,O,M){var U;for(U=0;U<A;++U){var B=d[y+U],q=B>>>8,$=B,ne=255&(ne=(ne=B>>>16)+((c.jd<<24>>24)*(q<<24>>24)>>>5));$=255&($=($+=(c.hd<<24>>24)*(q<<24>>24)>>>5)+((c.ud<<24>>24)*(ne<<24>>24)>>>5)),O[M+U]=(4278255360&B)+(ne<<16)+$}}function nt(c,d,y,A,O){b[d]=function(M,U,B,q,$,ne,fe,G,ie){for(q=fe;q<G;++q)for(fe=0;fe<ie;++fe)$[ne++]=O(B[A(M[U++])])},b[c]=function(M,U,B,q,$,ne,fe){var G=8>>M.b,ie=M.Ea,ue=M.K[0],Se=M.w;if(8>G)for(M=(1<<M.b)-1,Se=(1<<G)-1;U<B;++U){var he,Ee=0;for(he=0;he<ie;++he)he&M||(Ee=A(q[$++])),ne[fe++]=O(ue[Ee&Se]),Ee>>=G}else b["VP8LMapColor"+y](q,$,ue,Se,ne,fe,U,B,ie)}}function Kt(c,d,y,A,O){for(y=d+y;d<y;){var M=c[d++];A[O++]=M>>16&255,A[O++]=M>>8&255,A[O++]=255&M}}function Bt(c,d,y,A,O){for(y=d+y;d<y;){var M=c[d++];A[O++]=M>>16&255,A[O++]=M>>8&255,A[O++]=255&M,A[O++]=M>>24&255}}function Ge(c,d,y,A,O){for(y=d+y;d<y;){var M=(U=c[d++])>>16&240|U>>12&15,U=240&U|U>>28&15;A[O++]=M,A[O++]=U}}function mt(c,d,y,A,O){for(y=d+y;d<y;){var M=(U=c[d++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;A[O++]=M,A[O++]=U}}function Zt(c,d,y,A,O){for(y=d+y;d<y;){var M=c[d++];A[O++]=255&M,A[O++]=M>>8&255,A[O++]=M>>16&255}}function ot(c,d,y,A,O,M){if(M==0)for(y=d+y;d<y;)Pe(A,((M=c[d++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),O+=32;else r(A,O,c,d,y)}function Pt(c,d){b[d][0]=b[c+"0"],b[d][1]=b[c+"1"],b[d][2]=b[c+"2"],b[d][3]=b[c+"3"],b[d][4]=b[c+"4"],b[d][5]=b[c+"5"],b[d][6]=b[c+"6"],b[d][7]=b[c+"7"],b[d][8]=b[c+"8"],b[d][9]=b[c+"9"],b[d][10]=b[c+"10"],b[d][11]=b[c+"11"],b[d][12]=b[c+"12"],b[d][13]=b[c+"13"],b[d][14]=b[c+"0"],b[d][15]=b[c+"0"]}function _t(c){return c==bm||c==Sm||c==Tf||c==Am}function An(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new An,this.f.kb=new vn,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ts(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function zn(c,d){var y=c.T,A=d.ba.f.RGBA,O=A.eb,M=A.fb+c.ka*A.A,U=Xi[d.ba.S],B=c.y,q=c.O,$=c.f,ne=c.N,fe=c.ea,G=c.W,ie=d.cc,ue=d.dc,Se=d.Mc,he=d.Nc,Ee=c.ka,Ie=c.ka+c.T,Le=c.U,ke=Le+1>>1;for(Ee==0?U(B,q,null,null,$,ne,fe,G,$,ne,fe,G,O,M,null,null,Le):(U(d.ec,d.fc,B,q,ie,ue,Se,he,$,ne,fe,G,O,M-A.A,O,M,Le),++y);Ee+2<Ie;Ee+=2)ie=$,ue=ne,Se=fe,he=G,ne+=c.Rc,G+=c.Rc,M+=2*A.A,U(B,(q+=2*c.fa)-c.fa,B,q,ie,ue,Se,he,$,ne,fe,G,O,M-A.A,O,M,Le);return q+=c.fa,c.j+Ie<c.o?(r(d.ec,d.fc,B,q,Le),r(d.cc,d.dc,$,ne,ke),r(d.Mc,d.Nc,fe,G,ke),y--):1&Ie||U(B,q,null,null,$,ne,fe,G,$,ne,fe,G,O,M+A.A,null,null,Le),y}function Hi(c,d,y){var A=c.F,O=[c.J];if(A!=null){var M=c.U,U=d.ba.S,B=U==If||U==Tf;d=d.ba.f.RGBA;var q=[0],$=c.ka;q[0]=c.T,c.Kb&&($==0?--q[0]:(--$,O[0]-=c.width),c.j+c.ka+c.T==c.o&&(q[0]=c.o-c.j-$));var ne=d.eb;$=d.fb+$*d.A,c=kv(A,O[0],c.width,M,q,ne,$+(B?0:3),d.A),e(y==q),c&&_t(U)&&Cc(ne,$,B,M,q,d.A)}return 0}function Lr(c){var d=c.ma,y=d.ba.S,A=11>y,O=y==Ef||y==xf||y==If||y==wm||y==12||_t(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ac(d.Oa,c,O?11:12))return 0;if(O&&_t(y)&&fl(),c.da)alert("todo:use_scaling");else{if(A){if(d.Ib=Ts,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=zn,fl()}}else alert("todo:EmitYUV");O&&(d.Jb=Hi,A&&dn())}if(A&&!Wv){for(c=0;256>c;++c)nx[c]=89858*(c-128)+kf>>Nf,sx[c]=-22014*(c-128)+kf,ix[c]=-45773*(c-128),rx[c]=113618*(c-128)+kf>>Nf;for(c=Rc;c<Im;++c)d=76283*(c-16)+kf>>Nf,ox[c-Rc]=Ct(d,255),ax[c-Rc]=Ct(d+8>>4,15);Wv=1}return 1}function st(c){var d=c.ma,y=c.U,A=c.T;return e(!(1&c.ka)),0>=y||0>=A?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function yn(c){c.ma.memory=null}function Wi(c,d,y,A){return we(c,8)!=47?0:(d[0]=we(c,14)+1,y[0]=we(c,14)+1,A[0]=we(c,1),we(c,3)!=0?0:!c.h)}function hr(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+we(d,y)+1}function fr(c,d){return 120<d?d-120:1<=(y=((y=zE[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function En(c,d,y){var A=Y(y),O=c[d+=255&A].g-8;return 0<O&&(se(y,y.u+8),A=Y(y),d+=c[d].value,d+=A&(1<<O)-1),se(y,y.u+c[d].g),c[d].value}function er(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function xn(c,d,y){var A=c.xc;return e((d=A==0?0:c.vc[c.md*(y>>A)+(d>>A)])<c.Wb),c.Ya[d]}function no(c,d,y,A){var O=c.ab,M=c.c*d,U=c.C;d=U+d;var B=y,q=A;for(A=c.Ta,y=c.Ua;0<O--;){var $=c.gc[O],ne=U,fe=d,G=B,ie=q,ue=(q=A,B=y,$.Ea);switch(e(ne<fe),e(fe<=$.nc),$.hc){case 2:Hn(G,ie,(fe-ne)*ue,q,B);break;case 0:var Se=ne,he=fe,Ee=q,Ie=B,Le=(Ke=$).Ea;Se==0&&(xc(G,ie,null,null,1,Ee,Ie),At(G,ie+1,0,0,Le-1,Ee,Ie+1),ie+=Le,Ie+=Le,++Se);for(var ke=1<<Ke.b,tt=ke-1,qe=Re(Le,Ke.b),It=Ke.K,Ke=Ke.w+(Se>>Ke.b)*qe;Se<he;){var Vt=It,sr=Ke,Tt=1;for(tu(G,ie,Ee,Ie-Le,1,Ee,Ie);Tt<Le;){var Qe=(Tt&~tt)+ke;Qe>Le&&(Qe=Le),(0,Tc[Vt[sr++]>>8&15])(G,ie+ +Tt,Ee,Ie+Tt-Le,Qe-Tt,Ee,Ie+Tt),Tt=Qe}ie+=Le,Ie+=Le,++Se&tt||(Ke+=qe)}fe!=$.nc&&r(q,B-ue,q,B+(fe-ne-1)*ue,ue);break;case 1:for(ue=G,he=ie,Le=(G=$.Ea)-(Ie=G&~(Ee=(ie=1<<$.b)-1)),Se=Re(G,$.b),ke=$.K,$=$.w+(ne>>$.b)*Se;ne<fe;){for(tt=ke,qe=$,It=new St,Ke=he+Ie,Vt=he+G;he<Ke;)et(tt[qe++],It),Nc(It,ue,he,ie,q,B),he+=ie,B+=ie;he<Vt&&(et(tt[qe++],It),Nc(It,ue,he,Le,q,B),he+=Le,B+=Le),++ne&Ee||($+=Se)}break;case 3:if(G==q&&ie==B&&0<$.b){for(he=q,G=ue=B+(fe-ne)*ue-(Ie=(fe-ne)*Re($.Ea,$.b)),ie=q,Ee=B,Se=[],Ie=(Le=Ie)-1;0<=Ie;--Ie)Se[Ie]=ie[Ee+Ie];for(Ie=Le-1;0<=Ie;--Ie)he[G+Ie]=Se[Ie];wf($,ne,fe,q,ue,q,B)}else wf($,ne,fe,G,ie,q,B)}B=A,q=y}q!=y&&r(A,y,B,q,M)}function Ns(c,d){var y=c.V,A=c.Ba+c.c*c.C,O=d-c.C;if(e(d<=c.l.o),e(16>=O),0<O){var M=c.l,U=c.Ta,B=c.Ua,q=M.width;if(no(c,O,y,A),O=B=[B],e((y=c.C)<(A=d)),e(M.v<M.va),A>M.o&&(A=M.o),y<M.j){var $=M.j-y;y=M.j,O[0]+=$*q}if(y>=A?y=0:(O[0]+=4*M.v,M.ka=y-M.j,M.U=M.va-M.v,M.T=A-y,y=1),y){if(B=B[0],11>(y=c.ca).S){var ne=y.f.RGBA,fe=(A=y.S,O=M.U,M=M.T,$=ne.eb,ne.A),G=M;for(ne=ne.fb+c.Ma*ne.A;0<G--;){var ie=U,ue=B,Se=O,he=$,Ee=ne;switch(A){case Af:kc(ie,ue,Se,he,Ee);break;case Ef:ea(ie,ue,Se,he,Ee);break;case bm:ea(ie,ue,Se,he,Ee),Cc(he,Ee,0,Se,1,0);break;case Fv:pl(ie,ue,Se,he,Ee);break;case xf:ot(ie,ue,Se,he,Ee,1);break;case Sm:ot(ie,ue,Se,he,Ee,1),Cc(he,Ee,0,Se,1,0);break;case If:ot(ie,ue,Se,he,Ee,0);break;case Tf:ot(ie,ue,Se,he,Ee,0),Cc(he,Ee,1,Se,1,0);break;case wm:ta(ie,ue,Se,he,Ee);break;case Am:ta(ie,ue,Se,he,Ee),Nv(he,Ee,Se,1,0);break;case Mv:na(ie,ue,Se,he,Ee);break;default:e(0)}B+=q,ne+=fe}c.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function Rr(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,A=c.Ya[d].H;if(0<y[1][A[1]+0].g||0<y[2][A[2]+0].g||0<y[3][A[3]+0].g)return 0}return 1}function _i(c,d,y,A,O,M){if(c.Z!=0){var U=c.qd,B=c.rd;for(e(sa[c.Z]!=null);d<y;++d)sa[c.Z](U,B,A,O,A,O,M),U=A,B=O,O+=M;c.qd=U,c.rd=B}}function Qr(c,d){var y=c.l.ma,A=y.Z==0||y.Z==1?c.l.j:c.C;if(A=c.C<A?A:c.C,e(d<=c.l.o),d>A){var O=c.l.width,M=y.ca,U=y.tb+O*A,B=c.V,q=c.Ba+c.c*A,$=c.gc;e(c.ab==1),e($[0].hc==3),Bs($[0],A,d,B,q,M,U),_i(y,A,d,M,U,O)}c.C=c.Ma=d}function Dr(c,d,y,A,O,M,U){var B=c.$/A,q=c.$%A,$=c.m,ne=c.s,fe=y+c.$,G=fe;O=y+A*O;var ie=y+A*M,ue=280+ne.ua,Se=c.Pb?B:16777216,he=0<ne.ua?ne.Wa:null,Ee=ne.wc,Ie=fe<ie?xn(ne,q,B):null;e(c.C<M),e(ie<=O);var Le=!1;e:for(;;){for(;Le||fe<ie;){var ke=0;if(B>=Se){var tt=fe-y;e((Se=c).Pb),Se.wd=Se.m,Se.xd=tt,0<Se.s.ua&&kt(Se.s.Wa,Se.s.vb),Se=B+HE}if(q&Ee||(Ie=xn(ne,q,B)),e(Ie!=null),Ie.Qb&&(d[fe]=Ie.qb,Le=!0),!Le)if(ce($),Ie.jc){ke=$,tt=d;var qe=fe,It=Ie.pd[Y(ke)&dl-1];e(Ie.jc),256>It.g?(se(ke,ke.u+It.g),tt[qe]=It.value,ke=0):(se(ke,ke.u+It.g-256),e(256<=It.value),ke=It.value),ke==0&&(Le=!0)}else ke=En(Ie.G[0],Ie.H[0],$);if($.h)break;if(Le||256>ke){if(!Le)if(Ie.nd)d[fe]=(Ie.qb|ke<<8)>>>0;else{if(ce($),Le=En(Ie.G[1],Ie.H[1],$),ce($),tt=En(Ie.G[2],Ie.H[2],$),qe=En(Ie.G[3],Ie.H[3],$),$.h)break;d[fe]=(qe<<24|Le<<16|ke<<8|tt)>>>0}if(Le=!1,++fe,++q>=A&&(q=0,++B,U!=null&&B<=M&&!(B%16)&&U(c,B),he!=null))for(;G<fe;)ke=d[G++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke}else if(280>ke){if(ke=hr(ke-256,$),tt=En(Ie.G[4],Ie.H[4],$),ce($),tt=fr(A,tt=hr(tt,$)),$.h)break;if(fe-y<tt||O-fe<ke)break e;for(qe=0;qe<ke;++qe)d[fe+qe]=d[fe+qe-tt];for(fe+=ke,q+=ke;q>=A;)q-=A,++B,U!=null&&B<=M&&!(B%16)&&U(c,B);if(e(fe<=O),q&Ee&&(Ie=xn(ne,q,B)),he!=null)for(;G<fe;)ke=d[G++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke}else{if(!(ke<ue))break e;for(Le=ke-280,e(he!=null);G<fe;)ke=d[G++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke;ke=fe,e(!(Le>>>(tt=he).Xa)),d[ke]=tt.X[Le],Le=!0}Le||e($.h==te($))}if(c.Pb&&$.h&&fe<O)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&kt(c.s.vb,c.s.Wa);else{if($.h)break e;U!=null&&U(c,B>M?M:B),c.a=0,c.$=fe-y}return 1}return c.a=3,0}function qn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function ks(){var c=new We;return c==null?null:(c.a=0,c.xb=Uv,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),Hn=pt,Nc=lt,kc=Kt,ea=Bt,ta=Ge,na=mt,pl=Zt,b.VP8LMapColor32b=Us,b.VP8LMapColor8b=Ic,c)}function wi(c,d,y,A,O){var M=1,U=[c],B=[d],q=A.m,$=A.s,ne=null,fe=0;e:for(;;){if(y)for(;M&&we(q,1);){var G=U,ie=B,ue=A,Se=1,he=ue.m,Ee=ue.gc[ue.ab],Ie=we(he,2);if(ue.Oc&1<<Ie)M=0;else{switch(ue.Oc|=1<<Ie,Ee.hc=Ie,Ee.Ea=G[0],Ee.nc=ie[0],Ee.K=[null],++ue.ab,e(4>=ue.ab),Ie){case 0:case 1:Ee.b=we(he,3)+2,Se=wi(Re(Ee.Ea,Ee.b),Re(Ee.nc,Ee.b),0,ue,Ee.K),Ee.K=Ee.K[0];break;case 3:var Le,ke=we(he,8)+1,tt=16<ke?0:4<ke?1:2<ke?2:3;if(G[0]=Re(Ee.Ea,tt),Ee.b=tt,Le=Se=wi(ke,1,0,ue,Ee.K)){var qe,It=ke,Ke=Ee,Vt=1<<(8>>Ke.b),sr=s(Vt);if(sr==null)Le=0;else{var Tt=Ke.K[0],Qe=Ke.w;for(sr[0]=Ke.K[0][0],qe=1;qe<1*It;++qe)sr[qe]=Ye(Tt[Qe+qe],sr[qe-1]);for(;qe<4*Vt;++qe)sr[qe]=0;Ke.K[0]=null,Ke.K[0]=sr,Le=1}}Se=Le;break;case 2:break;default:e(0)}M=Se}}if(U=U[0],B=B[0],M&&we(q,1)&&!(M=1<=(fe=we(q,4))&&11>=fe)){A.a=3;break e}var Fe;if(Fe=M)t:{var $n,xt,qt,_n=A,Sr=U,Jr=B,jn=fe,Fr=y,Zr=_n.m,or=_n.s,Wt=[null],nn=1,Vn=0,rn=qE[jn];n:for(;;){if(Fr&&we(Zr,1)){var Ar=we(Zr,3)+2,fs=Re(Sr,Ar),Gn=Re(Jr,Ar),hi=fs*Gn;if(!wi(fs,Gn,0,_n,Wt))break n;for(Wt=Wt[0],or.xc=Ar,$n=0;$n<hi;++$n){var cn=Wt[$n]>>8&65535;Wt[$n]=cn,cn>=nn&&(nn=cn+1)}}if(Zr.h)break n;for(xt=0;5>xt;++xt){var ar=jv[xt];!xt&&0<jn&&(ar+=1<<jn),Vn<ar&&(Vn=ar)}var Ni=o(nn*rn,L),ei=nn,ki=o(ei,pe);if(ki==null)var Pi=null;else e(65536>=ei),Pi=ki;var fi=s(Vn);if(Pi==null||fi==null||Ni==null){_n.a=1;break n}var Ci=Ni;for($n=qt=0;$n<nn;++$n){var mn=Pi[$n],Li=mn.G,ds=mn.H,gl=0,mo=1,Er=0;for(xt=0;5>xt;++xt){ar=jv[xt],Li[xt]=Ci,ds[xt]=qt,!xt&&0<jn&&(ar+=1<<jn);i:{var Cf,Tm=ar,Lf=_n,Dc=fi,cx=Ci,hx=qt,Nm=0,oa=Lf.m,fx=we(oa,1);if(i(Dc,0,0,Tm),fx){var dx=we(oa,1)+1,px=we(oa,1),Kv=we(oa,px==0?1:8);Dc[Kv]=1,dx==2&&(Dc[Kv=we(oa,8)]=1);var Rf=1}else{var Qv=s(19),Yv=we(oa,4)+4;if(19<Yv){Lf.a=3;var Df=0;break i}for(Cf=0;Cf<Yv;++Cf)Qv[BE[Cf]]=we(oa,3);var km=void 0,Oc=void 0,Xv=Lf,mx=Qv,Of=Tm,Jv=Dc,Pm=0,aa=Xv.m,Zv=8,ey=o(128,L);r:for(;k(ey,0,7,mx,19);){if(we(aa,1)){var gx=2+2*we(aa,3);if((km=2+we(aa,gx))>Of)break r}else km=Of;for(Oc=0;Oc<Of&&km--;){ce(aa);var ty=ey[0+(127&Y(aa))];se(aa,aa.u+ty.g);var ru=ty.value;if(16>ru)Jv[Oc++]=ru,ru!=0&&(Zv=ru);else{var vx=ru==16,ny=ru-16,yx=VE[ny],ry=we(aa,jE[ny])+yx;if(Oc+ry>Of)break r;for(var _x=vx?Zv:0;0<ry--;)Jv[Oc++]=_x}}Pm=1;break r}Pm||(Xv.a=3),Rf=Pm}(Rf=Rf&&!oa.h)&&(Nm=k(cx,hx,8,Dc,Tm)),Rf&&Nm!=0?Df=Nm:(Lf.a=3,Df=0)}if(Df==0)break n;if(mo&&UE[xt]==1&&(mo=Ci[qt].g==0),gl+=Ci[qt].g,qt+=Df,3>=xt){var Fc,Cm=fi[0];for(Fc=1;Fc<ar;++Fc)fi[Fc]>Cm&&(Cm=fi[Fc]);Er+=Cm}}if(mn.nd=mo,mn.Qb=0,mo&&(mn.qb=(Li[3][ds[3]+0].value<<24|Li[1][ds[1]+0].value<<16|Li[2][ds[2]+0].value)>>>0,gl==0&&256>Li[0][ds[0]+0].value&&(mn.Qb=1,mn.qb+=Li[0][ds[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Er,mn.jc){var Ff,go=mn;for(Ff=0;Ff<dl;++Ff){var la=Ff,ua=go.pd[la],Mf=go.G[0][go.H[0]+la];256<=Mf.value?(ua.g=Mf.g+256,ua.value=Mf.value):(ua.g=0,ua.value=0,la>>=er(Mf,8,ua),la>>=er(go.G[1][go.H[1]+la],16,ua),la>>=er(go.G[2][go.H[2]+la],0,ua),er(go.G[3][go.H[3]+la],24,ua))}}}or.vc=Wt,or.Wb=nn,or.Ya=Pi,or.yc=Ni,Fe=1;break t}Fe=0}if(!(M=Fe)){A.a=3;break e}if(0<fe){if($.ua=1<<fe,!Q($.Wa,fe)){A.a=1,M=0;break e}}else $.ua=0;var Lm=A,iy=U,wx=B,Rm=Lm.s,Dm=Rm.xc;if(Lm.c=iy,Lm.i=wx,Rm.md=Re(iy,Dm),Rm.wc=Dm==0?-1:(1<<Dm)-1,y){A.xb=XE;break e}if((ne=s(U*B))==null){A.a=1,M=0;break e}M=(M=Dr(A,ne,0,U,B,B,null))&&!q.h;break e}return M?(O!=null?O[0]=ne:(e(ne==null),e(y)),A.$=0,y||qn($)):qn($),M}function ss(c,d){var y=c.c*c.i,A=y+d+16*d;return e(c.c<=d),c.V=s(A),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function Ps(c,d){var y=c.C,A=d-y,O=c.V,M=c.Ba+c.c*y;for(e(d<=c.l.o);0<A;){var U=16<A?16:A,B=c.l.ma,q=c.l.width,$=q*U,ne=B.ca,fe=B.tb+q*y,G=c.Ta,ie=c.Ua;no(c,U,O,M),Pv(G,ie,ne,fe,$),_i(B,y,y+U,ne,fe,q),A-=U,O+=U*c.c,y+=U}e(y==d),c.C=c.Ma=d}function ro(){this.ub=this.yd=this.td=this.Rb=0}function io(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cs(){this.Yb=function(){var c=[];return function d(y,A,O){for(var M=O[A],U=0;U<M&&(y.push(O.length>A+1?[]:0),!(O.length<A+1));U++)d(y[U],A+1,O)}(c,0,[3,11]),c}()}function Ja(){this.jb=s(3),this.Wc=a([4,8],Cs),this.Xc=a([4,17],Cs)}function zo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dr(){this.ld=this.La=this.dd=this.tc=0}function bi(){this.Na=this.la=0}function qo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Za(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function el(){this.uc=this.M=this.Nb=0,this.wa=Array(new dr),this.Y=0,this.ya=Array(new Za),this.aa=0,this.l=new Ls}function tl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function nl(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new ro,this.Kc=new io,this.ed=new zo,this.Qa=new gc,this.Ic=this.$c=this.Aa=0,this.D=new el,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,qo),this.Pa=new Ja,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tl),this.Hd=0,this.rb=Array(new bi),this.sb=0,this.wa=Array(new dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Za),this.L=this.aa=0,this.gd=a([4,2],dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rl(){var c=new nl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Lc||(Lc=os)),c}function Nn(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function il(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Jl(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return Nn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,A=d.w,O=d.ha;if(4>O)return Nn(c,7,"Truncated header.");var M=y[A+0]|y[A+1]<<8|y[A+2]<<16,U=c.Od;if(U.Rb=!(1&M),U.td=M>>1&7,U.yd=M>>4&1,U.ub=M>>5,3<U.td)return Nn(c,3,"Incorrect keyframe parameters.");if(!U.yd)return Nn(c,4,"Frame not displayable.");A+=3,O-=3;var B=c.Kc;if(U.Rb){if(7>O)return Nn(c,7,"cannot parse picture header");if(!il(y,A,O))return Nn(c,3,"Bad code word");B.c=16383&(y[A+4]<<8|y[A+3]),B.Td=y[A+4]>>6,B.i=16383&(y[A+6]<<8|y[A+5]),B.Ud=y[A+6]>>6,A+=7,O-=7,c.za=B.c+15>>4,c.Ub=B.i+15>>4,d.width=B.c,d.height=B.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((M=c.Pa).jb,0,255,M.jb.length),e((M=c.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(U.ub>O)return Nn(c,7,"bad partition length");ye(M=c.m,y,A,U.ub),A+=U.ub,O-=U.ub,U.Rb&&(B.Ld=me(M),B.Kd=me(M)),B=c.Qa;var q,$=c.Pa;if(e(M!=null),e(B!=null),B.Cb=me(M),B.Cb){if(B.Bb=me(M),me(M)){for(B.Fb=me(M),q=0;4>q;++q)B.Zb[q]=me(M)?Z(M,7):0;for(q=0;4>q;++q)B.Lb[q]=me(M)?Z(M,6):0}if(B.Bb)for(q=0;3>q;++q)$.jb[q]=me(M)?ge(M,8):255}else B.Bb=0;if(M.Ka)return Nn(c,3,"cannot parse segment header");if((B=c.ed).zd=me(M),B.Tb=ge(M,6),B.wb=ge(M,3),B.Pc=me(M),B.Pc&&me(M)){for($=0;4>$;++$)me(M)&&(B.vd[$]=Z(M,6));for($=0;4>$;++$)me(M)&&(B.od[$]=Z(M,6))}if(c.L=B.Tb==0?0:B.zd?1:2,M.Ka)return Nn(c,3,"cannot parse filter header");var ne=O;if(O=q=A,A=q+ne,B=ne,c.Xb=(1<<ge(c.m,2))-1,ne<3*($=c.Xb))y=7;else{for(q+=3*$,B-=3*$,ne=0;ne<$;++ne){var fe=y[O+0]|y[O+1]<<8|y[O+2]<<16;fe>B&&(fe=B),ye(c.Jc[+ne],y,q,fe),q+=fe,B-=fe,O+=3}ye(c.Jc[+$],y,q,B),y=q<A?0:5}if(y!=0)return Nn(c,y,"cannot parse partitions");for(y=ge(q=c.m,7),O=me(q)?Z(q,4):0,A=me(q)?Z(q,4):0,B=me(q)?Z(q,4):0,$=me(q)?Z(q,4):0,q=me(q)?Z(q,4):0,ne=c.Qa,fe=0;4>fe;++fe){if(ne.Cb){var G=ne.Zb[fe];ne.Fb||(G+=y)}else{if(0<fe){c.pb[fe]=c.pb[0];continue}G=y}var ie=c.pb[fe];ie.Sc[0]=Em[Ct(G+O,127)],ie.Sc[1]=xm[Ct(G+0,127)],ie.Eb[0]=2*Em[Ct(G+A,127)],ie.Eb[1]=101581*xm[Ct(G+B,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=Em[Ct(G+$,117)],ie.Qc[1]=xm[Ct(G+q,127)],ie.lc=G+q}if(!U.Rb)return Nn(c,4,"Not a key frame.");for(me(M),U=c.Pa,y=0;4>y;++y){for(O=0;8>O;++O)for(A=0;3>A;++A)for(B=0;11>B;++B)$=xe(M,QE[y][O][A][B])?ge(M,8):GE[y][O][A][B],U.Wc[y][O].Yb[A][B]=$;for(O=0;17>O;++O)U.Xc[y][O]=U.Wc[y][YE[O]]}return c.kc=me(M),c.kc&&(c.Bd=ge(M,8)),c.cb=1}function os(c,d,y,A,O,M,U){var B=d[O].Yb[y];for(y=0;16>O;++O){if(!xe(c,B[y+0]))return O;for(;!xe(c,B[y+1]);)if(B=d[++O].Yb[0],y=0,O==16)return 16;var q=d[O+1].Yb;if(xe(c,B[y+2])){var $=c,ne=0;if(xe($,(G=B)[(fe=y)+3]))if(xe($,G[fe+6])){for(B=0,fe=2*(ne=xe($,G[fe+8]))+(G=xe($,G[fe+9+ne])),ne=0,G=WE[fe];G[B];++B)ne+=ne+xe($,G[B]);ne+=3+(8<<fe)}else xe($,G[fe+7])?(ne=7+2*xe($,165),ne+=xe($,145)):ne=5+xe($,159);else ne=xe($,G[fe+4])?3+xe($,G[fe+5]):2;B=q[2]}else ne=1,B=q[1];q=U+$E[O],0>($=c).b&&ve($);var fe,G=$.b,ie=(fe=$.Ca>>1)-($.I>>G)>>31;--$.b,$.Ca+=ie,$.Ca|=1,$.I-=(fe+1&ie)<<G,M[q]=((ne^ie)-ie)*A[(0<O)+0]}return 16}function Rs(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ai(c,d,y,A,O){O=c[d+y+32*A]+(O>>3),c[d+y+32*A]=-256&O?0>O?0:255:O}function so(c,d,y,A,O,M){ai(c,d,0,y,A+O),ai(c,d,1,y,A+M),ai(c,d,2,y,A-M),ai(c,d,3,y,A-O)}function en(c){return(20091*c>>16)+c}function Yr(c,d,y,A){var O,M=0,U=s(16);for(O=0;4>O;++O){var B=c[d+0]+c[d+8],q=c[d+0]-c[d+8],$=(35468*c[d+4]>>16)-en(c[d+12]),ne=en(c[d+4])+(35468*c[d+12]>>16);U[M+0]=B+ne,U[M+1]=q+$,U[M+2]=q-$,U[M+3]=B-ne,M+=4,d++}for(O=M=0;4>O;++O)B=(c=U[M+0]+4)+U[M+8],q=c-U[M+8],$=(35468*U[M+4]>>16)-en(U[M+12]),ai(y,A,0,0,B+(ne=en(U[M+4])+(35468*U[M+12]>>16))),ai(y,A,1,0,q+$),ai(y,A,2,0,q-$),ai(y,A,3,0,B-ne),M++,A+=32}function Ho(c,d,y,A){var O=c[d+0]+4,M=35468*c[d+4]>>16,U=en(c[d+4]),B=35468*c[d+1]>>16;so(y,A,0,O+U,c=en(c[d+1]),B),so(y,A,1,O+M,c,B),so(y,A,2,O-M,c,B),so(y,A,3,O-U,c,B)}function Wo(c,d,y,A,O){Yr(c,d,y,A),O&&Yr(c,d+16,y,A+4)}function Zl(c,d,y,A){ml(c,d+0,y,A,1),ml(c,d+32,y,A+128,1)}function Ot(c,d,y,A){var O;for(c=c[d+0]+4,O=0;4>O;++O)for(d=0;4>d;++d)ai(y,A,d,O,c)}function oo(c,d,y,A){c[d+0]&&Jt(c,d+0,y,A),c[d+16]&&Jt(c,d+16,y,A+4),c[d+32]&&Jt(c,d+32,y,A+128),c[d+48]&&Jt(c,d+48,y,A+128+4)}function Ds(c,d,y,A){var O,M=s(16);for(O=0;4>O;++O){var U=c[d+0+O]+c[d+12+O],B=c[d+4+O]+c[d+8+O],q=c[d+4+O]-c[d+8+O],$=c[d+0+O]-c[d+12+O];M[0+O]=U+B,M[8+O]=U-B,M[4+O]=$+q,M[12+O]=$-q}for(O=0;4>O;++O)U=(c=M[0+4*O]+3)+M[3+4*O],B=M[1+4*O]+M[2+4*O],q=M[1+4*O]-M[2+4*O],$=c-M[3+4*O],y[A+0]=U+B>>3,y[A+16]=$+q>>3,y[A+32]=U-B>>3,y[A+48]=$-q>>3,A+=64}function li(c,d,y){var A,O=d-32,M=Ti,U=255-c[O-1];for(A=0;A<y;++A){var B,q=M,$=U+c[d-1];for(B=0;B<y;++B)c[d+B]=q[$+c[O+B]];d+=32}}function sl(c,d){li(c,d,4)}function eu(c,d){li(c,d,8)}function vc(c,d){li(c,d,16)}function yc(c,d){var y;for(y=0;16>y;++y)r(c,d+32*y,c,d-32,16)}function ol(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function ao(c,d,y){var A;for(A=0;16>A;++A)i(d,y+32*A,c,16)}function ui(c,d){var y,A=16;for(y=0;16>y;++y)A+=c[d-1+32*y]+c[d+y-32];ao(A>>5,c,d)}function $i(c,d){var y,A=8;for(y=0;16>y;++y)A+=c[d-1+32*y];ao(A>>4,c,d)}function Os(c,d){var y,A=8;for(y=0;16>y;++y)A+=c[d+y-32];ao(A>>4,c,d)}function $o(c,d){ao(128,c,d)}function ht(c,d,y){return c+2*d+y+2>>2}function Fs(c,d){var y,A=d-32;for(A=new Uint8Array([ht(c[A-1],c[A+0],c[A+1]),ht(c[A+0],c[A+1],c[A+2]),ht(c[A+1],c[A+2],c[A+3]),ht(c[A+2],c[A+3],c[A+4])]),y=0;4>y;++y)r(c,d+32*y,A,0,A.length)}function _c(c,d){var y=c[d-1],A=c[d-1+32],O=c[d-1+64],M=c[d-1+96];Pe(c,d+0,16843009*ht(c[d-1-32],y,A)),Pe(c,d+32,16843009*ht(y,A,O)),Pe(c,d+64,16843009*ht(A,O,M)),Pe(c,d+96,16843009*ht(O,M,M))}function wc(c,d){var y,A=4;for(y=0;4>y;++y)A+=c[d+y-32]+c[d-1+32*y];for(A>>=3,y=0;4>y;++y)i(c,d+32*y,A,4)}function bc(c,d){var y=c[d-1+0],A=c[d-1+32],O=c[d-1+64],M=c[d-1-32],U=c[d+0-32],B=c[d+1-32],q=c[d+2-32],$=c[d+3-32];c[d+0+96]=ht(A,O,c[d-1+96]),c[d+1+96]=c[d+0+64]=ht(y,A,O),c[d+2+96]=c[d+1+64]=c[d+0+32]=ht(M,y,A),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=ht(U,M,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=ht(B,U,M),c[d+3+32]=c[d+2+0]=ht(q,B,U),c[d+3+0]=ht($,q,B)}function pr(c,d){var y=c[d+1-32],A=c[d+2-32],O=c[d+3-32],M=c[d+4-32],U=c[d+5-32],B=c[d+6-32],q=c[d+7-32];c[d+0+0]=ht(c[d+0-32],y,A),c[d+1+0]=c[d+0+32]=ht(y,A,O),c[d+2+0]=c[d+1+32]=c[d+0+64]=ht(A,O,M),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=ht(O,M,U),c[d+3+32]=c[d+2+64]=c[d+1+96]=ht(M,U,B),c[d+3+64]=c[d+2+96]=ht(U,B,q),c[d+3+96]=ht(B,q,q)}function as(c,d){var y=c[d-1+0],A=c[d-1+32],O=c[d-1+64],M=c[d-1-32],U=c[d+0-32],B=c[d+1-32],q=c[d+2-32],$=c[d+3-32];c[d+0+0]=c[d+1+64]=M+U+1>>1,c[d+1+0]=c[d+2+64]=U+B+1>>1,c[d+2+0]=c[d+3+64]=B+q+1>>1,c[d+3+0]=q+$+1>>1,c[d+0+96]=ht(O,A,y),c[d+0+64]=ht(A,y,M),c[d+0+32]=c[d+1+96]=ht(y,M,U),c[d+1+32]=c[d+2+96]=ht(M,U,B),c[d+2+32]=c[d+3+96]=ht(U,B,q),c[d+3+32]=ht(B,q,$)}function Sc(c,d){var y=c[d+0-32],A=c[d+1-32],O=c[d+2-32],M=c[d+3-32],U=c[d+4-32],B=c[d+5-32],q=c[d+6-32],$=c[d+7-32];c[d+0+0]=y+A+1>>1,c[d+1+0]=c[d+0+64]=A+O+1>>1,c[d+2+0]=c[d+1+64]=O+M+1>>1,c[d+3+0]=c[d+2+64]=M+U+1>>1,c[d+0+32]=ht(y,A,O),c[d+1+32]=c[d+0+96]=ht(A,O,M),c[d+2+32]=c[d+1+96]=ht(O,M,U),c[d+3+32]=c[d+2+96]=ht(M,U,B),c[d+3+64]=ht(U,B,q),c[d+3+96]=ht(B,q,$)}function Go(c,d){var y=c[d-1+0],A=c[d-1+32],O=c[d-1+64],M=c[d-1+96];c[d+0+0]=y+A+1>>1,c[d+2+0]=c[d+0+32]=A+O+1>>1,c[d+2+32]=c[d+0+64]=O+M+1>>1,c[d+1+0]=ht(y,A,O),c[d+3+0]=c[d+1+32]=ht(A,O,M),c[d+3+32]=c[d+1+64]=ht(O,M,M),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=M}function ls(c,d){var y=c[d-1+0],A=c[d-1+32],O=c[d-1+64],M=c[d-1+96],U=c[d-1-32],B=c[d+0-32],q=c[d+1-32],$=c[d+2-32];c[d+0+0]=c[d+2+32]=y+U+1>>1,c[d+0+32]=c[d+2+64]=A+y+1>>1,c[d+0+64]=c[d+2+96]=O+A+1>>1,c[d+0+96]=M+O+1>>1,c[d+3+0]=ht(B,q,$),c[d+2+0]=ht(U,B,q),c[d+1+0]=c[d+3+32]=ht(y,U,B),c[d+1+32]=c[d+3+64]=ht(A,y,U),c[d+1+64]=c[d+3+96]=ht(O,A,y),c[d+1+96]=ht(M,O,A)}function Ko(c,d){var y;for(y=0;8>y;++y)r(c,d+32*y,c,d-32,8)}function Si(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Gi(c,d,y){var A;for(A=0;8>A;++A)i(d,y+32*A,c,8)}function lo(c,d){var y,A=8;for(y=0;8>y;++y)A+=c[d+y-32]+c[d-1+32*y];Gi(A>>4,c,d)}function al(c,d){var y,A=4;for(y=0;8>y;++y)A+=c[d+y-32];Gi(A>>3,c,d)}function ln(c,d){var y,A=4;for(y=0;8>y;++y)A+=c[d-1+32*y];Gi(A>>3,c,d)}function ll(c,d){Gi(128,c,d)}function uo(c,d,y){var A=c[d-y],O=c[d+0],M=3*(O-A)+_m[1020+c[d-2*y]-c[d+y]],U=Sf[112+(M+4>>3)];c[d-y]=Ti[255+A+Sf[112+(M+3>>3)]],c[d+0]=Ti[255+O-U]}function Ms(c,d,y,A){var O=c[d+0],M=c[d+y];return Yi[255+c[d-2*y]-c[d-y]]>A||Yi[255+M-O]>A}function Qo(c,d,y,A){return 4*Yi[255+c[d-y]-c[d+0]]+Yi[255+c[d-2*y]-c[d+y]]<=A}function co(c,d,y,A,O){var M=c[d-3*y],U=c[d-2*y],B=c[d-y],q=c[d+0],$=c[d+y],ne=c[d+2*y],fe=c[d+3*y];return 4*Yi[255+B-q]+Yi[255+U-$]>A?0:Yi[255+c[d-4*y]-M]<=O&&Yi[255+M-U]<=O&&Yi[255+U-B]<=O&&Yi[255+fe-ne]<=O&&Yi[255+ne-$]<=O&&Yi[255+$-q]<=O}function js(c,d,y,A){var O=2*A+1;for(A=0;16>A;++A)Qo(c,d+A,y,O)&&uo(c,d+A,y)}function Vs(c,d,y,A){var O=2*A+1;for(A=0;16>A;++A)Qo(c,d+A*y,1,O)&&uo(c,d+A*y,1)}function ci(c,d,y,A){var O;for(O=3;0<O;--O)js(c,d+=4*y,y,A)}function ul(c,d,y,A){var O;for(O=3;0<O;--O)Vs(c,d+=4,y,A)}function us(c,d,y,A,O,M,U,B){for(M=2*M+1;0<O--;){if(co(c,d,y,M,U))if(Ms(c,d,y,B))uo(c,d,y);else{var q=c,$=d,ne=y,fe=q[$-2*ne],G=q[$-ne],ie=q[$+0],ue=q[$+ne],Se=q[$+2*ne],he=27*(Ie=_m[1020+3*(ie-G)+_m[1020+fe-ue]])+63>>7,Ee=18*Ie+63>>7,Ie=9*Ie+63>>7;q[$-3*ne]=Ti[255+q[$-3*ne]+Ie],q[$-2*ne]=Ti[255+fe+Ee],q[$-ne]=Ti[255+G+he],q[$+0]=Ti[255+ie-he],q[$+ne]=Ti[255+ue-Ee],q[$+2*ne]=Ti[255+Se-Ie]}d+=A}}function Xr(c,d,y,A,O,M,U,B){for(M=2*M+1;0<O--;){if(co(c,d,y,M,U))if(Ms(c,d,y,B))uo(c,d,y);else{var q=c,$=d,ne=y,fe=q[$-ne],G=q[$+0],ie=q[$+ne],ue=Sf[112+(4+(Se=3*(G-fe))>>3)],Se=Sf[112+(Se+3>>3)],he=ue+1>>1;q[$-2*ne]=Ti[255+q[$-2*ne]+he],q[$-ne]=Ti[255+fe+Se],q[$+0]=Ti[255+G-ue],q[$+ne]=Ti[255+ie-he]}d+=A}}function cl(c,d,y,A,O,M){us(c,d,y,1,16,A,O,M)}function Yo(c,d,y,A,O,M){us(c,d,1,y,16,A,O,M)}function Ki(c,d,y,A,O,M){var U;for(U=3;0<U;--U)Xr(c,d+=4*y,y,1,16,A,O,M)}function hl(c,d,y,A,O,M){var U;for(U=3;0<U;--U)Xr(c,d+=4,1,y,16,A,O,M)}function g(c,d,y,A,O,M,U,B){us(c,d,O,1,8,M,U,B),us(y,A,O,1,8,M,U,B)}function R(c,d,y,A,O,M,U,B){us(c,d,1,O,8,M,U,B),us(y,A,1,O,8,M,U,B)}function W(c,d,y,A,O,M,U,B){Xr(c,d+4*O,O,1,8,M,U,B),Xr(y,A+4*O,O,1,8,M,U,B)}function ee(c,d,y,A,O,M,U,B){Xr(c,d+4,1,O,8,M,U,B),Xr(y,A+4,1,O,8,M,U,B)}function oe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ae(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ne(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Be(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new L}function We(){this.xb=this.a=0,this.l=new Ls,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Be,this.ab=0,this.gc=o(4,Ne),this.Oc=0}function at(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gt(c,d,y,A,O,M,U){for(c=c==null?0:c[d+0],d=0;d<U;++d)O[M+d]=c+y[A+d]&255,c=O[M+d]}function zt(c,d,y,A,O,M,U){var B;if(c==null)gt(null,null,y,A,O,M,U);else for(B=0;B<U;++B)O[M+B]=c[d+B]+y[A+B]&255}function Xt(c,d,y,A,O,M,U){if(c==null)gt(null,null,y,A,O,M,U);else{var B,q=c[d+0],$=q,ne=q;for(B=0;B<U;++B)$=ne+(q=c[d+B])-$,ne=y[A+B]+(-256&$?0>$?0:255:$)&255,$=q,O[M+B]=ne}}function kn(c,d,y,A){var O=d.width,M=d.o;if(e(c!=null&&d!=null),0>y||0>=A||y+A>M)return null;if(!c.Cc){if(c.ga==null){var U;if(c.ga=new at,(U=c.ga==null)||(U=d.width*d.o,e(c.Gb.length==0),c.Gb=s(U),c.Uc=0,c.Gb==null?U=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,U=1),U=!U),!U){U=c.ga;var B=c.Fa,q=c.P,$=c.qc,ne=c.mb,fe=c.nb,G=q+1,ie=$-1,ue=U.l;if(e(B!=null&&ne!=null&&d!=null),sa[0]=null,sa[1]=gt,sa[2]=zt,sa[3]=Xt,U.ca=ne,U.tb=fe,U.c=d.width,U.i=d.height,e(0<U.c&&0<U.i),1>=$)d=0;else if(U.$a=3&B[q+0],U.Z=B[q+0]>>2&3,U.Lc=B[q+0]>>4&3,q=B[q+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||q)d=0;else if(ue.put=st,ue.ac=Lr,ue.bc=yn,ue.ma=U,ue.width=d.width,ue.height=d.height,ue.Da=d.Da,ue.v=d.v,ue.va=d.va,ue.j=d.j,ue.o=d.o,U.$a)e:{e(U.$a==1),d=ks();t:for(;;){if(d==null){d=0;break e}if(e(U!=null),U.mc=d,d.c=U.c,d.i=U.i,d.l=U.l,d.l.ma=U,d.l.width=U.c,d.l.height=U.i,d.a=0,le(d.m,B,G,ie),!wi(U.c,U.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Rr(d.s)?(U.ic=1,B=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(B),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(U.ic=0,d=ss(d,U.c)),!d))break t;d=1;break e}U.mc=null,d=0}else d=ie>=U.c*U.i;U=!d}if(U)return null;c.ga.Lc!=1?c.Ga=0:A=M-y}e(c.ga!=null),e(y+A<=M);e:{if(d=(B=c.ga).c,M=B.l.o,B.$a==0){if(G=c.rc,ie=c.Vc,ue=c.Fa,q=c.P+1+y*d,$=c.mb,ne=c.nb+y*d,e(q<=c.P+c.qc),B.Z!=0)for(e(sa[B.Z]!=null),U=0;U<A;++U)sa[B.Z](G,ie,ue,q,$,ne,d),G=$,ie=ne,ne+=d,q+=d;else for(U=0;U<A;++U)r($,ne,ue,q,d),G=$,ie=ne,ne+=d,q+=d;c.rc=G,c.Vc=ie}else{if(e(B.mc!=null),d=y+A,e((U=B.mc)!=null),e(d<=U.i),U.C>=d)d=1;else if(B.ic||dn(),B.ic){B=U.V,G=U.Ba,ie=U.c;var Se=U.i,he=(ue=1,q=U.$/ie,$=U.$%ie,ne=U.m,fe=U.s,U.$),Ee=ie*Se,Ie=ie*d,Le=fe.wc,ke=he<Ie?xn(fe,$,q):null;e(he<=Ee),e(d<=Se),e(Rr(fe));t:for(;;){for(;!ne.h&&he<Ie;){if($&Le||(ke=xn(fe,$,q)),e(ke!=null),ce(ne),256>(Se=En(ke.G[0],ke.H[0],ne)))B[G+he]=Se,++he,++$>=ie&&($=0,++q<=d&&!(q%16)&&Qr(U,q));else{if(!(280>Se)){ue=0;break t}Se=hr(Se-256,ne);var tt,qe=En(ke.G[4],ke.H[4],ne);if(ce(ne),!(he>=(qe=fr(ie,qe=hr(qe,ne)))&&Ee-he>=Se)){ue=0;break t}for(tt=0;tt<Se;++tt)B[G+he+tt]=B[G+he+tt-qe];for(he+=Se,$+=Se;$>=ie;)$-=ie,++q<=d&&!(q%16)&&Qr(U,q);he<Ie&&$&Le&&(ke=xn(fe,$,q))}e(ne.h==te(ne))}Qr(U,q>d?d:q);break t}!ue||ne.h&&he<Ee?(ue=0,U.a=ne.h?5:3):U.$=he,d=ue}else d=Dr(U,U.V,U.Ba,U.c,U.i,d,Ps);if(!d){A=0;break e}}y+A>=M&&(c.Cc=1),A=1}if(!A)return null;if(c.Cc&&((A=c.ga)!=null&&(A.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*O}function tn(c,d,y,A,O,M){for(;0<O--;){var U,B=c,q=d+(y?1:0),$=c,ne=d+(y?0:3);for(U=0;U<A;++U){var fe=$[ne+4*U];fe!=255&&(fe*=32897,B[q+4*U+0]=B[q+4*U+0]*fe>>23,B[q+4*U+1]=B[q+4*U+1]*fe>>23,B[q+4*U+2]=B[q+4*U+2]*fe>>23)}d+=M}}function Fn(c,d,y,A,O){for(;0<A--;){var M;for(M=0;M<y;++M){var U=c[d+2*M+0],B=15&($=c[d+2*M+1]),q=4369*B,$=(240&$|$>>4)*q>>16;c[d+2*M+0]=(240&U|U>>4)*q>>16&240|(15&U|U<<4)*q>>16>>4&15,c[d+2*M+1]=240&$|B}d+=O}}function Pn(c,d,y,A,O,M,U,B){var q,$,ne=255;for($=0;$<O;++$){for(q=0;q<A;++q){var fe=c[d+q];M[U+4*q]=fe,ne&=fe}d+=y,U+=B}return ne!=255}function Mn(c,d,y,A,O){var M;for(M=0;M<O;++M)y[A+M]=c[d+M]>>8}function dn(){Cc=tn,Nv=Fn,kv=Pn,Pv=Mn}function wr(c,d,y){b[c]=function(A,O,M,U,B,q,$,ne,fe,G,ie,ue,Se,he,Ee,Ie,Le){var ke,tt=Le-1>>1,qe=B[q+0]|$[ne+0]<<16,It=fe[G+0]|ie[ue+0]<<16;e(A!=null);var Ke=3*qe+It+131074>>2;for(d(A[O+0],255&Ke,Ke>>16,Se,he),M!=null&&(Ke=3*It+qe+131074>>2,d(M[U+0],255&Ke,Ke>>16,Ee,Ie)),ke=1;ke<=tt;++ke){var Vt=B[q+ke]|$[ne+ke]<<16,sr=fe[G+ke]|ie[ue+ke]<<16,Tt=qe+Vt+It+sr+524296,Qe=Tt+2*(Vt+It)>>3;Ke=Qe+qe>>1,qe=(Tt=Tt+2*(qe+sr)>>3)+Vt>>1,d(A[O+2*ke-1],255&Ke,Ke>>16,Se,he+(2*ke-1)*y),d(A[O+2*ke-0],255&qe,qe>>16,Se,he+(2*ke-0)*y),M!=null&&(Ke=Tt+It>>1,qe=Qe+sr>>1,d(M[U+2*ke-1],255&Ke,Ke>>16,Ee,Ie+(2*ke-1)*y),d(M[U+2*ke+0],255&qe,qe>>16,Ee,Ie+(2*ke+0)*y)),qe=Vt,It=sr}1&Le||(Ke=3*qe+It+131074>>2,d(A[O+Le-1],255&Ke,Ke>>16,Se,he+(Le-1)*y),M!=null&&(Ke=3*It+qe+131074>>2,d(M[U+Le-1],255&Ke,Ke>>16,Ee,Ie+(Le-1)*y)))}}function fl(){Xi[Af]=JE,Xi[Ef]=Bv,Xi[Fv]=ZE,Xi[xf]=zv,Xi[If]=qv,Xi[wm]=Hv,Xi[Mv]=ex,Xi[bm]=Bv,Xi[Sm]=zv,Xi[Tf]=qv,Xi[Am]=Hv}function Ai(c){return c&-16384?0>c?0:255:c>>tx}function h(c,d){return Ai((19077*c>>8)+(26149*d>>8)-14234)}function _(c,d,y){return Ai((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function I(c,d){return Ai((19077*c>>8)+(33050*d>>8)-17685)}function z(c,d,y,A,O){A[O+0]=h(c,y),A[O+1]=_(c,d,y),A[O+2]=I(c,d)}function ae(c,d,y,A,O){A[O+0]=I(c,d),A[O+1]=_(c,d,y),A[O+2]=h(c,y)}function de(c,d,y,A,O){var M=_(c,d,y);d=M<<3&224|I(c,d)>>3,A[O+0]=248&h(c,y)|M>>5,A[O+1]=d}function Oe(c,d,y,A,O){var M=240&I(c,d)|15;A[O+0]=240&h(c,y)|_(c,d,y)>>4,A[O+1]=M}function jt(c,d,y,A,O){A[O+0]=255,z(c,d,y,A,O+1)}function Cn(c,d,y,A,O){ae(c,d,y,A,O),A[O+3]=255}function Rt(c,d,y,A,O){z(c,d,y,A,O),A[O+3]=255}function Ct(c,d){return 0>c?0:c>d?d:c}function pn(c,d,y){b[c]=function(A,O,M,U,B,q,$,ne,fe){for(var G=ne+(-2&fe)*y;ne!=G;)d(A[O+0],M[U+0],B[q+0],$,ne),d(A[O+1],M[U+0],B[q+0],$,ne+y),O+=2,++U,++q,ne+=2*y;1&fe&&d(A[O+0],M[U+0],B[q+0],$,ne)}}function Ei(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function Or(c,d,y,A,O){switch(c>>>30){case 3:ml(d,y,A,O,0);break;case 2:Qi(d,y,A,O);break;case 1:Jt(d,y,A,O)}}function br(c,d){var y,A,O=d.M,M=d.Nb,U=c.oc,B=c.pc+40,q=c.oc,$=c.pc+584,ne=c.oc,fe=c.pc+600;for(y=0;16>y;++y)U[B+32*y-1]=129;for(y=0;8>y;++y)q[$+32*y-1]=129,ne[fe+32*y-1]=129;for(0<O?U[B-1-32]=q[$-1-32]=ne[fe-1-32]=129:(i(U,B-32-1,127,21),i(q,$-32-1,127,9),i(ne,fe-32-1,127,9)),A=0;A<c.za;++A){var G=d.ya[d.aa+A];if(0<A){for(y=-1;16>y;++y)r(U,B+32*y-4,U,B+32*y+12,4);for(y=-1;8>y;++y)r(q,$+32*y-4,q,$+32*y+4,4),r(ne,fe+32*y-4,ne,fe+32*y+4,4)}var ie=c.Gd,ue=c.Hd+A,Se=G.ad,he=G.Hc;if(0<O&&(r(U,B-32,ie[ue].y,0,16),r(q,$-32,ie[ue].f,0,8),r(ne,fe-32,ie[ue].ea,0,8)),G.Za){var Ee=U,Ie=B-32+16;for(0<O&&(A>=c.za-1?i(Ee,Ie,ie[ue].y[15],4):r(Ee,Ie,ie[ue+1].y,0,4)),y=0;4>y;y++)Ee[Ie+128+y]=Ee[Ie+256+y]=Ee[Ie+384+y]=Ee[Ie+0+y];for(y=0;16>y;++y,he<<=2)Ee=U,Ie=B+$v[y],hs[G.Ob[y]](Ee,Ie),Or(he,Se,16*+y,Ee,Ie)}else if(Ee=Ei(A,O,G.Ob[0]),ia[Ee](U,B),he!=0)for(y=0;16>y;++y,he<<=2)Or(he,Se,16*+y,U,B+$v[y]);for(y=G.Gc,Ee=Ei(A,O,G.Dd),po[Ee](q,$),po[Ee](ne,fe),he=Se,Ee=q,Ie=$,255&(G=0|y)&&(170&G?zs(he,256,Ee,Ie):un(he,256,Ee,Ie)),G=ne,he=fe,255&(y>>=8)&&(170&y?zs(Se,320,G,he):un(Se,320,G,he)),O<c.Ub-1&&(r(ie[ue].y,0,U,B+480,16),r(ie[ue].f,0,q,$+224,8),r(ie[ue].ea,0,ne,fe+224,8)),y=8*M*c.B,ie=c.sa,ue=c.ta+16*A+16*M*c.R,Se=c.qa,G=c.ra+8*A+y,he=c.Ha,Ee=c.Ia+8*A+y,y=0;16>y;++y)r(ie,ue+y*c.R,U,B+32*y,16);for(y=0;8>y;++y)r(Se,G+y*c.B,q,$+32*y,8),r(he,Ee+y*c.B,ne,fe+32*y,8)}}function cs(c,d,y,A,O,M,U,B,q){var $=[0],ne=[0],fe=0,G=q!=null?q.kd:0,ie=q??new Ae;if(c==null||12>y)return 7;ie.data=c,ie.w=d,ie.ha=y,d=[d],y=[y],ie.gb=[ie.gb];e:{var ue=d,Se=y,he=ie.gb;if(e(c!=null),e(Se!=null),e(he!=null),he[0]=0,12<=Se[0]&&!n(c,ue[0],"RIFF")){if(n(c,ue[0]+8,"WEBP")){he=3;break e}var Ee=_e(c,ue[0]+4);if(12>Ee||4294967286<Ee){he=3;break e}if(G&&Ee>Se[0]-8){he=7;break e}he[0]=Ee,ue[0]+=12,Se[0]-=12}he=0}if(he!=0)return he;for(Ee=0<ie.gb[0],y=y[0];;){e:{var Ie=c;Se=d,he=y;var Le=$,ke=ne,tt=ue=[0];if((Ke=fe=[fe])[0]=0,8>he[0])he=7;else{if(!n(Ie,Se[0],"VP8X")){if(_e(Ie,Se[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var qe=_e(Ie,Se[0]+8),It=1+Ve(Ie,Se[0]+12);if(2147483648<=It*(Ie=1+Ve(Ie,Se[0]+15))){he=3;break e}tt!=null&&(tt[0]=qe),Le!=null&&(Le[0]=It),ke!=null&&(ke[0]=Ie),Se[0]+=18,he[0]-=18,Ke[0]=1}he=0}}if(fe=fe[0],ue=ue[0],he!=0)return he;if(Se=!!(2&ue),!Ee&&fe)return 3;if(M!=null&&(M[0]=!!(16&ue)),U!=null&&(U[0]=Se),B!=null&&(B[0]=0),U=$[0],ue=ne[0],fe&&Se&&q==null){he=0;break}if(4>y){he=7;break}if(Ee&&fe||!Ee&&!fe&&!n(c,d[0],"ALPH")){y=[y],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{qe=c,he=d,Ee=y;var Ke=ie.gb;Le=ie.na,ke=ie.P,tt=ie.Sa,It=22,e(qe!=null),e(Ee!=null),Ie=he[0];var Vt=Ee[0];for(e(Le!=null),e(tt!=null),Le[0]=null,ke[0]=null,tt[0]=0;;){if(he[0]=Ie,Ee[0]=Vt,8>Vt){he=7;break e}var sr=_e(qe,Ie+4);if(4294967286<sr){he=3;break e}var Tt=8+sr+1&-2;if(It+=Tt,0<Ke&&It>Ke){he=3;break e}if(!n(qe,Ie,"VP8 ")||!n(qe,Ie,"VP8L")){he=0;break e}if(Vt[0]<Tt){he=7;break e}n(qe,Ie,"ALPH")||(Le[0]=qe,ke[0]=Ie+8,tt[0]=sr),Ie+=Tt,Vt-=Tt}}if(y=y[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],he!=0)break}y=[y],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if(Ke=c,he=d,Ee=y,Le=ie.gb[0],ke=ie.Ja,tt=ie.xa,qe=he[0],Ie=!n(Ke,qe,"VP8 "),It=!n(Ke,qe,"VP8L"),e(Ke!=null),e(Ee!=null),e(ke!=null),e(tt!=null),8>Ee[0])he=7;else{if(Ie||It){if(Ke=_e(Ke,qe+4),12<=Le&&Ke>Le-12){he=3;break e}if(G&&Ke>Ee[0]-8){he=7;break e}ke[0]=Ke,he[0]+=8,Ee[0]-=8,tt[0]=It}else tt[0]=5<=Ee[0]&&Ke[qe+0]==47&&!(Ke[qe+4]>>5),ke[0]=Ee[0];he=0}if(y=y[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],d=d[0],he!=0)break;if(4294967286<ie.Ja)return 3;if(B==null||Se||(B[0]=ie.xa?2:1),U=[U],ue=[ue],ie.xa){if(5>y){he=7;break}B=U,G=ue,Se=M,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(Ee=[0],Ke=[0],Le=[0],le(ke=new H,c,d,y),Wi(ke,Ee,Ke,Le)?(B!=null&&(B[0]=Ee[0]),G!=null&&(G[0]=Ke[0]),Se!=null&&(Se[0]=Le[0]),c=1):c=0):c=0}else{if(10>y){he=7;break}B=ue,c==null||10>y||!il(c,d+3,y-3)?c=0:(G=c[d+0]|c[d+1]<<8|c[d+2]<<16,Se=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&G||3<(G>>1&7)||!(G>>4&1)||G>>5>=ie.Ja||!Se||!c?c=0:(U&&(U[0]=Se),B&&(B[0]=c),c=1))}if(!c||(U=U[0],ue=ue[0],fe&&($[0]!=U||ne[0]!=ue)))return 3;q!=null&&(q[0]=ie,q.offset=d-q.w,e(4294967286>d-q.w),e(q.offset==q.ha-y));break}return he==0||he==7&&fe&&q==null?(M!=null&&(M[0]|=ie.na!=null&&0<ie.na.length),A!=null&&(A[0]=U),O!=null&&(O[0]=ue),0):he}function Ac(c,d,y){var A=d.width,O=d.height,M=0,U=0,B=A,q=O;if(d.Da=c!=null&&0<c.Da,d.Da&&(B=c.cd,q=c.bd,M=c.v,U=c.j,11>y||(M&=-2,U&=-2),0>M||0>U||0>=B||0>=q||M+B>A||U+q>O))return 0;if(d.v=M,d.j=U,d.va=M+B,d.o=U+q,d.U=B,d.T=q,d.da=c!=null&&0<c.da,d.da){if(!it(B,q,y=[c.ib],M=[c.hb]))return 0;d.ib=y[0],d.hb=M[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*A/4&&d.hb<3*O/4,d.Kb=0),1}function Ec(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Xo(c,d,y,A){if(A==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var O=y.cd,M=y.bd,U=-2&y.v,B=-2&y.j;if(0>U||0>B||0>=O||0>=M||U+O>c||B+M>d)return 2;c=O,d=M}if(y.da){if(!it(c,d,O=[y.ib],M=[y.hb]))return 2;c=O[0],d=M[0]}}A.width=c,A.height=d;e:{var q=A.width,$=A.height;if(c=A.S,0>=q||0>=$||!(c>=Af&&13>c))c=2;else{if(0>=A.Rd&&A.sd==null){U=M=O=d=0;var ne=(B=q*Gv[c])*$;if(11>c||(M=($+1)/2*(d=(q+1)/2),c==12&&(U=(O=q)*$)),($=s(ne+2*M+U))==null){c=1;break e}A.sd=$,11>c?((q=A.f.RGBA).eb=$,q.fb=0,q.A=B,q.size=ne):((q=A.f.kb).y=$,q.O=0,q.fa=B,q.Fd=ne,q.f=$,q.N=0+ne,q.Ab=d,q.Cd=M,q.ea=$,q.W=0+ne+M,q.Db=d,q.Ed=M,c==12&&(q.F=$,q.J=0+ne+2*M),q.Tc=U,q.lb=O)}if(d=1,O=A.S,M=A.width,U=A.height,O>=Af&&13>O)if(11>O)c=A.f.RGBA,d&=(B=Math.abs(c.A))*(U-1)+M<=c.size,d&=B>=M*Gv[O],d&=c.eb!=null;else{c=A.f.kb,B=(M+1)/2,ne=(U+1)/2,q=Math.abs(c.fa),$=Math.abs(c.Ab);var fe=Math.abs(c.Db),G=Math.abs(c.lb),ie=G*(U-1)+M;d&=q*(U-1)+M<=c.Fd,d&=$*(ne-1)+B<=c.Cd,d=(d&=fe*(ne-1)+B<=c.Ed)&q>=M&$>=B&fe>=B,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,O==12&&(d&=G>=M,d&=ie<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Ec(A)),c}var dl=64,xi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ii=24,Jo=32,ho=8,Zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(c){return c},b.Predictor2=function(c,d,y){return d[y+0]},b.Predictor3=function(c,d,y){return d[y+1]},b.Predictor4=function(c,d,y){return d[y-1]},b.Predictor5=function(c,d,y){return Ze(Ze(c,d[y+1]),d[y+0])},b.Predictor6=function(c,d,y){return Ze(c,d[y-1])},b.Predictor7=function(c,d,y){return Ze(c,d[y+0])},b.Predictor8=function(c,d,y){return Ze(d[y-1],d[y+0])},b.Predictor9=function(c,d,y){return Ze(d[y+0],d[y+1])},b.Predictor10=function(c,d,y){return Ze(Ze(c,d[y-1]),Ze(d[y+0],d[y+1]))},b.Predictor11=function(c,d,y){var A=d[y+0];return 0>=Xe(A>>24&255,c>>24&255,(d=d[y-1])>>24&255)+Xe(A>>16&255,c>>16&255,d>>16&255)+Xe(A>>8&255,c>>8&255,d>>8&255)+Xe(255&A,255&c,255&d)?A:c},b.Predictor12=function(c,d,y){var A=d[y+0];return(Mt((c>>24&255)+(A>>24&255)-((d=d[y-1])>>24&255))<<24|Mt((c>>16&255)+(A>>16&255)-(d>>16&255))<<16|Mt((c>>8&255)+(A>>8&255)-(d>>8&255))<<8|Mt((255&c)+(255&A)-(255&d)))>>>0},b.Predictor13=function(c,d,y){var A=d[y-1];return(yt((c=Ze(c,d[y+0]))>>24&255,A>>24&255)<<24|yt(c>>16&255,A>>16&255)<<16|yt(c>>8&255,A>>8&255)<<8|yt(255&c,255&A))>>>0};var xc=b.PredictorAdd0;b.PredictorAdd1=At,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var tu=b.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Hn,wf=b.ColorIndexInverseTransform,Us=b.MapARGB,Bs=b.VP8LColorIndexInverseTransformAlpha,Ic=b.MapAlpha,Tc=b.VP8LPredictorsAdd=[];Tc.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var Nc,kc,ea,ta,na,pl,ra,ml,Qi,zs,Jt,un,Wn,ir,fo,Pc,nu,bf,Sv,Av,Ev,xv,Iv,Tv,Cc,Nv,kv,Pv,Cv=s(511),Lv=s(2041),Rv=s(225),Dv=s(767),Ov=0,_m=Lv,Sf=Rv,Ti=Dv,Yi=Cv,Af=0,Ef=1,Fv=2,xf=3,If=4,wm=5,Mv=6,bm=7,Sm=8,Tf=9,Am=10,jE=[2,3,7],VE=[3,3,11],jv=[280,256,256,256,40],UE=[0,1,1,1,0],BE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],HE=8,Em=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lc=null,WE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$E=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],KE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],QE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ia=[],hs=[],po=[],XE=1,Uv=2,sa=[],Xi=[];wr("UpsampleRgbLinePair",z,3),wr("UpsampleBgrLinePair",ae,3),wr("UpsampleRgbaLinePair",Rt,4),wr("UpsampleBgraLinePair",Cn,4),wr("UpsampleArgbLinePair",jt,4),wr("UpsampleRgba4444LinePair",Oe,2),wr("UpsampleRgb565LinePair",de,2);var JE=b.UpsampleRgbLinePair,ZE=b.UpsampleBgrLinePair,Bv=b.UpsampleRgbaLinePair,zv=b.UpsampleBgraLinePair,qv=b.UpsampleArgbLinePair,Hv=b.UpsampleRgba4444LinePair,ex=b.UpsampleRgb565LinePair,Nf=16,kf=1<<Nf-1,Rc=-227,Im=482,tx=6,Wv=0,nx=s(256),rx=s(256),ix=s(256),sx=s(256),ox=s(Im-Rc),ax=s(Im-Rc);pn("YuvToRgbRow",z,3),pn("YuvToBgrRow",ae,3),pn("YuvToRgbaRow",Rt,4),pn("YuvToBgraRow",Cn,4),pn("YuvToArgbRow",jt,4),pn("YuvToRgba4444Row",Oe,2),pn("YuvToRgb565Row",de,2);var $v=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pf=[0,2,8],lx=[8,7,6,4,4,2,2,2,1,1,1,1],ux=1;this.WebPDecodeRGBA=function(c,d,y,A,O){var M=Ef,U=new oe,B=new Yt;U.ba=B,B.S=M,B.width=[B.width],B.height=[B.height];var q=B.width,$=B.height,ne=new ct;if(ne==null||c==null)var fe=2;else e(ne!=null),fe=cs(c,d,y,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(fe!=0?q=0:(q!=null&&(q[0]=ne.width[0]),$!=null&&($[0]=ne.height[0]),q=1),q){B.width=B.width[0],B.height=B.height[0],A!=null&&(A[0]=B.width),O!=null&&(O[0]=B.height);e:{if(A=new Ls,(O=new Ae).data=c,O.w=d,O.ha=y,O.kd=1,d=[0],e(O!=null),((c=cs(O.data,O.w,O.ha,null,null,null,d,null,O))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(U!=null),A.data=O.data,A.w=O.w+O.offset,A.ha=O.ha-O.offset,A.put=st,A.ac=Lr,A.bc=yn,A.ma=U,O.xa){if((c=ks())==null){U=1;break e}if(function(G,ie){var ue=[0],Se=[0],he=[0];t:for(;;){if(G==null)return 0;if(ie==null)return G.a=2,0;if(G.l=ie,G.a=0,le(G.m,ie.data,ie.w,ie.ha),!Wi(G.m,ue,Se,he)){G.a=3;break t}if(G.xb=Uv,ie.width=ue[0],ie.height=Se[0],!wi(ue[0],Se[0],1,G,null))break t;return 1}return e(G.a!=0),0}(c,A)){if(A=(d=Xo(A.width,A.height,U.Oa,U.ba))==0){t:{A=c;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((y=A.l)!=null),e((O=y.ma)!=null),A.xb!=0){if(A.ca=O.ba,A.tb=O.tb,e(A.ca!=null),!Ac(O.Oa,y,xf)){A.a=2;break n}if(!ss(A,y.width)||y.da)break n;if((y.da||_t(A.ca.S))&&dn(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&dn()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Q(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Dr(A,A.V,A.Ba,A.c,A.i,y.o,Ns))break n;O.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(d=c.a)}else d=c.a}else{if((c=new rl)==null){U=1;break e}if(c.Fa=O.na,c.P=O.P,c.qc=O.Sa,Jl(c,A)){if((d=Xo(A.width,A.height,U.Oa,U.ba))==0){if(c.Aa=0,y=U.Oa,e((O=c)!=null),y!=null){if(0<(q=0>(q=y.Md)?0:100<q?255:255*q/100)){for($=ne=0;4>$;++$)12>(fe=O.pb[$]).lc&&(fe.ia=q*lx[0>fe.lc?0:fe.lc]>>3),ne|=fe.ia;ne&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=y.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(G,ie){if(G==null)return 0;if(ie==null)return Nn(G,2,"NULL VP8Io parameter in VP8Decode().");if(!G.cb&&!Jl(G,ie))return 0;if(e(G.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(G.L=0);var ue=Pf[G.L];if(G.L==2?(G.yb=0,G.zb=0):(G.yb=ie.v-ue>>4,G.zb=ie.j-ue>>4,0>G.yb&&(G.yb=0),0>G.zb&&(G.zb=0)),G.Va=ie.o+15+ue>>4,G.Hb=ie.va+15+ue>>4,G.Hb>G.za&&(G.Hb=G.za),G.Va>G.Ub&&(G.Va=G.Ub),0<G.L){var Se=G.ed;for(ue=0;4>ue;++ue){var he;if(G.Qa.Cb){var Ee=G.Qa.Lb[ue];G.Qa.Fb||(Ee+=Se.Tb)}else Ee=Se.Tb;for(he=0;1>=he;++he){var Ie=G.gd[ue][he],Le=Ee;if(Se.Pc&&(Le+=Se.vd[0],he&&(Le+=Se.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var ke=Le;0<Se.wb&&(ke=4<Se.wb?ke>>2:ke>>1)>9-Se.wb&&(ke=9-Se.wb),1>ke&&(ke=1),Ie.dd=ke,Ie.tc=2*Le+ke,Ie.ld=40<=Le?2:15<=Le?1:0}else Ie.tc=0;Ie.La=he}}}ue=0}else Nn(G,6,"Frame setup failed"),ue=G.a;if(ue=ue==0){if(ue){G.$c=0,0<G.Aa||(G.Ic=ux);t:{ue=G.Ic,Se=4*(ke=G.za);var tt=32*ke,qe=ke+1,It=0<G.L?ke*(0<G.Aa?2:1):0,Ke=(G.Aa==2?2:1)*ke;if((Ie=Se+832+(he=3*(16*ue+Pf[G.L])/2*tt)+(Ee=G.Fa!=null&&0<G.Fa.length?G.Kc.c*G.Kc.i:0))!=Ie)ue=0;else{if(Ie>G.Vb){if(G.Vb=0,G.Ec=s(Ie),G.Fc=0,G.Ec==null){ue=Nn(G,1,"no memory during frame initialization.");break t}G.Vb=Ie}Ie=G.Ec,Le=G.Fc,G.Ac=Ie,G.Bc=Le,Le+=Se,G.Gd=o(tt,tl),G.Hd=0,G.rb=o(qe+1,bi),G.sb=1,G.wa=It?o(It,dr):null,G.Y=0,G.D.Nb=0,G.D.wa=G.wa,G.D.Y=G.Y,0<G.Aa&&(G.D.Y+=ke),e(!0),G.oc=Ie,G.pc=Le,Le+=832,G.ya=o(Ke,Za),G.aa=0,G.D.ya=G.ya,G.D.aa=G.aa,G.Aa==2&&(G.D.aa+=ke),G.R=16*ke,G.B=8*ke,ke=(tt=Pf[G.L])*G.R,tt=tt/2*G.B,G.sa=Ie,G.ta=Le+ke,G.qa=G.sa,G.ra=G.ta+16*ue*G.R+tt,G.Ha=G.qa,G.Ia=G.ra+8*ue*G.B+tt,G.$c=0,Le+=he,G.mb=Ee?Ie:null,G.nb=Ee?Le:null,e(Le+Ee<=G.Fc+G.Vb),Rs(G),i(G.Ac,G.Bc,0,Se),ue=1}}if(ue){if(ie.ka=0,ie.y=G.sa,ie.O=G.ta,ie.f=G.qa,ie.N=G.ra,ie.ea=G.Ha,ie.Vd=G.Ia,ie.fa=G.R,ie.Rc=G.B,ie.F=null,ie.J=0,!Ov){for(ue=-255;255>=ue;++ue)Cv[255+ue]=0>ue?-ue:ue;for(ue=-1020;1020>=ue;++ue)Lv[1020+ue]=-128>ue?-128:127<ue?127:ue;for(ue=-112;112>=ue;++ue)Rv[112+ue]=-16>ue?-16:15<ue?15:ue;for(ue=-255;510>=ue;++ue)Dv[255+ue]=0>ue?0:255<ue?255:ue;Ov=1}ra=Ds,ml=Wo,zs=Zl,Jt=Ot,un=oo,Qi=Ho,Wn=cl,ir=Yo,fo=g,Pc=R,nu=Ki,bf=hl,Sv=W,Av=ee,Ev=js,xv=Vs,Iv=ci,Tv=ul,hs[0]=wc,hs[1]=sl,hs[2]=Fs,hs[3]=_c,hs[4]=bc,hs[5]=as,hs[6]=pr,hs[7]=Sc,hs[8]=ls,hs[9]=Go,ia[0]=ui,ia[1]=vc,ia[2]=yc,ia[3]=ol,ia[4]=$i,ia[5]=Os,ia[6]=$o,po[0]=lo,po[1]=eu,po[2]=Ko,po[3]=Si,po[4]=ln,po[5]=al,po[6]=ll,ue=1}else ue=0}ue&&(ue=function(Vt,sr){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var Tt,Qe=Vt.Jc[Vt.M&Vt.Xb],Fe=Vt.m,$n=Vt;for(Tt=0;Tt<$n.za;++Tt){var xt=Fe,qt=$n,_n=qt.Ac,Sr=qt.Bc+4*Tt,Jr=qt.zc,jn=qt.ya[qt.aa+Tt];if(qt.Qa.Bb?jn.$b=xe(xt,qt.Pa.jb[0])?2+xe(xt,qt.Pa.jb[2]):xe(xt,qt.Pa.jb[1]):jn.$b=0,qt.kc&&(jn.Ad=xe(xt,qt.Bd)),jn.Za=!xe(xt,145)+0,jn.Za){var Fr=jn.Ob,Zr=0;for(qt=0;4>qt;++qt){var or,Wt=Jr[0+qt];for(or=0;4>or;++or){Wt=KE[_n[Sr+or]][Wt];for(var nn=Vv[xe(xt,Wt[0])];0<nn;)nn=Vv[2*nn+xe(xt,Wt[nn])];Wt=-nn,_n[Sr+or]=Wt}r(Fr,Zr,_n,Sr,4),Zr+=4,Jr[0+qt]=Wt}}else Wt=xe(xt,156)?xe(xt,128)?1:3:xe(xt,163)?2:0,jn.Ob[0]=Wt,i(_n,Sr,Wt,4),i(Jr,0,Wt,4);jn.Dd=xe(xt,142)?xe(xt,114)?xe(xt,183)?1:3:2:0}if($n.m.Ka)return Nn(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if($n=Qe,xt=(Fe=Vt).rb[Fe.sb-1],_n=Fe.rb[Fe.sb+Fe.ja],Tt=Fe.ya[Fe.aa+Fe.ja],Sr=Fe.kc?Tt.Ad:0)xt.la=_n.la=0,Tt.Za||(xt.Na=_n.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var Vn,rn;if(xt=_n,_n=$n,Sr=Fe.Pa.Xc,Jr=Fe.ya[Fe.aa+Fe.ja],jn=Fe.pb[Jr.$b],qt=Jr.ad,Fr=0,Zr=Fe.rb[Fe.sb-1],Wt=or=0,i(qt,Fr,0,384),Jr.Za)var Ar=0,fs=Sr[3];else{nn=s(16);var Gn=xt.Na+Zr.Na;if(Gn=Lc(_n,Sr[1],Gn,jn.Eb,0,nn,0),xt.Na=Zr.Na=(0<Gn)+0,1<Gn)ra(nn,0,qt,Fr);else{var hi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)qt[Fr+nn]=hi}Ar=1,fs=Sr[0]}var cn=15&xt.la,ar=15&Zr.la;for(nn=0;4>nn;++nn){var Ni=1&ar;for(hi=rn=0;4>hi;++hi)cn=cn>>1|(Ni=(Gn=Lc(_n,fs,Gn=Ni+(1&cn),jn.Sc,Ar,qt,Fr))>Ar)<<7,rn=rn<<2|(3<Gn?3:1<Gn?2:qt[Fr+0]!=0),Fr+=16;cn>>=4,ar=ar>>1|Ni<<7,or=(or<<8|rn)>>>0}for(fs=cn,Ar=ar>>4,Vn=0;4>Vn;Vn+=2){for(rn=0,cn=xt.la>>4+Vn,ar=Zr.la>>4+Vn,nn=0;2>nn;++nn){for(Ni=1&ar,hi=0;2>hi;++hi)Gn=Ni+(1&cn),cn=cn>>1|(Ni=0<(Gn=Lc(_n,Sr[2],Gn,jn.Qc,0,qt,Fr)))<<3,rn=rn<<2|(3<Gn?3:1<Gn?2:qt[Fr+0]!=0),Fr+=16;cn>>=2,ar=ar>>1|Ni<<5}Wt|=rn<<4*Vn,fs|=cn<<4<<Vn,Ar|=(240&ar)<<Vn}xt.la=fs,Zr.la=Ar,Jr.Hc=or,Jr.Gc=Wt,Jr.ia=43690&Wt?0:jn.ia,Sr=!(or|Wt)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Tt.$b][Tt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Sr),$n.Ka)return Nn(Vt,7,"Premature end-of-file encountered.")}if(Rs(Vt),Fe=sr,$n=1,Tt=(Qe=Vt).D,xt=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(Tt.M=Qe.M,Tt.uc=xt,br(Qe,Tt),$n=1,Tt=(rn=Qe.D).Nb,xt=(Wt=Pf[Qe.L])*Qe.R,_n=Wt/2*Qe.B,nn=16*Tt*Qe.R,hi=8*Tt*Qe.B,Sr=Qe.sa,Jr=Qe.ta-xt+nn,jn=Qe.qa,qt=Qe.ra-_n+hi,Fr=Qe.Ha,Zr=Qe.Ia-_n+hi,ar=(cn=rn.M)==0,or=cn>=Qe.Va-1,Qe.Aa==2&&br(Qe,rn),rn.uc)for(Ni=(Gn=Qe).D.M,e(Gn.D.uc),rn=Gn.yb;rn<Gn.Hb;++rn){Ar=rn,fs=Ni;var ei=(ki=(Er=Gn).D).Nb;Vn=Er.R;var ki=ki.wa[ki.Y+Ar],Pi=Er.sa,fi=Er.ta+16*ei*Vn+16*Ar,Ci=ki.dd,mn=ki.tc;if(mn!=0)if(e(3<=mn),Er.L==1)0<Ar&&xv(Pi,fi,Vn,mn+4),ki.La&&Tv(Pi,fi,Vn,mn),0<fs&&Ev(Pi,fi,Vn,mn+4),ki.La&&Iv(Pi,fi,Vn,mn);else{var Li=Er.B,ds=Er.qa,gl=Er.ra+8*ei*Li+8*Ar,mo=Er.Ha,Er=Er.Ia+8*ei*Li+8*Ar;ei=ki.ld,0<Ar&&(ir(Pi,fi,Vn,mn+4,Ci,ei),Pc(ds,gl,mo,Er,Li,mn+4,Ci,ei)),ki.La&&(bf(Pi,fi,Vn,mn,Ci,ei),Av(ds,gl,mo,Er,Li,mn,Ci,ei)),0<fs&&(Wn(Pi,fi,Vn,mn+4,Ci,ei),fo(ds,gl,mo,Er,Li,mn+4,Ci,ei)),ki.La&&(nu(Pi,fi,Vn,mn,Ci,ei),Sv(ds,gl,mo,Er,Li,mn,Ci,ei))}}if(Qe.ia&&alert("todo:DitherRow"),Fe.put!=null){if(rn=16*cn,cn=16*(cn+1),ar?(Fe.y=Qe.sa,Fe.O=Qe.ta+nn,Fe.f=Qe.qa,Fe.N=Qe.ra+hi,Fe.ea=Qe.Ha,Fe.W=Qe.Ia+hi):(rn-=Wt,Fe.y=Sr,Fe.O=Jr,Fe.f=jn,Fe.N=qt,Fe.ea=Fr,Fe.W=Zr),or||(cn-=Wt),cn>Fe.o&&(cn=Fe.o),Fe.F=null,Fe.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&rn<cn&&(Fe.J=kn(Qe,Fe,rn,cn-rn),Fe.F=Qe.mb,Fe.F==null&&Fe.F.length==0)){$n=Nn(Qe,3,"Could not decode alpha data.");break t}rn<Fe.j&&(Wt=Fe.j-rn,rn=Fe.j,e(!(1&Wt)),Fe.O+=Qe.R*Wt,Fe.N+=Qe.B*(Wt>>1),Fe.W+=Qe.B*(Wt>>1),Fe.F!=null&&(Fe.J+=Fe.width*Wt)),rn<cn&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=rn-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=cn-rn,$n=Fe.put(Fe))}Tt+1!=Qe.Ic||or||(r(Qe.sa,Qe.ta-xt,Sr,Jr+16*Qe.R,xt),r(Qe.qa,Qe.ra-_n,jn,qt+8*Qe.B,_n),r(Qe.Ha,Qe.Ia-_n,Fr,Zr+8*Qe.B,_n))}if(!$n)return Nn(Vt,6,"Output aborted.")}return 1}(G,ie)),ie.bc!=null&&ie.bc(ie),ue&=1}return ue?(G.cb=0,ue):0})(c,A)||(d=c.a)}}else d=c.a}d==0&&U.Oa!=null&&U.Oa.fd&&(d=Ec(U.ba))}U=d}M=U!=0?null:11>M?B.f.RGBA.eb:B.f.kb.y}else M=null;return M};var Gv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(b,P){for(var S="",k=0;k<4;k++)S+=String.fromCharCode(b[P++]);return S}function f(b,P){return b[P+0]|b[P+1]<<8}function m(b,P){return(b[P+0]|b[P+1]<<8|b[P+2]<<16)>>>0}function v(b,P){return(b[P+0]|b[P+1]<<8|b[P+2]<<16|b[P+3]<<24)>>>0}new l;var p=[0],E=[0],T=[],D=new l,w=t,N=function(b,P){var S={},k=0,L=!1,J=0,pe=0;if(S.frames=[],!function(F,H){for(var Y=0;Y<4;Y++)if(F[H+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(b,P)){for(v(b,P+=4),P+=8;P<b.length;){var ye=u(b,P),ge=v(b,P+=4);P+=4;var Z=ge+(1&ge);switch(ye){case"VP8 ":case"VP8L":S.frames[k]===void 0&&(S.frames[k]={}),(we=S.frames[k]).src_off=L?pe:P-8,we.src_size=J+ge+8,k++,L&&(L=!1,J=0,pe=0);break;case"VP8X":(we=S.header={}).feature_flags=b[P];var le=P+4;we.canvas_width=1+m(b,le),le+=3,we.canvas_height=1+m(b,le),le+=3;break;case"ALPH":L=!0,J=Z+8,pe=P-8;break;case"ANIM":(we=S.header).bgcolor=v(b,P),le=P+4,we.loop_count=f(b,le),le+=2;break;case"ANMF":var be,we;(we=S.frames[k]={}).offset_x=2*m(b,P),P+=3,we.offset_y=2*m(b,P),P+=3,we.width=1+m(b,P),P+=3,we.height=1+m(b,P),P+=3,we.duration=m(b,P),P+=3,be=b[P++],we.dispose=1&be,we.blend=be>>1&1}ye!="ANMF"&&(P+=Z)}return S}}(w,0);N.response=w,N.rgbaoutput=!0,N.dataurl=!1;var C=N.header?N.header:null,j=N.frames?N.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],E=[C.canvas_width];for(var X=0;X<j.length&&j[X].blend!=0;X++);}var re=j[0],V=D.WebPDecodeRGBA(w,re.src_off,re.src_size,E,p);re.rgba=V,re.imgwidth=E[0],re.imgheight=p[0];for(var x=0;x<E[0]*p[0]*4;x++)T[x]=V[x];return this.width=E,this.height=p,this.data=T,this}(function(t){var e,n,r,i,s,o,a,l,u,f=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var m=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=F;Object.defineProperty(this,"pdf",{get:function(){return H}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(_e){Y=!!_e}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(_e){te=!!_e}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(_e){isNaN(_e)||(se=_e)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(_e){isNaN(_e)||(ce=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var Q;typeof _e=="number"?Q=[_e,_e,_e,_e]:((Q=new Array(4))[0]=_e[0],Q[1]=_e.length>=2?_e[1]:Q[0],Q[2]=_e.length>=3?_e[2]:Q[0],Q[3]=_e.length>=4?_e[3]:Q[1]),u.margin=Q}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(_e){ve=_e}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(_e){me=_e}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(_e){xe=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof f&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(_e){Pe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var Q;Q=v(_e),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var Q=v(_e);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Me=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(_e){Me=null,Ve=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var Q;if(this.ctx.font=_e,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var kt=Q[1];Q[2];var bt=Q[3],it=Q[4];Q[5];var Re=Q[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ye==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var je=function(lt){var nt,Kt,Bt=[],Ge=lt.trim();if(Ge==="")return jg;if(Ge in Cw)return[Cw[Ge]];for(;Ge!=="";){switch(Kt=null,nt=(Ge=Rw(Ge)).charAt(0)){case'"':case"'":Kt=gD(Ge.substring(1),nt);break;default:Kt=vD(Ge)}if(Kt===null||(Bt.push(Kt[0]),(Ge=Rw(Kt[1]))!==""&&Ge.charAt(0)!==","))return jg;Ge=Ge.replace(/^,/,"")}return Bt}(Re);if(this.fontFaces){var St=function(lt,nt){if(Me===null){var Kt=function(Bt){var Ge=[];return Object.keys(Bt).forEach(function(mt){Bt[mt].forEach(function(Zt){var ot=null;switch(Zt){case"bold":ot={family:mt,weight:"bold"};break;case"italic":ot={family:mt,style:"italic"};break;case"bolditalic":ot={family:mt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:mt}}ot!==null&&(ot.ref={name:mt,style:Zt},Ge.push(ot))})}),Ge}(lt.getFontList());Me=function(Bt){for(var Ge={},mt=0;mt<Bt.length;++mt){var Zt=Mg(Bt[mt]),ot=Zt.family,Pt=Zt.stretch,_t=Zt.style,An=Zt.weight;Ge[ot]=Ge[ot]||{},Ge[ot][Pt]=Ge[ot][Pt]||{},Ge[ot][Pt][_t]=Ge[ot][Pt][_t]||{},Ge[ot][Pt][_t][An]=Zt}return Ge}(Kt.concat(nt))}return Me}(this.pdf,this.fontFaces),Ze=je.map(function(lt){return{family:lt,stretch:"normal",weight:bt,style:kt}}),Mt=function(lt,nt,Kt){for(var Bt=(Kt=Kt||{}).defaultFontFamily||"times",Ge=Object.assign({},mD,Kt.genericFontFamilies||{}),mt=null,Zt=null,ot=0;ot<nt.length;++ot)if(Ge[(mt=Mg(nt[ot])).family]&&(mt.family=Ge[mt.family]),lt.hasOwnProperty(mt.family)){Zt=lt[mt.family];break}if(!(Zt=Zt||lt[Bt]))throw new Error("Could not find a font-family for the rule '"+Lw(mt)+"' and default family '"+Bt+"'.");if(Zt=function(Pt,_t){if(_t[Pt])return _t[Pt];var An=v1[Pt],vn=An<=v1.normal?-1:1,Yt=Pw(_t,dE,An,vn);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+Pt);return Yt}(mt.stretch,Zt),Zt=function(Pt,_t){if(_t[Pt])return _t[Pt];for(var An=fE[Pt],vn=0;vn<An.length;++vn)if(_t[An[vn]])return _t[An[vn]];throw new Error("Could not find a matching font-style for "+Pt)}(mt.style,Zt),!(Zt=function(Pt,_t){if(_t[Pt])return _t[Pt];if(Pt===400&&_t[500])return _t[500];if(Pt===500&&_t[400])return _t[400];var An=pD[Pt],vn=Pw(_t,pE,An,Pt<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+Pt);return vn}(mt.weight,Zt)))throw new Error("Failed to resolve a font for the rule '"+Lw(mt)+"'.");return Zt}(St,Ze);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var yt="";(bt==="bold"||parseInt(bt,10)>=700||kt==="bold")&&(yt="bold"),kt==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var Xe="",At={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<je.length;pt++){if(this.pdf.internal.getFont(je[pt],yt,{noFallback:!0,disableWarning:!0})!==void 0){Xe=je[pt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(je[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=je[pt],yt="bold";else if(this.pdf.internal.getFont(je[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=je[pt],yt="normal";break}}if(Xe===""){for(var et=0;et<je.length;et++)if(At[je[et]]){Xe=At[je[et]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};m.prototype.setLineDash=function(F){this.lineDash=F},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){j.call(this,"fill",!1)},m.prototype.stroke=function(){j.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(F,H){if(isNaN(F)||isNaN(H))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(F,H)},m.prototype.closePath=function(){var F=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&on(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){F=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},m.prototype.lineTo=function(F,H){if(isNaN(F)||isNaN(H))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},m.prototype.quadraticCurveTo=function(F,H,Y,te){if(isNaN(Y)||isNaN(te)||isNaN(F)||isNaN(H))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(Y,te)),ce=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},m.prototype.bezierCurveTo=function(F,H,Y,te,se,ce){if(isNaN(se)||isNaN(ce)||isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(se,ce)),me=this.ctx.transform.applyToPoint(new o(F,H)),xe=this.ctx.transform.applyToPoint(new o(Y,te));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:xe.x,y2:xe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},m.prototype.arc=function(F,H,Y,te,se,ce){if(isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te)||isNaN(se))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(F,H));F=ve.x,H=ve.y;var me=this.ctx.transform.applyToPoint(new o(0,Y)),xe=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(me.x-xe.x,2)+Math.pow(me.y-xe.y,2))}Math.abs(se-te)>=2*Math.PI&&(te=0,se=2*Math.PI),this.path.push({type:"arc",x:F,y:H,radius:Y,startAngle:te,endAngle:se,counterclockwise:ce})},m.prototype.arcTo=function(F,H,Y,te,se){throw new Error("arcTo not implemented.")},m.prototype.rect=function(F,H,Y,te){if(isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,H),this.lineTo(F+Y,H),this.lineTo(F+Y,H+te),this.lineTo(F,H+te),this.lineTo(F,H),this.lineTo(F+Y,H),this.lineTo(F,H)},m.prototype.fillRect=function(F,H,Y,te){if(isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,H,Y,te),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},m.prototype.strokeRect=function(F,H,Y,te){if(isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(F,H,Y,te),this.stroke())},m.prototype.clearRect=function(F,H,Y,te){if(isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,H,Y,te))},m.prototype.save=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},m.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(H),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(F){var H,Y,te,se;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))H=0,Y=0,te=0,se=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ce!==null)H=parseInt(ce[1]),Y=parseInt(ce[2]),te=parseInt(ce[3]),se=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)H=parseInt(ce[1]),Y=parseInt(ce[2]),te=parseInt(ce[3]),se=parseFloat(ce[4]);else{if(se=1,typeof F=="string"&&F.charAt(0)!=="#"){var ve=new sE(F);F=ve.ok?ve.toHex():"#000000"}F.length===4?(H=F.substring(1,2),H+=H,Y=F.substring(2,3),Y+=Y,te=F.substring(3,4),te+=te):(H=F.substring(1,3),Y=F.substring(3,5),te=F.substring(5,7)),H=parseInt(H,16),Y=parseInt(Y,16),te=parseInt(te,16)}}return{r:H,g:Y,b:te,a:se,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(F,H,Y,te){if(isNaN(H)||isNaN(Y)||typeof F!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var se=Z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:F,x:H,y:Y,scale:ce,angle:se,align:this.textAlign,maxWidth:te})}},m.prototype.strokeText=function(F,H,Y,te){if(isNaN(H)||isNaN(Y)||typeof F!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){te=isNaN(te)?void 0:te;var se=Z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:F,x:H,y:Y,scale:ce,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:te})}},m.prototype.measureText=function(F){if(typeof F!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Y=this.pdf.internal.scaleFactor,te=H.internal.getFontSize(),se=H.getStringUnitWidth(F)*te/H.internal.scaleFactor;return new function(ce){var ve=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:se*=Math.round(96*Y/72*1e4)/1e4})},m.prototype.scale=function(F,H){if(isNaN(F)||isNaN(H))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(F,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.rotate=function(F){if(isNaN(F))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(F,H){if(isNaN(F)||isNaN(H))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,F,H);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.transform=function(F,H,Y,te,se,ce){if(isNaN(F)||isNaN(H)||isNaN(Y)||isNaN(te)||isNaN(se)||isNaN(ce))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(F,H,Y,te,se,ce);this.ctx.transform=this.ctx.transform.multiply(ve)},m.prototype.setTransform=function(F,H,Y,te,se,ce){F=isNaN(F)?1:F,H=isNaN(H)?0:H,Y=isNaN(Y)?0:Y,te=isNaN(te)?1:te,se=isNaN(se)?0:se,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(F,H,Y,te,se,ce)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(F,H,Y,te,se,ce,ve,me,xe){var Pe=this.pdf.getImageProperties(F),Me=1,Ve=1,_e=1,Q=1;te!==void 0&&me!==void 0&&(_e=me/te,Q=xe/se,Me=Pe.width/te*me/te,Ve=Pe.height/se*xe/se),ce===void 0&&(ce=H,ve=Y,H=0,Y=0),te!==void 0&&me===void 0&&(me=te,xe=se),te===void 0&&me===void 0&&(me=Pe.width,xe=Pe.height);for(var kt,bt=this.ctx.transform.decompose(),it=Z(bt.rotate.shx),Re=new l,Ye=(Re=(Re=(Re=Re.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new a(ce-H*_e,ve-Y*Q,te*Me,se*Ve)),je=D.call(this,Ye),St=[],Ze=0;Ze<je.length;Ze+=1)St.indexOf(je[Ze])===-1&&St.push(je[Ze]);if(C(St),this.autoPaging)for(var Mt=St[0],yt=St[St.length-1],Xe=Mt;Xe<yt+1;Xe++){this.pdf.setPage(Xe);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Xe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Xe===1?0:et+(Xe-2)*lt;if(this.ctx.clip_path.length!==0){var Kt=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(kt,this.posX+this.margin[3],-nt+pt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Kt}var Bt=JSON.parse(JSON.stringify(Ye));Bt=N([Bt],this.posX+this.margin[3],-nt+pt+this.ctx.prevPageLastElemOffset)[0];var Ge=(Xe>Mt||Xe<yt)&&T.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,lt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,it),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,it)};var D=function(F,H,Y){var te=[];H=H||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":te.push(Math.floor((F.y+se)/Y)+1);break;case"arc":te.push(Math.floor((F.y+se-F.radius)/Y)+1),te.push(Math.floor((F.y+se+F.radius)/Y)+1);break;case"qct":var ce=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);te.push(Math.floor((ce.y+se)/Y)+1),te.push(Math.floor((ce.y+ce.h+se)/Y)+1);break;case"bct":var ve=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);te.push(Math.floor((ve.y+se)/Y)+1),te.push(Math.floor((ve.y+ve.h+se)/Y)+1);break;case"rect":te.push(Math.floor((F.y+se)/Y)+1),te.push(Math.floor((F.y+F.h+se)/Y)+1)}for(var me=0;me<te.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<te[me];)w.call(this);return te},w=function(){var F=this.fillStyle,H=this.strokeStyle,Y=this.font,te=this.lineCap,se=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=H,this.font=Y,this.lineCap=te,this.lineWidth=se,this.lineJoin=ce},N=function(F,H,Y){for(var te=0;te<F.length;te++)switch(F[te].type){case"bct":F[te].x2+=H,F[te].y2+=Y;case"qct":F[te].x1+=H,F[te].y1+=Y;default:F[te].x+=H,F[te].y+=Y}return F},C=function(F){return F.sort(function(H,Y){return H-Y})},j=function(F,H){for(var Y,te,se=this.fillStyle,ce=this.strokeStyle,ve=this.lineCap,me=this.lineWidth,xe=Math.abs(me*this.ctx.transform.scaleX),Pe=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),_e=[],Q=0;Q<Ve.length;Q++)if(Ve[Q].x!==void 0)for(var kt=D.call(this,Ve[Q]),bt=0;bt<kt.length;bt+=1)_e.indexOf(kt[bt])===-1&&_e.push(kt[bt]);for(var it=0;it<_e.length;it++)for(;this.pdf.internal.getNumberOfPages()<_e[it];)w.call(this);if(C(_e),this.autoPaging)for(var Re=_e[0],Ye=_e[_e.length-1],je=Re;je<Ye+1;je++){this.pdf.setPage(je),this.fillStyle=se,this.strokeStyle=ce,this.lineCap=ve,this.lineWidth=xe,this.lineJoin=Pe;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=je===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=je===1?0:Mt+(je-2)*yt;if(this.ctx.clip_path.length!==0){var At=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Y,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),X.call(this,F,!0),this.path=At}if(te=JSON.parse(JSON.stringify(Me)),this.path=N(te,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),H===!1||je===0){var pt=(je>Re||je<Ye)&&T.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,yt,null).clip().discardPath()),X.call(this,F,H),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=xe,X.call(this,F,H),this.lineWidth=me;this.path=Me},X=function(F,H){if((F!=="stroke"||H||!E.call(this))&&(F==="stroke"||H||!p.call(this))){for(var Y,te,se=[],ce=this.path,ve=0;ve<ce.length;ve++){var me=ce[ve];switch(me.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:me,deltas:[],abs:[]});break;case"lt":var xe=se.length;if(ce[ve-1]&&!isNaN(ce[ve-1].x)&&(Y=[me.x-ce[ve-1].x,me.y-ce[ve-1].y],xe>0)){for(;xe>=0;xe--)if(se[xe-1].close!==!0&&se[xe-1].begin!==!0){se[xe-1].deltas.push(Y),se[xe-1].abs.push(me);break}}break;case"bct":Y=[me.x1-ce[ve-1].x,me.y1-ce[ve-1].y,me.x2-ce[ve-1].x,me.y2-ce[ve-1].y,me.x-ce[ve-1].x,me.y-ce[ve-1].y],se[se.length-1].deltas.push(Y);break;case"qct":var Pe=ce[ve-1].x+2/3*(me.x1-ce[ve-1].x),Me=ce[ve-1].y+2/3*(me.y1-ce[ve-1].y),Ve=me.x+2/3*(me.x1-me.x),_e=me.y+2/3*(me.y1-me.y),Q=me.x,kt=me.y;Y=[Pe-ce[ve-1].x,Me-ce[ve-1].y,Ve-ce[ve-1].x,_e-ce[ve-1].y,Q-ce[ve-1].x,kt-ce[ve-1].y],se[se.length-1].deltas.push(Y);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(me)}}te=H?null:F==="stroke"?"stroke":"fill";for(var bt=!1,it=0;it<se.length;it++)if(se[it].arc)for(var Re=se[it].abs,Ye=0;Ye<Re.length;Ye++){var je=Re[Ye];je.type==="arc"?x.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,H,!bt):L.call(this,je.x,je.y),bt=!0}else if(se[it].close===!0)this.pdf.internal.out("h"),bt=!1;else if(se[it].begin!==!0){var St=se[it].start.x,Ze=se[it].start.y;J.call(this,se[it].deltas,St,Ze),bt=!0}te&&b.call(this,te),H&&P.call(this)}},re=function(F){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Y;case"top":return F+H-Y;case"hanging":return F+H-2*Y;case"middle":return F+H/2-Y;default:return F}},V=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(H,Y){this.colorStops.push([H,Y])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(F,H,Y,te,se,ce,ve,me,xe){for(var Pe=ye.call(this,Y,te,se,ce),Me=0;Me<Pe.length;Me++){var Ve=Pe[Me];Me===0&&(xe?S.call(this,Ve.x1+F,Ve.y1+H):L.call(this,Ve.x1+F,Ve.y1+H)),pe.call(this,F,H,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}me?P.call(this):b.call(this,ve)},b=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(F,H){this.pdf.internal.out(n(F)+" "+r(H)+" m")},k=function(F){var H;switch(F.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var Y=this.pdf.getTextDimensions(F.text),te=re.call(this,F.y),se=V.call(this,te)-Y.h,ce=this.ctx.transform.applyToPoint(new o(F.x,te)),ve=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var xe,Pe,Me,Ve=this.ctx.transform.applyToRectangle(new a(F.x,te,Y.w,Y.h)),_e=me.applyToRectangle(new a(F.x,se,Y.w,Y.h)),Q=D.call(this,_e),kt=[],bt=0;bt<Q.length;bt+=1)kt.indexOf(Q[bt])===-1&&kt.push(Q[bt]);if(C(kt),this.autoPaging)for(var it=kt[0],Re=kt[kt.length-1],Ye=it;Ye<Re+1;Ye++){this.pdf.setPage(Ye);var je=Ye===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],Mt=Ze-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],Xe=yt-this.margin[3],At=Ye===1?0:St+(Ye-2)*Mt;if(this.ctx.clip_path.length!==0){var pt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(xe,this.posX+this.margin[3],-1*At+je),X.call(this,"fill",!0),this.path=pt}var et=N([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-At+je+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*F.scale),Me=this.lineWidth,this.lineWidth=Me*F.scale);var lt=this.autoPaging!=="text";if(lt||et.y+et.h<=Ze){if(lt||et.y>=je&&et.x<=yt){var nt=lt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||yt-et.x)[0],Kt=N([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-At+je+this.ctx.prevPageLastElemOffset)[0],Bt=lt&&(Ye>it||Ye<Re)&&T.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Mt,null).clip().discardPath()),this.pdf.text(nt,Kt.x,Kt.y,{angle:F.angle,align:H,renderingMode:F.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else et.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-et.y);F.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Me)}else F.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*F.scale),Me=this.lineWidth,this.lineWidth=Me*F.scale),this.pdf.text(F.text,ce.x+this.posX,ce.y+this.posY,{angle:F.angle,align:H,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Me)},L=function(F,H,Y,te){Y=Y||0,te=te||0,this.pdf.internal.out(n(F+Y)+" "+r(H+te)+" l")},J=function(F,H,Y){return this.pdf.lines(F,H,Y,null,null)},pe=function(F,H,Y,te,se,ce,ve,me){this.pdf.internal.out([e(i(Y+F)),e(s(te+H)),e(i(se+F)),e(s(ce+H)),e(i(ve+F)),e(s(me+H)),"c"].join(" "))},ye=function(F,H,Y,te){for(var se=2*Math.PI,ce=Math.PI/2;H>Y;)H-=se;var ve=Math.abs(Y-H);ve<se&&te&&(ve=se-ve);for(var me=[],xe=te?-1:1,Pe=H;ve>1e-5;){var Me=Pe+xe*Math.min(ve,ce);me.push(ge.call(this,F,Pe,Me)),ve-=Math.abs(Me-Pe),Pe=Me}return me},ge=function(F,H,Y){var te=(Y-H)/2,se=F*Math.cos(te),ce=F*Math.sin(te),ve=se,me=-ce,xe=ve*ve+me*me,Pe=xe+ve*se+me*ce,Me=4/3*(Math.sqrt(2*xe*Pe)-Pe)/(ve*ce-me*se),Ve=ve-Me*me,_e=me+Me*ve,Q=Ve,kt=-_e,bt=te+H,it=Math.cos(bt),Re=Math.sin(bt);return{x1:F*Math.cos(H),y1:F*Math.sin(H),x2:Ve*it-_e*Re,y2:Ve*Re+_e*it,x3:Q*it-kt*Re,y3:Q*Re+kt*it,x4:F*Math.cos(Y),y4:F*Math.sin(Y)}},Z=function(F){return 180*F/Math.PI},le=function(F,H,Y,te,se,ce){var ve=F+.5*(Y-F),me=H+.5*(te-H),xe=se+.5*(Y-se),Pe=ce+.5*(te-ce),Me=Math.min(F,se,ve,xe),Ve=Math.max(F,se,ve,xe),_e=Math.min(H,ce,me,Pe),Q=Math.max(H,ce,me,Pe);return new a(Me,_e,Ve-Me,Q-_e)},be=function(F,H,Y,te,se,ce,ve,me){var xe,Pe,Me,Ve,_e,Q,kt,bt,it,Re,Ye,je,St,Ze,Mt=Y-F,yt=te-H,Xe=se-Y,At=ce-te,pt=ve-se,et=me-ce;for(Pe=0;Pe<41;Pe++)it=(kt=(Me=F+(xe=Pe/40)*Mt)+xe*((_e=Y+xe*Xe)-Me))+xe*(_e+xe*(se+xe*pt-_e)-kt),Re=(bt=(Ve=H+xe*yt)+xe*((Q=te+xe*At)-Ve))+xe*(Q+xe*(ce+xe*et-Q)-bt),Pe==0?(Ye=it,je=Re,St=it,Ze=Re):(Ye=Math.min(Ye,it),je=Math.min(je,Re),St=Math.max(St,it),Ze=Math.max(Ze,Re));return new a(Math.round(Ye),Math.round(je),Math.round(St-Ye),Math.round(Ze-je))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,H,Y=(F=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:H}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Je.API),function(t){var e=function(o){var a,l,u,f,m,v,p,E,T,D;for(l=[],u=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(m=((m=((m=((m=(m-(D=m%85))/85)-(T=m%85))/85)-(E=m%85))/85)-(p=m%85))/85)%85,l.push(v+33,p+33,E+33,T+33,D+33)):l.push(122);return function(w,N){for(var C=N;C>0;C--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,f,m,v=String,p="length",E=255,T="charCodeAt",D="slice",w="replace";for(o[D](-2),o=o[D](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],f=0,m=(o+=a="uuuuu"[D](o[p]%5||5))[p];m>f;f+=5)l=52200625*(o[T](f)-33)+614125*(o[T](f+1)-33)+7225*(o[T](f+2)-33)+85*(o[T](f+3)-33)+(o[T](f+4)-33),u.push(E&l>>24,E&l>>16,E&l>>8,E&l);return function(N,C){for(var j=C;j>0;j--)N.pop()}(u,a[p]),v.fromCharCode.apply(v,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=c1(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Je.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,f){var m=new XMLHttpRequest,v=0,p=function(E){var T=E.length,D=[],w=String.fromCharCode;for(v=0;v<T;v+=1)D.push(w(255&E.charCodeAt(v)));return D.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Je.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):_g(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):_g(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=on(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(a(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return(f=f.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var E=f[p],T=E.src.find(function(D){return D.format==="truetype"});T&&u.addFont(T.url,E.ref.name,E.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||Je.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,m).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=u.call(m,a,l);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Je.getPageSize=function(a,l,u){if(on(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var m,v=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var E,T=0,D=0;if(p.hasOwnProperty(v))T=p[v][1]/m,D=p[v][0]/m;else try{T=u[1],D=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",D>T&&(E=D,D=T,T=E);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",T>D&&(E=D,D=T,T=E)}return{width:D,height:T,unit:l,k:m,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Mg):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(Je.API),Je.API.addJS=function(t){return Ow=t,this.internal.events.subscribe("postPutResources",function(){dd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ow+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){dd!==void 0&&Dw!==void 0&&this.internal.out("/Names <</JavaScript "+dd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=n.internal.newObject();f.push(m);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Je.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),E=m.length,T={width:0,height:0,numcomponents:1},D=4;D<E;D+=2){if(D+=p,e.indexOf(m.charCodeAt(D+1))!==-1){v=256*m.charCodeAt(D+5)+m.charCodeAt(D+6),T={width:256*m.charCodeAt(D+7)+m.charCodeAt(D+8),height:v,numcomponents:m.charCodeAt(D+9)};break}p=256*m.charCodeAt(D+2)+m.charCodeAt(D+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(Je.API),Je.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=eD(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(x){for(var b=x.width,P=x.height,S=x.data,k=x.palette,L=x.depth,J=!1,pe=[],ye=[],ge=void 0,Z=!1,le=0,be=0;be<k.length;be++){var we=V_(k[be],4),F=we[0],H=we[1],Y=we[2],te=we[3];pe.push(F,H,Y),te!=null&&(te===0?(le++,ye.length<1&&ye.push(be)):te<255&&(Z=!0))}if(Z||le>1){J=!0,ye=void 0;var se=b*P;ge=new Uint8Array(se);for(var ce=new DataView(S.buffer),ve=0;ve<se;ve++){var me=Vg(ce,ve,L),xe=V_(k[me],4)[3];ge[ve]=xe}}else le===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:S,alphaBytes:ge,needSMask:J,palette:pe,mask:ye}}(s):l===2||l===4?function(x){for(var b=x.data,P=x.width,S=x.height,k=x.channels,L=x.depth,J=k===2?"DeviceGray":"DeviceRGB",pe=k-1,ye=P*S,ge=pe,Z=ye*ge,le=1*ye,be=Math.ceil(Z*L/8),we=Math.ceil(le*L/8),F=new Uint8Array(be),H=new Uint8Array(we),Y=new DataView(b.buffer),te=new DataView(F.buffer),se=new DataView(H.buffer),ce=!1,ve=0;ve<ye;ve++){for(var me=ve*k,xe=0;xe<ge;xe++)Hw(te,Vg(Y,me+xe,L),ve*ge+xe,L);var Pe=Vg(Y,me+ge,L);Pe<(1<<L)-1&&(ce=!0),Hw(se,Pe,1*ve,L)}return{colorSpace:J,colorsPerPixel:pe,sMaskBitsPerComponent:ce?L:void 0,colorBytes:F,alphaBytes:H,needSMask:ce}}(s):function(x){var b=x.data,P=x.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:b instanceof Uint16Array?function(S){for(var k=S.length,L=new Uint8Array(2*k),J=new DataView(L.buffer,L.byteOffset,L.byteLength),pe=0;pe<k;pe++)J.setUint16(2*pe,S[pe],!1);return L}(b):b,needSMask:!1}}(s);var m,v,p,E=i,T=E.colorSpace,D=E.colorsPerPixel,w=E.sMaskBitsPerComponent,N=E.colorBytes,C=E.alphaBytes,j=E.needSMask,X=E.palette,re=E.mask,V=null;return r!==Je.API.image_compression.NONE&&typeof c1=="function"?(V=function(x){var b;switch(x){case Je.API.image_compression.FAST:b=11;break;case Je.API.image_compression.MEDIUM:b=13;break;case Je.API.image_compression.SLOW:b=14;break;default:b=12}return b}(r),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(V," /Colors ").concat(D," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=Vw(N,Math.ceil(o*D*f/8),D,f,r),j&&(p=Vw(C,Math.ceil(o*w/8),1,w,r))):(m=void 0,v=void 0,t=N,j&&(p=C)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:v,transparency:re,palette:X,sMask:p,predictor:V,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:T}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new bD(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},f=new Ug(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(Je.API),ms.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ms.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},ms.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ms.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ms.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ms.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},ms.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},ms.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ms.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ms.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ms(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Ug(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Je.API),$w.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new $w(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Ug(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Je.API),Je.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var f=r[u],m=r[u+1],v=r[u+2],p=r[u+3];s[a++]=f,s[a++]=m,s[a++]=v,o[l++]=p}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Je.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},au=Je.API,pd=au.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,v=0,p=t.length,E=0,T=a[0]||l,D=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?D.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=m&&on(u[r])==="object"&&!isNaN(parseInt(u[r][E],10))?u[r][E]/f:0,D.push((a[r]||T)/l+v)),E=r;return D},Fw=au.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return au.processArabic&&(t=au.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:pd.apply(this,arguments).reduce(function(s,o){return s+o},0)},Mw=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},jw=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,f=[],m=[f],v=n.textIndent||0,p=0,E=0,T=t.split(" "),D=pd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),N=[];T.map(function(j){(j=j.split(/\s*\n/)).length>1?N=N.concat(j.map(function(X,re){return(re&&X.length?`
`:"")+X})):N.push(j[0])}),T=N,l=Fw.apply(this,[w,n])}for(s=0,o=T.length;s<o;s++){var C=0;if(r=T[s],l&&r[0]==`
`&&(r=r.substr(1),C=1),v+p+(E=(i=pd.apply(this,[r,n])).reduce(function(j,X){return j+X},0))>e||C){if(E>e){for(a=Mw.apply(this,[r,i,e-(v+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)m.push([a.shift()]);E=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(j,X){return j+X},0)}else f=[r];m.push(f),v=E+l,p=D}else f.push(r),v+=p+E,p=D}return u=l?function(j,X){return(X?w:"")+j.join(" ")}:function(j){return j.join(" ")},m.map(u)},au.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(jw.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var p,E,T,D,w=["{"];for(var N in v){if(p=v[N],isNaN(parseInt(N,10))?E="'"+N+"'":(N=parseInt(N,10),E=(E=o(N).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof p=="number")p<0?(T=o(p).slice(3),D="-"):(T=o(p).slice(2),D=""),T=D+T.slice(0,-1)+i[T.slice(-1)];else{if(on(p)!=="object")throw new Error("Don't know what to do with value type "+on(p)+".");T=a(p)}w.push(E+T)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,E,T,D,w={},N=1,C=w,j=[],X="",re="",V=v.length-1,x=1;x<V;x+=1)(D=v[x])=="'"?p?(T=p.join(""),p=void 0):p=[]:p?p.push(D):D=="{"?(j.push([C,T]),C={},T=void 0):D=="}"?((E=j.pop())[0][E[1]]=C,T=void 0,C=E[0]):D=="-"?N=-1:T===void 0?r.hasOwnProperty(D)?(X+=r[D],T=parseInt(X,16)*N,N=1,X=""):X+=D:r.hasOwnProperty(D)?(re+=r[D],C[T]=parseInt(re,16)*N,N=1,T=void 0,re=""):re+=D;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var p=v.font,E=m.Unicode[p.postScriptName];E&&(p.metadata.Unicode={},p.metadata.Unicode.widths=E.widths,p.metadata.Unicode.kerning=E.kerning);var T=f.Unicode[p.postScriptName];T&&(p.metadata.Unicode.encoding=T,p.encoding=T.codePages[0])}])}(Je.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Md(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Je),Je.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(vt.canvg?Promise.resolve(vt.canvg):_g(()=>import("./index.es-BC4BM3So.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},Je.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Je.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,f=0,m=0;function v(E,T){var D,w=!1;for(D=0;D<E.length;D+=1)E[D]===T&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(m=0;m<p;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(on(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,T=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?T.push("/"+E+" /"+n[E].value):T.push("/"+E+" "+n[E].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Je.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,v=s.length;m<v;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(u[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,u,f,m,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,v=(a=Object.keys(s).sort(function(p,E){return p-E})).length;m<v;m++)o=a[m],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",E=0;E<v.length;E++)p+=String.fromCharCode(v[E]);var T=u();f({data:p,addLength1:!0,objectId:T}),l("endobj");var D=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:D}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+fu(a.fontName)),l("/FontFile2 "+T+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var N=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+fu(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+D+" 0 R"),l("/BaseFont /"+fu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var E=u();f({data:v,addLength1:!0,objectId:E}),l("endobj");var T=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var D=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+E+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+fu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+fu(a.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,f=s.options||{},m=s.mutex||{},v=m.pdfEscape,p=m.activeFontKey,E=m.fonts,T=p,D="",w=0,N="",C=E[T].encoding;if(E[T].encoding!=="Identity-H")return{text:a,x:l,y:u,options:f,mutex:m};for(N=a,T=p,Array.isArray(a)&&(N=a[0]),w=0;w<N.length;w+=1)E[T].metadata.hasOwnProperty("cmap")&&(o=E[T].metadata.cmap.unicode.codeMap[N[w].charCodeAt(0)]),o||N[w].charCodeAt(0)<256&&E[T].metadata.hasOwnProperty("Unicode")?D+=N[w]:D+="";var j="";return parseInt(T.slice(1))<14||C==="WinAnsiEncoding"?j=v(D,T).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(j=n(D,E[T])),m.isHex=!0,{text:j,x:l,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Je),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Je.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,f,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,C=0;this.__bidiEngine__={};var j=function(S){var k=S.charCodeAt(),L=k>>8,J=T[L];return J!==void 0?m[256*J+(255&k)]:L===252||L===253?"AL":w.test(L)?"L":L===8?"R":"N"},X=function(S){for(var k,L=0;L<S.length;L++){if((k=j(S.charAt(L)))==="L")return!1;if(k==="R")return!0}return!1},re=function(S,k,L,J){var pe,ye,ge,Z,le=k[J];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(le="AN");break;case"AL":N=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":J<1||J+1>=k.length||(pe=L[J-1])!=="EN"&&pe!=="AN"||(ye=k[J+1])!=="EN"&&ye!=="AN"?le="N":N&&(ye="AN"),le=ye===pe?ye:"N";break;case"ES":le=(pe=J>0?L[J-1]:"B")==="EN"&&J+1<k.length&&k[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&L[J-1]==="EN"){le="EN";break}if(N){le="N";break}for(ge=J+1,Z=k.length;ge<Z&&k[ge]==="ET";)ge++;le=ge<Z&&k[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=k.length,ge=J+1;ge<Z&&k[ge]==="NSM";)ge++;if(ge<Z){var be=S[J],we=be>=1425&&be<=2303||be===64286;if(pe=k[ge],we&&(pe==="R"||pe==="AL")){le="R";break}}}le=J<1||(pe=k[J-1])==="B"?"N":L[J-1];break;case"B":N=!1,i=!0,le=C;break;case"S":s=!0,le="N"}return le},V=function(S,k,L){var J=S.split("");return L&&x(J,L,{hiLevel:C}),J.reverse(),k&&k.reverse(),J.join("")},x=function(S,k,L){var J,pe,ye,ge,Z,le=-1,be=S.length,we=0,F=[],H=C?p:v,Y=[];for(N=!1,i=!1,s=!1,pe=0;pe<be;pe++)Y[pe]=j(S[pe]);for(ye=0;ye<be;ye++){if(Z=we,F[ye]=re(S,Y,F,ye),J=240&(we=H[Z][E[F[ye]]]),we&=15,k[ye]=ge=H[we][5],J>0)if(J===16){for(pe=le;pe<ye;pe++)k[pe]=1;le=-1}else le=-1;if(H[we][6])le===-1&&(le=ye);else if(le>-1){for(pe=le;pe<ye;pe++)k[pe]=ge;le=-1}Y[ye]==="B"&&(k[ye]=0),L.hiLevel|=ge}s&&function(te,se,ce){for(var ve=0;ve<ce;ve++)if(te[ve]==="S"){se[ve]=C;for(var me=ve-1;me>=0&&te[me]==="WS";me--)se[me]=C}}(Y,k,be)},b=function(S,k,L,J,pe){if(!(pe.hiLevel<S)){if(S===1&&C===1&&!i)return k.reverse(),void(L&&L.reverse());for(var ye,ge,Z,le,be=k.length,we=0;we<be;){if(J[we]>=S){for(Z=we+1;Z<be&&J[Z]>=S;)Z++;for(le=we,ge=Z-1;le<ge;le++,ge--)ye=k[le],k[le]=k[ge],k[ge]=ye,L&&(ye=L[le],L[le]=L[ge],L[ge]=ye);we=Z}we++}}},P=function(S,k,L){var J=S.split(""),pe={hiLevel:C};return L||(L=[]),x(J,L,pe),function(ye,ge,Z){if(Z.hiLevel!==0&&f)for(var le,be=0;be<ye.length;be++)ge[be]===1&&(le=D.indexOf(ye[be]))>=0&&(ye[be]=D[le+1])}(J,L,pe),b(2,J,k,L,pe),b(1,J,k,L,pe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(S,k,L){if(function(pe,ye){if(ye)for(var ge=0;ge<pe.length;ge++)ye[ge]=ge;a===void 0&&(a=X(pe)),u===void 0&&(u=X(pe))}(S,k),o||!l||u)if(o&&l&&a^u)C=a?1:0,S=V(S,k,L);else if(!o&&l&&u)C=a?1:0,S=P(S,k,L),S=V(S,k);else if(!o||a||l||u){if(o&&!l&&a^u)S=V(S,k),a?(C=0,S=P(S,k,L)):(C=1,S=P(S,k,L),S=V(S,k));else if(o&&a&&!l&&u)C=1,S=P(S,k,L),S=V(S,k);else if(!o&&!l&&a^u){var J=f;a?(C=1,S=P(S,k,L),C=0,f=!1,S=P(S,k,L),f=J):(C=0,S=P(S,k,L),S=V(S,k),C=1,f=!1,S=P(S,k,L),f=J,S=V(S,k))}}else C=0,S=P(S,k,L);else C=a?1:0,S=P(S,k,L);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,u=S.isOutputRtl,f=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Je),Je.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new $a(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new FD(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new SD(this.contents),this.head=new ED(this),this.name=new kD(this),this.cmap=new gE(this),this.toUnicode={},this.hhea=new xD(this),this.maxp=new PD(this),this.hmtx=new CD(this),this.post=new TD(this),this.os2=new ID(this),this.loca=new OD(this),this.glyf=new LD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Is,$a=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),SD=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,f,m,v,p,E,T;for(T in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),o=Math.floor(m/l),f=16*p-m,(i=new $a).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(f),s=16*p,u=i.pos+s,a=null,E=[],n)for(v=n[T],i.writeString(T),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),E=E.concat(v),T==="head"&&(a=u),u+=v.length;u%4;)E.push(0),u++;return i.write(E),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=vE.call(n);n.length%4;)n.push(0);for(s=new $a(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),AD={}.hasOwnProperty,to=function(t,e){for(var n in e)AD.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Is=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ED=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new $a).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Gw=function(){function t(e,n){var r,i,s,o,a,l,u,f,m,v,p,E,T,D,w,N,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var j,X;for(X=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)X.push(e.readUInt16());return X}(),e.pos+=2,T=function(){var j,X;for(X=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)X.push(e.readUInt16());return X}(),u=function(){var j,X;for(X=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)X.push(e.readUInt16());return X}(),f=function(){var j,X;for(X=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,a=function(){var j,X;for(X=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)X.push(e.readUInt16());return X}(),l=w=0,C=s.length;w<C;l=++w)for(D=s[l],r=N=E=T[l];E<=D?N<=D:N>=D;r=E<=D?++N:--N)f[l]===0?o=r+u[l]:(o=a[f[l]/2+(r-E)-(v-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=m}return t.encode=function(e,n){var r,i,s,o,a,l,u,f,m,v,p,E,T,D,w,N,C,j,X,re,V,x,b,P,S,k,L,J,pe,ye,ge,Z,le,be,we,F,H,Y,te,se,ce,ve,me,xe,Pe,Me;switch(J=new $a,o=Object.keys(e).sort(function(Ve,_e){return Ve-_e}),n){case"macroman":for(T=0,D=function(){var Ve=[];for(E=0;E<256;++E)Ve.push(0);return Ve}(),N={0:0},s={},pe=0,le=o.length;pe<le;pe++)N[me=e[i=o[pe]]]==null&&(N[me]=++T),s[i]={old:e[i],new:N[e[i]]},D[i]=N[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(D),{charMap:s,subtable:J.data,maxGlyphID:T+1};case"unicode":for(k=[],m=[],C=0,N={},r={},w=u=null,ye=0,be=o.length;ye<be;ye++)N[X=e[i=o[ye]]]==null&&(N[X]=++C),r[i]={old:X,new:N[X]},a=N[X]-i,w!=null&&a===u||(w&&m.push(w),k.push(i),u=a),w=i;for(w&&m.push(w),m.push(65535),k.push(65535),P=2*(b=k.length),x=2*Math.pow(Math.log(b)/Math.LN2,2),v=Math.log(x/2)/Math.LN2,V=2*b-x,l=[],re=[],p=[],E=ge=0,we=k.length;ge<we;E=++ge){if(S=k[E],f=m[E],S===65535){l.push(0),re.push(0);break}if(S-(L=r[S].new)>=32768)for(l.push(0),re.push(2*(p.length+b-E)),i=Z=S;S<=f?Z<=f:Z>=f;i=S<=f?++Z:--Z)p.push(r[i].new);else l.push(L-S),re.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*b+2*p.length),J.writeUInt16(0),J.writeUInt16(P),J.writeUInt16(x),J.writeUInt16(v),J.writeUInt16(V),ce=0,F=m.length;ce<F;ce++)i=m[ce],J.writeUInt16(i);for(J.writeUInt16(0),ve=0,H=k.length;ve<H;ve++)i=k[ve],J.writeUInt16(i);for(xe=0,Y=l.length;xe<Y;xe++)a=l[xe],J.writeUInt16(a);for(Pe=0,te=re.length;Pe<te;Pe++)j=re[Pe],J.writeUInt16(j);for(Me=0,se=p.length;Me<se;Me++)T=p[Me],J.writeUInt16(T);return{charMap:r,subtable:J.data,maxGlyphID:C+1}}},t}(),gE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Gw(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Gw.encode(e,n),(i=new $a).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),xD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ID=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),TD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),ND=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,f,m,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=f=0,m=r.length;f<m;s=++f)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new ND(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),PD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),CD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,m,v;for(v=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),vE=[].slice,LD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new $a(n.read(i))).readShort(),u=a.readShort(),m=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new DD(a,u,m,l,f):new RD(a,o,u,m,l,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),RD=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),DD=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new $a(vE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),OD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,Is),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),FD=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,f,m,v,p,E,T,D,w;for(i in r=gE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(E in v=r.maxGlyphID,o)E in p||(p[E]=v++);return f=function(N){var C,j;for(C in j={},N)j[N[C]]=C;return j}(p),m=Object.keys(f).sort(function(N,C){return N-C}),T=function(){var N,C,j;for(j=[],N=0,C=m.length;N<C;N++)a=m[N],j.push(f[a]);return j}(),s=this.font.glyf.encode(o,T,p),u=this.font.loca.encode(s.offsets,T),D={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();Je.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function yE(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,f=/\r\n|\r|\n/g,m="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof t=="string"?t.split(f):t,v=m.length||1),n+=a*(2-s),r.valign==="middle"?n-=v/2*u:r.valign==="bottom"&&(n-=v*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),m&&v>=1){for(var E=0;E<m.length;E++)i.text(m[E],e-i.getStringUnitWidth(m[E])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Kw={},qu=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Kw=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Kw||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),y1=function(t,e){return y1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},y1(t,e)};function _E(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");y1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wE=function(t){_E(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function MD(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function jD(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Dp(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function bE(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=SE(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function SE(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function ym(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function AE(t,e){var n=ym(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function VD(t,e,n,r,i){var s={},o=1.3333333333333333,a=Bg(e,function(C){return i.getComputedStyle(C).backgroundColor});a!=null&&(s.fillColor=a);var l=Bg(e,function(C){return i.getComputedStyle(C).color});l!=null&&(s.textColor=l);var u=BD(r,n);u&&(s.cellPadding=u);var f="borderTopColor",m=o*n,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var p=(parseFloat(v)||0)/m;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var E=Bg(e,function(C){return i.getComputedStyle(C)[f]});E!=null&&(s.lineColor=E);var T=["left","right","center","justify"];T.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),T=["middle","bottom","top"],T.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var D=parseInt(r.fontSize||"");isNaN(D)||(s.fontSize=D/o);var w=UD(r);w&&(s.fontStyle=w);var N=(r.fontFamily||"").toLowerCase();return t.indexOf(N)!==-1&&(s.font=N),s}function UD(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Bg(t,e){var n=EE(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function EE(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:EE(t.parentElement,e):n}function BD(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=ym(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function xE(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],m=[],v=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:v};for(var p=0;p<a.rows.length;p++){var E=a.rows[p],T=(o=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),D=zD(l,u,n,E,r,i);D&&(T==="thead"?f.push(D):T==="tfoot"?v.push(D):m.push(D))}return{head:f,body:m,foot:v}}function zD(t,e,n,r,i,s){for(var o=new wE(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=VD(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:qD(l)})}}var m=n.getComputedStyle(r);if(o.length>0&&(i||m.display!=="none"))return o}function qD(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function HD(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function No(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function IE(t,e){var n=new qu(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();HD(i,r,e);var s=No({},i,r,e),o;typeof window<"u"&&(o=window);var a=WD(i,r,e),l=$D(i,r,e),u=GD(n,s),f=QD(n,s,o);return{id:e.tableId,content:f,hooks:l,styles:a,settings:u}}function WD(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],m=n[l];r.columnStyles=No({},u,f,m)}else{var v=[t,e,n],p=v.map(function(E){return E[l]||{}});r[l]=No({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function $D(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function GD(t,e){var n,r,i,s,o,a,l,u,f,m,v,p,E=ym(e.margin,40/t.scaleFactor()),T=(n=KD(t,e.startY))!==null&&n!==void 0?n:E.top,D;e.showFoot===!0?D="everyPage":e.showFoot===!1?D="never":D=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var N=(s=e.useCss)!==null&&s!==void 0?s:!1,C=e.theme||(N?"plain":"striped"),j=!!e.horizontalPageBreak,X=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:N,theme:C,startY:T,margin:E,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:w,showFoot:D,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:j,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function KD(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function QD(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=xE(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||YD(r,i,s);return{columns:l,head:r,body:i,foot:s}}function YD(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var _1=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),XD=function(t){_E(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(_1),JD=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],f=new XD(e,this,r,i,s,o),m=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new _1(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new _1(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),TE=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof wE&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),NE=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=ym(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),ZD=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function eO(t,e){tO(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=w1(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=w1(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),rO(e),iO(e,t),nO(e)}function tO(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=AE(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,l,null);var m=u.padding("horizontal");u.contentWidth=Dp(u.text,u.styles,t)+m;var v=Dp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(l.minWidth=m,l.wrappedWidth=m)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function w1(t,e,n){for(var r=e,i=t.reduce(function(p,E){return p+E.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,f=n(o),m=u<f?f:u;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(p){return e<0?p.width>n(p):!0});v.length&&(e=w1(v,e,n))}return e}function nO(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var m=r.length-i,v=f.rowSpan>m?m:f.rowSpan;e[l.index]={cell:f,left:v,row:s}}}}}function rO(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function iO(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Qw(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Qw(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,f);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<v*u.rowSpan?n={height:v,count:u.rowSpan}:n&&n.count>0&&n.height>v&&(v=n.height),v>s.height&&(s.height=v)}}n.count--}}function Qw(t,e,n,r,i){return t.map(function(s){return sO(s,e,n,r,i)})}function sO(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Dp(t,n,r))return t;for(;e<Dp(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function kE(t,e){var n=new qu(t),r=oO(e,n.scaleFactor()),i=new JD(e,r);return eO(n,i),n.applyStyles(n.userStyles),i}function oO(t,e){var n=t.content,r=lO(n.columns);if(n.head.length===0){var i=Yw(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Yw(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:zg("head",n.head,r,o,s,e),body:zg("body",n.body,r,o,s,e),foot:zg("foot",n.foot,r,o,s,e)}}function zg(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var f=0,m={},v=0,p=0,E=0,T=n;E<T.length;E++){var D=T[E];if(o[D.index]==null||o[D.index].left===0)if(p===0){var w=void 0;Array.isArray(l)?w=l[D.index-v-f]:w=l[D.dataKey];var N={};typeof w=="object"&&!Array.isArray(w)&&(N=(w==null?void 0:w.styles)||{});var C=uO(t,D,u,i,r,s,N),j=new NE(w,C,t);m[D.dataKey]=j,m[D.index]=j,p=j.colSpan-1,o[D.index]={left:j.rowSpan-1,times:p}}else p--,v++;else o[D.index].left--,p=o[D.index].times,f++}return new TE(l,u,t,m)});return a}function Yw(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=aO(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function aO(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function lO(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new ZD(i,e,n)})}function uO(t,e,n,r,i,s,o){var a=jD(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=No({},a.table,a[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?f:{},v=t==="body"&&n%2===0?No({},a.alternateRow,i.alternateRowStyles):{},p=MD(s),E=No({},p,u,v,m);return No(E,o)}function cO(t,e,n){var r;n===void 0&&(n={});var i=AE(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var p=e.columns.find(function(E){return E.dataKey===v||E.index===v});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(u||i>=m)u=!1,o.push(f),a.push(e.columns[f]),i-=m;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function hO(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=cO(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function PE(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(v,p){return v+p.height},0);a+=u}var f=new qu(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&(LE(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var m=No({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?fO(f,e,m,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(v){return Vo(f,e,v,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(v,p){var E=p===e.body.length-1;Op(f,e,v,E,m,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(v){return Vo(f,e,v,s,e.columns)})),bE(f,e,m,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function fO(t,e,n,r){var i=hO(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Sh(t,e,n,r,u.columns,!0):Xw(t,e,r,u.columns),dO(t,e,n,r,u.columns),qg(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?Sh(t,e,n,r,f,!0):Xw(t,e,r,f),u=Jw(t,e,o+1,r,f),qg(t,e,r,f)}var m=u-o;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),Sh(t,e,n,r,v.columns,!0),Jw(t,e,o+1,r,v.columns,m),qg(t,e,r,v.columns)}),o=u};o<e.body.length-1;)l()}function Xw(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Vo(t,e,s,n,r)})}function dO(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;Op(t,e,s,a,n,r,i)})}function Jw(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var f=n+u===e.body.length-1,m=CE(t,e,f,r);l.canEntireRowFit(m,i)&&(Vo(t,e,l,r,i),a=n+u)}),a}function qg(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Vo(t,e,s,n,r)})}function pO(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function mO(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new NE(u.raw,u.styles,u.section);f=No(f,u),f.text=[];var m=pO(u,e,r);u.text.length>m&&(f.text=u.text.splice(m,u.text.length));var v=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(v,p),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var E=new TE(t.raw,-1,t.section,i,!0);E.height=s;for(var T=0,D=n.columns;T<D.length;T++){var l=D[T],f=E.cells[l.index];f&&(f.height=E.height);var u=t.cells[l.index];u&&(u.height=t.height)}return E}function gO(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>a;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function Op(t,e,n,r,i,s,o){var a=CE(t,e,r,s);if(n.canEntireRowFit(a,o))Vo(t,e,n,s,o);else if(gO(t,n,a,e)){var l=mO(n,a,e,t);Vo(t,e,n,s,o),Sh(t,e,i,s,o),Op(t,e,l,r,i,s,o)}else Sh(t,e,i,s,o),Op(t,e,n,r,i,s,o)}function Vo(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}vO(t,l,r);var f=l.getTextPos();yE(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function vO(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=SE(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),yO(t,e,n,r.lineWidth))}function yO(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,f,m,v,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,m,v,p,"S")}}function CE(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Sh(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Vo(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;bE(t,e,n,r),LE(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Vo(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function LE(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function _O(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=IE(this,r),s=kE(this,i);return PE(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){yE(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return qu.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){qu.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new qu(this),s=xE(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Hg;function RE(t,e){var n=IE(t,e),r=kE(t,n);PE(t,r)}try{if(typeof window<"u"&&window){var Zw=window,eb=Zw.jsPDF||((Hg=Zw.jspdf)===null||Hg===void 0?void 0:Hg.jsPDF);eb&&_O(eb)}}catch(t){console.error("Could not apply autoTable plugin",t)}const DE=({className:t="w-5 h-5"})=>K.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[K.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),K.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),K.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),K.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),wO=({className:t="w-5 h-5"})=>K.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[K.jsx("circle",{cx:"12",cy:"12",r:"10"}),K.jsx("circle",{cx:"12",cy:"12",r:"6"}),K.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),OE=({className:t="w-5 h-5"})=>K.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[K.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),K.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),FE=({className:t="w-5 h-5"})=>K.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[K.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),K.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),K.jsx("path",{d:"M4 22h16"}),K.jsx("path",{d:"M10 14.66V17c0 .55.47.98.97 1.21C12.04 18.75 14 20 16 20s4-1.25 5.03-1.79c.5-.23.97-.66.97-1.21v-2.34"}),K.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Ah=({className:t="w-5 h-5"})=>K.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",children:K.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),ME=({className:t="w-5 h-5"})=>K.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[K.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),K.jsx("circle",{cx:"9",cy:"7",r:"4"}),K.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),K.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});function bv(){const[t,e]=Nt.useState(null);return Nt.useEffect(()=>{const n=LL(mv,r=>{e(r)});return()=>n()},[]),t}function bO(){const[t,e]=Nt.useState(""),[n,r]=Nt.useState(""),i=bv(),s=async()=>{try{await kL(mv,t,n)}catch(o){alert(o.message)}};return i?null:K.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm max-w-md mx-auto mt-8 border border-primary-200",children:[K.jsx("h2",{className:"text-lg font-semibold mb-4 text-center text-primary-800",children:"Logga in"}),K.jsx("input",{type:"email",value:t,onChange:o=>e(o.target.value),placeholder:"E-post",className:"border border-primary-300 p-3 w-full mb-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsx("input",{type:"password",value:n,onChange:o=>r(o.target.value),placeholder:"Lsenord",className:"border border-primary-300 p-3 w-full mb-4 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsx("button",{onClick:s,className:"w-full bg-primary-700 hover:bg-primary-800 text-white px-4 py-3 rounded-lg font-medium transition-colors",children:"Logga in"})]})}function SO(){const t=bv(),e=async()=>{try{await RL(mv)}catch(n){alert(n.message)}};return K.jsx("header",{className:"w-full py-4 bg-primary-800 shadow-sm sticky top-0 z-10 border-b border-primary-700",children:K.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[K.jsxs("h1",{className:"text-lg md:text-2xl font-semibold text-white tracking-tight flex items-center gap-2 md:gap-3",children:[K.jsx(wO,{className:"w-7 h-7 md:w-8 md:h-8 text-amber-400"}),"Landbys Cup"]}),K.jsx("div",{className:"text-primary-200 text-sm",children:t?K.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[K.jsx("span",{className:"text-primary-200 text-xs sm:text-sm truncate",children:t.email||t.displayName}),K.jsx("button",{onClick:e,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md font-medium text-sm transition-colors flex-shrink-0",children:"Logga ut"})]}):K.jsx("span",{className:"text-primary-300 text-sm",children:"Ej inloggad"})})]})})}function Qc({active:t,onClick:e,icon:n,children:r}){return K.jsxs("button",{className:`flex-1 min-w-[140px] px-4 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all duration-200 border ${t?"bg-primary-700 text-white border-primary-700 shadow-sm":"bg-primary-50 text-primary-700 border-primary-200 hover:bg-primary-100 hover:border-primary-300"}`,onClick:e,children:[K.jsx("span",{className:"flex-shrink-0",children:n}),K.jsx("span",{children:r})]})}function AO({competitions:t,user:e}){const[n,r]=Nt.useState(""),[i,s]=Nt.useState(""),[o,a]=Nt.useState([]),[l,u]=Nt.useState(null),[f,m]=Nt.useState(""),[v,p]=Nt.useState(""),[E,T]=Nt.useState([]),D=[1,2,3,4,5,6,7];function w(x){a(b=>b.includes(x)?b.filter(P=>P!==x):b.length<3?[...b,x]:b)}function N(x){T(b=>b.includes(x)?b.filter(P=>P!==x):b.length<3?[...b,x]:b)}const C=async()=>{if(!e)return alert("Du mste vara inloggad!");if(!n||!i||o.length===0)return alert("Fyll i namn, datum och minst 1 skiljemlsstation!");await $S(Ou(Oi,"competitions"),{name:n,date:i,skiljemal:o}),r(""),s(""),a([])},j=x=>{u(x.id),m(x.name),p(x.date),T(x.skiljemal||[])},X=async()=>{if(!e)return alert("Du mste vara inloggad!");if(!f||!v||E.length===0)return alert("Fyll i namn, datum och minst 1 skiljemlsstation!");await iv(xa(Oi,"competitions",l),{name:f,date:v,skiljemal:E}),u(null),m(""),p(""),T([])},re=()=>{u(null),m(""),p(""),T([])},V=async x=>{if(!e)return alert("Du mste vara inloggad!");window.confirm("Ta bort deltvlingen?")&&await WS(xa(Oi,"competitions",x))};return K.jsxs("section",{children:[K.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[K.jsx(DE,{className:"w-6 h-6"}),"Deltvlingar"]}),K.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[K.jsx("input",{value:n,onChange:x=>r(x.target.value),placeholder:"Namn",className:"border border-primary-300 p-3 rounded-lg flex-1 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsx("input",{type:"date",value:i,onChange:x=>s(x.target.value),className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsxs("div",{className:"flex gap-3 items-center mb-2",children:[K.jsx("span",{className:"font-medium text-primary-700",children:"Skiljeml:"}),D.map(x=>K.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[K.jsx("input",{type:"checkbox",checked:o.includes(x),onChange:()=>w(x),disabled:!o.includes(x)&&o.length>=3,className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"}),K.jsxs("span",{className:"text-primary-700",children:["St ",x]})]},x)),K.jsx("span",{className:"text-xs text-primary-500 ml-2",children:"(max 3 st)"})]}),K.jsx("button",{onClick:C,className:`bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors shadow-sm ${e?"":"opacity-50 cursor-not-allowed"}`,disabled:!e,children:"Lgg till"})]}),!e&&K.jsx("p",{className:"text-red-600 text-sm mb-4 bg-red-50 p-3 rounded-lg border border-red-200",children:"Logga in fr att lgga till/ndra/tar bort deltvlingar."}),K.jsx("div",{className:"space-y-1",children:t.map(x=>K.jsx("div",{className:"py-4 px-4 bg-primary-50 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center justify-between gap-3",children:l===x.id?K.jsxs(K.Fragment,{children:[K.jsx("input",{value:f,onChange:b=>m(b.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),K.jsx("input",{type:"date",value:v,onChange:b=>p(b.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),K.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[K.jsx("span",{className:"font-medium text-primary-700",children:"Skiljeml:"}),D.map(b=>K.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[K.jsx("input",{type:"checkbox",checked:E.includes(b),onChange:()=>N(b),disabled:!E.includes(b)&&E.length>=3,className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"}),K.jsxs("span",{className:"text-primary-700",children:["St ",b]})]},b)),K.jsx("span",{className:"text-xs text-primary-500 ml-2",children:"(max 3 st)"})]}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{onClick:X,disabled:!e,className:`bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Spara"}),K.jsx("button",{onClick:re,className:"bg-primary-200 hover:bg-primary-300 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}):K.jsxs(K.Fragment,{children:[K.jsx("span",{className:"font-medium flex-1 text-primary-800",children:x.name}),K.jsx("span",{className:"text-primary-600 flex-1",children:x.date}),K.jsxs("span",{className:"flex-1 text-primary-700 text-sm",children:["Skiljeml: ",x.skiljemal?x.skiljemal.map(b=>`St ${b}`).join(", "):""]}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{onClick:()=>j(x),disabled:!e,className:`bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"ndra"}),K.jsx("button",{onClick:()=>V(x.id),disabled:!e,className:`bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Ta bort"})]})]})},x.id))})]})}function EO({shooters:t,user:e}){const[n,r]=Nt.useState(""),i=t.filter(P=>P.name.toLowerCase().includes(n.toLowerCase())||P.club.toLowerCase().includes(n.toLowerCase())||String(P.startNumber).includes(n)),[s,o]=Nt.useState(""),[a,l]=Nt.useState(""),[u,f]=Nt.useState("ppen"),[m,v]=Nt.useState(null),[p,E]=Nt.useState(null),[T,D]=Nt.useState(""),[w,N]=Nt.useState(""),[C,j]=Nt.useState("ppen"),X=async()=>{if(!(!s||!a))try{let P;const S=s;await RC(Oi,async k=>{const L=xa(Oi,"counters","shooter"),J=await k.get(L);if(!J.exists())throw new Error("Shooter counter document does not exist!");P=J.data().currentNumber+1;const pe=xa(Ou(Oi,"shooters"));k.set(pe,{name:S,club:a,klass:u,startNumber:P}),k.update(L,{currentNumber:P})}),v({name:S,startNumber:P}),setTimeout(()=>v(null),5e3),o(""),l("")}catch(P){console.error("Transaction failed: ",P),alert("Kunde inte lgga till skytt, frsk igen.")}},re=P=>{E(P.id),D(P.name),N(P.club),j(P.klass)},V=async()=>{if(!e)return alert("Du mste vara inloggad!");!T||!w||(await iv(xa(Oi,"shooters",p),{name:T,club:w,klass:C}),E(null),D(""),N(""),j("ppen"))},x=()=>{E(null),D(""),N(""),j("ppen")},b=async P=>{if(!e)return alert("Du mste vara inloggad!");window.confirm("Ta bort skytten?")&&await WS(xa(Oi,"shooters",P))};return K.jsxs("section",{children:[K.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[K.jsx(ME,{className:"w-6 h-6"}),"Registrera ny skytt"]}),m&&K.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded-lg relative mb-4 shadow-sm",role:"alert",children:[K.jsx("strong",{className:"font-semibold",children:"Ny skytt registrerad:"}),K.jsxs("span",{className:"block sm:inline ml-2",children:["Namn: ",m.name,", Startnummer: ",m.startNumber]}),K.jsx("button",{onClick:()=>v(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:K.jsxs("svg",{className:"fill-current h-6 w-6 text-green-600",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[K.jsx("title",{children:"Close"}),K.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[K.jsx("input",{value:s,onChange:P=>o(P.target.value),placeholder:"Namn",className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsx("input",{value:a,onChange:P=>l(P.target.value),placeholder:"Ort",className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsxs("select",{value:u,onChange:P=>f(P.target.value),className:"border border-primary-300 p-3 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[K.jsx("option",{children:"ppen"}),K.jsx("option",{children:"dam"}),K.jsx("option",{children:"veteran"}),K.jsx("option",{children:"ungdom"}),K.jsx("option",{children:"junior med std"})]}),K.jsx("button",{onClick:X,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors shadow-sm",children:"Lgg till"})]}),!e&&K.jsx("p",{className:"text-yellow-600 text-sm mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:"Logga in fr att kunna ndra eller ta bort skyttar."}),K.jsx("input",{value:n,onChange:P=>r(P.target.value),placeholder:"Sk skytt, ort eller startnummer...",className:"border border-primary-300 p-3 rounded-lg w-full mb-6 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsx("div",{className:"space-y-1",children:i.map(P=>K.jsx("div",{className:"py-4 px-4 bg-primary-50 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center justify-between gap-3",children:p===P.id?K.jsxs(K.Fragment,{children:[K.jsx("input",{value:T,onChange:S=>D(S.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),K.jsx("input",{value:w,onChange:S=>N(S.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0"}),K.jsxs("select",{value:C,onChange:S=>j(S.target.value),className:"border border-primary-300 p-2 rounded-lg flex-1 mb-2 md:mb-0",children:[K.jsx("option",{children:"ppen"}),K.jsx("option",{children:"dam"}),K.jsx("option",{children:"veteran"}),K.jsx("option",{children:"ungdom"}),K.jsx("option",{children:"junior med std"})]}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{onClick:V,disabled:!e,className:`bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Spara"}),K.jsx("button",{onClick:x,className:"bg-primary-200 hover:bg-primary-300 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}):K.jsxs(K.Fragment,{children:[K.jsxs("span",{className:"font-semibold text-primary-700 bg-primary-100 px-3 py-1 rounded-full text-sm",children:["#",P.startNumber]}),K.jsxs("span",{className:"flex-1 font-medium text-primary-800",children:[P.name," ",K.jsxs("span",{className:"text-primary-600 font-normal",children:["(",P.club,")"]})]}),K.jsx("span",{className:"bg-primary-200 text-primary-800 px-3 py-1 rounded-full text-sm font-medium",children:P.klass}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{onClick:()=>re(P),disabled:!e,className:`bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"ndra"}),K.jsx("button",{onClick:()=>b(P.id),disabled:!e,className:`bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors ${e?"":"opacity-50 cursor-not-allowed"}`,children:"Ta bort"})]})]})},P.id))})]})}function xO({shooters:t,competitions:e,user:n,scores:r}){const[i,s]=Nt.useState(""),[o,a]=Nt.useState(1),[l,u]=Nt.useState(""),[f,m]=Nt.useState([]),[v,p]=Nt.useState(""),[E,T]=Nt.useState([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}]),[D,w]=Nt.useState([]),[N,C]=Nt.useState(null);Nt.useEffect(()=>{if(l==="")m([]);else{const b=l.toLowerCase();m(t.filter(P=>P.name.toLowerCase().includes(b)||String(P.startNumber).includes(b)))}},[l,t]),Nt.useEffect(()=>{if(!i||!v){w([]);return}const b=(r||[]).filter(P=>P.competitionId===i&&P.station===Number(o)&&P.shooterId===v).sort((P,S)=>(P._createdAt||0)-(S._createdAt||0));w(b)},[i,o,v,r]);const j=b=>{p(b.id),u(`#${b.startNumber} ${b.name}`),m([])},X=b=>{C(b.id);const P=b.shots&&b.shots.length===5?b.shots.map(k=>({value:k.value||0,femetta:!!k.femetta})):[{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}];T(P),s(b.competitionId),a(b.station),p(b.shooterId);const S=t.find(k=>k.id===b.shooterId);S&&u(`#${S.startNumber} ${S.name}`)},re=()=>{C(null),T([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}])},V=async()=>{if(!n)return alert("Du mste vara inloggad!");if(!i||!v)return alert("Vlj tvling och skytt frst.");const b=E.reduce((S,k)=>S+(Number(k.value)||0),0),P=E.filter(S=>S.femetta&&(S.value===5||S.value===10)).length;try{N?(await iv(xa(Oi,"scores",N),{competitionId:i,shooterId:v,station:o,shots:E,total:b,femettor:P}),C(null)):await $S(Ou(Oi,"scores"),{competitionId:i,shooterId:v,station:o,shots:E,total:b,femettor:P}),T([{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1},{value:0,femetta:!1}]),p(""),u(""),m([])}catch(S){console.error(S),alert("Kunde inte spara pong, frsk igen.")}},x=Array.from({length:7},(b,P)=>P+1);return K.jsxs("section",{children:[K.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[K.jsx(OE,{className:"w-6 h-6"}),"Registrera pong"]}),K.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[K.jsxs("div",{className:"flex-1",children:[K.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Tvling:"}),K.jsxs("select",{value:i,onChange:b=>s(b.target.value),className:"border border-primary-300 p-3 rounded-lg w-full focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[K.jsx("option",{value:"",children:"Vlj tvling"}),e.map(b=>K.jsx("option",{value:b.id,children:b.name},b.id))]})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Station:"}),K.jsx("select",{value:o,onChange:b=>a(Number(b.target.value)),className:"border border-primary-300 p-3 rounded-lg w-40 min-w-[120px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:x.map(b=>K.jsxs("option",{value:b,children:["Station ",b]},b))})]}),K.jsxs("div",{className:"flex flex-col flex-1 relative",children:[K.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Sk skytt:"}),K.jsx("input",{type:"text",value:l,onChange:b=>{u(b.target.value),p("")},placeholder:"Namn eller startnummer",className:"border border-primary-300 p-3 rounded-lg mb-1 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",autoComplete:"off"}),f.length>0&&K.jsx("ul",{className:"absolute z-10 bg-white border border-primary-200 rounded-lg shadow-lg max-h-40 overflow-auto w-full top-full mt-1",children:f.map(b=>K.jsxs("li",{className:"px-4 py-3 hover:bg-primary-50 cursor-pointer border-b border-primary-100 last:border-b-0",onClick:()=>j(b),children:[K.jsxs("span",{className:"font-medium text-primary-800",children:["#",b.startNumber," ",b.name]})," ",K.jsxs("span",{className:"text-primary-600",children:["(",b.club,")"]})]},b.id))})]})]}),K.jsx("div",{className:"flex gap-3 mb-6 justify-center bg-primary-50 p-6 rounded-lg border border-primary-200",children:E.map((b,P)=>K.jsxs("div",{className:"flex flex-col items-center",children:[K.jsx("input",{type:"number",min:"0",max:"10",value:b.value===0?"":b.value,onChange:S=>{const k=[...E];k[P].value=S.target.value===""?0:Number(S.target.value),T(k)},placeholder:"0",className:"border border-primary-300 p-3 rounded-lg w-16 text-center font-semibold text-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),K.jsxs("label",{className:"text-sm mt-2 text-primary-700 flex items-center gap-1",children:[K.jsx("input",{type:"checkbox",checked:b.femetta||!1,onChange:S=>{const k=[...E];k[P].femetta=S.target.checked,T(k)},className:"rounded border-primary-300 text-primary-600 focus:ring-primary-500"})," 5/10"]})]},P))}),K.jsxs("div",{className:"text-lg font-semibold text-primary-800 mb-6 text-center bg-white p-4 rounded-lg border border-primary-200",children:["Summa: ",K.jsxs("span",{className:"text-primary-700",children:[E.reduce((b,P)=>b+(Number(P.value)||0),0)," pong"]}),", 5/10or: ",K.jsx("span",{className:"text-primary-700",children:E.filter(b=>b.femetta&&(b.value===5||b.value===10)).length})]}),K.jsxs("div",{className:"text-center mb-4",children:[K.jsx("button",{onClick:V,className:`bg-primary-700 hover:bg-primary-800 text-white px-8 py-3 rounded-lg font-medium shadow-sm transition-colors ${!n||!v?"opacity-50 cursor-not-allowed":""}`,disabled:!n||!v,children:N?"Uppdatera pong":"Spara pong"}),N&&K.jsx("button",{onClick:re,className:"ml-4 bg-primary-200 hover:bg-primary-300 text-primary-700 px-4 py-3 rounded-lg font-medium transition-colors",children:"Avbryt"})]}),K.jsxs("div",{className:"mb-6",children:[K.jsx("h3",{className:"text-md font-semibold mb-2",children:" Registrerade skott "}),!i||!v?K.jsx("p",{className:"text-sm text-primary-600",children:"Vlj tvling och skytt fr att se tidigare registreringar."}):D.length===0?K.jsx("p",{className:"text-sm text-primary-600",children:"Inga registreringar hittades fr denna kombination."}):K.jsx("div",{className:"space-y-2",children:D.map(b=>K.jsxs("div",{className:"bg-primary-50 p-3 rounded-lg border border-primary-200 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[K.jsxs("div",{children:[K.jsx("div",{className:"text-sm text-primary-700 font-medium mb-1",children:"Skott:"}),K.jsxs("div",{className:"flex gap-3 items-center",children:[(b.shots||[]).map((P,S)=>K.jsxs("div",{className:"text-sm font-mono px-2 py-1 bg-white border border-primary-200 rounded",children:[String(P.value||0),P.femetta?"":""]},S)),K.jsxs("div",{className:"text-sm text-primary-700 ml-3",children:["Summa: ",K.jsx("span",{className:"font-semibold",children:b.total||0})]}),K.jsxs("div",{className:"text-sm text-primary-700 ml-3",children:["5/10or: ",K.jsx("span",{className:"font-semibold",children:b.femettor||0})]})]})]}),K.jsx("div",{className:"flex gap-2",children:K.jsx("button",{onClick:()=>X(b),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg font-medium",children:"ndra"})})]},b.id))})]}),!n&&K.jsx("p",{className:"text-red-600 text-sm mt-4 bg-red-50 p-3 rounded-lg border border-red-200 text-center",children:"Logga in fr att registrera pong."})]})}function IO({shooters:t,scores:e,competitions:n}){const[r,i]=Nt.useState(n.length>0?n[0].id:"");Nt.useEffect(()=>{n.length>0&&!r&&i(n[0].id)},[n]);const s=n.find(v=>v.id===r),o=(s==null?void 0:s.skiljemal)||[1,2,3],a=Array.from(new Set(e.filter(v=>v.competitionId===r).map(v=>v.station))).sort((v,p)=>v-p),l=["ppen","dam","veteran","ungdom","junior med std"],u={};t.forEach(v=>{const p=e.filter(w=>w.shooterId===v.id&&w.competitionId===r),E={},T={};p.forEach(w=>{E[w.station]=(E[w.station]||0)+w.total;const N=w.shots?w.shots.filter(C=>C.femetta&&(C.value===5||C.value===10)).length:w.femettor||0;T[w.station]=(T[w.station]||0)+N});const D=Object.values(E).reduce((w,N)=>w+N,0);u[v.klass]||(u[v.klass]=[]),u[v.klass].push({...v,total:D,stationTotals:E,stationFemettors:T})});function f(v,p){var E,T,D,w;if(p.total!==v.total)return p.total-v.total;for(const N of o){const C=((E=v.stationTotals)==null?void 0:E[N])||0,j=((T=p.stationTotals)==null?void 0:T[N])||0;if(j!==C)return j-C}for(const N of o){const C=((D=v.stationFemettors)==null?void 0:D[N])||0,j=((w=p.stationFemettors)==null?void 0:w[N])||0;if(j!==C)return j-C}return 0}l.forEach(v=>{var p;return(p=u[v])==null?void 0:p.sort(f)});const m=()=>{const v=new Je({orientation:"portrait",unit:"mm",format:"a4"});v.setFontSize(16),v.text("Resultatlista",105,20,{align:"center"}),v.setFontSize(13),v.text((s==null?void 0:s.name)||"",105,28,{align:"center"}),v.setFontSize(11),v.text(`Skiljeml: ${o.map((E,T)=>`Skilje ${T+1}: St ${E}`).join(", ")}`,60,36);let p=42;l.forEach(E=>{var N;const T=[];u[E]&&u[E].length>0?u[E].forEach((C,j)=>{T.push([`${j+1}`,C.name,C.club,...a.map(X=>String(C.stationTotals[X]||0)),...o.map(X=>`${C.stationTotals[X]||0}/${C.stationFemettors[X]||0}`),String(C.total)])}):T.push(["Inga deltagare"]);const D=[["Plats","Skytt","Ort",...a.map(C=>"St "+C),...o.map((C,j)=>`Skilje ${j+1}`),"Summa"]],w=RE(v,{startY:p,head:D,body:T,theme:"grid",styles:{fontSize:10,cellPadding:2,halign:"left",valign:"middle"},headStyles:{fillColor:[71,85,105],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:10,right:10},didDrawPage:C=>{v.setFontSize(13),v.text(E,10,C.settings.startY-4)}});p=((w==null?void 0:w.finalY)??((N=v.lastAutoTable)==null?void 0:N.finalY)??p)+10}),v.save(`resultatlista_${(s==null?void 0:s.name)||""}.pdf`)};return K.jsxs("section",{children:[K.jsxs("h2",{className:"text-xl font-semibold mb-6 text-primary-800 flex items-center gap-3",children:[K.jsx(FE,{className:"w-6 h-6"}),"Resultatlista"]}),K.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center bg-primary-50 p-4 rounded-lg border border-primary-200",children:[K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("label",{className:"text-sm font-medium text-primary-700",children:"Vlj deltvling:"}),K.jsx("select",{value:r,onChange:v=>i(v.target.value),className:"border border-primary-300 p-2 rounded-lg min-w-[180px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:n.map(v=>K.jsx("option",{value:v.id,children:v.name},v.id))})]}),K.jsxs("span",{className:"text-primary-700 text-sm font-medium",children:["Skiljeml: ",o.map(v=>`St ${v}`).join(", ")]}),K.jsx("button",{onClick:m,className:"bg-primary-700 hover:bg-primary-800 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-colors ml-auto",children:"Exportera som PDF"})]}),l.map(v=>K.jsxs("div",{className:"mb-8",children:[K.jsx("h3",{className:"text-lg font-semibold mb-4 capitalize text-primary-800 bg-primary-100 px-3 py-2 rounded-lg",children:v}),K.jsx("div",{className:"overflow-x-auto",children:K.jsxs("table",{className:"min-w-full border border-primary-200 rounded-lg text-sm bg-white",children:[K.jsx("thead",{children:K.jsxs("tr",{className:"bg-primary-100 border-b border-primary-200",children:[K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Plats"}),K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Skytt"}),K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Ort"}),a.map(p=>K.jsxs("th",{className:"p-3 text-left font-medium text-primary-800",children:["St ",p]},p)),o.map((p,E)=>K.jsxs("th",{className:"p-3 text-left font-medium text-primary-800",children:["Skilje ",E+1]},"skilje"+p)),K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Summa"})]})}),K.jsx("tbody",{children:(u[v]||[]).length===0?K.jsx("tr",{children:K.jsx("td",{className:"p-3 text-primary-500",colSpan:4+a.length+o.length,children:"Inga deltagare"})}):u[v].map((p,E)=>K.jsxs("tr",{className:"border-b border-primary-100 hover:bg-primary-50 transition-colors",children:[K.jsxs("td",{className:"p-3 font-medium",children:[E+1,E===0&&K.jsx("span",{className:"ml-2 text-amber-500",children:K.jsx(Ah,{className:"w-4 h-4 inline"})}),E===1&&K.jsx("span",{className:"ml-2 text-primary-400",children:K.jsx(Ah,{className:"w-4 h-4 inline"})}),E===2&&K.jsx("span",{className:"ml-2 text-amber-600",children:K.jsx(Ah,{className:"w-4 h-4 inline"})})]}),K.jsx("td",{className:"p-3 font-medium text-primary-800",children:p.name}),K.jsx("td",{className:"p-3 text-primary-600",children:p.club}),a.map(T=>K.jsx("td",{className:"p-3 font-mono text-primary-700",children:p.stationTotals[T]||0},T)),o.map((T,D)=>K.jsx("td",{className:"p-3 font-mono text-primary-700 font-medium",children:(p.stationTotals[T]||0)+"/"+(p.stationFemettors[T]||0)},"skilje"+T)),K.jsx("td",{className:"p-3 font-bold text-primary-800",children:p.total})]},p.id))})]})})]},v))]})}function TO({shooters:t,scores:e,competitions:n}){const r=["ppen","dam","veteran","ungdom","junior med std"],i={};n.forEach(a=>{i[a.id]={};const l=a.skiljemal||[1,2,3];r.forEach(u=>{const m=t.filter(E=>E.klass===u).map(E=>{const T=e.filter(C=>C.shooterId===E.id&&C.competitionId===a.id);if(T.length===0)return{...E,total:-1,stationTotals:{},stationFemettors:{},participated:!1};const D={},w={};T.forEach(C=>{D[C.station]=(D[C.station]||0)+C.total;const j=C.shots?C.shots.filter(X=>X.femetta&&(X.value===5||X.value===10)).length:C.femettor||0;w[C.station]=(w[C.station]||0)+j});const N=Object.values(D).reduce((C,j)=>C+j,0);return{...E,total:N,stationTotals:D,stationFemettors:w,participated:!0}}).filter(E=>E.participated);function v(E,T){var D,w,N,C;if(T.total!==E.total)return T.total-E.total;for(const j of l){const X=((D=E.stationTotals)==null?void 0:D[j])||0,re=((w=T.stationTotals)==null?void 0:w[j])||0;if(re!==X)return re-X}for(const j of l){const X=((N=E.stationFemettors)==null?void 0:N[j])||0,re=((C=T.stationFemettors)==null?void 0:C[j])||0;if(re!==X)return re-X}return 0}m.sort(v);let p=1;for(let E=0;E<m.length;E++)E>0&&v(m[E-1],m[E])!==0&&(p=E+1),i[a.id][m[E].id]=p})});const s={};r.forEach(a=>{const u=t.filter(f=>f.klass===a).map(f=>{const m=n.map(T=>{var D;return((D=i[T.id])==null?void 0:D[f.id])||1e3}),E=[...m].sort((T,D)=>T-D).slice(0,5).reduce((T,D)=>T+D,0);return{...f,placements:m,cupTotal:E}}).filter(f=>f.cupTotal<5e3);u.sort((f,m)=>f.cupTotal-m.cupTotal),s[a]=u});const o=()=>{const a=new Je({orientation:"portrait",unit:"mm",format:"a4"});a.setFontSize(16),a.text("Cupresultat - Landbys Cup",148.5,20,{align:"center"});let l=30;r.forEach(u=>{var f;if(s[u]&&s[u].length>0){l>180&&(a.addPage(),l=20);const m=[["Plats","Skytt","Ort",...n.map(E=>E.name.split(" ").pop()),"Totalpong"]],v=s[u].map((E,T)=>[T+1,E.name,E.club,...E.placements.map(D=>D===1e3?"-":D),E.cupTotal]),p=RE(a,{startY:l,head:m,body:v,theme:"grid",didDrawPage:E=>{a.setFontSize(13),a.text(u.charAt(0).toUpperCase()+u.slice(1),14,E.settings.startY-4)},headStyles:{fillColor:[71,85,105],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:14,right:14}});l=((p==null?void 0:p.finalY)??((f=a.lastAutoTable)==null?void 0:f.finalY)??l)+10}}),a.save("cupresultat_landbys_cup.pdf")};return K.jsxs("section",{children:[K.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[K.jsxs("h2",{className:"text-xl font-semibold text-primary-800 flex items-center gap-3",children:[K.jsx(Ah,{className:"w-6 h-6"}),"Cupresultat"]}),K.jsx("button",{onClick:o,className:"bg-primary-700 hover:bg-primary-800 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-colors",children:"Exportera som PDF"})]}),K.jsxs("p",{className:"text-sm text-primary-600 mb-4 bg-primary-50 p-3 rounded-lg border border-primary-200",children:["Totalpongen baseras p de ",K.jsx("strong",{children:"5 bsta placeringarna"})," av de 7 deltvlingarna. Lgst pong vinner. Skytt som ej deltagit i en deltvling fr 1000 pong och visas som -."]}),r.map(a=>s[a]&&s[a].length>0&&K.jsxs("div",{className:"mb-8",children:[K.jsx("h3",{className:"text-lg font-semibold mb-4 capitalize text-primary-800 bg-primary-100 px-3 py-2 rounded-lg",children:a}),K.jsx("div",{className:"overflow-x-auto",children:K.jsxs("table",{className:"min-w-full border border-primary-200 rounded-lg text-sm bg-white",children:[K.jsx("thead",{children:K.jsxs("tr",{className:"bg-primary-100 border-b border-primary-200",children:[K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Plats"}),K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Skytt"}),K.jsx("th",{className:"p-3 text-left font-medium text-primary-800",children:"Ort"}),n.map(l=>K.jsx("th",{className:"p-3 text-center font-medium text-primary-800",title:l.name,children:l.name.replace("Deltvling","Dt")},l.id)),K.jsx("th",{className:"p-3 text-right font-medium text-primary-800",children:"Totalpong"})]})}),K.jsx("tbody",{children:s[a].map((l,u)=>K.jsxs("tr",{className:"border-b border-primary-200 last:border-0 hover:bg-primary-50",children:[K.jsx("td",{className:"p-3 font-semibold text-primary-800",children:u+1}),K.jsx("td",{className:"p-3 font-medium text-primary-800",children:l.name}),K.jsx("td",{className:"p-3 text-primary-700",children:l.club}),l.placements.map((f,m)=>K.jsx("td",{className:"p-3 text-center text-primary-700",children:f===1e3?"-":f},m)),K.jsx("td",{className:"p-3 text-right font-bold text-primary-800",children:l.cupTotal})]},l.id))})]})})]},a))]})}function NO(){const t=bv(),[e,n]=Nt.useState([]),[r,i]=Nt.useState([]),[s,o]=Nt.useState([]),[a,l]=Nt.useState("results");return Nt.useEffect(()=>{const u=mg(Ou(Oi,"competitions"),c_("date"));return gg(u,f=>{n(f.docs.map(m=>({id:m.id,...m.data()})))})},[]),Nt.useEffect(()=>{const u=mg(Ou(Oi,"shooters"),c_("startNumber"));return gg(u,f=>{i(f.docs.map(m=>({id:m.id,...m.data()})))})},[]),Nt.useEffect(()=>{const u=mg(Ou(Oi,"scores"));return gg(u,f=>{o(f.docs.map(m=>({id:m.id,...m.data()})))})},[]),K.jsxs(K.Fragment,{children:[K.jsx(SO,{}),K.jsx(bO,{}),K.jsx("main",{className:"max-w-6xl mx-auto mt-6 px-4 pb-10",children:K.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 md:p-8 mt-6 border border-primary-200",children:[K.jsxs("nav",{className:"flex flex-wrap gap-2 mb-8 justify-center md:justify-start",children:[K.jsx(Qc,{active:a==="results",onClick:()=>l("results"),icon:K.jsx(FE,{}),children:"Resultatlistor"}),K.jsx(Qc,{active:a==="cup",onClick:()=>l("cup"),icon:K.jsx(Ah,{}),children:"Cupresultat"}),K.jsx(Qc,{active:a==="shooters",onClick:()=>l("shooters"),icon:K.jsx(ME,{}),children:"Skyttar"}),t&&K.jsxs(K.Fragment,{children:[K.jsx(Qc,{active:a==="competitions",onClick:()=>l("competitions"),icon:K.jsx(DE,{}),children:"Deltvlingar"}),K.jsx(Qc,{active:a==="scores",onClick:()=>l("scores"),icon:K.jsx(OE,{}),children:"Registrera Pong"})]})]}),a==="competitions"&&t&&K.jsx(AO,{competitions:e,user:t}),a==="shooters"&&K.jsx(EO,{shooters:r,user:t}),a==="scores"&&t&&K.jsx(xO,{shooters:r,competitions:e,scores:s,user:t}),a==="results"&&K.jsx(IO,{shooters:r,scores:s,competitions:e}),a==="cup"&&K.jsx(TO,{shooters:r,scores:s,competitions:e})]})})]})}Wg.createRoot(document.getElementById("root")).render(K.jsx(Nt.StrictMode,{children:K.jsx(NO,{})}));export{on as _,PO as c,Ax as g};
